"use strict";(self.webpackChunkEmail_Signature=self.webpackChunkEmail_Signature||[]).push([[179],{6217:(tn,ze,B)=>{B.d(ze,{nm:()=>hs});var v=B(2122);B(4650),B(259);var ut=B(5861),$e=B(9681),Fe=B(4859),Ft=B(2090),Dt=B(1877);const se=new Map,et={activated:!1,tokenObservers:[]},tt={initialized:!1,enabled:!1};function Ot(Oe){return se.get(Oe)||Object.assign({},et)}function bt(){return tt}class Jt{constructor(xe,Ge,yt,zt,Tn){if(this.operation=xe,this.retryPolicy=Ge,this.getWaitDuration=yt,this.lowerBound=zt,this.upperBound=Tn,this.pending=null,this.nextErrorWaitInterval=zt,zt>Tn)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(xe){var Ge=this;return(0,ut.Z)(function*(){Ge.stop();try{Ge.pending=new Ft.BH,yield function Wt(Oe){return new Promise(xe=>{setTimeout(xe,Oe)})}(Ge.getNextRun(xe)),Ge.pending.resolve(),yield Ge.pending.promise,Ge.pending=new Ft.BH,yield Ge.operation(),Ge.pending.resolve(),yield Ge.pending.promise,Ge.process(!0).catch(()=>{})}catch(yt){Ge.retryPolicy(yt)?Ge.process(!1).catch(()=>{}):Ge.stop()}})()}getNextRun(xe){if(xe)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const Ge=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Ge}}}const Lt=new Ft.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function It(Oe){if(!Ot(Oe).activated)throw Lt.create("use-before-activation",{appName:Oe.name})}function Yn(Oe,xe){return hr.apply(this,arguments)}function hr(){return(hr=(0,ut.Z)(function*({url:Oe,body:xe},Ge){const yt={"Content-Type":"application/json"},zt=Ge.getImmediate({optional:!0});if(zt){const Bi=yield zt.getHeartbeatsHeader();Bi&&(yt["X-Firebase-Client"]=Bi)}const Tn={method:"POST",body:JSON.stringify(xe),headers:yt};let Rn,Sr;try{Rn=yield fetch(Oe,Tn)}catch(Bi){throw Lt.create("fetch-network-error",{originalErrorMessage:Bi?.message})}if(200!==Rn.status)throw Lt.create("fetch-status-error",{httpStatus:Rn.status});try{Sr=yield Rn.json()}catch(Bi){throw Lt.create("fetch-parse-error",{originalErrorMessage:Bi?.message})}const cr=Sr.ttl.match(/^([\d.]+)(s)$/);if(!cr||!cr[2]||isNaN(Number(cr[1])))throw Lt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${Sr.ttl}`});const Di=1e3*Number(cr[1]),ho=Date.now();return{token:Sr.token,expireTimeMillis:ho+Di,issuedAtTimeMillis:ho}})).apply(this,arguments)}function kr(Oe,xe){const{projectId:Ge,appId:yt,apiKey:zt}=Oe.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${Ge}/apps/${yt}:exchangeDebugToken?key=${zt}`,body:{debug_token:xe}}}const _r="firebase-app-check-store";let Vn=null;function Wn(){return Vn||(Vn=new Promise((Oe,xe)=>{try{const Ge=indexedDB.open("firebase-app-check-database",1);Ge.onsuccess=yt=>{Oe(yt.target.result)},Ge.onerror=yt=>{var zt;xe(Lt.create("storage-open",{originalErrorMessage:null===(zt=yt.target.error)||void 0===zt?void 0:zt.message}))},Ge.onupgradeneeded=yt=>{0===yt.oldVersion&&yt.target.result.createObjectStore(_r,{keyPath:"compositeKey"})}}catch(Ge){xe(Lt.create("storage-open",{originalErrorMessage:Ge?.message}))}}),Vn)}function Ct(){return(Ct=(0,ut.Z)(function*(Oe,xe){const yt=(yield Wn()).transaction(_r,"readwrite"),Tn=yt.objectStore(_r).put({compositeKey:Oe,value:xe});return new Promise((Rn,Sr)=>{Tn.onsuccess=cr=>{Rn()},yt.onerror=cr=>{var Di;Sr(Lt.create("storage-set",{originalErrorMessage:null===(Di=cr.target.error)||void 0===Di?void 0:Di.message}))}})})).apply(this,arguments)}const jt=new Dt.Yd("@firebase/app-check");function fn(Oe,xe){return(0,Ft.hl)()?function ln(Oe,xe){return function Ve(Oe,xe){return Ct.apply(this,arguments)}(function dt(Oe){return`${Oe.options.appId}-${Oe.name}`}(Oe),xe)}(Oe,xe).catch(Ge=>{jt.warn(`Failed to write token to IndexedDB. Error: ${Ge}`)}):Promise.resolve()}function Zr(){return bt().enabled}function Qn(){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,ut.Z)(function*(){const Oe=bt();if(Oe.enabled&&Oe.token)return Oe.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const rn={error:"UNKNOWN_ERROR"};function nt(Oe){return Ft.US.encodeString(JSON.stringify(Oe),!1)}function Rt(Oe){return on.apply(this,arguments)}function on(){return(on=(0,ut.Z)(function*(Oe,xe=!1){const Ge=Oe.app;It(Ge);const yt=Ot(Ge);let Tn,zt=yt.token;if(zt&&!Se(zt)&&(yt.token=void 0,zt=void 0),!zt){const cr=yield yt.cachedTokenPromise;cr&&(Se(cr)?zt=cr:yield fn(Ge,void 0))}if(!xe&&zt&&Se(zt))return{token:zt.token};let Sr,Rn=!1;if(Zr()){yt.exchangeTokenPromise||(yt.exchangeTokenPromise=Yn(kr(Ge,yield Qn()),Oe.heartbeatServiceProvider).finally(()=>{yt.exchangeTokenPromise=void 0}),Rn=!0);const cr=yield yt.exchangeTokenPromise;return yield fn(Ge,cr),yt.token=cr,{token:cr.token}}try{yt.exchangeTokenPromise||(yt.exchangeTokenPromise=yt.provider.getToken().finally(()=>{yt.exchangeTokenPromise=void 0}),Rn=!0),zt=yield Ot(Ge).exchangeTokenPromise}catch(cr){"appCheck/throttled"===cr.code?jt.warn(cr.message):jt.error(cr),Tn=cr}return zt?Tn?Sr=Se(zt)?{token:zt.token,internalError:Tn}:rt(Tn):(Sr={token:zt.token},yt.token=zt,yield fn(Ge,zt)):Sr=rt(Tn),Rn&&fe(Ge,Sr),Sr})).apply(this,arguments)}function In(Oe,xe){const Ge=Ot(Oe),yt=Ge.tokenObservers.filter(zt=>zt.next!==xe);0===yt.length&&Ge.tokenRefresher&&Ge.tokenRefresher.isRunning()&&Ge.tokenRefresher.stop(),Ge.tokenObservers=yt}function Dr(Oe){const{app:xe}=Oe,Ge=Ot(xe);let yt=Ge.tokenRefresher;yt||(yt=function ve(Oe){const{app:xe}=Oe;return new Jt((0,ut.Z)(function*(){let yt;if(yt=Ot(xe).token?yield Rt(Oe,!0):yield Rt(Oe),yt.error)throw yt.error;if(yt.internalError)throw yt.internalError}),()=>!0,()=>{const Ge=Ot(xe);if(Ge.token){let yt=Ge.token.issuedAtTimeMillis+.5*(Ge.token.expireTimeMillis-Ge.token.issuedAtTimeMillis)+3e5;return yt=Math.min(yt,Ge.token.expireTimeMillis-3e5),Math.max(0,yt-Date.now())}return 0},3e4,96e4)}(Oe),Ge.tokenRefresher=yt),!yt.isRunning()&&Ge.isTokenAutoRefreshEnabled&&yt.start()}function fe(Oe,xe){const Ge=Ot(Oe).tokenObservers;for(const yt of Ge)try{"EXTERNAL"===yt.type&&null!=xe.error?yt.error(xe.error):yt.next(xe)}catch{}}function Se(Oe){return Oe.expireTimeMillis-Date.now()>0}function rt(Oe){return{token:nt(rn),error:Oe}}class je{constructor(xe,Ge){this.app=xe,this.heartbeatServiceProvider=Ge}_delete(){const{tokenObservers:xe}=Ot(this.app);for(const Ge of xe)In(this.app,Ge.next);return Promise.resolve()}}const us="app-check-internal";!function cs(){(0,$e._registerComponent)(new Fe.wA("app-check",Oe=>function qt(Oe,xe){return new je(Oe,xe)}(Oe.getProvider("app").getImmediate(),Oe.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((Oe,xe,Ge)=>{Oe.getProvider(us).initialize()})),(0,$e._registerComponent)(new Fe.wA(us,Oe=>function mn(Oe){return{getToken:xe=>Rt(Oe,xe),addTokenListener:xe=>function Sn(Oe,xe,Ge,yt){const{app:zt}=Oe,Tn=Ot(zt);if(Tn.tokenObservers=[...Tn.tokenObservers,{next:Ge,error:yt,type:xe}],Tn.token&&Se(Tn.token)){const Sr=Tn.token;Promise.resolve().then(()=>{Ge({token:Sr.token}),Dr(Oe)}).catch(()=>{})}Tn.cachedTokenPromise.then(()=>Dr(Oe))}(Oe,"INTERNAL",xe),removeTokenListener:xe=>In(Oe.app,xe)}}(Oe.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,$e.registerVersion)("@firebase/app-check","0.6.4")}();class hs{constructor(){return(0,v.vb)("app-check")}}typeof window<"u"&&window},1205:(tn,ze,B)=>{B.d(ze,{zQ:()=>Ze,ww:()=>at,rT:()=>tt,f7:()=>kt,L6:()=>se,_Q:()=>et,lh:()=>Ot,Qv:()=>Dt,nw:()=>bt});var v=B(4650),K=B(7579),x=B(9646),l=B(9751),Ee=B(8996),Ce=B(6451),he=B(5363),Te=B(3900),Pe=B(4004),ce=B(6063);class de extends K.x{constructor(ct=1/0,pt=1/0,We=ce.l){super(),this._bufferSize=ct,this._windowTime=pt,this._timestampProvider=We,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=pt===1/0,this._bufferSize=Math.max(1,ct),this._windowTime=Math.max(1,pt)}next(ct){const{isStopped:pt,_buffer:We,_infiniteTimeWindow:Jt,_timestampProvider:Wt,_windowTime:pn}=this;pt||(We.push(ct),!Jt&&We.push(Wt.now()+pn)),this._trimBuffer(),super.next(ct)}_subscribe(ct){this._throwIfClosed(),this._trimBuffer();const pt=this._innerSubscribe(ct),{_infiniteTimeWindow:We,_buffer:Jt}=this,Wt=Jt.slice();for(let pn=0;pn<Wt.length&&!ct.closed;pn+=We?1:2)ct.next(Wt[pn]);return this._checkFinalizedStatuses(ct),pt}_trimBuffer(){const{_bufferSize:ct,_timestampProvider:pt,_buffer:We,_infiniteTimeWindow:Jt}=this,Wt=(Jt?1:2)*ct;if(ct<1/0&&Wt<We.length&&We.splice(0,We.length-Wt),!Jt){const pn=pt.now();let Lt=0;for(let An=1;An<We.length&&We[An]<=pn;An+=2)Lt=An;Lt&&We.splice(0,Lt+1)}}}var we=B(3099);function _t(Qe,ct,pt){let We,Jt=!1;return Qe&&"object"==typeof Qe?({bufferSize:We=1/0,windowTime:ct=1/0,refCount:Jt=!1,scheduler:pt}=Qe):We=Qe??1/0,(0,we.B)({connector:()=>new de(We,ct,pt),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Jt})}var Ue=B(590),Be=B(576);function Pt(Qe,ct){return(0,Be.m)(ct)?(0,Te.w)(()=>Qe,ct):(0,Te.w)(()=>Qe)}var Ke=B(9468),Je=B(9300),Ae=B(2122),Zt=B(2011),ut=B(6895),$e=B(6217),Fe=B(9260);const Dt=new v.OlP("angularfire2.auth.use-emulator"),se=new v.OlP("angularfire2.auth.settings"),et=new v.OlP("angularfire2.auth.tenant-id"),tt=new v.OlP("angularfire2.auth.langugage-code"),Ot=new v.OlP("angularfire2.auth.use-device-language"),kt=new v.OlP("angularfire.auth.persistence"),bt=(Qe,ct,pt,We,Jt,Wt,pn,Lt)=>(0,Zt.cc)(`${Qe.name}.auth`,"AngularFireAuth",Qe.name,()=>{const An=ct.runOutsideAngular(()=>Qe.auth());if(pt&&An.useEmulator(...pt),We&&(An.tenantId=We),An.languageCode=Jt,Wt&&An.useDeviceLanguage(),pn)for(const[It,hn]of Object.entries(pn))An.settings[It]=hn;return Lt&&An.setPersistence(Lt),An},[pt,We,Jt,Wt,pn,Lt]);let Ze=(()=>{class Qe{constructor(pt,We,Jt,Wt,pn,Lt,An,It,hn,Zn,Yn,hr){const lr=new K.x,ir=(0,x.of)(void 0).pipe((0,he.Q)(pn.outsideAngular),(0,Te.w)(()=>Wt.runOutsideAngular(()=>Promise.resolve().then(B.bind(B,7407)))),(0,Pe.U)(()=>(0,Zt.on)(pt,Wt,We)),(0,Pe.U)(kr=>bt(kr,Wt,Lt,It,hn,Zn,An,Yn)),_t({bufferSize:1,refCount:!1}));if((0,ut.PM)(Jt))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,x.of)(null);else{ir.pipe((0,Ue.P)()).subscribe();const Kn=ir.pipe((0,Te.w)(Tt=>Tt.getRedirectResult().then(Vn=>Vn,()=>null)),Ae.iC,_t({bufferSize:1,refCount:!1})),mr=ir.pipe((0,Te.w)(Tt=>new l.y(Vn=>({unsubscribe:Wt.runOutsideAngular(()=>Tt.onAuthStateChanged(Wn=>Vn.next(Wn),Wn=>Vn.error(Wn),()=>Vn.complete()))})))),_r=ir.pipe((0,Te.w)(Tt=>new l.y(Vn=>({unsubscribe:Wt.runOutsideAngular(()=>Tt.onIdTokenChanged(Wn=>Vn.next(Wn),Wn=>Vn.error(Wn),()=>Vn.complete()))}))));this.authState=Kn.pipe(Pt(mr),(0,Ke.R)(pn.outsideAngular),(0,he.Q)(pn.insideAngular)),this.user=Kn.pipe(Pt(_r),(0,Ke.R)(pn.outsideAngular),(0,he.Q)(pn.insideAngular)),this.idToken=this.user.pipe((0,Te.w)(Tt=>Tt?(0,Ee.D)(Tt.getIdToken()):(0,x.of)(null))),this.idTokenResult=this.user.pipe((0,Te.w)(Tt=>Tt?(0,Ee.D)(Tt.getIdTokenResult()):(0,x.of)(null))),this.credential=(0,Ce.T)(Kn,lr,this.authState.pipe((0,Je.h)(Tt=>!Tt))).pipe((0,Pe.U)(Tt=>Tt?.user?Tt:null),(0,Ke.R)(pn.outsideAngular),(0,he.Q)(pn.insideAngular))}return(0,Zt.pX)(this,ir,Wt,{spy:{apply:(kr,Kn,mr)=>{(kr.startsWith("signIn")||kr.startsWith("createUser"))&&mr.then(_r=>lr.next(_r))}}})}}return Qe.\u0275fac=function(pt){return new(pt||Qe)(v.LFG(Zt.Dh),v.LFG(Zt.xv,8),v.LFG(v.Lbi),v.LFG(v.R0b),v.LFG(Ae.HU),v.LFG(Dt,8),v.LFG(se,8),v.LFG(et,8),v.LFG(tt,8),v.LFG(Ot,8),v.LFG(kt,8),v.LFG($e.nm,8))},Qe.\u0275prov=v.Yz7({token:Qe,factory:Qe.\u0275fac,providedIn:"any"}),Qe})(),at=(()=>{class Qe{constructor(){Fe.Z.registerVersion("angularfire",Ae.q4.full,"auth-compat")}}return Qe.\u0275fac=function(pt){return new(pt||Qe)},Qe.\u0275mod=v.oAB({type:Qe}),Qe.\u0275inj=v.cJS({providers:[Ze]}),Qe})()},3101:(tn,ze,B)=>{B.d(ze,{ST:()=>Vy,yb:()=>t0});var v=B(4650),K=B(4986),x=B(9751),l=B(8996),Ee=B(9646),Ce=B(2122),he=B(8675),Te=B(4482),Pe=B(5403);function ce(){return(0,Te.e)((i,e)=>{let t,s=!1;i.subscribe((0,Pe.x)(e,d=>{const m=t;t=d,s&&e.next([m,d]),s=!0}))})}var se,de=B(4004),we=B(5026),_t=B(1884),Ue=B(9300),Be=B(2011),Pt=B(6895),Je=(B(7407),B(3942)),Ae=B(5861),Zt=B(9681),ut=B(4859),$e=B(1877),Fe=B(2090),Ft=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Dt={},et=et||{},tt=Ft||self;function Ot(){}function kt(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function bt(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var at="closure_uid_"+(1e9*Math.random()>>>0),Qe=0;function ct(i,e,t){return i.call.apply(i.bind,arguments)}function pt(i,e,t){if(!i)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var d=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(d,s),i.apply(e,d)}}return function(){return i.apply(e,arguments)}}function We(i,e,t){return(We=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ct:pt).apply(null,arguments)}function Jt(i,e){var t=Array.prototype.slice.call(arguments,1);return function(){var s=t.slice();return s.push.apply(s,arguments),i.apply(this,s)}}function Wt(i,e){function t(){}t.prototype=e.prototype,i.X=e.prototype,i.prototype=new t,i.prototype.constructor=i,i.Wb=function(s,d,m){for(var w=Array(arguments.length-2),N=2;N<arguments.length;N++)w[N-2]=arguments[N];return e.prototype[d].apply(s,w)}}function pn(){this.s=this.s,this.o=this.o}pn.prototype.s=!1,pn.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function Ze(i){Object.prototype.hasOwnProperty.call(i,at)&&i[at]||(i[at]=++Qe)}(this)},pn.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const An=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let t=0;t<i.length;t++)if(t in i&&i[t]===e)return t;return-1};function It(i){const e=i.length;if(0<e){const t=Array(e);for(let s=0;s<e;s++)t[s]=i[s];return t}return[]}function hn(i,e){for(let t=1;t<arguments.length;t++){const s=arguments[t];if(kt(s)){const d=i.length||0,m=s.length||0;i.length=d+m;for(let w=0;w<m;w++)i[d+w]=s[w]}else i.push(s)}}function Zn(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}Zn.prototype.h=function(){this.defaultPrevented=!0};var Yn=function(){if(!tt.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{tt.addEventListener("test",Ot,e),tt.removeEventListener("test",Ot,e)}catch{}return i}();function hr(i){return/^[\s\xa0]*$/.test(i)}var lr=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function ir(i,e){return i<e?-1:i>e?1:0}function kr(){var i=tt.navigator;return i&&(i=i.userAgent)?i:""}function Kn(i){return-1!=kr().indexOf(i)}function mr(i){return mr[" "](i),i}mr[" "]=Ot;var Ve,i,Tt=Kn("Opera"),Vn=Kn("Trident")||Kn("MSIE"),Wn=Kn("Edge"),He=Wn||Vn,ln=Kn("Gecko")&&!(-1!=kr().toLowerCase().indexOf("webkit")&&!Kn("Edge"))&&!(Kn("Trident")||Kn("MSIE"))&&!Kn("Edge"),q=-1!=kr().toLowerCase().indexOf("webkit")&&!Kn("Edge");function oe(){var i=tt.document;return i?i.documentMode:void 0}e:{var Ct="",Mt=(i=kr(),ln?/rv:([^\);]+)(\)|;)/.exec(i):Wn?/Edge\/([\d\.]+)/.exec(i):Vn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):q?/WebKit\/(\S+)/.exec(i):Tt?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(Mt&&(Ct=Mt?Mt[1]:""),Vn){var Nt=oe();if(null!=Nt&&Nt>parseFloat(Ct)){Ve=String(Nt);break e}}Ve=Ct}var dt={};var fn=tt.document&&Vn&&(oe()||parseInt(Ve,10))||void 0;function sr(i,e){if(Zn.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var t=this.type=i.type,s=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(ln){e:{try{mr(e.nodeName);var d=!0;break e}catch{}d=!1}d||(e=null)}}else"mouseover"==t?e=i.fromElement:"mouseout"==t&&(e=i.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:En[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&sr.X.h.call(this)}}Wt(sr,Zn);var En={2:"touch",3:"pen",4:"mouse"};sr.prototype.h=function(){sr.X.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var Zr="closure_listenable_"+(1e6*Math.random()|0),Qn=0;function Mr(i,e,t,s,d){this.listener=i,this.proxy=null,this.src=e,this.type=t,this.capture=!!s,this.ha=d,this.key=++Qn,this.ba=this.ea=!1}function Pr(i){i.ba=!0,i.listener=null,i.proxy=null,i.src=null,i.ha=null}function rn(i,e,t){for(const s in i)e.call(t,i[s],s,i)}function nt(i){const e={};for(const t in i)e[t]=i[t];return e}const Rt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function on(i,e){let t,s;for(let d=1;d<arguments.length;d++){for(t in s=arguments[d],s)i[t]=s[t];for(let m=0;m<Rt.length;m++)t=Rt[m],Object.prototype.hasOwnProperty.call(s,t)&&(i[t]=s[t])}}function Sn(i){this.src=i,this.g={},this.h=0}function In(i,e){var t=e.type;if(t in i.g){var m,s=i.g[t],d=An(s,e);(m=0<=d)&&Array.prototype.splice.call(s,d,1),m&&(Pr(e),0==i.g[t].length&&(delete i.g[t],i.h--))}}function Dr(i,e,t,s){for(var d=0;d<i.length;++d){var m=i[d];if(!m.ba&&m.listener==e&&m.capture==!!t&&m.ha==s)return d}return-1}Sn.prototype.add=function(i,e,t,s,d){var m=i.toString();(i=this.g[m])||(i=this.g[m]=[],this.h++);var w=Dr(i,e,s,d);return-1<w?(e=i[w],t||(e.ea=!1)):((e=new Mr(e,this.src,m,!!s,d)).ea=t,i.push(e)),e};var ve="closure_lm_"+(1e6*Math.random()|0),fe={};function Se(i,e,t,s,d){if(s&&s.once)return qt(i,e,t,s,d);if(Array.isArray(e)){for(var m=0;m<e.length;m++)Se(i,e[m],t,s,d);return null}return t=Me(t),i&&i[Zr]?i.N(e,t,bt(s)?!!s.capture:!!s,d):rt(i,e,t,!1,s,d)}function rt(i,e,t,s,d,m){if(!e)throw Error("Invalid event type");var w=bt(d)?!!d.capture:!!d,N=pe(i);if(N||(i[ve]=N=new Sn(i)),(t=N.add(e,t,s,w,m)).proxy)return t;if(s=function je(){const e=me;return function i(t){return e.call(i.src,i.listener,t)}}(),t.proxy=s,s.src=i,s.listener=t,i.addEventListener)Yn||(d=w),void 0===d&&(d=!1),i.addEventListener(e.toString(),s,d);else if(i.attachEvent)i.attachEvent(fr(e.toString()),s);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(s)}return t}function qt(i,e,t,s,d){if(Array.isArray(e)){for(var m=0;m<e.length;m++)qt(i,e[m],t,s,d);return null}return t=Me(t),i&&i[Zr]?i.O(e,t,bt(s)?!!s.capture:!!s,d):rt(i,e,t,!0,s,d)}function mn(i,e,t,s,d){if(Array.isArray(e))for(var m=0;m<e.length;m++)mn(i,e[m],t,s,d);else s=bt(s)?!!s.capture:!!s,t=Me(t),i&&i[Zr]?(i=i.i,(e=String(e).toString())in i.g&&-1<(t=Dr(m=i.g[e],t,s,d))&&(Pr(m[t]),Array.prototype.splice.call(m,t,1),0==m.length&&(delete i.g[e],i.h--))):i&&(i=pe(i))&&(e=i.g[e.toString()],i=-1,e&&(i=Dr(e,t,s,d)),(t=-1<i?e[i]:null)&&Gn(t))}function Gn(i){if("number"!=typeof i&&i&&!i.ba){var e=i.src;if(e&&e[Zr])In(e.i,i);else{var t=i.type,s=i.proxy;e.removeEventListener?e.removeEventListener(t,s,i.capture):e.detachEvent?e.detachEvent(fr(t),s):e.addListener&&e.removeListener&&e.removeListener(s),(t=pe(e))?(In(t,i),0==t.h&&(t.src=null,e[ve]=null)):Pr(i)}}}function fr(i){return i in fe?fe[i]:fe[i]="on"+i}function me(i,e){if(i.ba)i=!0;else{e=new sr(e,this);var t=i.listener,s=i.ha||i.src;i.ea&&Gn(i),i=t.call(s,e)}return i}function pe(i){return(i=i[ve])instanceof Sn?i:null}var ie="__closure_events_fn_"+(1e9*Math.random()>>>0);function Me(i){return"function"==typeof i?i:(i[ie]||(i[ie]=function(e){return i.handleEvent(e)}),i[ie])}function st(){pn.call(this),this.i=new Sn(this),this.P=this,this.I=null}function Gt(i,e){var t,s=i.I;if(s)for(t=[];s;s=s.I)t.push(s);if(i=i.P,s=e.type||e,"string"==typeof e)e=new Zn(e,i);else if(e instanceof Zn)e.target=e.target||i;else{var d=e;on(e=new Zn(s,i),d)}if(d=!0,t)for(var m=t.length-1;0<=m;m--){var w=e.g=t[m];d=Mn(w,s,!0,e)&&d}if(d=Mn(w=e.g=i,s,!0,e)&&d,d=Mn(w,s,!1,e)&&d,t)for(m=0;m<t.length;m++)d=Mn(w=e.g=t[m],s,!1,e)&&d}function Mn(i,e,t,s){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var d=!0,m=0;m<e.length;++m){var w=e[m];if(w&&!w.ba&&w.capture==t){var N=w.listener,$=w.ha||w.src;w.ea&&In(i.i,w),d=!1!==N.call($,s)&&d}}return d&&!s.defaultPrevented}Wt(st,pn),st.prototype[Zr]=!0,st.prototype.removeEventListener=function(i,e,t,s){mn(this,i,e,t,s)},st.prototype.M=function(){if(st.X.M.call(this),this.i){var e,i=this.i;for(e in i.g){for(var t=i.g[e],s=0;s<t.length;s++)Pr(t[s]);delete i.g[e],i.h--}}this.I=null},st.prototype.N=function(i,e,t,s){return this.i.add(String(i),e,!1,t,s)},st.prototype.O=function(i,e,t,s){return this.i.add(String(i),e,!0,t,s)};var Un=tt.JSON.stringify;function Br(){var i=$r;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var Si,$n=new class{constructor(i,e){this.i=i,this.j=e,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new vr,i=>i.reset());class vr{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function _i(i){tt.setTimeout(()=>{throw i},0)}function Xi(i,e){Si||function Yr(){var i=tt.Promise.resolve(void 0);Si=function(){i.then(di)}}(),li||(Si(),li=!0),$r.add(i,e)}var li=!1,$r=new class Vi{constructor(){this.h=this.g=null}add(e,t){const s=$n.get();s.set(e,t),this.h?this.h.next=s:this.g=s,this.h=s}};function di(){for(var i;i=Br();){try{i.h.call(i.g)}catch(t){_i(t)}var e=$n;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}li=!1}function ti(i,e){st.call(this),this.h=i||1,this.g=e||tt,this.j=We(this.lb,this),this.l=Date.now()}function Cs(i){i.ca=!1,i.R&&(i.g.clearTimeout(i.R),i.R=null)}function ur(i,e,t){if("function"==typeof i)t&&(i=We(i,t));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=We(i.handleEvent,i)}return 2147483647<Number(e)?-1:tt.setTimeout(i,e||0)}function Es(i){i.g=ur(()=>{i.g=null,i.i&&(i.i=!1,Es(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}Wt(ti,st),(se=ti.prototype).ca=!1,se.R=null,se.lb=function(){if(this.ca){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-i):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Gt(this,"tick"),this.ca&&(Cs(this),this.start()))}},se.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},se.M=function(){ti.X.M.call(this),Cs(this),delete this.g};class us extends pn{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Es(this)}M(){super.M(),this.g&&(tt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function cs(i){pn.call(this),this.h=i,this.g={}}Wt(cs,pn);var ds=[];function es(i,e,t,s){Array.isArray(t)||(t&&(ds[0]=t.toString()),t=ds);for(var d=0;d<t.length;d++){var m=Se(e,t[d],s||i.handleEvent,!1,i.h||i);if(!m)break;i.g[m.key]=m}}function hs(i){rn(i.g,function(e,t){this.g.hasOwnProperty(t)&&Gn(e)},i),i.g={}}function Ui(){this.g=!0}function Cr(i,e,t,s){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Us(i,e){if(!i.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(i=0;i<t.length;i++)if(Array.isArray(t[i])){var s=t[i];if(!(2>s.length)){var d=s[1];if(Array.isArray(d)&&!(1>d.length)){var m=d[0];if("noop"!=m&&"stop"!=m&&"close"!=m)for(var w=1;w<d.length;w++)d[w]=""}}}return Un(t)}catch{return e}}(i,t)+(s?" "+s:"")})}cs.prototype.M=function(){cs.X.M.call(this),hs(this)},cs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ui.prototype.Aa=function(){this.g=!1},Ui.prototype.info=function(){};var yi={},ma=null;function hi(){return ma=ma||new st}function ta(i){Zn.call(this,yi.Pa,i)}function Uo(i){const e=hi();Gt(e,new ta(e))}function Ai(i,e){Zn.call(this,yi.STAT_EVENT,i),this.stat=e}function fi(i){const e=hi();Gt(e,new Ai(e,i))}function _a(i,e){Zn.call(this,yi.Qa,i),this.size=e}function Rr(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return tt.setTimeout(function(){i()},e)}yi.Pa="serverreachability",Wt(ta,Zn),yi.STAT_EVENT="statevent",Wt(Ai,Zn),yi.Qa="timingevent",Wt(_a,Zn);var Oe={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},xe={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Ge(){}function zt(){}Ge.prototype.h=null;var cr,Tn={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Rn(){Zn.call(this,"d")}function Sr(){Zn.call(this,"c")}function Di(){}function ho(i,e,t,s){this.l=i,this.j=e,this.m=t,this.U=s||1,this.S=new cs(this),this.O=$i,this.T=new ti(i=He?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Bi}function Bi(){this.i=null,this.g="",this.h=!1}Wt(Rn,Zn),Wt(Sr,Zn),Wt(Di,Ge),Di.prototype.g=function(){return new XMLHttpRequest},Di.prototype.i=function(){return{}},cr=new Di;var $i=45e3,Eo={},Io={};function Js(i,e,t){i.K=1,i.v=Ci(ns(e)),i.s=t,i.P=!0,na(i,null)}function na(i,e){i.F=Date.now(),Gi(i),i.A=ns(i.v);var t=i.A,s=i.U;Array.isArray(s)||(s=[String(s)]),Go(t.i,"t",s),i.C=0,t=i.l.H,i.h=new Bi,i.g=dl(i.l,t?e:null,!i.s),0<i.N&&(i.L=new us(We(i.La,i,i.g),i.N)),es(i.S,i.g,"readystatechange",i.ib),e=i.H?nt(i.H):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.da(i.A,i.u,i.s,e)):(i.u="GET",i.g.da(i.A,i.u,null,e)),Uo(),function Nr(i,e,t,s,d,m){i.info(function(){if(i.g)if(m)for(var w="",N=m.split("&"),$=0;$<N.length;$++){var W=N[$].split("=");if(1<W.length){var re=W[0];W=W[1];var De=re.split("_");w=2<=De.length&&"type"==De[1]?w+(re+"=")+W+"&":w+(re+"=redacted&")}}else w=null;else w=m;return"XMLHTTP REQ ("+s+") [attempt "+d+"]: "+e+"\n"+t+"\n"+w})}(i.j,i.u,i.A,i.m,i.U,i.s)}function Hi(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Da}function ji(i,e,t){let d,s=!0;for(;!i.I&&i.C<t.length;){if(d=vs(i,t),d==Io){4==e&&(i.o=4,fi(14),s=!1),Cr(i.j,i.m,null,"[Incomplete Response]");break}if(d==Eo){i.o=4,fi(15),Cr(i.j,i.m,t,"[Invalid Chunk]"),s=!1;break}Cr(i.j,i.m,d,null),Ts(i,d)}Hi(i)&&d!=Io&&d!=Eo&&(i.h.g="",i.C=0),4!=e||0!=t.length||i.h.h||(i.o=1,fi(16),s=!1),i.i=i.i&&s,s?0<t.length&&!i.$&&(i.$=!0,(e=i.l).g==i&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),kl(e),e.K=!0,fi(11))):(Cr(i.j,i.m,t,"[Invalid Chunked Response]"),To(i),Qs(i))}function vs(i,e){var t=i.C,s=e.indexOf("\n",t);return-1==s?Io:(t=Number(e.substring(t,s)),isNaN(t)?Eo:(s+=1)+t>e.length?Io:(e=e.substr(s,t),i.C=s+t,e))}function Gi(i){i.V=Date.now()+i.O,Bo(i,i.O)}function Bo(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=Rr(We(i.gb,i),e)}function fs(i){i.B&&(tt.clearTimeout(i.B),i.B=null)}function Qs(i){0==i.l.G||i.I||Xl(i.l,i)}function To(i){fs(i);var e=i.L;e&&"function"==typeof e.na&&e.na(),i.L=null,Cs(i.T),hs(i.S),i.g&&(e=i.g,i.g=null,e.abort(),e.na())}function Ts(i,e){try{var t=i.l;if(0!=t.G&&(t.g==i||Et(t.h,i)))if(!i.J&&Et(t.h,i)&&3==t.G){try{var s=t.Fa.g.parse(e)}catch{s=null}if(Array.isArray(s)&&3==s.length){var d=s;if(0==d[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<i.F))break e;Ja(t),la(t)}Fa(t),fi(18)}}else t.Ba=d[1],0<t.Ba-t.T&&37500>d[2]&&t.L&&0==t.A&&!t.v&&(t.v=Rr(We(t.cb,t),6e3));if(1>=to(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else is(t,11)}else if((i.J||t.g==i)&&Ja(t),!hr(e))for(d=t.Fa.g.parse(e),e=0;e<d.length;e++){let W=d[e];if(t.T=W[0],W=W[1],2==t.G)if("c"==W[0]){t.I=W[1],t.ka=W[2];const re=W[3];null!=re&&(t.ma=re,t.j.info("VER="+t.ma));const De=W[4];null!=De&&(t.Ca=De,t.j.info("SVER="+t.Ca));const Ye=W[5];null!=Ye&&"number"==typeof Ye&&0<Ye&&(t.J=s=1.5*Ye,t.j.info("backChannelRequestTimeoutMs_="+s)),s=t;const wt=i.g;if(wt){const Kt=wt.g?wt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Kt){var m=s.h;m.g||-1==Kt.indexOf("spdy")&&-1==Kt.indexOf("quic")&&-1==Kt.indexOf("h2")||(m.j=m.l,m.g=new Set,m.h&&(tr(m,m.h),m.h=null))}if(s.D){const yn=wt.g?wt.g.getResponseHeader("X-HTTP-Session-Id"):null;yn&&(s.za=yn,jr(s.F,s.D,yn))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-i.F,t.j.info("Handshake RTT: "+t.P+"ms"));var w=i;if((s=t).sa=ko(s,s.H?s.ka:null,s.V),w.J){no(s.h,w);var N=w,$=s.J;$&&N.setTimeout($),N.B&&(fs(N),Gi(N)),s.g=w}else ua(s);0<t.i.length&&xo(t)}else"stop"!=W[0]&&"close"!=W[0]||is(t,7);else 3==t.G&&("stop"==W[0]||"close"==W[0]?"stop"==W[0]?is(t,7):zo(t):"noop"!=W[0]&&t.l&&t.l.wa(W),t.A=0)}Uo()}catch{}}function Mi(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(kt(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var t=function ts(i){if(i.oa&&"function"==typeof i.oa)return i.oa();if(!i.W||"function"!=typeof i.W){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(kt(i)||"string"==typeof i){var e=[];i=i.length;for(var t=0;t<i;t++)e.push(t);return e}e=[],t=0;for(const s in i)e[t++]=s;return e}}}(i),s=function Ss(i){if(i.W&&"function"==typeof i.W)return i.W();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(kt(i)){for(var e=[],t=i.length,s=0;s<t;s++)e.push(i[s]);return e}for(s in e=[],t=0,i)e[t++]=i[s];return e}(i),d=s.length,m=0;m<d;m++)e.call(void 0,s[m],t&&t[m],i)}(se=ho.prototype).setTimeout=function(i){this.O=i},se.ib=function(i){i=i.target;const e=this.L;e&&3==Wi(i)?e.l():this.La(i)},se.La=function(i){try{if(i==this.g)e:{const re=Wi(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>re)&&(3!=re||He||this.g&&(this.h.h||this.g.fa()||ya(this.g)))){this.I||4!=re||7==e||Uo(),fs(this);var t=this.g.aa();this.Y=t;t:if(Hi(this)){var s=ya(this.g);i="";var d=s.length,m=4==Wi(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){To(this),Qs(this);var w="";break t}this.h.i=new tt.TextDecoder}for(e=0;e<d;e++)this.h.h=!0,i+=this.h.i.decode(s[e],{stream:m&&e==d-1});s.splice(0,d),this.h.g+=i,this.C=0,w=this.h.g}else w=this.g.fa();if(this.i=200==t,function Is(i,e,t,s,d,m,w){i.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+d+"]: "+e+"\n"+t+"\n"+m+" "+w})}(this.j,this.u,this.A,this.m,this.U,re,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var N,$=this.g;if((N=$.g?$.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!hr(N)){var W=N;break t}}W=null}if(!(t=W)){this.i=!1,this.o=3,fi(12),To(this),Qs(this);break e}Cr(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Ts(this,t)}this.P?(ji(this,re,w),He&&this.i&&3==re&&(es(this.S,this.T,"tick",this.hb),this.T.start())):(Cr(this.j,this.m,w,null),Ts(this,w)),4==re&&To(this),this.i&&!this.I&&(4==re?Xl(this.l,this):(this.i=!1,Gi(this)))}else 400==t&&0<w.indexOf("Unknown SID")?(this.o=3,fi(12)):(this.o=0,fi(13)),To(this),Qs(this)}}}catch{}},se.hb=function(){if(this.g){var i=Wi(this.g),e=this.g.fa();this.C<e.length&&(fs(this),ji(this,i,e),this.i&&4!=i&&Gi(this))}},se.cancel=function(){this.I=!0,To(this)},se.gb=function(){this.B=null;const i=Date.now();0<=i-this.V?(function ni(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Uo(),fi(17)),To(this),this.o=2,Qs(this)):Bo(this,this.V-i)};var As=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Hr(i,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof Hr){this.h=void 0!==e?e:i.h,So(this,i.j),this.s=i.s,this.g=i.g,ri(this,i.m),this.l=i.l,e=i.i;var t=new vi;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Ho(this,t),this.o=i.o}else i&&(t=String(i).match(As))?(this.h=!!e,So(this,t[1]||"",!0),this.s=pi(t[2]||""),this.g=pi(t[3]||"",!0),ri(this,t[4]),this.l=pi(t[5]||"",!0),Ho(this,t[6]||"",!0),this.o=pi(t[7]||"")):(this.h=!!e,this.i=new vi(null,this.h))}function ns(i){return new Hr(i)}function So(i,e,t){i.j=t?pi(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function ri(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function Ho(i,e,t){e instanceof vi?(i.i=e,function Ao(i,e){e&&!i.j&&(Fr(i),i.i=null,i.g.forEach(function(t,s){var d=s.toLowerCase();s!=d&&(Qr(this,s),Go(this,d,t))},i)),i.j=e}(i.i,i.h)):(t||(e=ps(e,jo)),i.i=new vi(e,i.h))}function jr(i,e,t){i.i.set(e,t)}function Ci(i){return jr(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function pi(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function ps(i,e,t){return"string"==typeof i?(i=encodeURI(i).replace(e,ra),t&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function ra(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}Hr.prototype.toString=function(){var i=[],e=this.j;e&&i.push(ps(e,Bs,!0),":");var t=this.g;return(t||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(ps(e,Bs,!0),"@"),i.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&i.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&i.push("/"),i.push(ps(t,"/"==t.charAt(0)?ia:ii,!0))),(t=this.i.toString())&&i.push("?",t),(t=this.o)&&i.push("#",ps(t,sa)),i.join("")};var Bs=/[#\/\?@]/g,ii=/[#\?:]/g,ia=/[#\?]/g,jo=/[#\?@]/g,sa=/#/g;function vi(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function Fr(i){i.g||(i.g=new Map,i.h=0,i.i&&function $o(i,e){if(i){i=i.split("&");for(var t=0;t<i.length;t++){var s=i[t].indexOf("="),d=null;if(0<=s){var m=i[t].substring(0,s);d=i[t].substring(s+1)}else m=i[t];e(m,d?decodeURIComponent(d.replace(/\+/g," ")):"")}}}(i.i,function(e,t){i.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Qr(i,e){Fr(i),e=fo(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function Nn(i,e){return Fr(i),e=fo(i,e),i.g.has(e)}function Go(i,e,t){Qr(i,e),0<t.length&&(i.i=null,i.g.set(fo(i,e),It(t)),i.h+=t.length)}function fo(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function oa(i){this.l=i||zi,i=tt.PerformanceNavigationTiming?0<(i=tt.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(tt.g&&tt.g.Ga&&tt.g.Ga()&&tt.g.Ga().$b),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(se=vi.prototype).add=function(i,e){Fr(this),this.i=null,i=fo(this,i);var t=this.g.get(i);return t||this.g.set(i,t=[]),t.push(e),this.h+=1,this},se.forEach=function(i,e){Fr(this),this.g.forEach(function(t,s){t.forEach(function(d){i.call(e,d,s,this)},this)},this)},se.oa=function(){Fr(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let s=0;s<e.length;s++){const d=i[s];for(let m=0;m<d.length;m++)t.push(e[s])}return t},se.W=function(i){Fr(this);let e=[];if("string"==typeof i)Nn(this,i)&&(e=e.concat(this.g.get(fo(this,i))));else{i=Array.from(this.g.values());for(let t=0;t<i.length;t++)e=e.concat(i[t])}return e},se.set=function(i,e){return Fr(this),this.i=null,Nn(this,i=fo(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},se.get=function(i,e){return i&&0<(i=this.W(i)).length?String(i[0]):e},se.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var s=e[t];const m=encodeURIComponent(String(s)),w=this.W(s);for(s=0;s<w.length;s++){var d=m;""!==w[s]&&(d+="="+encodeURIComponent(String(w[s]))),i.push(d)}}return this.i=i.join("&")};var zi=10;function eo(i){return!!i.h||!!i.g&&i.g.size>=i.j}function to(i){return i.h?1:i.g?i.g.size:0}function Et(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function tr(i,e){i.g?i.g.add(e):i.h=e}function no(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function gs(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const t of i.g.values())e=e.concat(t.D);return e}return It(i.i)}function si(){}function aa(){this.g=new si}function Ra(i,e,t){const s=t||"";try{Mi(i,function(d,m){let w=d;bt(d)&&(w=Un(d)),e.push(s+m+"="+encodeURIComponent(w))})}catch(d){throw e.push(s+"type="+encodeURIComponent("_badmap")),d}}function po(i,e,t,s,d){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,d(s)}catch{}}function bs(i){this.l=i.ac||null,this.j=i.jb||!1}function Ya(i,e){st.call(this),this.D=i,this.u=e,this.m=void 0,this.readyState=Gr,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}oa.prototype.cancel=function(){if(this.i=gs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},si.prototype.stringify=function(i){return tt.JSON.stringify(i,void 0)},si.prototype.parse=function(i){return tt.JSON.parse(i,void 0)},Wt(bs,Ge),bs.prototype.g=function(){return new Ya(this.l,this.j)},bs.prototype.i=function(i){return function(){return i}}({}),Wt(Ya,st);var Gr=0;function j(i){i.j.read().then(i.Ta.bind(i)).catch(i.ga.bind(i))}function V(i){i.readyState=4,i.l=null,i.j=null,i.A=null,O(i)}function O(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(se=Ya.prototype).open=function(i,e){if(this.readyState!=Gr)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,O(this)},se.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.D||tt).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},se.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,V(this)),this.readyState=Gr},se.Wa=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,O(this)),this.g&&(this.readyState=3,O(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof tt.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;j(this)}else i.text().then(this.Va.bind(this),this.ga.bind(this))},se.Ta=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?V(this):O(this),3==this.readyState&&j(this)}},se.Va=function(i){this.g&&(this.response=this.responseText=i,V(this))},se.Ua=function(i){this.g&&(this.response=i,V(this))},se.ga=function(){this.g&&V(this)},se.setRequestHeader=function(i,e){this.v.append(i,e)},se.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},se.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var t=e.next();!t.done;)i.push((t=t.value)[0]+": "+t[1]),t=e.next();return i.join("\r\n")},Object.defineProperty(Ya.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var ee=tt.JSON.parse;function qe(i){st.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=cn,this.K=this.L=!1}Wt(qe,st);var cn="",or=/^https?$/i,Ms=["POST","PUT"];function go(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,mo(i),Mo(i)}function mo(i){i.D||(i.D=!0,Gt(i,"complete"),Gt(i,"error"))}function xs(i){if(i.h&&typeof et<"u"&&(!i.C[1]||4!=Wi(i)||2!=i.aa()))if(i.v&&4==Wi(i))ur(i.Ha,0,i);else if(Gt(i,"readystatechange"),4==Wi(i)){i.h=!1;try{const N=i.aa();e:switch(N){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var s;if(s=0===N){var d=String(i.H).match(As)[1]||null;if(!d&&tt.self&&tt.self.location){var m=tt.self.location.protocol;d=m.substr(0,m.length-1)}s=!or.test(d?d.toLowerCase():"")}t=s}if(t)Gt(i,"complete"),Gt(i,"success");else{i.m=6;try{var w=2<Wi(i)?i.g.statusText:""}catch{w=""}i.j=w+" ["+i.aa()+"]",mo(i)}}finally{Mo(i)}}}function Mo(i,e){if(i.g){No(i);const t=i.g,s=i.C[0]?Ot:null;i.g=null,i.C=null,e||Gt(i,"ready");try{t.onreadystatechange=s}catch{}}}function No(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(tt.clearTimeout(i.A),i.A=null)}function Wi(i){return i.g?i.g.readyState:0}function ya(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case cn:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function Oa(i){let e="";return rn(i,function(t,s){e+=s,e+=":",e+=t,e+="\r\n"}),e}function $s(i,e,t){e:{for(s in t){var s=!1;break e}s=!0}s||(t=Oa(t),"string"==typeof i?null!=t&&encodeURIComponent(String(t)):jr(i,e,t))}function va(i,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[i]||e}function ba(i){this.Ca=0,this.i=[],this.j=new Ui,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=va("failFast",!1,i),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=va("baseRetryDelayMs",5e3,i),this.bb=va("retryDelaySeedMs",1e4,i),this.$a=va("forwardChannelMaxRetries",2,i),this.ta=va("forwardChannelRequestTimeoutMs",2e4,i),this.ra=i&&i.xmlHttpFactory||void 0,this.Da=i&&i.Zb||!1,this.J=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.I="",this.h=new oa(i&&i.concurrentRequestLimit),this.Fa=new aa,this.O=i&&i.fastHandshake||!1,this.N=i&&i.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=i&&i.Xb||!1,i&&i.Aa&&this.j.Aa(),i&&i.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&i&&i.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function zo(i){if(ro(i),3==i.G){var e=i.U++,t=ns(i.F);jr(t,"SID",i.I),jr(t,"RID",e),jr(t,"TYPE","terminate"),ws(i,t),(e=new ho(i,i.j,e,void 0)).K=2,e.v=Ci(ns(t)),t=!1,tt.navigator&&tt.navigator.sendBeacon&&(t=tt.navigator.sendBeacon(e.v.toString(),"")),!t&&tt.Image&&((new Image).src=e.v,t=!0),t||(e.g=dl(e.l,null),e.g.da(e.v)),e.F=Date.now(),Gi(e)}La(i)}function la(i){i.g&&(kl(i),i.g.cancel(),i.g=null)}function ro(i){la(i),i.u&&(tt.clearTimeout(i.u),i.u=null),Ja(i),i.h.cancel(),i.m&&("number"==typeof i.m&&tt.clearTimeout(i.m),i.m=null)}function xo(i){eo(i.h)||i.m||(i.m=!0,Xi(i.Ja,i),i.C=0)}function gi(i,e){var t;t=e?e.m:i.U++;const s=ns(i.F);jr(s,"SID",i.I),jr(s,"RID",t),jr(s,"AID",i.T),ws(i,s),i.o&&i.s&&$s(s,i.o,i.s),t=new ho(i,i.j,t,i.C+1),null===i.o&&(t.H=i.s),e&&(i.i=e.D.concat(i.i)),e=Lr(i,t,1e3),t.setTimeout(Math.round(.5*i.ta)+Math.round(.5*i.ta*Math.random())),tr(i.h,t),Js(t,s,e)}function ws(i,e){i.ia&&rn(i.ia,function(t,s){jr(e,s,t)}),i.l&&Mi({},function(t,s){jr(e,s,t)})}function Lr(i,e,t){t=Math.min(i.i.length,t);var s=i.l?We(i.l.Ra,i.l,i):null;e:{var d=i.i;let m=-1;for(;;){const w=["count="+t];-1==m?0<t?(m=d[0].h,w.push("ofs="+m)):m=0:w.push("ofs="+m);let N=!0;for(let $=0;$<t;$++){let W=d[$].h;const re=d[$].g;if(W-=m,0>W)m=Math.max(0,d[$].h-100),N=!1;else try{Ra(re,w,"req"+W+"_")}catch{s&&s(re)}}if(N){s=w.join("&");break e}}}return i=i.i.splice(0,t),e.D=i,s}function ua(i){i.g||i.u||(i.Z=1,Xi(i.Ia,i),i.A=0)}function Fa(i){return!(i.g||i.u||3<=i.A||(i.Z++,i.u=Rr(We(i.Ia,i),rs(i,i.A)),i.A++,0))}function kl(i){null!=i.B&&(tt.clearTimeout(i.B),i.B=null)}function Ka(i){i.g=new ho(i,i.j,"rpc",i.Z),null===i.o&&(i.g.H=i.s),i.g.N=0;var e=ns(i.sa);jr(e,"RID","rpc"),jr(e,"SID",i.I),jr(e,"CI",i.L?"0":"1"),jr(e,"AID",i.T),jr(e,"TYPE","xmlhttp"),ws(i,e),i.o&&i.s&&$s(e,i.o,i.s),i.J&&i.g.setTimeout(i.J);var t=i.g;i=i.ka,t.K=1,t.v=Ci(ns(e)),t.s=null,t.P=!0,na(t,i)}function Ja(i){null!=i.v&&(tt.clearTimeout(i.v),i.v=null)}function Xl(i,e){var t=null;if(i.g==e){Ja(i),kl(i),i.g=null;var s=2}else{if(!Et(i.h,e))return;t=e.D,no(i.h,e),s=1}if(0!=i.G)if(i.pa=e.Y,e.i)if(1==s){t=e.s?e.s.length:0,e=Date.now()-e.F;var d=i.C;Gt(s=hi(),new _a(s,t)),xo(i)}else ua(i);else if(3==(d=e.o)||0==d&&0<i.pa||!(1==s&&function Pa(i,e){return!(to(i.h)>=i.h.j-(i.m?1:0)||(i.m?(i.i=e.D.concat(i.i),0):1==i.G||2==i.G||i.C>=(i.Za?0:i.$a)||(i.m=Rr(We(i.Ja,i,e),rs(i,i.C)),i.C++,0)))}(i,e)||2==s&&Fa(i)))switch(t&&0<t.length&&(e=i.h,e.i=e.i.concat(t)),d){case 1:is(i,5);break;case 4:is(i,10);break;case 3:is(i,6);break;default:is(i,2)}}function rs(i,e){let t=i.Xa+Math.floor(Math.random()*i.bb);return i.l||(t*=2),t*e}function is(i,e){if(i.j.info("Error code "+e),2==e){var t=null;i.l&&(t=null);var s=We(i.kb,i);t||(t=new Hr("//www.google.com/images/cleardot.gif"),tt.location&&"http"==tt.location.protocol||So(t,"https"),Ci(t)),function Zi(i,e){const t=new Ui;if(tt.Image){const s=new Image;s.onload=Jt(po,t,s,"TestLoadImage: loaded",!0,e),s.onerror=Jt(po,t,s,"TestLoadImage: error",!1,e),s.onabort=Jt(po,t,s,"TestLoadImage: abort",!1,e),s.ontimeout=Jt(po,t,s,"TestLoadImage: timeout",!1,e),tt.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=i}else e(!1)}(t.toString(),s)}else fi(2);i.G=0,i.l&&i.l.va(e),La(i),ro(i)}function La(i){if(i.G=0,i.la=[],i.l){const e=gs(i.h);(0!=e.length||0!=i.i.length)&&(hn(i.la,e),hn(i.la,i.i),i.h.i.length=0,It(i.i),i.i.length=0),i.l.ua()}}function ko(i,e,t){var s=t instanceof Hr?ns(t):new Hr(t,void 0);if(""!=s.g)e&&(s.g=e+"."+s.g),ri(s,s.m);else{var d=tt.location;s=d.protocol,e=e?e+"."+d.hostname:d.hostname,d=+d.port;var m=new Hr(null,void 0);s&&So(m,s),e&&(m.g=e),d&&ri(m,d),t&&(m.l=t),s=m}return e=i.za,(t=i.D)&&e&&jr(s,t,e),jr(s,"VER",i.ma),ws(i,s),s}function dl(i,e,t){if(e&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new qe(t&&i.Da&&!i.ra?new bs({jb:!0}):i.ra)).Ka(i.H),e}function Tu(){}function Ro(){if(Vn&&!(10<=Number(fn)))throw Error("Environmental error: no available transport.")}function ms(i,e){st.call(this),this.g=new ba(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(i?i["X-WebChannel-Client-Profile"]=e.ya:i={"X-WebChannel-Client-Profile":e.ya}),this.g.S=i,(i=e&&e.Yb)&&!hr(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!hr(e)&&(this.g.D=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new xr(this)}function hl(i){Rn.call(this);var e=i.__sm__;if(e){e:{for(const t in e){i=t;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function io(){Sr.call(this),this.status=1}function xr(i){this.g=i}(se=qe.prototype).Ka=function(i){this.L=i},se.da=function(i,e,t,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);e=e?e.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():cr.g(),this.C=function yt(i){return i.h||(i.h=i.i())}(this.u?this.u:cr),this.g.onreadystatechange=We(this.Ha,this);try{this.F=!0,this.g.open(e,String(i),!0),this.F=!1}catch(m){return void go(this,m)}if(i=t||"",t=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var d in s)t.set(d,s[d]);else{if("function"!=typeof s.keys||"function"!=typeof s.get)throw Error("Unknown input type for opt_headers: "+String(s));for(const m of s.keys())t.set(m,s.get(m))}s=Array.from(t.keys()).find(m=>"content-type"==m.toLowerCase()),d=tt.FormData&&i instanceof tt.FormData,!(0<=An(Ms,e))||s||d||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[m,w]of t)this.g.setRequestHeader(m,w);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{No(this),0<this.B&&((this.K=function Ns(i){return Vn&&function jt(){return function _r(i){var e=dt;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=i(9)}(function(){let i=0;const e=lr(String(Ve)).split("."),t=lr("9").split("."),s=Math.max(e.length,t.length);for(let w=0;0==i&&w<s;w++){var d=e[w]||"",m=t[w]||"";do{if(d=/(\d*)(\D*)(.*)/.exec(d)||["","","",""],m=/(\d*)(\D*)(.*)/.exec(m)||["","","",""],0==d[0].length&&0==m[0].length)break;i=ir(0==d[1].length?0:parseInt(d[1],10),0==m[1].length?0:parseInt(m[1],10))||ir(0==d[2].length,0==m[2].length)||ir(d[2],m[2]),d=d[3],m=m[3]}while(0==i)}return 0<=i})}()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=We(this.qa,this)):this.A=ur(this.qa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(m){go(this,m)}},se.qa=function(){typeof et<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Gt(this,"timeout"),this.abort(8))},se.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,Gt(this,"complete"),Gt(this,"abort"),Mo(this))},se.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Mo(this,!0)),qe.X.M.call(this)},se.Ha=function(){this.s||(this.F||this.v||this.l?xs(this):this.fb())},se.fb=function(){xs(this)},se.aa=function(){try{return 2<Wi(this)?this.g.status:-1}catch{return-1}},se.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},se.Sa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),ee(e)}},se.Ea=function(){return this.m},se.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(se=ba.prototype).ma=8,se.G=1,se.Ja=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.U=Math.floor(1e5*Math.random()),i=this.U++;const d=new ho(this,this.j,i,void 0);let m=this.s;if(this.S&&(m?(m=nt(m),on(m,this.S)):m=this.S),null!==this.o||this.N||(d.H=m,m=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var s=this.i[t];if(void 0===(s="__data__"in s.g&&"string"==typeof(s=s.g.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Lr(this,d,e),jr(t=ns(this.F),"RID",i),jr(t,"CVER",22),this.D&&jr(t,"X-HTTP-Session-Id",this.D),ws(this,t),m&&(this.N?e="headers="+encodeURIComponent(String(Oa(m)))+"&"+e:this.o&&$s(t,this.o,m)),tr(this.h,d),this.Ya&&jr(t,"TYPE","init"),this.O?(jr(t,"$req",e),jr(t,"SID","null"),d.Z=!0,Js(d,t,null)):Js(d,t,e),this.G=2}}else 3==this.G&&(i?gi(this,i):0==this.i.length||eo(this.h)||gi(this))},se.Ia=function(){if(this.u=null,Ka(this),this.$&&!(this.K||null==this.g||0>=this.P)){var i=2*this.P;this.j.info("BP detection timer enabled: "+i),this.B=Rr(We(this.eb,this),i)}},se.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,fi(10),la(this),Ka(this))},se.cb=function(){null!=this.v&&(this.v=null,la(this),Fa(this),fi(19))},se.kb=function(i){i?(this.j.info("Successfully pinged google.com"),fi(2)):(this.j.info("Failed to ping google.com"),fi(1))},(se=Tu.prototype).xa=function(){},se.wa=function(){},se.va=function(){},se.ua=function(){},se.Ra=function(){},Ro.prototype.g=function(i,e){return new ms(i,e)},Wt(ms,st),ms.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var i=this.g,e=this.l,t=this.h||void 0;fi(0),i.V=e,i.ia=t||{},i.L=i.Y,i.F=ko(i,null,i.V),xo(i)},ms.prototype.close=function(){zo(this.g)},ms.prototype.u=function(i){var e=this.g;if("string"==typeof i){var t={};t.__data__=i,i=t}else this.v&&((t={}).__data__=Un(i),i=t);e.i.push(new class{constructor(i,e){this.h=i,this.g=e}}(e.ab++,i)),3==e.G&&xo(e)},ms.prototype.M=function(){this.g.l=null,delete this.j,zo(this.g),delete this.g,ms.X.M.call(this)},Wt(hl,Rn),Wt(io,Sr),Wt(xr,Tu),xr.prototype.xa=function(){Gt(this.g,"a")},xr.prototype.wa=function(i){Gt(this.g,new hl(i))},xr.prototype.va=function(i){Gt(this.g,new io)},xr.prototype.ua=function(){Gt(this.g,"b")},Ro.prototype.createWebChannel=Ro.prototype.g,ms.prototype.send=ms.prototype.u,ms.prototype.open=ms.prototype.m,ms.prototype.close=ms.prototype.close,Oe.NO_ERROR=0,Oe.TIMEOUT=8,Oe.HTTP_ERROR=6,xe.COMPLETE="complete",zt.EventType=Tn,Tn.OPEN="a",Tn.CLOSE="b",Tn.ERROR="c",Tn.MESSAGE="d",st.prototype.listen=st.prototype.N,qe.prototype.listenOnce=qe.prototype.O,qe.prototype.getLastError=qe.prototype.Oa,qe.prototype.getLastErrorCode=qe.prototype.Ea,qe.prototype.getStatus=qe.prototype.aa,qe.prototype.getResponseJson=qe.prototype.Sa,qe.prototype.getResponseText=qe.prototype.fa,qe.prototype.send=qe.prototype.da,qe.prototype.setWithCredentials=qe.prototype.Ka;var _o=Dt.createWebChannelTransport=function(){return new Ro},ks=Dt.getStatEventTarget=function(){return hi()},k=Dt.ErrorCode=Oe,Z=Dt.EventType=xe,L=Dt.Event=yi,X=Dt.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},be=Dt.FetchXmlHttpFactory=bs,ot=Dt.WebChannel=zt,vt=Dt.XhrIo=qe;const Xt="@firebase/firestore";class kn{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}kn.UNAUTHENTICATED=new kn(null),kn.GOOGLE_CREDENTIALS=new kn("google-credentials-uid"),kn.FIRST_PARTY=new kn("first-party-uid"),kn.MOCK_USER=new kn("mock-user");let Jn="9.19.0";const nr=new $e.Yd("@firebase/firestore");function qn(){return nr.logLevel}function mt(i,...e){if(nr.logLevel<=$e.in.DEBUG){const t=e.map(Rs);nr.debug(`Firestore (${Jn}): ${i}`,...t)}}function br(i,...e){if(nr.logLevel<=$e.in.ERROR){const t=e.map(Rs);nr.error(`Firestore (${Jn}): ${i}`,...t)}}function Kr(i,...e){if(nr.logLevel<=$e.in.WARN){const t=e.map(Rs);nr.warn(`Firestore (${Jn}): ${i}`,...t)}}function Rs(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function dn(i="Unexpected state"){const e=`FIRESTORE (${Jn}) INTERNAL ASSERTION FAILED: `+i;throw br(e),new Error(e)}function nn(i,e){i||dn()}function Vt(i,e){return i}const it={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class St extends Fe.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ei{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class ca{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Hc{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(kn.UNAUTHENTICATED))}shutdown(){}}class Rl{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class eu{constructor(e){this.t=e,this.currentUser=kn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var s=this;let d=this.i;const m=W=>this.i!==d?(d=this.i,t(W)):Promise.resolve();let w=new Ei;this.o=()=>{this.i++,this.currentUser=this.u(),w.resolve(),w=new Ei,e.enqueueRetryable(()=>m(this.currentUser))};const N=()=>{const W=w;e.enqueueRetryable((0,Ae.Z)(function*(){yield W.promise,yield m(s.currentUser)}))},$=W=>{mt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=W,this.auth.addAuthTokenListener(this.o),N()};this.t.onInit(W=>$(W)),setTimeout(()=>{if(!this.auth){const W=this.t.getImmediate({optional:!0});W?$(W):(mt("FirebaseAuthCredentialsProvider","Auth not yet detected"),w.resolve(),w=new Ei)}},0),N()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(mt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(nn("string"==typeof s.accessToken),new ca(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return nn(null===e||"string"==typeof e),new kn(e)}}class fl{constructor(e,t,s){this.h=e,this.l=t,this.m=s,this.type="FirstParty",this.user=kn.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Va{constructor(e,t,s){this.h=e,this.l=t,this.m=s}getToken(){return Promise.resolve(new fl(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(kn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class wa{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class oi{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const s=m=>{null!=m.error&&mt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${m.error.message}`);const w=m.token!==this.T;return this.T=m.token,mt("FirebaseAppCheckTokenProvider",`Received ${w?"new":"existing"} token.`),w?t(m.token):Promise.resolve()};this.o=m=>{e.enqueueRetryable(()=>s(m))};const d=m=>{mt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=m,this.appCheck.addTokenListener(this.o)};this.I.onInit(m=>d(m)),setTimeout(()=>{if(!this.appCheck){const m=this.I.getImmediate({optional:!0});m?d(m):mt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(nn("string"==typeof t.token),this.T=t.token,new wa(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Ol(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let s=0;s<i;s++)t[s]=Math.floor(256*Math.random());return t}class ha{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const d=Ol(40);for(let m=0;m<d.length;++m)s.length<20&&d[m]<t&&(s+=e.charAt(d[m]%e.length))}return s}}function zn(i,e){return i<e?-1:i>e?1:0}function Hs(i,e,t){return i.length===e.length&&i.every((s,d)=>t(s,e[d]))}function Pl(i){return i+"\0"}class Wr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new St(it.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new St(it.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new St(it.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new St(it.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Wr.fromMillis(Date.now())}static fromDate(e){return Wr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new Wr(t,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?zn(this.nanoseconds,e.nanoseconds):zn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class xn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new xn(e)}static min(){return new xn(new Wr(0,0))}static max(){return new xn(new Wr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class tu{constructor(e,t,s){void 0===t?t=0:t>e.length&&dn(),void 0===s?s=e.length-t:s>e.length-t&&dn(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return 0===tu.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof tu?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let d=0;d<s;d++){const m=e.get(d),w=t.get(d);if(m<w)return-1;if(m>w)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class wr extends tu{construct(e,t,s){return new wr(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new St(it.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(d=>d.length>0))}return new wr(t)}static emptyPath(){return new wr([])}}const Fl=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ir extends tu{construct(e,t,s){return new Ir(e,t,s)}static isValidIdentifier(e){return Fl.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ir.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ir(["__name__"])}static fromServerFormat(e){const t=[];let s="",d=0;const m=()=>{if(0===s.length)throw new St(it.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let w=!1;for(;d<e.length;){const N=e[d];if("\\"===N){if(d+1===e.length)throw new St(it.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const $=e[d+1];if("\\"!==$&&"."!==$&&"`"!==$)throw new St(it.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=$,d+=2}else"`"===N?(w=!w,d++):"."!==N||w?(s+=N,d++):(m(),d++)}if(m(),w)throw new St(it.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ir(t)}static emptyPath(){return new Ir([])}}class en{constructor(e){this.path=e}static fromPath(e){return new en(wr.fromString(e))}static fromName(e){return new en(wr.fromString(e).popFirst(5))}static empty(){return new en(wr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===wr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return wr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new en(new wr(e.slice()))}}class Ds{constructor(e,t,s,d){this.indexId=e,this.collectionGroup=t,this.fields=s,this.indexState=d}}function Xa(i){return i.fields.find(e=>2===e.kind)}function Os(i){return i.fields.filter(e=>2!==e.kind)}Ds.UNKNOWN_ID=-1;class nu{constructor(e,t){this.fieldPath=e,this.kind=t}}class dr{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new dr(0,Vr.min())}}function gl(i,e){const t=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,d=xn.fromTimestamp(1e9===s?new Wr(t+1,0):new Wr(t,s));return new Vr(d,en.empty(),e)}function Ju(i){return new Vr(i.readTime,i.key,-1)}class Vr{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Vr(xn.min(),en.empty(),-1)}static max(){return new Vr(xn.max(),en.empty(),-1)}}function Ua(i,e){let t=i.readTime.compareTo(e.readTime);return 0!==t?t:(t=en.comparator(i.documentKey,e.documentKey),0!==t?t:zn(i.largestBatchId,e.largestBatchId))}const Su="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Qu{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function js(i){return yo.apply(this,arguments)}function yo(){return yo=(0,Ae.Z)(function*(i){if(i.code!==it.FAILED_PRECONDITION||i.message!==Su)throw i;mt("LocalStore","Unexpectedly lost primary lease")}),yo.apply(this,arguments)}class lt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&dn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new lt((s,d)=>{this.nextCallback=m=>{this.wrapSuccess(e,m).next(s,d)},this.catchCallback=m=>{this.wrapFailure(t,m).next(s,d)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof lt?t:lt.resolve(t)}catch(t){return lt.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):lt.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):lt.reject(t)}static resolve(e){return new lt((t,s)=>{t(e)})}static reject(e){return new lt((t,s)=>{s(e)})}static waitFor(e){return new lt((t,s)=>{let d=0,m=0,w=!1;e.forEach(N=>{++d,N.next(()=>{++m,w&&m===d&&t()},$=>s($))}),w=!0,m===d&&t()})}static or(e){let t=lt.resolve(!1);for(const s of e)t=t.next(d=>d?lt.resolve(d):s());return t}static forEach(e,t){const s=[];return e.forEach((d,m)=>{s.push(t.call(this,d,m))}),this.waitFor(s)}static mapArray(e,t){return new lt((s,d)=>{const m=e.length,w=new Array(m);let N=0;for(let $=0;$<m;$++){const W=$;t(e[W]).next(re=>{w[W]=re,++N,N===m&&s(w)},re=>d(re))}})}static doWhile(e,t){return new lt((s,d)=>{const m=()=>{!0===e()?t().next(()=>{m()},d):s()};m()})}}class ru{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.R=new Ei,this.transaction.oncomplete=()=>{this.R.resolve()},this.transaction.onabort=()=>{t.error?this.R.reject(new Zo(e,t.error)):this.R.resolve()},this.transaction.onerror=s=>{const d=Ll(s.target.error);this.R.reject(new Zo(e,d))}}static open(e,t,s,d){try{return new ru(t,e.transaction(d,s))}catch(m){throw new Zo(t,m)}}get v(){return this.R.promise}abort(e){e&&this.R.reject(e),this.aborted||(mt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new jc(t)}}class Jr{constructor(e,t,s){this.name=e,this.version=t,this.V=s,12.2===Jr.S((0,Fe.z$)())&&br("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return mt("SimpleDb","Removing database:",e),Ni(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,Fe.hl)())return!1;if(Jr.C())return!0;const e=(0,Fe.z$)(),t=Jr.S(e),s=0<t&&t<10,d=Jr.N(e),m=0<d&&d<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||m)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static O(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(s)}static N(e){const t=e.match(/Android ([\d.]+)/i),s=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(s)}$(e){var t=this;return(0,Ae.Z)(function*(){return t.db||(mt("SimpleDb","Opening database:",t.name),t.db=yield new Promise((s,d)=>{const m=indexedDB.open(t.name,t.version);m.onsuccess=w=>{s(w.target.result)},m.onblocked=()=>{d(new Zo(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},m.onerror=w=>{const N=w.target.error;d("VersionError"===N.name?new St(it.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===N.name?new St(it.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+N):new Zo(e,N))},m.onupgradeneeded=w=>{mt("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',w.oldVersion),t.V.M(w.target.result,m.transaction,w.oldVersion,t.version).next(()=>{mt("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=s=>t.F(s)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,s,d){var m=this;return(0,Ae.Z)(function*(){const w="readonly"===t;let N=0;for(;;){++N;try{m.db=yield m.$(e);const $=ru.open(m.db,e,w?"readonly":"readwrite",s),W=d($).next(re=>($.P(),re)).catch(re=>($.abort(re),lt.reject(re))).toPromise();return W.catch(()=>{}),yield $.v,W}catch($){const W=$,re="FirebaseError"!==W.name&&N<3;if(mt("SimpleDb","Transaction failed with error:",W.message,"Retrying:",re),m.close(),!re)return Promise.reject(W)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class qi{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return Ni(this.L.delete())}}class Zo extends St{constructor(e,t){super(it.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Ba(i){return"IndexedDbTransactionError"===i.name}class jc{constructor(e){this.store=e}put(e,t){let s;return void 0!==t?(mt("SimpleDb","PUT",this.store.name,e,t),s=this.store.put(t,e)):(mt("SimpleDb","PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),Ni(s)}add(e){return mt("SimpleDb","ADD",this.store.name,e,e),Ni(this.store.add(e))}get(e){return Ni(this.store.get(e)).next(t=>(void 0===t&&(t=null),mt("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return mt("SimpleDb","DELETE",this.store.name,e),Ni(this.store.delete(e))}count(){return mt("SimpleDb","COUNT",this.store.name),Ni(this.store.count())}j(e,t){const s=this.options(e,t);if(s.index||"function"!=typeof this.store.getAll){const d=this.cursor(s),m=[];return this.W(d,(w,N)=>{m.push(N)}).next(()=>m)}{const d=this.store.getAll(s.range);return new lt((m,w)=>{d.onerror=N=>{w(N.target.error)},d.onsuccess=N=>{m(N.target.result)}})}}H(e,t){const s=this.store.getAll(e,null===t?void 0:t);return new lt((d,m)=>{s.onerror=w=>{m(w.target.error)},s.onsuccess=w=>{d(w.target.result)}})}J(e,t){mt("SimpleDb","DELETE ALL",this.store.name);const s=this.options(e,t);s.Y=!1;const d=this.cursor(s);return this.W(d,(m,w,N)=>N.delete())}Z(e,t){let s;t?s=e:(s={},t=e);const d=this.cursor(s);return this.W(d,t)}X(e){const t=this.cursor({});return new lt((s,d)=>{t.onerror=m=>{const w=Ll(m.target.error);d(w)},t.onsuccess=m=>{const w=m.target.result;w?e(w.primaryKey,w.value).next(N=>{N?w.continue():s()}):s()}})}W(e,t){const s=[];return new lt((d,m)=>{e.onerror=w=>{m(w.target.error)},e.onsuccess=w=>{const N=w.target.result;if(!N)return void d();const $=new qi(N),W=t(N.primaryKey,N.value,$);if(W instanceof lt){const re=W.catch(De=>($.done(),lt.reject(De)));s.push(re)}$.isDone?d():null===$.K?N.continue():N.continue($.K)}}).next(()=>lt.waitFor(s))}options(e,t){let s;return void 0!==e&&("string"==typeof e?s=e:t=e),{index:s,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const s=this.store.index(e.index);return e.Y?s.openKeyCursor(e.range,t):s.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Ni(i){return new lt((e,t)=>{i.onsuccess=s=>{e(s.target.result)},i.onerror=s=>{const d=Ll(s.target.error);t(d)}})}let Gs=!1;function Ll(i){const e=Jr.S((0,Fe.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(t)>=0){const s=new St("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Gs||(Gs=!0,setTimeout(()=>{throw s},0)),s}}return i}class Da{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;mt("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Ae.Z)(function*(){t.task=null;try{mt("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(s){Ba(s)?mt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",s):yield js(s)}yield t.et(6e4)}))}}class el{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,Ae.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",s=>t.st(s,e))})()}st(e,t){const s=new Set;let d=t,m=!0;return lt.doWhile(()=>!0===m&&d>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(w=>{if(null!==w&&!s.has(w))return mt("IndexBackiller",`Processing collection: ${w}`),this.it(e,w,d).next(N=>{d-=N,s.add(w)});m=!1})).next(()=>t-d)}it(e,t,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(d=>this.localStore.localDocuments.getNextDocuments(e,t,d,s).next(m=>{const w=m.changes;return this.localStore.indexManager.updateIndexEntries(e,w).next(()=>this.rt(d,m)).next(N=>(mt("IndexBackiller",`Updating offset: ${N}`),this.localStore.indexManager.updateCollectionGroup(e,t,N))).next(()=>w.size)}))}rt(e,t){let s=e;return t.changes.forEach((d,m)=>{const w=Ju(m);Ua(w,s)>0&&(s=w)}),new Vr(s.readTime,s.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Ps=(()=>{class i{constructor(t,s){this.previousValue=t,s&&(s.sequenceNumberHandler=d=>this.ot(d),this.ut=d=>s.writeSequenceNumber(d))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return i.ct=-1,i})();function T(i){return null==i}function A(i){return 0===i&&1/i==-1/0}function E(i){return"number"==typeof i&&Number.isInteger(i)&&!A(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}function R(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=Q(e)),e=U(i.get(t),e);return Q(e)}function U(i,e){let t=e;const s=i.length;for(let d=0;d<s;d++){const m=i.charAt(d);switch(m){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=m}}return t}function Q(i){return i+"\x01\x01"}function le(i){const e=i.length;if(nn(e>=2),2===e)return nn("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),wr.emptyPath();const t=e-2,s=[];let d="";for(let m=0;m<e;){const w=i.indexOf("\x01",m);switch((w<0||w>t)&&dn(),i.charAt(w+1)){case"\x01":const N=i.substring(m,w);let $;0===d.length?$=N:(d+=N,$=d,d=""),s.push($);break;case"\x10":d+=i.substring(m,w),d+="\0";break;case"\x11":d+=i.substring(m,w+1);break;default:dn()}m=w+2}return new wr(s)}const ye=["userId","batchId"];function ft(i,e){return[i,R(e)]}function Bt(i,e,t){return[i,R(e),t]}const Pn={},_n=["prefixPath","collectionGroup","readTime","documentId"],Tr=["prefixPath","collectionGroup","documentId"],xi=["collectionGroup","readTime","prefixPath","documentId"],Oo=["canonicalId","targetId"],Ca=["targetId","path"],Fs=["path","targetId"],Vl=["collectionId","parent"],tl=["indexId","uid"],ml=["uid","sequenceNumber"],Ea=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],_l=["indexId","uid","orderedDocumentKey"],Md=["userId","collectionPath","documentId"],iu=["userId","collectionPath","largestBatchId"],yl=["userId","collectionGroup","largestBatchId"],Xu=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Po=[...Xu,"documentOverlays"],vo=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],ec=vo,Yi=[...ec,"indexConfiguration","indexState","indexEntries"];class Ul extends Qu{constructor(e,t){super(),this.at=e,this.currentSequenceNumber=t}}function ss(i,e){const t=Vt(i);return Jr.O(t.at,e)}function Au(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function F(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function H(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class Y{constructor(e,t){this.comparator=e,this.root=t||ke.EMPTY}insert(e,t){return new Y(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ke.BLACK,null,null))}remove(e){return new Y(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ke.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(0===s)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const d=this.comparator(e,s.key);if(0===d)return t+s.left.size;d<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _e(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _e(this.root,e,this.comparator,!1)}getReverseIterator(){return new _e(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _e(this.root,e,this.comparator,!0)}}class _e{constructor(e,t,s,d){this.isReverse=d,this.nodeStack=[];let m=1;for(;!e.isEmpty();)if(m=t?s(e.key,t):1,t&&d&&(m*=-1),m<0)e=this.isReverse?e.left:e.right;else{if(0===m){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ke{constructor(e,t,s,d,m){this.key=e,this.value=t,this.color=s??ke.RED,this.left=d??ke.EMPTY,this.right=m??ke.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,d,m){return new ke(e??this.key,t??this.value,s??this.color,d??this.left,m??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let d=this;const m=s(e,d.key);return d=m<0?d.copy(null,null,null,d.left.insert(e,t,s),null):0===m?d.copy(null,t,null,null,null):d.copy(null,null,null,null,d.right.insert(e,t,s)),d.fixUp()}removeMin(){if(this.left.isEmpty())return ke.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,d=this;if(t(e,d.key)<0)d.left.isEmpty()||d.left.isRed()||d.left.left.isRed()||(d=d.moveRedLeft()),d=d.copy(null,null,null,d.left.remove(e,t),null);else{if(d.left.isRed()&&(d=d.rotateRight()),d.right.isEmpty()||d.right.isRed()||d.right.left.isRed()||(d=d.moveRedRight()),0===t(e,d.key)){if(d.right.isEmpty())return ke.EMPTY;s=d.right.min(),d=d.copy(s.key,s.value,null,null,d.right.removeMin())}d=d.copy(null,null,null,null,d.right.remove(e,t))}return d.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ke.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ke.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw dn();const e=this.left.check();if(e!==this.right.check())throw dn();return e+(this.isRed()?0:1)}}ke.EMPTY=null,ke.RED=!0,ke.BLACK=!1,ke.EMPTY=new class{constructor(){this.size=0}get key(){throw dn()}get value(){throw dn()}get color(){throw dn()}get left(){throw dn()}get right(){throw dn()}copy(i,e,t,s,d){return this}insert(i,e,t){return new ke(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Le{constructor(e){this.comparator=e,this.data=new Y(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const d=s.getNext();if(this.comparator(d.key,e[1])>=0)return;t(d.key)}}forEachWhile(e,t){let s;for(s=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new $t(this.data.getIterator())}getIteratorFrom(e){return new $t(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Le)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const d=t.getNext().key,m=s.getNext().key;if(0!==this.comparator(d,m))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Le(this.comparator);return t.data=e,t}}class $t{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function gn(i){return i.hasNext()?i.getNext():void 0}class bn{constructor(e){this.fields=e,e.sort(Ir.comparator)}static empty(){return new bn([])}unionWith(e){let t=new Le(Ir.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new bn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Hs(this.fields,e.fields,(t,s)=>t.isEqual(s))}}class Hn extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Dn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(d){throw typeof DOMException<"u"&&d instanceof DOMException?new Hn("Invalid base64 string: "+d):d}}(e);return new Dn(t)}static fromUint8Array(e){const t=function(s){let d="";for(let m=0;m<s.length;++m)d+=String.fromCharCode(s[m]);return d}(e);return new Dn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let s=0;s<e.length;s++)t[s]=e.charCodeAt(s);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return zn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Dn.EMPTY_BYTE_STRING=new Dn("");const oo=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mi(i){if(nn(!!i),"string"==typeof i){let e=0;const t=oo.exec(i);if(nn(!!t),t[1]){let d=t[1];d=(d+"000000000").substr(0,9),e=Number(d)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ci(i.seconds),nanos:ci(i.nanos)}}function ci(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function bo(i){return"string"==typeof i?Dn.fromBase64String(i):Dn.fromUint8Array(i)}function Wo(i){var e,t;return"server_timestamp"===(null===(t=((null===(e=i?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Fo(i){const e=i.mapValue.fields.__previous_value__;return Wo(e)?Fo(e):e}function qo(i){const e=mi(i.mapValue.fields.__local_write_time__.timestampValue);return new Wr(e.seconds,e.nanos)}class tc{constructor(e,t,s,d,m,w,N,$){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=d,this.ssl=m,this.forceLongPolling=w,this.autoDetectLongPolling=N,this.useFetchStreams=$}}class vl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new vl("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof vl&&e.projectId===this.projectId&&e.database===this.database}}const bl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Gc={nullValue:"NULL_VALUE"};function su(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Wo(i)?4:Wc(i)?9007199254740991:10:dn()}function nl(i,e){if(i===e)return!0;const t=su(i);if(t!==su(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return qo(i).isEqual(qo(e));case 3:return function(s,d){if("string"==typeof s.timestampValue&&"string"==typeof d.timestampValue&&s.timestampValue.length===d.timestampValue.length)return s.timestampValue===d.timestampValue;const m=mi(s.timestampValue),w=mi(d.timestampValue);return m.seconds===w.seconds&&m.nanos===w.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return d=e,bo(i.bytesValue).isEqual(bo(d.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(s,d){return ci(s.geoPointValue.latitude)===ci(d.geoPointValue.latitude)&&ci(s.geoPointValue.longitude)===ci(d.geoPointValue.longitude)}(i,e);case 2:return function(s,d){if("integerValue"in s&&"integerValue"in d)return ci(s.integerValue)===ci(d.integerValue);if("doubleValue"in s&&"doubleValue"in d){const m=ci(s.doubleValue),w=ci(d.doubleValue);return m===w?A(m)===A(w):isNaN(m)&&isNaN(w)}return!1}(i,e);case 9:return Hs(i.arrayValue.values||[],e.arrayValue.values||[],nl);case 10:return function(s,d){const m=s.mapValue.fields||{},w=d.mapValue.fields||{};if(Au(m)!==Au(w))return!1;for(const N in m)if(m.hasOwnProperty(N)&&(void 0===w[N]||!nl(m[N],w[N])))return!1;return!0}(i,e);default:return dn()}var d}function rl(i,e){return void 0!==(i.values||[]).find(t=>nl(t,e))}function wl(i,e){if(i===e)return 0;const t=su(i),s=su(e);if(t!==s)return zn(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return zn(i.booleanValue,e.booleanValue);case 2:return function(d,m){const w=ci(d.integerValue||d.doubleValue),N=ci(m.integerValue||m.doubleValue);return w<N?-1:w>N?1:w===N?0:isNaN(w)?isNaN(N)?0:-1:1}(i,e);case 3:return Rh(i.timestampValue,e.timestampValue);case 4:return Rh(qo(i),qo(e));case 5:return zn(i.stringValue,e.stringValue);case 6:return function(d,m){const w=bo(d),N=bo(m);return w.compareTo(N)}(i.bytesValue,e.bytesValue);case 7:return function(d,m){const w=d.split("/"),N=m.split("/");for(let $=0;$<w.length&&$<N.length;$++){const W=zn(w[$],N[$]);if(0!==W)return W}return zn(w.length,N.length)}(i.referenceValue,e.referenceValue);case 8:return function(d,m){const w=zn(ci(d.latitude),ci(m.latitude));return 0!==w?w:zn(ci(d.longitude),ci(m.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(d,m){const w=d.values||[],N=m.values||[];for(let $=0;$<w.length&&$<N.length;++$){const W=wl(w[$],N[$]);if(W)return W}return zn(w.length,N.length)}(i.arrayValue,e.arrayValue);case 10:return function(d,m){if(d===bl.mapValue&&m===bl.mapValue)return 0;if(d===bl.mapValue)return 1;if(m===bl.mapValue)return-1;const w=d.fields||{},N=Object.keys(w),$=m.fields||{},W=Object.keys($);N.sort(),W.sort();for(let re=0;re<N.length&&re<W.length;++re){const De=zn(N[re],W[re]);if(0!==De)return De;const Ye=wl(w[N[re]],$[W[re]]);if(0!==Ye)return Ye}return zn(N.length,W.length)}(i.mapValue,e.mapValue);default:throw dn()}}function Rh(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return zn(i,e);const t=mi(i),s=mi(e),d=zn(t.seconds,s.seconds);return 0!==d?d:zn(t.nanos,s.nanos)}function Bl(i){return Oh(i)}function Oh(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(s){const d=mi(s);return`time(${d.seconds},${d.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?bo(i.bytesValue).toBase64():"referenceValue"in i?en.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(s){let d="[",m=!0;for(const w of s.values||[])m?m=!1:d+=",",d+=Oh(w);return d+"]"}(i.arrayValue):"mapValue"in i?function(s){const d=Object.keys(s.fields||{}).sort();let m="{",w=!0;for(const N of d)w?w=!1:m+=",",m+=`${N}:${Oh(s.fields[N])}`;return m+"}"}(i.mapValue):dn();var e}function $a(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Ph(i){return!!i&&"integerValue"in i}function nc(i){return!!i&&"arrayValue"in i}function Fh(i){return!!i&&"nullValue"in i}function zc(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Nd(i){return!!i&&"mapValue"in i}function Zc(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return F(i.mapValue.fields,(t,s)=>e.mapValue.fields[t]=Zc(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Zc(i.arrayValue.values[t]);return e}return Object.assign({},i)}function Wc(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function qp(i){return"nullValue"in i?Gc:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?$a(vl.empty(),en.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:dn()}function Lh(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?$a(vl.empty(),en.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?bl:dn()}function jf(i,e){const t=wl(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?-1:!i.inclusive&&e.inclusive?1:0}function Gf(i,e){const t=wl(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?1:!i.inclusive&&e.inclusive?-1:0}class ao{constructor(e){this.value=e}static empty(){return new ao({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Nd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zc(t)}setAll(e){let t=Ir.emptyPath(),s={},d=[];e.forEach((w,N)=>{if(!t.isImmediateParentOf(N)){const $=this.getFieldsMap(t);this.applyChanges($,s,d),s={},d=[],t=N.popLast()}w?s[N.lastSegment()]=Zc(w):d.push(N.lastSegment())});const m=this.getFieldsMap(t);this.applyChanges(m,s,d)}delete(e){const t=this.field(e.popLast());Nd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return nl(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let d=t.mapValue.fields[e.get(s)];Nd(d)&&d.mapValue.fields||(d={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=d),t=d}return t.mapValue.fields}applyChanges(e,t,s){F(t,(d,m)=>e[d]=m);for(const d of s)delete e[d]}clone(){return new ao(Zc(this.value))}}function Vh(i){const e=[];return F(i.fields,(t,s)=>{const d=new Ir([t]);if(Nd(s)){const m=Vh(s.mapValue).fields;if(0===m.length)e.push(d);else for(const w of m)e.push(d.child(w))}else e.push(d)}),new bn(e)}class bi{constructor(e,t,s,d,m,w,N){this.key=e,this.documentType=t,this.version=s,this.readTime=d,this.createTime=m,this.data=w,this.documentState=N}static newInvalidDocument(e){return new bi(e,0,xn.min(),xn.min(),xn.min(),ao.empty(),0)}static newFoundDocument(e,t,s,d){return new bi(e,1,t,xn.min(),s,d,0)}static newNoDocument(e,t){return new bi(e,2,t,xn.min(),xn.min(),ao.empty(),0)}static newUnknownDocument(e,t){return new bi(e,3,t,xn.min(),xn.min(),ao.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(xn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ao.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ao.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof bi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new bi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ha{constructor(e,t){this.position=e,this.inclusive=t}}function xd(i,e,t){let s=0;for(let d=0;d<i.position.length;d++){const m=e[d],w=i.position[d];if(s=m.field.isKeyField()?en.comparator(en.fromName(w.referenceValue),t.key):wl(w,t.data.field(m.field)),"desc"===m.dir&&(s*=-1),0!==s)break}return s}function kd(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!nl(i.position[t],e.position[t]))return!1;return!0}class ou{constructor(e,t="asc"){this.field=e,this.dir=t}}function il(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class Mu{}class Or extends Mu{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,s):new zs(e,t,s):"array-contains"===t?new wo(e,s):"in"===t?new xu(e,s):"not-in"===t?new Bh(e,s):"array-contains-any"===t?new zf(e,s):new Or(e,t,s)}static createKeyFieldInFilter(e,t,s){return"in"===t?new Kc(e,s):new Fd(e,s)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(wl(t,this.value)):null!==t&&su(this.value)===su(t)&&this.matchesComparison(wl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return dn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Xr extends Mu{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new Xr(e,t)}matches(e){return au(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function au(i){return"and"===i.op}function Nu(i){return"or"===i.op}function Rd(i){return qc(i)&&au(i)}function qc(i){for(const e of i.filters)if(e instanceof Xr)return!1;return!0}function Od(i){if(i instanceof Or)return i.field.canonicalString()+i.op.toString()+Bl(i.value);if(Rd(i))return i.filters.map(e=>Od(e)).join(",");{const e=i.filters.map(t=>Od(t)).join(",");return`${i.op}(${e})`}}function Uh(i,e){return i instanceof Or?(t=i,(s=e)instanceof Or&&t.op===s.op&&t.field.isEqual(s.field)&&nl(t.value,s.value)):i instanceof Xr?function(t,s){return s instanceof Xr&&t.op===s.op&&t.filters.length===s.filters.length&&t.filters.reduce((d,m,w)=>d&&Uh(m,s.filters[w]),!0)}(i,e):void dn();var t,s}function Yc(i,e){const t=i.filters.concat(e);return Xr.create(t,i.op)}function Pd(i){return i instanceof Or?`${(e=i).field.canonicalString()} ${e.op} ${Bl(e.value)}`:i instanceof Xr?function(e){return e.op.toString()+" {"+e.getFilters().map(Pd).join(" ,")+"}"}(i):"Filter";var e}class zs extends Or{constructor(e,t,s){super(e,t,s),this.key=en.fromName(s.referenceValue)}matches(e){const t=en.comparator(e.key,this.key);return this.matchesComparison(t)}}class Kc extends Or{constructor(e,t){super(e,"in",t),this.keys=Jc(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Fd extends Or{constructor(e,t){super(e,"not-in",t),this.keys=Jc(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Jc(i,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(s=>en.fromName(s.referenceValue))}class wo extends Or{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return nc(t)&&rl(t.arrayValue,this.value)}}class xu extends Or{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&rl(this.value.arrayValue,t)}}class Bh extends Or{constructor(e,t){super(e,"not-in",t)}matches(e){if(rl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!rl(this.value.arrayValue,t)}}class zf extends Or{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!nc(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>rl(this.value.arrayValue,s))}}class $h{constructor(e,t=null,s=[],d=[],m=null,w=null,N=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=d,this.limit=m,this.startAt=w,this.endAt=N,this.ft=null}}function Qc(i,e=null,t=[],s=[],d=null,m=null,w=null){return new $h(i,e,t,s,d,m,w)}function ku(i){const e=Vt(i);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>Od(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>{return(d=s).field.canonicalString()+d.dir;var d}).join(","),T(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Bl(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Bl(s)).join(",")),e.ft=t}return e.ft}function Ia(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!il(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!Uh(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!kd(i.startAt,e.startAt)&&kd(i.endAt,e.endAt)}function Xc(i){return en.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function rc(i,e){return i.filters.filter(t=>t instanceof Or&&t.field.isEqual(e))}function ed(i,e,t){let s=Gc,d=!0;for(const m of rc(i,e)){let w=Gc,N=!0;switch(m.op){case"<":case"<=":w=qp(m.value);break;case"==":case"in":case">=":w=m.value;break;case">":w=m.value,N=!1;break;case"!=":case"not-in":w=Gc}jf({value:s,inclusive:d},{value:w,inclusive:N})<0&&(s=w,d=N)}if(null!==t)for(let m=0;m<i.orderBy.length;++m)if(i.orderBy[m].field.isEqual(e)){const w=t.position[m];jf({value:s,inclusive:d},{value:w,inclusive:t.inclusive})<0&&(s=w,d=t.inclusive);break}return{value:s,inclusive:d}}function Hh(i,e,t){let s=bl,d=!0;for(const m of rc(i,e)){let w=bl,N=!0;switch(m.op){case">=":case">":w=Lh(m.value),N=!1;break;case"==":case"in":case"<=":w=m.value;break;case"<":w=m.value,N=!1;break;case"!=":case"not-in":w=bl}Gf({value:s,inclusive:d},{value:w,inclusive:N})>0&&(s=w,d=N)}if(null!==t)for(let m=0;m<i.orderBy.length;++m)if(i.orderBy[m].field.isEqual(e)){const w=t.position[m];Gf({value:s,inclusive:d},{value:w,inclusive:t.inclusive})>0&&(s=w,d=t.inclusive);break}return{value:s,inclusive:d}}class fa{constructor(e,t=null,s=[],d=[],m=null,w="F",N=null,$=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=d,this.limit=m,this.limitType=w,this.startAt=N,this.endAt=$,this.dt=null,this.wt=null}}function td(i,e,t,s,d,m,w,N){return new fa(i,e,t,s,d,m,w,N)}function Ru(i){return new fa(i)}function ic(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function Ld(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function $l(i){for(const e of i.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function sc(i){return null!==i.collectionGroup}function lu(i){const e=Vt(i);if(null===e.dt){e.dt=[];const t=$l(e),s=Ld(e);if(null!==t&&null===s)t.isKeyField()||e.dt.push(new ou(t)),e.dt.push(new ou(Ir.keyField(),"asc"));else{let d=!1;for(const m of e.explicitOrderBy)e.dt.push(m),m.field.isKeyField()&&(d=!0);if(!d){const m=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new ou(Ir.keyField(),m))}}}return e.dt}function lo(i){const e=Vt(i);if(!e.wt)if("F"===e.limitType)e.wt=Qc(e.path,e.collectionGroup,lu(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const m of lu(e))t.push(new ou(m.field,"desc"===m.dir?"asc":"desc"));const s=e.endAt?new Ha(e.endAt.position,e.endAt.inclusive):null,d=e.startAt?new Ha(e.startAt.position,e.startAt.inclusive):null;e.wt=Qc(e.path,e.collectionGroup,t,e.filters,e.limit,s,d)}return e.wt}function oc(i,e){e.getFirstInequalityField(),$l(i);const t=i.filters.concat([e]);return new fa(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function ac(i,e,t){return new fa(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function nd(i,e){return Ia(lo(i),lo(e))&&i.limitType===e.limitType}function Hl(i){return`${ku(lo(i))}|lt:${i.limitType}`}function Ki(i){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(s=>Pd(s)).join(", ")}]`),T(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(s=>{return`${(d=s).field.canonicalString()} (${d.dir})`;var d}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Bl(s)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Bl(s)).join(",")),`Target(${t})`}(lo(i))}; limitType=${i.limitType})`}function sl(i,e){return e.isFoundDocument()&&function(t,s){const d=s.key.path;return null!==t.collectionGroup?s.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(d):en.isDocumentKey(t.path)?t.path.isEqual(d):t.path.isImmediateParentOf(d)}(i,e)&&function(t,s){for(const d of lu(t))if(!d.field.isKeyField()&&null===s.data.field(d.field))return!1;return!0}(i,e)&&function(t,s){for(const d of t.filters)if(!d.matches(s))return!1;return!0}(i,e)&&(s=e,!((t=i).startAt&&!function(d,m,w){const N=xd(d,m,w);return d.inclusive?N<=0:N<0}(t.startAt,lu(t),s)||t.endAt&&!function(d,m,w){const N=xd(d,m,w);return d.inclusive?N>=0:N>0}(t.endAt,lu(t),s)));var t,s}function lc(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Dl(i){return(e,t)=>{let s=!1;for(const d of lu(i)){const m=ki(d,e,t);if(0!==m)return m;s=s||d.field.isKeyField()}return 0}}function ki(i,e,t){const s=i.field.isKeyField()?en.comparator(e.key,t.key):function(d,m,w){const N=m.data.field(d),$=w.data.field(d);return null!==N&&null!==$?wl(N,$):dn()}(i.field,e,t);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return dn()}}class ai{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0!==s)for(const[d,m]of s)if(this.equalsFn(d,e))return m}has(e){return void 0!==this.get(e)}set(e,t){const s=this.mapKeyFn(e),d=this.inner[s];if(void 0===d)return this.inner[s]=[[e,t]],void this.innerSize++;for(let m=0;m<d.length;m++)if(this.equalsFn(d[m][0],e))return void(d[m]=[e,t]);d.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0===s)return!1;for(let d=0;d<s.length;d++)if(this.equalsFn(s[d][0],e))return 1===s.length?delete this.inner[t]:s.splice(d,1),this.innerSize--,!0;return!1}forEach(e){F(this.inner,(t,s)=>{for(const[d,m]of s)e(d,m)})}isEmpty(){return H(this.inner)}size(){return this.innerSize}}const jl=new Y(en.comparator);function os(){return jl}const jh=new Y(en.comparator);function Ou(...i){let e=jh;for(const t of i)e=e.insert(t.key,t);return e}function Vd(i){let e=jh;return i.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function Zs(){return Gl()}function Ud(){return Gl()}function Gl(){return new ai(i=>i.toString(),(i,e)=>i.isEqual(e))}const Gh=new Y(en.comparator),Ws=new Le(en.comparator);function rr(...i){let e=Ws;for(const t of i)e=e.add(t);return e}const zh=new Le(zn);function ja(){return zh}function Zh(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:A(e)?"-0":e}}function Bd(i){return{integerValue:""+i}}function Pu(i,e){return E(e)?Bd(e):Zh(i,e)}class _s{constructor(){this._=void 0}}function uc(i,e,t){return i instanceof zl?function(s,d){const m={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return d&&(m.fields.__previous_value__=d),{mapValue:m}}(t,e):i instanceof ol?cu(i,e):i instanceof Cl?Ls(i,e):function(s,d){const m=uu(s,d),w=cc(m)+cc(s._t);return Ph(m)&&Ph(s._t)?Bd(w):Zh(s.serializer,w)}(i,e)}function $d(i,e,t){return i instanceof ol?cu(i,e):i instanceof Cl?Ls(i,e):t}function uu(i,e){return i instanceof Yo?Ph(t=e)||(s=t)&&"doubleValue"in s?e:{integerValue:0}:null;var s,t}class zl extends _s{}class ol extends _s{constructor(e){super(),this.elements=e}}function cu(i,e){const t=Hd(e);for(const s of i.elements)t.some(d=>nl(d,s))||t.push(s);return{arrayValue:{values:t}}}class Cl extends _s{constructor(e){super(),this.elements=e}}function Ls(i,e){let t=Hd(e);for(const s of i.elements)t=t.filter(d=>!nl(d,s));return{arrayValue:{values:t}}}class Yo extends _s{constructor(e,t){super(),this.serializer=e,this._t=t}}function cc(i){return ci(i.integerValue||i.doubleValue)}function Hd(i){return nc(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class al{constructor(e,t){this.field=e,this.transform=t}}class hc{constructor(e,t){this.version=e,this.transformResults=t}}class Ri{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ri}static exists(e){return new Ri(void 0,e)}static updateTime(e){return new Ri(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function du(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class pa{}function jd(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new Do(i.key,Ri.none()):new wi(i.key,i.data,Ri.none());{const t=i.data,s=ao.empty();let d=new Le(Ir.comparator);for(let m of e.fields)if(!d.has(m)){let w=t.field(m);null===w&&m.length>1&&(m=m.popLast(),w=t.field(m)),null===w?s.delete(m):s.set(m,w),d=d.add(m)}return new Ga(i.key,s,new bn(d.toArray()),Ri.none())}}function Wh(i,e,t){i instanceof wi?function(s,d,m){const w=s.value.clone(),N=qh(s.fieldTransforms,d,m.transformResults);w.setAll(N),d.convertToFoundDocument(m.version,w).setHasCommittedMutations()}(i,e,t):i instanceof Ga?function(s,d,m){if(!du(s.precondition,d))return void d.convertToUnknownDocument(m.version);const w=qh(s.fieldTransforms,d,m.transformResults),N=d.data;N.setAll(za(s)),N.setAll(w),d.convertToFoundDocument(m.version,N).setHasCommittedMutations()}(i,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Zl(i,e,t,s){return i instanceof wi?function(d,m,w,N){if(!du(d.precondition,m))return w;const $=d.value.clone(),W=El(d.fieldTransforms,N,m);return $.setAll(W),m.convertToFoundDocument(m.version,$).setHasLocalMutations(),null}(i,e,t,s):i instanceof Ga?function(d,m,w,N){if(!du(d.precondition,m))return w;const $=El(d.fieldTransforms,N,m),W=m.data;return W.setAll(za(d)),W.setAll($),m.convertToFoundDocument(m.version,W).setHasLocalMutations(),null===w?null:w.unionWith(d.fieldMask.fields).unionWith(d.fieldTransforms.map(re=>re.field))}(i,e,t,s):(w=t,du(i.precondition,m=e)?(m.convertToNoDocument(m.version).setHasLocalMutations(),null):w);var m,w}function Gd(i,e){let t=null;for(const s of i.fieldTransforms){const d=e.data.field(s.field),m=uu(s.transform,d||null);null!=m&&(null===t&&(t=ao.empty()),t.set(s.field,m))}return t||null}function rd(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(s=e.fieldTransforms,!!(void 0===(t=i.fieldTransforms)&&void 0===s||t&&s&&Hs(t,s,(d,m)=>function dc(i,e){return i.field.isEqual(e.field)&&(s=e.transform,(t=i.transform)instanceof ol&&s instanceof ol||t instanceof Cl&&s instanceof Cl?Hs(t.elements,s.elements,nl):t instanceof Yo&&s instanceof Yo?nl(t._t,s._t):t instanceof zl&&s instanceof zl);var t,s}(d,m))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var t,s}class wi extends pa{constructor(e,t,s,d=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=d,this.type=0}getFieldMask(){return null}}class Ga extends pa{constructor(e,t,s,d,m=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=d,this.fieldTransforms=m,this.type=1}getFieldMask(){return this.fieldMask}}function za(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=i.data.field(t);e.set(t,s)}}),e}function qh(i,e,t){const s=new Map;nn(i.length===t.length);for(let d=0;d<t.length;d++){const m=i[d],w=m.transform,N=e.data.field(m.field);s.set(m.field,$d(w,N,t[d]))}return s}function El(i,e,t){const s=new Map;for(const d of i){const m=d.transform,w=t.data.field(d.field);s.set(d.field,uc(m,w,e))}return s}class Do extends pa{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class zd extends pa{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Wl{constructor(e,t,s,d){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=d}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let d=0;d<this.mutations.length;d++){const m=this.mutations[d];m.key.isEqual(e.key)&&Wh(m,e,s[d])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Zl(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Zl(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=Ud();return this.mutations.forEach(d=>{const m=e.get(d.key),w=m.overlayedDocument;let N=this.applyToLocalView(w,m.mutatedFields);N=t.has(d.key)?null:N;const $=jd(w,N);null!==$&&s.set(d.key,$),w.isValidDocument()||w.convertToNoDocument(xn.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),rr())}isEqual(e){return this.batchId===e.batchId&&Hs(this.mutations,e.mutations,(t,s)=>rd(t,s))&&Hs(this.baseMutations,e.baseMutations,(t,s)=>rd(t,s))}}class fc{constructor(e,t,s,d){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=d}static from(e,t,s){nn(e.mutations.length===s.length);let d=Gh;const m=e.mutations;for(let w=0;w<m.length;w++)d=d.insert(m[w].key,s[w].version);return new fc(e,t,s,d)}}class hu{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class fu{constructor(e){this.count=e}}var D,g;function _(i){switch(i){default:return dn();case it.CANCELLED:case it.UNKNOWN:case it.DEADLINE_EXCEEDED:case it.RESOURCE_EXHAUSTED:case it.INTERNAL:case it.UNAVAILABLE:case it.UNAUTHENTICATED:return!1;case it.INVALID_ARGUMENT:case it.NOT_FOUND:case it.ALREADY_EXISTS:case it.PERMISSION_DENIED:case it.FAILED_PRECONDITION:case it.ABORTED:case it.OUT_OF_RANGE:case it.UNIMPLEMENTED:case it.DATA_LOSS:return!0}}function I(i){if(void 0===i)return br("GRPC error has no .code"),it.UNKNOWN;switch(i){case D.OK:return it.OK;case D.CANCELLED:return it.CANCELLED;case D.UNKNOWN:return it.UNKNOWN;case D.DEADLINE_EXCEEDED:return it.DEADLINE_EXCEEDED;case D.RESOURCE_EXHAUSTED:return it.RESOURCE_EXHAUSTED;case D.INTERNAL:return it.INTERNAL;case D.UNAVAILABLE:return it.UNAVAILABLE;case D.UNAUTHENTICATED:return it.UNAUTHENTICATED;case D.INVALID_ARGUMENT:return it.INVALID_ARGUMENT;case D.NOT_FOUND:return it.NOT_FOUND;case D.ALREADY_EXISTS:return it.ALREADY_EXISTS;case D.PERMISSION_DENIED:return it.PERMISSION_DENIED;case D.FAILED_PRECONDITION:return it.FAILED_PRECONDITION;case D.ABORTED:return it.ABORTED;case D.OUT_OF_RANGE:return it.OUT_OF_RANGE;case D.UNIMPLEMENTED:return it.UNIMPLEMENTED;case D.DATA_LOSS:return it.DATA_LOSS;default:return dn()}}(g=D||(D={}))[g.OK=0]="OK",g[g.CANCELLED=1]="CANCELLED",g[g.UNKNOWN=2]="UNKNOWN",g[g.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",g[g.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",g[g.NOT_FOUND=5]="NOT_FOUND",g[g.ALREADY_EXISTS=6]="ALREADY_EXISTS",g[g.PERMISSION_DENIED=7]="PERMISSION_DENIED",g[g.UNAUTHENTICATED=16]="UNAUTHENTICATED",g[g.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",g[g.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",g[g.ABORTED=10]="ABORTED",g[g.OUT_OF_RANGE=11]="OUT_OF_RANGE",g[g.UNIMPLEMENTED=12]="UNIMPLEMENTED",g[g.INTERNAL=13]="INTERNAL",g[g.UNAVAILABLE=14]="UNAVAILABLE",g[g.DATA_LOSS=15]="DATA_LOSS";class z{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return te}static getOrCreateInstance(){return null===te&&(te=new z),te}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let te=null;class Ie{constructor(e,t,s,d,m){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=d,this.resolvedLimboDocuments=m}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const d=new Map;return d.set(e,gt.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Ie(xn.min(),d,ja(),os(),rr())}}class gt{constructor(e,t,s,d,m){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=d,this.removedDocuments=m}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new gt(s,t,rr(),rr(),rr())}}class Qt{constructor(e,t,s,d){this.It=e,this.removedTargetIds=t,this.key=s,this.Tt=d}}class Cn{constructor(e,t){this.targetId=e,this.Et=t}}class jn{constructor(e,t,s=Dn.EMPTY_BYTE_STRING,d=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=d}}class Bn{constructor(){this.At=0,this.Rt=pc(),this.vt=Dn.EMPTY_BYTE_STRING,this.bt=!1,this.Pt=!0}get current(){return this.bt}get resumeToken(){return this.vt}get Vt(){return 0!==this.At}get St(){return this.Pt}Dt(e){e.approximateByteSize()>0&&(this.Pt=!0,this.vt=e)}Ct(){let e=rr(),t=rr(),s=rr();return this.Rt.forEach((d,m)=>{switch(m){case 0:e=e.add(d);break;case 2:t=t.add(d);break;case 1:s=s.add(d);break;default:dn()}}),new gt(this.vt,this.bt,e,t,s)}xt(){this.Pt=!1,this.Rt=pc()}Nt(e,t){this.Pt=!0,this.Rt=this.Rt.insert(e,t)}kt(e){this.Pt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}$t(){this.At-=1}Mt(){this.Pt=!0,this.bt=!0}}class Oi{constructor(e){this.Ft=e,this.Bt=new Map,this.Lt=os(),this.qt=Ko(),this.Ut=new Le(zn)}Kt(e){for(const t of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(t,e.Tt):this.Qt(t,e.key,e.Tt);for(const t of e.removedTargetIds)this.Qt(t,e.key,e.Tt)}zt(e){this.forEachTarget(e,t=>{const s=this.jt(t);switch(e.state){case 0:this.Wt(t)&&s.Dt(e.resumeToken);break;case 1:s.$t(),s.Vt||s.xt(),s.Dt(e.resumeToken);break;case 2:s.$t(),s.Vt||this.removeTarget(t);break;case 3:this.Wt(t)&&(s.Mt(),s.Dt(e.resumeToken));break;case 4:this.Wt(t)&&(this.Ht(t),s.Dt(e.resumeToken));break;default:dn()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((s,d)=>{this.Wt(d)&&t(d)})}Jt(e){var t;const s=e.targetId,d=e.Et.count,m=this.Yt(s);if(m){const w=m.target;if(Xc(w))if(0===d){const N=new en(w.path);this.Qt(s,N,bi.newNoDocument(N,xn.min()))}else nn(1===d);else{const N=this.Zt(s);N!==d&&(this.Ht(s),this.Ut=this.Ut.add(s),null===(t=z.instance)||void 0===t||t.notifyOnExistenceFilterMismatch({localCacheCount:N,existenceFilterCount:e.Et.count}))}}}Xt(e){const t=new Map;this.Bt.forEach((m,w)=>{const N=this.Yt(w);if(N){if(m.current&&Xc(N.target)){const $=new en(N.target.path);null!==this.Lt.get($)||this.te(w,$)||this.Qt(w,$,bi.newNoDocument($,e))}m.St&&(t.set(w,m.Ct()),m.xt())}});let s=rr();this.qt.forEach((m,w)=>{let N=!0;w.forEachWhile($=>{const W=this.Yt($);return!W||2===W.purpose||(N=!1,!1)}),N&&(s=s.add(m))}),this.Lt.forEach((m,w)=>w.setReadTime(e));const d=new Ie(e,t,this.Ut,this.Lt,s);return this.Lt=os(),this.qt=Ko(),this.Ut=new Le(zn),d}Gt(e,t){if(!this.Wt(e))return;const s=this.te(e,t.key)?2:0;this.jt(e).Nt(t.key,s),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}Qt(e,t,s){if(!this.Wt(e))return;const d=this.jt(e);this.te(e,t)?d.Nt(t,1):d.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),s&&(this.Lt=this.Lt.insert(t,s))}removeTarget(e){this.Bt.delete(e)}Zt(e){const t=this.jt(e).Ct();return this.Ft.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.jt(e).Ot()}jt(e){let t=this.Bt.get(e);return t||(t=new Bn,this.Bt.set(e,t)),t}ee(e){let t=this.qt.get(e);return t||(t=new Le(zn),this.qt=this.qt.insert(e,t)),t}Wt(e){const t=null!==this.Yt(e);return t||mt("WatchChangeAggregator","Detected inactive target",e),t}Yt(e){const t=this.Bt.get(e);return t&&t.Vt?null:this.Ft.ne(e)}Ht(e){this.Bt.set(e,new Bn),this.Ft.getRemoteKeysForTarget(e).forEach(t=>{this.Qt(e,t,null)})}te(e,t){return this.Ft.getRemoteKeysForTarget(e).has(t)}}function Ko(){return new Y(en.comparator)}function pc(){return new Y(en.comparator)}const Kh={asc:"ASCENDING",desc:"DESCENDING"},Fu={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sd={and:"AND",or:"OR"};class gc{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Co(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function pu(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function Wd(i,e){return Co(i,e.toTimestamp())}function Pi(i){return nn(!!i),xn.fromTimestamp(function(e){const t=mi(e);return new Wr(t.seconds,t.nanos)}(i))}function mc(i,e){return(t=i,new wr(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Zf(i){const e=wr.fromString(i);return nn(Jf(e)),e}function Lu(i,e){return mc(i.databaseId,e.path)}function Lo(i,e){const t=Zf(e);if(t.get(1)!==i.databaseId.projectId)throw new St(it.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new St(it.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new en(Wf(t))}function qd(i,e){return mc(i.databaseId,e)}function od(i){const e=Zf(i);return 4===e.length?wr.emptyPath():Wf(e)}function gu(i){return new wr(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Wf(i){return nn(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function qf(i,e,t){return{name:Lu(i,e),fields:t.value.mapValue.fields}}function Jh(i,e,t){const s=Lo(i,e.name),d=Pi(e.updateTime),m=e.createTime?Pi(e.createTime):xn.min(),w=new ao({mapValue:{fields:e.fields}}),N=bi.newFoundDocument(s,d,m,w);return t&&N.setHasCommittedMutations(),t?N.setHasCommittedMutations():N}function ad(i,e){let t;if(e instanceof wi)t={update:qf(i,e.key,e.value)};else if(e instanceof Do)t={delete:Lu(i,e.key)};else if(e instanceof Ga)t={update:qf(i,e.key,e.data),updateMask:Jp(e.fieldMask)};else{if(!(e instanceof zd))return dn();t={verify:Lu(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(d,m){const w=m.transform;if(w instanceof zl)return{fieldPath:m.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(w instanceof ol)return{fieldPath:m.field.canonicalString(),appendMissingElements:{values:w.elements}};if(w instanceof Cl)return{fieldPath:m.field.canonicalString(),removeAllFromArray:{values:w.elements}};if(w instanceof Yo)return{fieldPath:m.field.canonicalString(),increment:w._t};throw dn()}(0,s))),e.precondition.isNone||(t.currentDocument=void 0!==(d=e.precondition).updateTime?{updateTime:Wd(i,d.updateTime)}:void 0!==d.exists?{exists:d.exists}:dn()),t;var d}function Er(i,e){const t=e.currentDocument?void 0!==(d=e.currentDocument).updateTime?Ri.updateTime(Pi(d.updateTime)):void 0!==d.exists?Ri.exists(d.exists):Ri.none():Ri.none(),s=e.updateTransforms?e.updateTransforms.map(d=>function(m,w){let N=null;"setToServerValue"in w?(nn("REQUEST_TIME"===w.setToServerValue),N=new zl):"appendMissingElements"in w?N=new ol(w.appendMissingElements.values||[]):"removeAllFromArray"in w?N=new Cl(w.removeAllFromArray.values||[]):"increment"in w?N=new Yo(m,w.increment):dn();const $=Ir.fromServerFormat(w.fieldPath);return new al($,N)}(i,d)):[];var d;if(e.update){const d=Lo(i,e.update.name),m=new ao({mapValue:{fields:e.update.fields}});if(e.updateMask){const w=new bn((e.updateMask.fieldPaths||[]).map(W=>Ir.fromServerFormat(W)));return new Ga(d,m,w,t,s)}return new wi(d,m,t,s)}if(e.delete){const d=Lo(i,e.delete);return new Do(d,t)}if(e.verify){const d=Lo(i,e.verify);return new zd(d,t)}return dn()}function Yf(i,e){return{documents:[qd(i,e.path)]}}function Yd(i,e){const t={structuredQuery:{}},s=e.path;null!==e.collectionGroup?(t.parent=qd(i,s),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=qd(i,s.popLast()),t.structuredQuery.from=[{collectionId:s.lastSegment()}]);const d=function($){if(0!==$.length)return ld(Xr.create($,"and"))}(e.filters);d&&(t.structuredQuery.where=d);const m=function($){if(0!==$.length)return $.map(W=>{return{field:Vu((re=W).field),direction:__(re.dir)};var re})}(e.orderBy);m&&(t.structuredQuery.orderBy=m);const w=(W=e.limit,i.useProto3Json||T(W)?W:{value:W});var W,N,$;return null!==w&&(t.structuredQuery.limit=w),e.startAt&&(t.structuredQuery.startAt={before:(N=e.startAt).inclusive,values:N.position}),e.endAt&&(t.structuredQuery.endAt={before:!($=e.endAt).inclusive,values:$.position}),t}function Kd(i){let e=od(i.parent);const t=i.structuredQuery,s=t.from?t.from.length:0;let d=null;if(s>0){nn(1===s);const re=t.from[0];re.allDescendants?d=re.collectionId:e=e.child(re.collectionId)}let m=[];t.where&&(m=function(re){const De=Kf(re);return De instanceof Xr&&Rd(De)?De.getFilters():[De]}(t.where));let w=[];t.orderBy&&(w=t.orderBy.map(re=>{return new ou(Jd((De=re).field),function(Ye){switch(Ye){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(De.direction));var De}));let N=null;t.limit&&(N=function(re){let De;return De="object"==typeof re?re.value:re,T(De)?null:De}(t.limit));let $=null;var re;t.startAt&&($=new Ha((re=t.startAt).values||[],!!re.before));let W=null;return t.endAt&&(W=function(re){return new Ha(re.values||[],!re.before)}(t.endAt)),td(e,d,w,m,N,"F",$,W)}function Kf(i){return void 0!==i.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Jd(e.unaryFilter.field);return Or.create(t,"==",{doubleValue:NaN});case"IS_NULL":const s=Jd(e.unaryFilter.field);return Or.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const d=Jd(e.unaryFilter.field);return Or.create(d,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const m=Jd(e.unaryFilter.field);return Or.create(m,"!=",{nullValue:"NULL_VALUE"});default:return dn()}}(i):void 0!==i.fieldFilter?Or.create(Jd((e=i).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return dn()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==i.compositeFilter?function(e){return Xr.create(e.compositeFilter.filters.map(t=>Kf(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return dn()}}(e.compositeFilter.op))}(i):dn();var e}function __(i){return Kh[i]}function Yp(i){return Fu[i]}function Kp(i){return sd[i]}function Vu(i){return{fieldPath:i.canonicalString()}}function Jd(i){return Ir.fromServerFormat(i.fieldPath)}function ld(i){return i instanceof Or?function(e){if("=="===e.op){if(zc(e.value))return{unaryFilter:{field:Vu(e.field),op:"IS_NAN"}};if(Fh(e.value))return{unaryFilter:{field:Vu(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(zc(e.value))return{unaryFilter:{field:Vu(e.field),op:"IS_NOT_NAN"}};if(Fh(e.value))return{unaryFilter:{field:Vu(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vu(e.field),op:Yp(e.op),value:e.value}}}(i):i instanceof Xr?function(e){const t=e.getFilters().map(s=>ld(s));return 1===t.length?t[0]:{compositeFilter:{op:Kp(e.op),filters:t}}}(i):dn()}function Jp(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Jf(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}class Uu{constructor(e,t,s,d,m=xn.min(),w=xn.min(),N=Dn.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=d,this.snapshotVersion=m,this.lastLimboFreeSnapshotVersion=w,this.resumeToken=N}withSequenceNumber(e){return new Uu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Uu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Uu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Jg{constructor(e){this.se=e}}function Xd(i,e){const t=e.key,s={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:ql(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())s.document={name:Lu(d=i.se,(m=e).key),fields:m.data.value.mapValue.fields,updateTime:Co(d,m.version.toTimestamp()),createTime:Co(d,m.createTime.toTimestamp())};else if(e.isNoDocument())s.noDocument={path:t.path.toArray(),readTime:Bu(e.version)};else{if(!e.isUnknownDocument())return dn();s.unknownDocument={path:t.path.toArray(),version:Bu(e.version)}}var d,m;return s}function ql(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function Bu(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function mu(i){const e=new Wr(i.seconds,i.nanoseconds);return xn.fromTimestamp(e)}function _c(i,e){const t=(e.baseMutations||[]).map(m=>Er(i.se,m));for(let m=0;m<e.mutations.length-1;++m){const w=e.mutations[m];m+1<e.mutations.length&&void 0!==e.mutations[m+1].transform&&(w.updateTransforms=e.mutations[m+1].transform.fieldTransforms,e.mutations.splice(m+1,1),++m)}const s=e.mutations.map(m=>Er(i.se,m)),d=Wr.fromMillis(e.localWriteTimeMs);return new Wl(e.batchId,d,t,s)}function yc(i){const e=mu(i.readTime),t=void 0!==i.lastLimboFreeSnapshotVersion?mu(i.lastLimboFreeSnapshotVersion):xn.min();let s;var d;return void 0!==i.query.documents?(nn(1===(d=i.query).documents.length),s=lo(Ru(od(d.documents[0])))):s=lo(Kd(i.query)),new Uu(s,i.targetId,0,i.lastListenSequenceNumber,e,t,Dn.fromBase64String(i.resumeToken))}function Qp(i,e){const t=Bu(e.snapshotVersion),s=Bu(e.lastLimboFreeSnapshotVersion);let d;d=Xc(e.target)?Yf(i.se,e.target):Yd(i.se,e.target);const m=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:ku(e.target),readTime:t,resumeToken:m,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:d}}function eh(i){const e=Kd({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?ac(e,e.limit,"L"):e}function Xp(i,e){return new hu(e.largestBatchId,Er(i.se,e.overlayMutation))}function Qg(i,e){const t=e.path.lastSegment();return[i,R(e.path.popLast()),t]}function Qf(i,e,t,s){return{indexId:i,uid:e.uid||"",sequenceNumber:t,readTime:Bu(s.readTime),documentKey:R(s.documentKey.path),largestBatchId:s.largestBatchId}}class Xg{getBundleMetadata(e,t){return eg(e).get(t).next(s=>{if(s)return{id:(d=s).bundleId,createTime:mu(d.createTime),version:d.version};var d})}saveBundleMetadata(e,t){return eg(e).put({bundleId:(s=t).id,createTime:Bu(Pi(s.createTime)),version:s.version});var s}getNamedQuery(e,t){return vc(e).get(t).next(s=>{if(s)return{name:(d=s).name,query:eh(d.bundledQuery),readTime:mu(d.readTime)};var d})}saveNamedQuery(e,t){return vc(e).put({name:(s=t).name,readTime:Bu(Pi(s.readTime)),bundledQuery:s.bundledQuery});var s}}function eg(i){return ss(i,"bundles")}function vc(i){return ss(i,"namedQueries")}class Xf{constructor(e,t){this.serializer=e,this.userId=t}static ie(e,t){return new Xf(e,t.uid||"")}getOverlay(e,t){return ud(e).get(Qg(this.userId,t)).next(s=>s?Xp(this.serializer,s):null)}getOverlays(e,t){const s=Zs();return lt.forEach(t,d=>this.getOverlay(e,d).next(m=>{null!==m&&s.set(d,m)})).next(()=>s)}saveOverlays(e,t,s){const d=[];return s.forEach((m,w)=>{const N=new hu(t,w);d.push(this.re(e,N))}),lt.waitFor(d)}removeOverlaysForBatchId(e,t,s){const d=new Set;t.forEach(w=>d.add(R(w.getCollectionPath())));const m=[];return d.forEach(w=>{const N=IDBKeyRange.bound([this.userId,w,s],[this.userId,w,s+1],!1,!0);m.push(ud(e).J("collectionPathOverlayIndex",N))}),lt.waitFor(m)}getOverlaysForCollection(e,t,s){const d=Zs(),m=R(t),w=IDBKeyRange.bound([this.userId,m,s],[this.userId,m,Number.POSITIVE_INFINITY],!0);return ud(e).j("collectionPathOverlayIndex",w).next(N=>{for(const $ of N){const W=Xp(this.serializer,$);d.set(W.getKey(),W)}return d})}getOverlaysForCollectionGroup(e,t,s,d){const m=Zs();let w;const N=IDBKeyRange.bound([this.userId,t,s],[this.userId,t,Number.POSITIVE_INFINITY],!0);return ud(e).Z({index:"collectionGroupOverlayIndex",range:N},($,W,re)=>{const De=Xp(this.serializer,W);m.size()<d||De.largestBatchId===w?(m.set(De.getKey(),De),w=De.largestBatchId):re.done()}).next(()=>m)}re(e,t){return ud(e).put(function(s,d,m){const[w,N,$]=Qg(d,m.mutation.key);return{userId:d,collectionPath:N,documentId:$,collectionGroup:m.mutation.key.getCollectionGroup(),largestBatchId:m.largestBatchId,overlayMutation:ad(s.se,m.mutation)}}(this.serializer,this.userId,t))}}function ud(i){return ss(i,"documentOverlays")}class _u{constructor(){}oe(e,t){this.ue(e,t),t.ce()}ue(e,t){if("nullValue"in e)this.ae(t,5);else if("booleanValue"in e)this.ae(t,10),t.he(e.booleanValue?1:0);else if("integerValue"in e)this.ae(t,15),t.he(ci(e.integerValue));else if("doubleValue"in e){const s=ci(e.doubleValue);isNaN(s)?this.ae(t,13):(this.ae(t,15),A(s)?t.he(0):t.he(s))}else if("timestampValue"in e){const s=e.timestampValue;this.ae(t,20),"string"==typeof s?t.le(s):(t.le(`${s.seconds||""}`),t.he(s.nanos||0))}else if("stringValue"in e)this.fe(e.stringValue,t),this.de(t);else if("bytesValue"in e)this.ae(t,30),t.we(bo(e.bytesValue)),this.de(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){const s=e.geoPointValue;this.ae(t,45),t.he(s.latitude||0),t.he(s.longitude||0)}else"mapValue"in e?Wc(e)?this.ae(t,Number.MAX_SAFE_INTEGER):(this.me(e.mapValue,t),this.de(t)):"arrayValue"in e?(this.ge(e.arrayValue,t),this.de(t)):dn()}fe(e,t){this.ae(t,25),this.ye(e,t)}ye(e,t){t.le(e)}me(e,t){const s=e.fields||{};this.ae(t,55);for(const d of Object.keys(s))this.fe(d,t),this.ue(s[d],t)}ge(e,t){const s=e.values||[];this.ae(t,50);for(const d of s)this.ue(d,t)}_e(e,t){this.ae(t,37),en.fromName(e).path.forEach(s=>{this.ae(t,60),this.ye(s,t)})}ae(e,t){e.he(t)}de(e){e.he(2)}}function y_(i){if(0===i)return 8;let e=0;return i>>4==0&&(e+=4,i<<=4),i>>6==0&&(e+=2,i<<=2),i>>7==0&&(e+=1),e}function ep(i){const e=64-function(t){let s=0;for(let d=0;d<8;++d){const m=y_(255&t[d]);if(s+=m,8!==m)break}return s}(i);return Math.ceil(e/8)}_u.pe=new _u;class tp{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ie(e){const t=e[Symbol.iterator]();let s=t.next();for(;!s.done;)this.Te(s.value),s=t.next();this.Ee()}Ae(e){const t=e[Symbol.iterator]();let s=t.next();for(;!s.done;)this.Re(s.value),s=t.next();this.ve()}be(e){for(const t of e){const s=t.charCodeAt(0);if(s<128)this.Te(s);else if(s<2048)this.Te(960|s>>>6),this.Te(128|63&s);else if(t<"\ud800"||"\udbff"<t)this.Te(480|s>>>12),this.Te(128|63&s>>>6),this.Te(128|63&s);else{const d=t.codePointAt(0);this.Te(240|d>>>18),this.Te(128|63&d>>>12),this.Te(128|63&d>>>6),this.Te(128|63&d)}}this.Ee()}Pe(e){for(const t of e){const s=t.charCodeAt(0);if(s<128)this.Re(s);else if(s<2048)this.Re(960|s>>>6),this.Re(128|63&s);else if(t<"\ud800"||"\udbff"<t)this.Re(480|s>>>12),this.Re(128|63&s>>>6),this.Re(128|63&s);else{const d=t.codePointAt(0);this.Re(240|d>>>18),this.Re(128|63&d>>>12),this.Re(128|63&d>>>6),this.Re(128|63&d)}}this.ve()}Ve(e){const t=this.Se(e),s=ep(t);this.De(1+s),this.buffer[this.position++]=255&s;for(let d=t.length-s;d<t.length;++d)this.buffer[this.position++]=255&t[d]}Ce(e){const t=this.Se(e),s=ep(t);this.De(1+s),this.buffer[this.position++]=~(255&s);for(let d=t.length-s;d<t.length;++d)this.buffer[this.position++]=~(255&t[d])}xe(){this.Ne(255),this.Ne(255)}ke(){this.Oe(255),this.Oe(255)}reset(){this.position=0}seed(e){this.De(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Se(e){const t=function(d){const m=new DataView(new ArrayBuffer(8));return m.setFloat64(0,d,!1),new Uint8Array(m.buffer)}(e),s=0!=(128&t[0]);t[0]^=s?255:128;for(let d=1;d<t.length;++d)t[d]^=s?255:0;return t}Te(e){const t=255&e;0===t?(this.Ne(0),this.Ne(255)):255===t?(this.Ne(255),this.Ne(0)):this.Ne(t)}Re(e){const t=255&e;0===t?(this.Oe(0),this.Oe(255)):255===t?(this.Oe(255),this.Oe(0)):this.Oe(e)}Ee(){this.Ne(0),this.Ne(1)}ve(){this.Oe(0),this.Oe(1)}Ne(e){this.De(1),this.buffer[this.position++]=e}Oe(e){this.De(1),this.buffer[this.position++]=~e}De(e){const t=e+this.position;if(t<=this.buffer.length)return;let s=2*this.buffer.length;s<t&&(s=t);const d=new Uint8Array(s);d.set(this.buffer),this.buffer=d}}class cd{constructor(e){this.Me=e}we(e){this.Me.Ie(e)}le(e){this.Me.be(e)}he(e){this.Me.Ve(e)}ce(){this.Me.xe()}}class em{constructor(e){this.Me=e}we(e){this.Me.Ae(e)}le(e){this.Me.Pe(e)}he(e){this.Me.Ce(e)}ce(){this.Me.ke()}}class bc{constructor(){this.Me=new tp,this.Fe=new cd(this.Me),this.Be=new em(this.Me)}seed(e){this.Me.seed(e)}Le(e){return 0===e?this.Fe:this.Be}$e(){return this.Me.$e()}reset(){this.Me.reset()}}class dd{constructor(e,t,s,d){this.indexId=e,this.documentKey=t,this.arrayValue=s,this.directionalValue=d}qe(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,s=new Uint8Array(t);return s.set(this.directionalValue,0),t!==e?s.set([0],this.directionalValue.length):++s[s.length-1],new dd(this.indexId,this.documentKey,this.arrayValue,s)}}function wc(i,e){let t=i.indexId-e.indexId;return 0!==t?t:(t=tg(i.arrayValue,e.arrayValue),0!==t?t:(t=tg(i.directionalValue,e.directionalValue),0!==t?t:en.comparator(i.documentKey,e.documentKey)))}function tg(i,e){for(let t=0;t<i.length&&t<e.length;++t){const s=i[t]-e[t];if(0!==s)return s}return i.length-e.length}class th{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ue=e.orderBy,this.Ke=[];for(const t of e.filters){const s=t;s.isInequality()?this.Ge=s:this.Ke.push(s)}}Qe(e){nn(e.collectionGroup===this.collectionId);const t=Xa(e);if(void 0!==t&&!this.ze(t))return!1;const s=Os(e);let d=0,m=0;for(;d<s.length&&this.ze(s[d]);++d);if(d===s.length)return!0;if(void 0!==this.Ge){const w=s[d];if(!this.je(this.Ge,w)||!this.We(this.Ue[m++],w))return!1;++d}for(;d<s.length;++d){const w=s[d];if(m>=this.Ue.length||!this.We(this.Ue[m++],w))return!1}return!0}ze(e){for(const t of this.Ke)if(this.je(t,e))return!0;return!1}je(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}We(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function tm(i){var e,t;if(nn(i instanceof Or||i instanceof Xr),i instanceof Or){if(i instanceof xu){const d=(null===(t=null===(e=i.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(m=>Or.create(i.field,"==",m)))||[];return Xr.create(d,"or")}return i}const s=i.filters.map(d=>tm(d));return Xr.create(s,i.op)}function v_(i){if(0===i.getFilters().length)return[];const e=Fi(tm(i));return nn(Ta(e)),Xh(e)||ng(e)?[e]:e.getFilters()}function Xh(i){return i instanceof Or}function ng(i){return i instanceof Xr&&Rd(i)}function Ta(i){return Xh(i)||ng(i)||function(e){if(e instanceof Xr&&Nu(e)){for(const t of e.getFilters())if(!Xh(t)&&!ng(t))return!1;return!0}return!1}(i)}function Fi(i){if(nn(i instanceof Or||i instanceof Xr),i instanceof Or)return i;if(1===i.filters.length)return Fi(i.filters[0]);const e=i.filters.map(s=>Fi(s));let t=Xr.create(e,i.op);return t=Dc(t),Ta(t)?t:(nn(t instanceof Xr),nn(au(t)),nn(t.filters.length>1),t.filters.reduce((s,d)=>hd(s,d)))}function hd(i,e){let t;return nn(i instanceof Or||i instanceof Xr),nn(e instanceof Or||e instanceof Xr),t=i instanceof Or?e instanceof Or?Xr.create([i,e],"and"):np(i,e):e instanceof Or?np(e,i):function(s,d){if(nn(s.filters.length>0&&d.filters.length>0),au(s)&&au(d))return Yc(s,d.getFilters());const m=Nu(s)?s:d,w=Nu(s)?d:s,N=m.filters.map($=>hd($,w));return Xr.create(N,"or")}(i,e),Dc(t)}function np(i,e){if(au(e))return Yc(e,i.getFilters());{const t=e.filters.map(s=>hd(i,s));return Xr.create(t,"or")}}function Dc(i){if(nn(i instanceof Or||i instanceof Xr),i instanceof Or)return i;const e=i.getFilters();if(1===e.length)return Dc(e[0]);if(qc(i))return i;const t=e.map(d=>Dc(d)),s=[];return t.forEach(d=>{d instanceof Or?s.push(d):d instanceof Xr&&(d.op===i.op?s.push(...d.filters):s.push(d))}),1===s.length?s[0]:Xr.create(s,i.op)}class b_{constructor(){this.He=new rp}addToCollectionParentIndex(e,t){return this.He.add(t),lt.resolve()}getCollectionParents(e,t){return lt.resolve(this.He.getEntries(t))}addFieldIndex(e,t){return lt.resolve()}deleteFieldIndex(e,t){return lt.resolve()}getDocumentsMatchingTarget(e,t){return lt.resolve(null)}getIndexType(e,t){return lt.resolve(0)}getFieldIndexes(e,t){return lt.resolve([])}getNextCollectionGroupToUpdate(e){return lt.resolve(null)}getMinOffset(e,t){return lt.resolve(Vr.min())}getMinOffsetFromCollectionGroup(e,t){return lt.resolve(Vr.min())}updateCollectionGroup(e,t,s){return lt.resolve()}updateIndexEntries(e,t){return lt.resolve()}}class rp{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),d=this.index[t]||new Le(wr.comparator),m=!d.has(s);return this.index[t]=d.add(s),m}has(e){const t=e.lastSegment(),s=e.popLast(),d=this.index[t];return d&&d.has(s)}getEntries(e){return(this.index[e]||new Le(wr.comparator)).toArray()}}const Yl=new Uint8Array(0);class w_{constructor(e,t){this.user=e,this.databaseId=t,this.Je=new rp,this.Ye=new ai(s=>ku(s),(s,d)=>Ia(s,d)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Je.has(t)){const s=t.lastSegment(),d=t.popLast();e.addOnCommittedListener(()=>{this.Je.add(t)});const m={collectionId:s,parent:R(d)};return Il(e).put(m)}return lt.resolve()}getCollectionParents(e,t){const s=[],d=IDBKeyRange.bound([t,""],[Pl(t),""],!1,!0);return Il(e).j(d).next(m=>{for(const w of m){if(w.collectionId!==t)break;s.push(le(w.parent))}return s})}addFieldIndex(e,t){const s=nh(e),d={indexId:(w=t).indexId,collectionGroup:w.collectionGroup,fields:w.fields.map(N=>[N.fieldPath.canonicalString(),N.kind])};var w;delete d.indexId;const m=s.add(d);if(t.indexState){const w=ef(e);return m.next(N=>{w.put(Qf(N,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return m.next()}deleteFieldIndex(e,t){const s=nh(e),d=ef(e),m=ll(e);return s.delete(t.indexId).next(()=>d.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>m.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const s=ll(e);let d=!0;const m=new Map;return lt.forEach(this.Ze(t),w=>this.Xe(e,w).next(N=>{d&&(d=!!N),m.set(w,N)})).next(()=>{if(d){let w=rr();const N=[];return lt.forEach(m,($,W)=>{var re;mt("IndexedDbIndexManager",`Using index ${re=$,`id=${re.indexId}|cg=${re.collectionGroup}|f=${re.fields.map(Ur=>`${Ur.fieldPath}:${Ur.kind}`).join(",")}`} to execute ${ku(t)}`);const De=function(Ur,ea){const Qi=Xa(ea);if(void 0===Qi)return null;for(const ls of rc(Ur,Qi.fieldPath))switch(ls.op){case"array-contains-any":return ls.value.arrayValue.values||[];case"array-contains":return[ls.value]}return null}(W,$),Ye=function(Ur,ea){const Qi=new Map;for(const ls of Os(ea))for(const qa of rc(Ur,ls.fieldPath))switch(qa.op){case"==":case"in":Qi.set(ls.fieldPath.canonicalString(),qa.value);break;case"not-in":case"!=":return Qi.set(ls.fieldPath.canonicalString(),qa.value),Array.from(Qi.values())}return null}(W,$),wt=function(Ur,ea){const Qi=[];let ls=!0;for(const qa of Os(ea)){const Sd=0===qa.kind?ed(Ur,qa.fieldPath,Ur.startAt):Hh(Ur,qa.fieldPath,Ur.startAt);Qi.push(Sd.value),ls&&(ls=Sd.inclusive)}return new Ha(Qi,ls)}(W,$),Kt=function(Ur,ea){const Qi=[];let ls=!0;for(const qa of Os(ea)){const Sd=0===qa.kind?Hh(Ur,qa.fieldPath,Ur.endAt):ed(Ur,qa.fieldPath,Ur.endAt);Qi.push(Sd.value),ls&&(ls=Sd.inclusive)}return new Ha(Qi,ls)}(W,$),yn=this.tn($,W,wt),Ln=this.tn($,W,Kt),ei=this.en($,W,Ye),ys=this.nn($.indexId,De,yn,wt.inclusive,Ln,Kt.inclusive,ei);return lt.forEach(ys,Ur=>s.H(Ur,t.limit).next(ea=>{ea.forEach(Qi=>{const ls=en.fromSegments(Qi.documentKey);w.has(ls)||(w=w.add(ls),N.push(ls))})}))}).next(()=>N)}return lt.resolve(null)})}Ze(e){let t=this.Ye.get(e);return t||(t=0===e.filters.length?[e]:v_(Xr.create(e.filters,"and")).map(s=>Qc(e.path,e.collectionGroup,e.orderBy,s.getFilters(),e.limit,e.startAt,e.endAt)),this.Ye.set(e,t),t)}nn(e,t,s,d,m,w,N){const $=(null!=t?t.length:1)*Math.max(s.length,m.length),W=$/(null!=t?t.length:1),re=[];for(let De=0;De<$;++De){const Ye=t?this.sn(t[De/W]):Yl,wt=this.rn(e,Ye,s[De%W],d),Kt=this.on(e,Ye,m[De%W],w),yn=N.map(Ln=>this.rn(e,Ye,Ln,!0));re.push(...this.createRange(wt,Kt,yn))}return re}rn(e,t,s,d){const m=new dd(e,en.empty(),t,s);return d?m:m.qe()}on(e,t,s,d){const m=new dd(e,en.empty(),t,s);return d?m.qe():m}Xe(e,t){const s=new th(t),d=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,d).next(m=>{let w=null;for(const N of m)s.Qe(N)&&(!w||N.fields.length>w.fields.length)&&(w=N);return w})}getIndexType(e,t){let s=2;const d=this.Ze(t);return lt.forEach(d,m=>this.Xe(e,m).next(w=>{w?0!==s&&w.fields.length<function(N){let $=new Le(Ir.comparator),W=!1;for(const re of N.filters)for(const De of re.getFlattenedFilters())De.field.isKeyField()||("array-contains"===De.op||"array-contains-any"===De.op?W=!0:$=$.add(De.field));for(const re of N.orderBy)re.field.isKeyField()||($=$.add(re.field));return $.size+(W?1:0)}(m)&&(s=1):s=0})).next(()=>null!==t.limit&&d.length>1&&2===s?1:s)}un(e,t){const s=new bc;for(const d of Os(e)){const m=t.data.field(d.fieldPath);if(null==m)return null;const w=s.Le(d.kind);_u.pe.oe(m,w)}return s.$e()}sn(e){const t=new bc;return _u.pe.oe(e,t.Le(0)),t.$e()}cn(e,t){const s=new bc;return _u.pe.oe($a(this.databaseId,t),s.Le(function(d){const m=Os(d);return 0===m.length?0:m[m.length-1].kind}(e))),s.$e()}en(e,t,s){if(null===s)return[];let d=[];d.push(new bc);let m=0;for(const w of Os(e)){const N=s[m++];for(const $ of d)if(this.an(t,w.fieldPath)&&nc(N))d=this.hn(d,w,N);else{const W=$.Le(w.kind);_u.pe.oe(N,W)}}return this.ln(d)}tn(e,t,s){return this.en(e,t,s.position)}ln(e){const t=[];for(let s=0;s<e.length;++s)t[s]=e[s].$e();return t}hn(e,t,s){const d=[...e],m=[];for(const w of s.arrayValue.values||[])for(const N of d){const $=new bc;$.seed(N.$e()),_u.pe.oe(w,$.Le(t.kind)),m.push($)}return m}an(e,t){return!!e.filters.find(s=>s instanceof Or&&s.field.isEqual(t)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(e,t){const s=nh(e),d=ef(e);return(t?s.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):s.j()).next(m=>{const w=[];return lt.forEach(m,N=>d.get([N.indexId,this.uid]).next($=>{w.push(function(W,re){const De=re?new dr(re.sequenceNumber,new Vr(mu(re.readTime),new en(le(re.documentKey)),re.largestBatchId)):dr.empty(),Ye=W.fields.map(([wt,Kt])=>new nu(Ir.fromServerFormat(wt),Kt));return new Ds(W.indexId,W.collectionGroup,Ye,De)}(N,$))})).next(()=>w)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((s,d)=>{const m=s.indexState.sequenceNumber-d.indexState.sequenceNumber;return 0!==m?m:zn(s.collectionGroup,d.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,s){const d=nh(e),m=ef(e);return this.fn(e).next(w=>d.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(N=>lt.forEach(N,$=>m.put(Qf($.indexId,this.user,w,s)))))}updateIndexEntries(e,t){const s=new Map;return lt.forEach(t,(d,m)=>{const w=s.get(d.collectionGroup);return(w?lt.resolve(w):this.getFieldIndexes(e,d.collectionGroup)).next(N=>(s.set(d.collectionGroup,N),lt.forEach(N,$=>this.dn(e,d,$).next(W=>{const re=this.wn(m,$);return W.isEqual(re)?lt.resolve():this._n(e,m,$,W,re)}))))})}mn(e,t,s,d){return ll(e).put({indexId:d.indexId,uid:this.uid,arrayValue:d.arrayValue,directionalValue:d.directionalValue,orderedDocumentKey:this.cn(s,t.key),documentKey:t.key.path.toArray()})}gn(e,t,s,d){return ll(e).delete([d.indexId,this.uid,d.arrayValue,d.directionalValue,this.cn(s,t.key),t.key.path.toArray()])}dn(e,t,s){const d=ll(e);let m=new Le(wc);return d.Z({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,this.cn(s,t)])},(w,N)=>{m=m.add(new dd(s.indexId,t,N.arrayValue,N.directionalValue))}).next(()=>m)}wn(e,t){let s=new Le(wc);const d=this.un(t,e);if(null==d)return s;const m=Xa(t);if(null!=m){const w=e.data.field(m.fieldPath);if(nc(w))for(const N of w.arrayValue.values||[])s=s.add(new dd(t.indexId,e.key,this.sn(N),d))}else s=s.add(new dd(t.indexId,e.key,Yl,d));return s}_n(e,t,s,d,m){mt("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const w=[];return function(N,$,W,re,De){const Ye=N.getIterator(),wt=$.getIterator();let Kt=gn(Ye),yn=gn(wt);for(;Kt||yn;){let Ln=!1,ei=!1;if(Kt&&yn){const ys=W(Kt,yn);ys<0?ei=!0:ys>0&&(Ln=!0)}else null!=Kt?ei=!0:Ln=!0;Ln?(re(yn),yn=gn(wt)):ei?(De(Kt),Kt=gn(Ye)):(Kt=gn(Ye),yn=gn(wt))}}(d,m,wc,N=>{w.push(this.mn(e,t,s,N))},N=>{w.push(this.gn(e,t,s,N))}),lt.waitFor(w)}fn(e){let t=1;return ef(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,d,m)=>{m.done(),t=d.sequenceNumber+1}).next(()=>t)}createRange(e,t,s){s=s.sort((w,N)=>wc(w,N)).filter((w,N,$)=>!N||0!==wc(w,$[N-1]));const d=[];d.push(e);for(const w of s){const N=wc(w,e),$=wc(w,t);if(0===N)d[0]=e.qe();else if(N>0&&$<0)d.push(w),d.push(w.qe());else if($>0)break}d.push(t);const m=[];for(let w=0;w<d.length;w+=2){if(this.yn(d[w],d[w+1]))return[];m.push(IDBKeyRange.bound([d[w].indexId,this.uid,d[w].arrayValue,d[w].directionalValue,Yl,[]],[d[w+1].indexId,this.uid,d[w+1].arrayValue,d[w+1].directionalValue,Yl,[]]))}return m}yn(e,t){return wc(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(ip)}getMinOffset(e,t){return lt.mapArray(this.Ze(t),s=>this.Xe(e,s).next(d=>d||dn())).next(ip)}}function Il(i){return ss(i,"collectionParents")}function ll(i){return ss(i,"indexEntries")}function nh(i){return ss(i,"indexConfiguration")}function ef(i){return ss(i,"indexState")}function ip(i){nn(0!==i.length);let e=i[0].indexState.offset,t=e.largestBatchId;for(let s=1;s<i.length;s++){const d=i[s].indexState.offset;Ua(d,e)<0&&(e=d),t<d.largestBatchId&&(t=d.largestBatchId)}return new Vr(e.readTime,e.documentKey,t)}const rg={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Sa{constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new Sa(e,Sa.DEFAULT_COLLECTION_PERCENTILE,Sa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Cc(i,e,t){const s=i.store("mutations"),d=i.store("documentMutations"),m=[],w=IDBKeyRange.only(t.batchId);let N=0;const $=s.Z({range:w},(re,De,Ye)=>(N++,Ye.delete()));m.push($.next(()=>{nn(1===N)}));const W=[];for(const re of t.mutations){const De=Bt(e,re.key.path,t.batchId);m.push(d.delete(De)),W.push(re.key)}return lt.waitFor(m).next(()=>W)}function Tl(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw dn();e=i.noDocument}return JSON.stringify(e).length}Sa.DEFAULT_COLLECTION_PERCENTILE=10,Sa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sa.DEFAULT=new Sa(41943040,Sa.DEFAULT_COLLECTION_PERCENTILE,Sa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sa.DISABLED=new Sa(-1,0,0);class yu{constructor(e,t,s,d){this.userId=e,this.serializer=t,this.indexManager=s,this.referenceDelegate=d,this.pn={}}static ie(e,t,s,d){nn(""!==e.uid);const m=e.isAuthenticated()?e.uid:"";return new yu(m,t,s,d)}checkEmpty(e){let t=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Sl(e).Z({index:"userMutationsIndex",range:s},(d,m,w)=>{t=!1,w.done()}).next(()=>t)}addMutationBatch(e,t,s,d){const m=vu(e),w=Sl(e);return w.add({}).next(N=>{nn("number"==typeof N);const $=new Wl(N,t,s,d),W=function(Ye,wt,Kt){const yn=Kt.baseMutations.map(ei=>ad(Ye.se,ei)),Ln=Kt.mutations.map(ei=>ad(Ye.se,ei));return{userId:wt,batchId:Kt.batchId,localWriteTimeMs:Kt.localWriteTime.toMillis(),baseMutations:yn,mutations:Ln}}(this.serializer,this.userId,$),re=[];let De=new Le((Ye,wt)=>zn(Ye.canonicalString(),wt.canonicalString()));for(const Ye of d){const wt=Bt(this.userId,Ye.key.path,N);De=De.add(Ye.key.path.popLast()),re.push(w.put(W)),re.push(m.put(wt,Pn))}return De.forEach(Ye=>{re.push(this.indexManager.addToCollectionParentIndex(e,Ye))}),e.addOnCommittedListener(()=>{this.pn[N]=$.keys()}),lt.waitFor(re).next(()=>$)})}lookupMutationBatch(e,t){return Sl(e).get(t).next(s=>s?(nn(s.userId===this.userId),_c(this.serializer,s)):null)}In(e,t){return this.pn[t]?lt.resolve(this.pn[t]):this.lookupMutationBatch(e,t).next(s=>{if(s){const d=s.keys();return this.pn[t]=d,d}return null})}getNextMutationBatchAfterBatchId(e,t){const s=t+1,d=IDBKeyRange.lowerBound([this.userId,s]);let m=null;return Sl(e).Z({index:"userMutationsIndex",range:d},(w,N,$)=>{N.userId===this.userId&&(nn(N.batchId>=s),m=_c(this.serializer,N)),$.done()}).next(()=>m)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return Sl(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(d,m,w)=>{s=m.batchId,w.done()}).next(()=>s)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Sl(e).j("userMutationsIndex",t).next(s=>s.map(d=>_c(this.serializer,d)))}getAllMutationBatchesAffectingDocumentKey(e,t){const s=ft(this.userId,t.path),d=IDBKeyRange.lowerBound(s),m=[];return vu(e).Z({range:d},(w,N,$)=>{const[W,re,De]=w,Ye=le(re);if(W===this.userId&&t.path.isEqual(Ye))return Sl(e).get(De).next(wt=>{if(!wt)throw dn();nn(wt.userId===this.userId),m.push(_c(this.serializer,wt))});$.done()}).next(()=>m)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Le(zn);const d=[];return t.forEach(m=>{const w=ft(this.userId,m.path),N=IDBKeyRange.lowerBound(w),$=vu(e).Z({range:N},(W,re,De)=>{const[Ye,wt,Kt]=W,yn=le(wt);Ye===this.userId&&m.path.isEqual(yn)?s=s.add(Kt):De.done()});d.push($)}),lt.waitFor(d).next(()=>this.Tn(e,s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,d=s.length+1,m=ft(this.userId,s),w=IDBKeyRange.lowerBound(m);let N=new Le(zn);return vu(e).Z({range:w},($,W,re)=>{const[De,Ye,wt]=$,Kt=le(Ye);De===this.userId&&s.isPrefixOf(Kt)?Kt.length===d&&(N=N.add(wt)):re.done()}).next(()=>this.Tn(e,N))}Tn(e,t){const s=[],d=[];return t.forEach(m=>{d.push(Sl(e).get(m).next(w=>{if(null===w)throw dn();nn(w.userId===this.userId),s.push(_c(this.serializer,w))}))}),lt.waitFor(d).next(()=>s)}removeMutationBatch(e,t){return Cc(e.at,this.userId,t).next(s=>(e.addOnCommittedListener(()=>{this.En(t.batchId)}),lt.forEach(s,d=>this.referenceDelegate.markPotentiallyOrphaned(e,d))))}En(e){delete this.pn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return lt.resolve();const s=IDBKeyRange.lowerBound([this.userId]),d=[];return vu(e).Z({range:s},(m,w,N)=>{if(m[0]===this.userId){const $=le(m[1]);d.push($)}else N.done()}).next(()=>{nn(0===d.length)})})}containsKey(e,t){return Ec(e,this.userId,t)}An(e){return Kl(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Ec(i,e,t){const s=ft(e,t.path),d=s[1],m=IDBKeyRange.lowerBound(s);let w=!1;return vu(i).Z({range:m,Y:!0},(N,$,W)=>{const[re,De,Ye]=N;re===e&&De===d&&(w=!0),W.done()}).next(()=>w)}function Sl(i){return ss(i,"mutations")}function vu(i){return ss(i,"documentMutations")}function Kl(i){return ss(i,"mutationQueues")}class ul{constructor(e){this.Rn=e}next(){return this.Rn+=2,this.Rn}static vn(){return new ul(0)}static bn(){return new ul(-1)}}class D_{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Pn(e).next(t=>{const s=new ul(t.highestTargetId);return t.highestTargetId=s.next(),this.Vn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Pn(e).next(t=>xn.fromTimestamp(new Wr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Pn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,s){return this.Pn(e).next(d=>(d.highestListenSequenceNumber=t,s&&(d.lastRemoteSnapshotVersion=s.toTimestamp()),t>d.highestListenSequenceNumber&&(d.highestListenSequenceNumber=t),this.Vn(e,d)))}addTargetData(e,t){return this.Sn(e,t).next(()=>this.Pn(e).next(s=>(s.targetCount+=1,this.Dn(t,s),this.Vn(e,s))))}updateTargetData(e,t){return this.Sn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>rh(e).delete(t.targetId)).next(()=>this.Pn(e)).next(s=>(nn(s.targetCount>0),s.targetCount-=1,this.Vn(e,s)))}removeTargets(e,t,s){let d=0;const m=[];return rh(e).Z((w,N)=>{const $=yc(N);$.sequenceNumber<=t&&null===s.get($.targetId)&&(d++,m.push(this.removeTargetData(e,$)))}).next(()=>lt.waitFor(m)).next(()=>d)}forEachTarget(e,t){return rh(e).Z((s,d)=>{const m=yc(d);t(m)})}Pn(e){return nm(e).get("targetGlobalKey").next(t=>(nn(null!==t),t))}Vn(e,t){return nm(e).put("targetGlobalKey",t)}Sn(e,t){return rh(e).put(Qp(this.serializer,t))}Dn(e,t){let s=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,s=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.Pn(e).next(t=>t.targetCount)}getTargetData(e,t){const s=ku(t),d=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let m=null;return rh(e).Z({range:d,index:"queryTargetsIndex"},(w,N,$)=>{const W=yc(N);Ia(t,W.target)&&(m=W,$.done())}).next(()=>m)}addMatchingKeys(e,t,s){const d=[],m=Ic(e);return t.forEach(w=>{const N=R(w.path);d.push(m.put({targetId:s,path:N})),d.push(this.referenceDelegate.addReference(e,s,w))}),lt.waitFor(d)}removeMatchingKeys(e,t,s){const d=Ic(e);return lt.forEach(t,m=>{const w=R(m.path);return lt.waitFor([d.delete([s,w]),this.referenceDelegate.removeReference(e,s,m)])})}removeMatchingKeysForTargetId(e,t){const s=Ic(e),d=IDBKeyRange.bound([t],[t+1],!1,!0);return s.delete(d)}getMatchingKeysForTargetId(e,t){const s=IDBKeyRange.bound([t],[t+1],!1,!0),d=Ic(e);let m=rr();return d.Z({range:s,Y:!0},(w,N,$)=>{const W=le(w[1]),re=new en(W);m=m.add(re)}).next(()=>m)}containsKey(e,t){const s=R(t.path),d=IDBKeyRange.bound([s],[Pl(s)],!1,!0);let m=0;return Ic(e).Z({index:"documentTargetsIndex",Y:!0,range:d},([w,N],$,W)=>{0!==w&&(m++,W.done())}).next(()=>m>0)}ne(e,t){return rh(e).get(t).next(s=>s?yc(s):null)}}function rh(i){return ss(i,"targets")}function nm(i){return ss(i,"targetGlobal")}function Ic(i){return ss(i,"targetDocuments")}function rm([i,e],[t,s]){const d=zn(i,t);return 0===d?zn(e,s):d}class C_{constructor(e){this.Cn=e,this.buffer=new Le(rm),this.xn=0}Nn(){return++this.xn}kn(e){const t=[e,this.Nn()];if(this.buffer.size<this.Cn)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();rm(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class E_{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.On=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.$n(6e4)}stop(){this.On&&(this.On.cancel(),this.On=null)}get started(){return null!==this.On}$n(e){var t=this;mt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.On=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Ae.Z)(function*(){t.On=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(s){Ba(s)?mt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield js(s)}yield t.$n(3e5)}))}}class ih{constructor(e,t){this.Mn=e,this.params=t}calculateTargetCount(e,t){return this.Mn.Fn(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(0===t)return lt.resolve(Ps.ct);const s=new C_(t);return this.Mn.forEachTarget(e,d=>s.kn(d.sequenceNumber)).next(()=>this.Mn.Bn(e,d=>s.kn(d))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.Mn.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.Mn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(mt("LruGarbageCollector","Garbage collection skipped; disabled"),lt.resolve(rg)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(mt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),rg):this.Ln(e,t))}getCacheSize(e){return this.Mn.getCacheSize(e)}Ln(e,t){let s,d,m,w,N,$,W;const re=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(De=>(De>this.params.maximumSequenceNumbersToCollect?(mt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${De}`),d=this.params.maximumSequenceNumbersToCollect):d=De,w=Date.now(),this.nthSequenceNumber(e,d))).next(De=>(s=De,N=Date.now(),this.removeTargets(e,s,t))).next(De=>(m=De,$=Date.now(),this.removeOrphanedDocuments(e,s))).next(De=>(W=Date.now(),qn()<=$e.in.DEBUG&&mt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${w-re}ms\n\tDetermined least recently used ${d} in `+(N-w)+`ms\n\tRemoved ${m} targets in `+($-N)+`ms\n\tRemoved ${De} documents in `+(W-$)+`ms\nTotal Duration: ${W-re}ms`),lt.resolve({didRun:!0,sequenceNumbersCollected:d,targetsRemoved:m,documentsRemoved:De})))}}class $u{constructor(e,t){this.db=e,this.garbageCollector=new ih(this,t)}Fn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(s=>t.next(d=>s+d))}qn(e){let t=0;return this.Bn(e,s=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Bn(e,t){return this.Un(e,(s,d)=>t(d))}addReference(e,t,s){return sp(e,s)}removeReference(e,t,s){return sp(e,s)}removeTargets(e,t,s){return this.db.getTargetCache().removeTargets(e,t,s)}markPotentiallyOrphaned(e,t){return sp(e,t)}Kn(e,t){return function(s,d){let m=!1;return Kl(s).X(w=>Ec(s,w,d).next(N=>(N&&(m=!0),lt.resolve(!N)))).next(()=>m)}(e,t)}removeOrphanedDocuments(e,t){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),d=[];let m=0;return this.Un(e,(w,N)=>{if(N<=t){const $=this.Kn(e,w).next(W=>{if(!W)return m++,s.getEntry(e,w).next(()=>(s.removeEntry(w,xn.min()),Ic(e).delete([0,R(w.path)])))});d.push($)}}).next(()=>lt.waitFor(d)).next(()=>s.apply(e)).next(()=>m)}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,t){return sp(e,t)}Un(e,t){const s=Ic(e);let d,m=Ps.ct;return s.Z({index:"documentTargetsIndex"},([w,N],{path:$,sequenceNumber:W})=>{0===w?(m!==Ps.ct&&t(new en(le(d)),m),m=W,d=$):m=Ps.ct}).next(()=>{m!==Ps.ct&&t(new en(le(d)),m)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function sp(i,e){return Ic(i).put((s=i.currentSequenceNumber,{targetId:0,path:R(e.path),sequenceNumber:s}));var s}class im{constructor(){this.changes=new ai(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,bi.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return void 0!==s?lt.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Yy{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,s){return bu(e).put(s)}removeEntry(e,t,s){return bu(e).delete(function(d,m){const w=d.path.toArray();return[w.slice(0,w.length-2),w[w.length-2],ql(m),w[w.length-1]]}(t,s))}updateMetadata(e,t){return this.getMetadata(e).next(s=>(s.byteSize+=t,this.Gn(e,s)))}getEntry(e,t){let s=bi.newInvalidDocument(t);return bu(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(tf(t))},(d,m)=>{s=this.Qn(t,m)}).next(()=>s)}zn(e,t){let s={size:0,document:bi.newInvalidDocument(t)};return bu(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(tf(t))},(d,m)=>{s={document:this.Qn(t,m),size:Tl(m)}}).next(()=>s)}getEntries(e,t){let s=os();return this.jn(e,t,(d,m)=>{const w=this.Qn(d,m);s=s.insert(d,w)}).next(()=>s)}Wn(e,t){let s=os(),d=new Y(en.comparator);return this.jn(e,t,(m,w)=>{const N=this.Qn(m,w);s=s.insert(m,N),d=d.insert(m,Tl(w))}).next(()=>({documents:s,Hn:d}))}jn(e,t,s){if(t.isEmpty())return lt.resolve();let d=new Le(op);t.forEach($=>d=d.add($));const m=IDBKeyRange.bound(tf(d.first()),tf(d.last())),w=d.getIterator();let N=w.getNext();return bu(e).Z({index:"documentKeyIndex",range:m},($,W,re)=>{const De=en.fromSegments([...W.prefixPath,W.collectionGroup,W.documentId]);for(;N&&op(N,De)<0;)s(N,null),N=w.getNext();N&&N.isEqual(De)&&(s(N,W),N=w.hasNext()?w.getNext():null),N?re.G(tf(N)):re.done()}).next(()=>{for(;N;)s(N,null),N=w.hasNext()?w.getNext():null})}getDocumentsMatchingQuery(e,t,s,d){const m=t.path,w=[m.popLast().toArray(),m.lastSegment(),ql(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],N=[m.popLast().toArray(),m.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return bu(e).j(IDBKeyRange.bound(w,N,!0)).next($=>{let W=os();for(const re of $){const De=this.Qn(en.fromSegments(re.prefixPath.concat(re.collectionGroup,re.documentId)),re);De.isFoundDocument()&&(sl(t,De)||d.has(De.key))&&(W=W.insert(De.key,De))}return W})}getAllFromCollectionGroup(e,t,s,d){let m=os();const w=nf(t,s),N=nf(t,Vr.max());return bu(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(w,N,!0)},($,W,re)=>{const De=this.Qn(en.fromSegments(W.prefixPath.concat(W.collectionGroup,W.documentId)),W);m=m.insert(De.key,De),m.size===d&&re.done()}).next(()=>m)}newChangeBuffer(e){return new sm(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return T_(e).get("remoteDocumentGlobalKey").next(t=>(nn(!!t),t))}Gn(e,t){return T_(e).put("remoteDocumentGlobalKey",t)}Qn(e,t){if(t){const s=function Qd(i,e){let t;if(e.document)t=Jh(i.se,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const s=en.fromSegments(e.noDocument.path),d=mu(e.noDocument.readTime);t=bi.newNoDocument(s,d),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return dn();{const s=en.fromSegments(e.unknownDocument.path),d=mu(e.unknownDocument.version);t=bi.newUnknownDocument(s,d)}}return e.readTime&&t.setReadTime(function(s){const d=new Wr(s[0],s[1]);return xn.fromTimestamp(d)}(e.readTime)),t}(this.serializer,t);if(!s.isNoDocument()||!s.version.isEqual(xn.min()))return s}return bi.newInvalidDocument(e)}}function I_(i){return new Yy(i)}class sm extends im{constructor(e,t){super(),this.Jn=e,this.trackRemovals=t,this.Yn=new ai(s=>s.toString(),(s,d)=>s.isEqual(d))}applyChanges(e){const t=[];let s=0,d=new Le((m,w)=>zn(m.canonicalString(),w.canonicalString()));return this.changes.forEach((m,w)=>{const N=this.Yn.get(m);if(t.push(this.Jn.removeEntry(e,m,N.readTime)),w.isValidDocument()){const $=Xd(this.Jn.serializer,w);d=d.add(m.path.popLast()),s+=Tl($)-N.size,t.push(this.Jn.addEntry(e,m,$))}else if(s-=N.size,this.trackRemovals){const $=Xd(this.Jn.serializer,w.convertToNoDocument(xn.min()));t.push(this.Jn.addEntry(e,m,$))}}),d.forEach(m=>{t.push(this.Jn.indexManager.addToCollectionParentIndex(e,m))}),t.push(this.Jn.updateMetadata(e,s)),lt.waitFor(t)}getFromCache(e,t){return this.Jn.zn(e,t).next(s=>(this.Yn.set(t,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(e,t){return this.Jn.Wn(e,t).next(({documents:s,Hn:d})=>(d.forEach((m,w)=>{this.Yn.set(m,{size:w,readTime:s.get(m).readTime})}),s))}}function T_(i){return ss(i,"remoteDocumentGlobal")}function bu(i){return ss(i,"remoteDocumentsV14")}function tf(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function nf(i,e){const t=e.documentKey.path.toArray();return[i,ql(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function op(i,e){const t=i.path.toArray(),s=e.path.toArray();let d=0;for(let m=0;m<t.length-2&&m<s.length-2;++m)if(d=zn(t[m],s[m]),d)return d;return d=zn(t.length,s.length),d||(d=zn(t[t.length-2],s[s.length-2]),d||zn(t[t.length-1],s[s.length-1]))}class ap{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class sh{constructor(e,t,s,d){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=d}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(d=>(s=d,this.remoteDocumentCache.getEntry(e,t))).next(d=>(null!==s&&Zl(s.mutation,d,bn.empty(),Wr.now()),d))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,rr()).next(()=>s))}getLocalViewOfDocuments(e,t,s=rr()){const d=Zs();return this.populateOverlays(e,d,t).next(()=>this.computeViews(e,t,d,s).next(m=>{let w=Ou();return m.forEach((N,$)=>{w=w.insert(N,$.overlayedDocument)}),w}))}getOverlayedDocuments(e,t){const s=Zs();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,rr()))}populateOverlays(e,t,s){const d=[];return s.forEach(m=>{t.has(m)||d.push(m)}),this.documentOverlayCache.getOverlays(e,d).next(m=>{m.forEach((w,N)=>{t.set(w,N)})})}computeViews(e,t,s,d){let m=os();const w=Gl(),N=Gl();return t.forEach(($,W)=>{const re=s.get(W.key);d.has(W.key)&&(void 0===re||re.mutation instanceof Ga)?m=m.insert(W.key,W):void 0!==re?(w.set(W.key,re.mutation.getFieldMask()),Zl(re.mutation,W,re.mutation.getFieldMask(),Wr.now())):w.set(W.key,bn.empty())}),this.recalculateAndSaveOverlays(e,m).next($=>($.forEach((W,re)=>w.set(W,re)),t.forEach((W,re)=>{var De;return N.set(W,new ap(re,null!==(De=w.get(W))&&void 0!==De?De:null))}),N))}recalculateAndSaveOverlays(e,t){const s=Gl();let d=new Y((w,N)=>w-N),m=rr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(w=>{for(const N of w)N.keys().forEach($=>{const W=t.get($);if(null===W)return;let re=s.get($)||bn.empty();re=N.applyToLocalView(W,re),s.set($,re);const De=(d.get(N.batchId)||rr()).add($);d=d.insert(N.batchId,De)})}).next(()=>{const w=[],N=d.getReverseIterator();for(;N.hasNext();){const $=N.getNext(),W=$.key,re=$.value,De=Ud();re.forEach(Ye=>{if(!m.has(Ye)){const wt=jd(t.get(Ye),s.get(Ye));null!==wt&&De.set(Ye,wt),m=m.add(Ye)}}),w.push(this.documentOverlayCache.saveOverlays(e,W,De))}return lt.waitFor(w)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s){return en.isDocumentKey((d=t).path)&&null===d.collectionGroup&&0===d.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):sc(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s):this.getDocumentsMatchingCollectionQuery(e,t,s);var d}getNextDocuments(e,t,s,d){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,d).next(m=>{const w=d-m.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,d-m.size):lt.resolve(Zs());let N=-1,$=m;return w.next(W=>lt.forEach(W,(re,De)=>(N<De.largestBatchId&&(N=De.largestBatchId),m.get(re)?lt.resolve():this.remoteDocumentCache.getEntry(e,re).next(Ye=>{$=$.insert(re,Ye)}))).next(()=>this.populateOverlays(e,W,m)).next(()=>this.computeViews(e,$,W,rr())).next(re=>({batchId:N,changes:Vd(re)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new en(t)).next(s=>{let d=Ou();return s.isFoundDocument()&&(d=d.insert(s.key,s)),d})}getDocumentsMatchingCollectionGroupQuery(e,t,s){const d=t.collectionGroup;let m=Ou();return this.indexManager.getCollectionParents(e,d).next(w=>lt.forEach(w,N=>{const $=(W=t,re=N.child(d),new fa(re,null,W.explicitOrderBy.slice(),W.filters.slice(),W.limit,W.limitType,W.startAt,W.endAt));var W,re;return this.getDocumentsMatchingCollectionQuery(e,$,s).next(W=>{W.forEach((re,De)=>{m=m.insert(re,De)})})}).next(()=>m))}getDocumentsMatchingCollectionQuery(e,t,s){let d;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(m=>(d=m,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,d))).next(m=>{d.forEach((N,$)=>{const W=$.getKey();null===m.get(W)&&(m=m.insert(W,bi.newInvalidDocument(W)))});let w=Ou();return m.forEach((N,$)=>{const W=d.get(N);void 0!==W&&Zl(W.mutation,$,bn.empty(),Wr.now()),sl(t,$)&&(w=w.insert(N,$))}),w})}}class om{constructor(e){this.serializer=e,this.Zn=new Map,this.Xn=new Map}getBundleMetadata(e,t){return lt.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var s;return this.Zn.set(t.id,{id:(s=t).id,version:s.version,createTime:Pi(s.createTime)}),lt.resolve()}getNamedQuery(e,t){return lt.resolve(this.Xn.get(t))}saveNamedQuery(e,t){return this.Xn.set(t.name,{name:(s=t).name,query:eh(s.bundledQuery),readTime:Pi(s.readTime)}),lt.resolve();var s}}class Aa{constructor(){this.overlays=new Y(en.comparator),this.ts=new Map}getOverlay(e,t){return lt.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Zs();return lt.forEach(t,d=>this.getOverlay(e,d).next(m=>{null!==m&&s.set(d,m)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((d,m)=>{this.re(e,t,m)}),lt.resolve()}removeOverlaysForBatchId(e,t,s){const d=this.ts.get(s);return void 0!==d&&(d.forEach(m=>this.overlays=this.overlays.remove(m)),this.ts.delete(s)),lt.resolve()}getOverlaysForCollection(e,t,s){const d=Zs(),m=t.length+1,w=new en(t.child("")),N=this.overlays.getIteratorFrom(w);for(;N.hasNext();){const $=N.getNext().value,W=$.getKey();if(!t.isPrefixOf(W.path))break;W.path.length===m&&$.largestBatchId>s&&d.set($.getKey(),$)}return lt.resolve(d)}getOverlaysForCollectionGroup(e,t,s,d){let m=new Y((W,re)=>W-re);const w=this.overlays.getIterator();for(;w.hasNext();){const W=w.getNext().value;if(W.getKey().getCollectionGroup()===t&&W.largestBatchId>s){let re=m.get(W.largestBatchId);null===re&&(re=Zs(),m=m.insert(W.largestBatchId,re)),re.set(W.getKey(),W)}}const N=Zs(),$=m.getIterator();for(;$.hasNext()&&($.getNext().value.forEach((W,re)=>N.set(W,re)),!(N.size()>=d)););return lt.resolve(N)}re(e,t,s){const d=this.overlays.get(s.key);if(null!==d){const w=this.ts.get(d.largestBatchId).delete(s.key);this.ts.set(d.largestBatchId,w)}this.overlays=this.overlays.insert(s.key,new hu(t,s));let m=this.ts.get(t);void 0===m&&(m=rr(),this.ts.set(t,m)),this.ts.set(t,m.add(s.key))}}class ig{constructor(){this.es=new Le(Ys.ns),this.ss=new Le(Ys.rs)}isEmpty(){return this.es.isEmpty()}addReference(e,t){const s=new Ys(e,t);this.es=this.es.add(s),this.ss=this.ss.add(s)}os(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.us(new Ys(e,t))}cs(e,t){e.forEach(s=>this.removeReference(s,t))}hs(e){const t=new en(new wr([])),s=new Ys(t,e),d=new Ys(t,e+1),m=[];return this.ss.forEachInRange([s,d],w=>{this.us(w),m.push(w.key)}),m}ls(){this.es.forEach(e=>this.us(e))}us(e){this.es=this.es.delete(e),this.ss=this.ss.delete(e)}fs(e){const t=new en(new wr([])),s=new Ys(t,e),d=new Ys(t,e+1);let m=rr();return this.ss.forEachInRange([s,d],w=>{m=m.add(w.key)}),m}containsKey(e){const t=new Ys(e,0),s=this.es.firstAfterOrEqual(t);return null!==s&&e.isEqual(s.key)}}class Ys{constructor(e,t){this.key=e,this.ds=t}static ns(e,t){return en.comparator(e.key,t.key)||zn(e.ds,t.ds)}static rs(e,t){return zn(e.ds,t.ds)||en.comparator(e.key,t.key)}}class sg{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this._s=new Le(Ys.ns)}checkEmpty(e){return lt.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,s,d){const m=this.ws;this.ws++;const w=new Wl(m,t,s,d);this.mutationQueue.push(w);for(const N of d)this._s=this._s.add(new Ys(N.key,m)),this.indexManager.addToCollectionParentIndex(e,N.key.path.popLast());return lt.resolve(w)}lookupMutationBatch(e,t){return lt.resolve(this.gs(t))}getNextMutationBatchAfterBatchId(e,t){const d=this.ys(t+1),m=d<0?0:d;return lt.resolve(this.mutationQueue.length>m?this.mutationQueue[m]:null)}getHighestUnacknowledgedBatchId(){return lt.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return lt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Ys(t,0),d=new Ys(t,Number.POSITIVE_INFINITY),m=[];return this._s.forEachInRange([s,d],w=>{const N=this.gs(w.ds);m.push(N)}),lt.resolve(m)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Le(zn);return t.forEach(d=>{const m=new Ys(d,0),w=new Ys(d,Number.POSITIVE_INFINITY);this._s.forEachInRange([m,w],N=>{s=s.add(N.ds)})}),lt.resolve(this.ps(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,d=s.length+1;let m=s;en.isDocumentKey(m)||(m=m.child(""));const w=new Ys(new en(m),0);let N=new Le(zn);return this._s.forEachWhile($=>{const W=$.key.path;return!!s.isPrefixOf(W)&&(W.length===d&&(N=N.add($.ds)),!0)},w),lt.resolve(this.ps(N))}ps(e){const t=[];return e.forEach(s=>{const d=this.gs(s);null!==d&&t.push(d)}),t}removeMutationBatch(e,t){nn(0===this.Is(t.batchId,"removed")),this.mutationQueue.shift();let s=this._s;return lt.forEach(t.mutations,d=>{const m=new Ys(d.key,t.batchId);return s=s.delete(m),this.referenceDelegate.markPotentiallyOrphaned(e,d.key)}).next(()=>{this._s=s})}En(e){}containsKey(e,t){const s=new Ys(t,0),d=this._s.firstAfterOrEqual(s);return lt.resolve(t.isEqual(d&&d.key))}performConsistencyCheck(e){return lt.resolve()}Is(e,t){return this.ys(e)}ys(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}gs(e){const t=this.ys(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Tc{constructor(e){this.Ts=e,this.docs=new Y(en.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,d=this.docs.get(s),m=d?d.size:0,w=this.Ts(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:w}),this.size+=w-m,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return lt.resolve(s?s.document.mutableCopy():bi.newInvalidDocument(t))}getEntries(e,t){let s=os();return t.forEach(d=>{const m=this.docs.get(d);s=s.insert(d,m?m.document.mutableCopy():bi.newInvalidDocument(d))}),lt.resolve(s)}getDocumentsMatchingQuery(e,t,s,d){let m=os();const w=t.path,N=new en(w.child("")),$=this.docs.getIteratorFrom(N);for(;$.hasNext();){const{key:W,value:{document:re}}=$.getNext();if(!w.isPrefixOf(W.path))break;W.path.length>w.length+1||Ua(Ju(re),s)<=0||(d.has(re.key)||sl(t,re))&&(m=m.insert(re.key,re.mutableCopy()))}return lt.resolve(m)}getAllFromCollectionGroup(e,t,s,d){dn()}Es(e,t){return lt.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new lp(this)}getSize(e){return lt.resolve(this.size)}}class lp extends im{constructor(e){super(),this.Jn=e}applyChanges(e){const t=[];return this.changes.forEach((s,d)=>{d.isValidDocument()?t.push(this.Jn.addEntry(e,d)):this.Jn.removeEntry(s)}),lt.waitFor(t)}getFromCache(e,t){return this.Jn.getEntry(e,t)}getAllFromCache(e,t){return this.Jn.getEntries(e,t)}}class am{constructor(e){this.persistence=e,this.As=new ai(t=>ku(t),Ia),this.lastRemoteSnapshotVersion=xn.min(),this.highestTargetId=0,this.Rs=0,this.vs=new ig,this.targetCount=0,this.bs=ul.vn()}forEachTarget(e,t){return this.As.forEach((s,d)=>t(d)),lt.resolve()}getLastRemoteSnapshotVersion(e){return lt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return lt.resolve(this.Rs)}allocateTargetId(e){return this.highestTargetId=this.bs.next(),lt.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.Rs&&(this.Rs=t),lt.resolve()}Sn(e){this.As.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.bs=new ul(t),this.highestTargetId=t),e.sequenceNumber>this.Rs&&(this.Rs=e.sequenceNumber)}addTargetData(e,t){return this.Sn(t),this.targetCount+=1,lt.resolve()}updateTargetData(e,t){return this.Sn(t),lt.resolve()}removeTargetData(e,t){return this.As.delete(t.target),this.vs.hs(t.targetId),this.targetCount-=1,lt.resolve()}removeTargets(e,t,s){let d=0;const m=[];return this.As.forEach((w,N)=>{N.sequenceNumber<=t&&null===s.get(N.targetId)&&(this.As.delete(w),m.push(this.removeMatchingKeysForTargetId(e,N.targetId)),d++)}),lt.waitFor(m).next(()=>d)}getTargetCount(e){return lt.resolve(this.targetCount)}getTargetData(e,t){const s=this.As.get(t)||null;return lt.resolve(s)}addMatchingKeys(e,t,s){return this.vs.os(t,s),lt.resolve()}removeMatchingKeys(e,t,s){this.vs.cs(t,s);const d=this.persistence.referenceDelegate,m=[];return d&&t.forEach(w=>{m.push(d.markPotentiallyOrphaned(e,w))}),lt.waitFor(m)}removeMatchingKeysForTargetId(e,t){return this.vs.hs(t),lt.resolve()}getMatchingKeysForTargetId(e,t){const s=this.vs.fs(t);return lt.resolve(s)}containsKey(e,t){return lt.resolve(this.vs.containsKey(t))}}class og{constructor(e,t){this.Ps={},this.overlays={},this.Vs=new Ps(0),this.Ss=!1,this.Ss=!0,this.referenceDelegate=e(this),this.Ds=new am(this),this.indexManager=new b_,this.remoteDocumentCache=new Tc(s=>this.referenceDelegate.Cs(s)),this.serializer=new Jg(t),this.xs=new om(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ss=!1,Promise.resolve()}get started(){return this.Ss}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Aa,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.Ps[e.toKey()];return s||(s=new sg(t,this.referenceDelegate),this.Ps[e.toKey()]=s),s}getTargetCache(){return this.Ds}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.xs}runTransaction(e,t,s){mt("MemoryPersistence","Starting transaction:",e);const d=new ag(this.Vs.next());return this.referenceDelegate.Ns(),s(d).next(m=>this.referenceDelegate.ks(d).next(()=>m)).toPromise().then(m=>(d.raiseOnCommittedEvent(),m))}Os(e,t){return lt.or(Object.values(this.Ps).map(s=>()=>s.containsKey(e,t)))}}class ag extends Qu{constructor(e){super(),this.currentSequenceNumber=e}}class rf{constructor(e){this.persistence=e,this.$s=new ig,this.Ms=null}static Fs(e){return new rf(e)}get Bs(){if(this.Ms)return this.Ms;throw dn()}addReference(e,t,s){return this.$s.addReference(s,t),this.Bs.delete(s.toString()),lt.resolve()}removeReference(e,t,s){return this.$s.removeReference(s,t),this.Bs.add(s.toString()),lt.resolve()}markPotentiallyOrphaned(e,t){return this.Bs.add(t.toString()),lt.resolve()}removeTarget(e,t){this.$s.hs(t.targetId).forEach(d=>this.Bs.add(d.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(d=>{d.forEach(m=>this.Bs.add(m.toString()))}).next(()=>s.removeTargetData(e,t))}Ns(){this.Ms=new Set}ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return lt.forEach(this.Bs,s=>{const d=en.fromPath(s);return this.Ls(e,d).next(m=>{m||t.removeEntry(d,xn.min())})}).next(()=>(this.Ms=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ls(e,t).next(s=>{s?this.Bs.delete(t.toString()):this.Bs.add(t.toString())})}Cs(e){return 0}Ls(e,t){return lt.or([()=>lt.resolve(this.$s.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Os(e,t)])}}class lg{constructor(e){this.serializer=e}M(e,t,s,d){const m=new ru("createOrUpgrade",t);var N;s<1&&d>=1&&(e.createObjectStore("owner"),(N=e).createObjectStore("mutationQueues",{keyPath:"userId"}),N.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ye,{unique:!0}),N.createObjectStore("documentMutations"),yr(e),function(N){N.createObjectStore("remoteDocuments")}(e));let w=lt.resolve();return s<3&&d>=3&&(0!==s&&(function(N){N.deleteObjectStore("targetDocuments"),N.deleteObjectStore("targets"),N.deleteObjectStore("targetGlobal")}(e),yr(e)),w=w.next(()=>function(N){const $=N.store("targetGlobal"),W={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:xn.min().toTimestamp(),targetCount:0};return $.put("targetGlobalKey",W)}(m))),s<4&&d>=4&&(0!==s&&(w=w.next(()=>function(N,$){return $.store("mutations").j().next(W=>{N.deleteObjectStore("mutations"),N.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ye,{unique:!0});const re=$.store("mutations"),De=W.map(Ye=>re.put(Ye));return lt.waitFor(De)})}(e,m))),w=w.next(()=>{!function(N){N.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),s<5&&d>=5&&(w=w.next(()=>this.qs(m))),s<6&&d>=6&&(w=w.next(()=>(function(N){N.createObjectStore("remoteDocumentGlobal")}(e),this.Us(m)))),s<7&&d>=7&&(w=w.next(()=>this.Ks(m))),s<8&&d>=8&&(w=w.next(()=>this.Gs(e,m))),s<9&&d>=9&&(w=w.next(()=>{!function(N){N.objectStoreNames.contains("remoteDocumentChanges")&&N.deleteObjectStore("remoteDocumentChanges")}(e)})),s<10&&d>=10&&(w=w.next(()=>this.Qs(m))),s<11&&d>=11&&(w=w.next(()=>{(function(N){N.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(N){N.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),s<12&&d>=12&&(w=w.next(()=>{!function(N){const $=N.createObjectStore("documentOverlays",{keyPath:Md});$.createIndex("collectionPathOverlayIndex",iu,{unique:!1}),$.createIndex("collectionGroupOverlayIndex",yl,{unique:!1})}(e)})),s<13&&d>=13&&(w=w.next(()=>function(N){const $=N.createObjectStore("remoteDocumentsV14",{keyPath:_n});$.createIndex("documentKeyIndex",Tr),$.createIndex("collectionGroupIndex",xi)}(e)).next(()=>this.zs(e,m)).next(()=>e.deleteObjectStore("remoteDocuments"))),s<14&&d>=14&&(w=w.next(()=>this.js(e,m))),s<15&&d>=15&&(w=w.next(()=>function(N){N.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),N.createObjectStore("indexState",{keyPath:tl}).createIndex("sequenceNumberIndex",ml,{unique:!1}),N.createObjectStore("indexEntries",{keyPath:Ea}).createIndex("documentKeyIndex",_l,{unique:!1})}(e))),w}Us(e){let t=0;return e.store("remoteDocuments").Z((s,d)=>{t+=Tl(d)}).next(()=>{const s={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}qs(e){const t=e.store("mutationQueues"),s=e.store("mutations");return t.j().next(d=>lt.forEach(d,m=>{const w=IDBKeyRange.bound([m.userId,-1],[m.userId,m.lastAcknowledgedBatchId]);return s.j("userMutationsIndex",w).next(N=>lt.forEach(N,$=>{nn($.userId===m.userId);const W=_c(this.serializer,$);return Cc(e,m.userId,W).next(()=>{})}))}))}Ks(e){const t=e.store("targetDocuments"),s=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(d=>{const m=[];return s.Z((w,N)=>{const $=new wr(w),W=[0,R($)];m.push(t.get(W).next(re=>re?lt.resolve():t.put({targetId:0,path:R($),sequenceNumber:d.highestListenSequenceNumber})))}).next(()=>lt.waitFor(m))})}Gs(e,t){e.createObjectStore("collectionParents",{keyPath:Vl});const s=t.store("collectionParents"),d=new rp,m=w=>{if(d.add(w)){const N=w.lastSegment(),$=w.popLast();return s.put({collectionId:N,parent:R($)})}};return t.store("remoteDocuments").Z({Y:!0},(w,N)=>{const $=new wr(w);return m($.popLast())}).next(()=>t.store("documentMutations").Z({Y:!0},([w,N,$],W)=>{const re=le(N);return m(re.popLast())}))}Qs(e){const t=e.store("targets");return t.Z((s,d)=>{const m=yc(d),w=Qp(this.serializer,m);return t.put(w)})}zs(e,t){const s=t.store("remoteDocuments"),d=[];return s.Z((m,w)=>{const N=t.store("remoteDocumentsV14"),$=(W=w,W.document?new en(wr.fromString(W.document.name).popFirst(5)):W.noDocument?en.fromSegments(W.noDocument.path):W.unknownDocument?en.fromSegments(W.unknownDocument.path):dn()).path.toArray();var W;const re={prefixPath:$.slice(0,$.length-2),collectionGroup:$[$.length-2],documentId:$[$.length-1],readTime:w.readTime||[0,0],unknownDocument:w.unknownDocument,noDocument:w.noDocument,document:w.document,hasCommittedMutations:!!w.hasCommittedMutations};d.push(N.put(re))}).next(()=>lt.waitFor(d))}js(e,t){const s=t.store("mutations"),d=I_(this.serializer),m=new og(rf.Fs,this.serializer.se);return s.j().next(w=>{const N=new Map;return w.forEach($=>{var W;let re=null!==(W=N.get($.userId))&&void 0!==W?W:rr();_c(this.serializer,$).keys().forEach(De=>re=re.add(De)),N.set($.userId,re)}),lt.forEach(N,($,W)=>{const re=new kn(W),De=Xf.ie(this.serializer,re),Ye=m.getIndexManager(re),wt=yu.ie(re,this.serializer,Ye,m.referenceDelegate);return new sh(d,wt,De,Ye).recalculateAndSaveOverlaysForDocumentKeys(new Ul(t,Ps.ct),$).next()})})}}function yr(i){i.createObjectStore("targetDocuments",{keyPath:Ca}).createIndex("documentTargetsIndex",Fs,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Oo,{unique:!0}),i.createObjectStore("targetGlobal")}const Hu="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class sf{constructor(e,t,s,d,m,w,N,$,W,re,De=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=s,this.Ws=m,this.window=w,this.document=N,this.Hs=W,this.Js=re,this.Ys=De,this.Vs=null,this.Ss=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.Xs=null,this.ti=null,this.ei=Number.NEGATIVE_INFINITY,this.ni=Ye=>Promise.resolve(),!sf.D())throw new St(it.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new $u(this,d),this.si=t+"main",this.serializer=new Jg($),this.ii=new Jr(this.si,this.Ys,new lg(this.serializer)),this.Ds=new D_(this.referenceDelegate,this.serializer),this.remoteDocumentCache=I_(this.serializer),this.xs=new Xg,this.window&&this.window.localStorage?this.ri=this.window.localStorage:(this.ri=null,!1===re&&br("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.oi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new St(it.FAILED_PRECONDITION,Hu);return this.ui(),this.ci(),this.ai(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ds.getHighestSequenceNumber(e))}).then(e=>{this.Vs=new Ps(e,this.Hs)}).then(()=>{this.Ss=!0}).catch(e=>(this.ii&&this.ii.close(),Promise.reject(e)))}hi(e){var t=this;return this.ni=function(){var s=(0,Ae.Z)(function*(d){if(t.started)return e(d)});return function(d){return s.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ii.B(function(){var t=(0,Ae.Z)(function*(s){null===s.newVersion&&(yield e())});return function(s){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Ws.enqueueAndForget((0,Ae.Z)(function*(){t.started&&(yield t.oi())})))}oi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>af(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.li(e).next(t=>{t||(this.isPrimary=!1,this.Ws.enqueueRetryable(()=>this.ni(!1)))})}).next(()=>this.fi(e)).next(t=>this.isPrimary&&!t?this.di(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(Ba(e))return mt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return mt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Ws.enqueueRetryable(()=>this.ni(e)),this.isPrimary=e})}li(e){return Sc(e).get("owner").next(t=>lt.resolve(this._i(t)))}mi(e){return af(e).delete(this.clientId)}gi(){var e=this;return(0,Ae.Z)(function*(){if(e.isPrimary&&!e.yi(e.ei,18e5)){e.ei=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const d=ss(s,"clientMetadata");return d.j().next(m=>{const w=e.pi(m,18e5),N=m.filter($=>-1===w.indexOf($));return lt.forEach(N,$=>d.delete($.clientId)).next(()=>N)})}).catch(()=>[]);if(e.ri)for(const s of t)e.ri.removeItem(e.Ii(s.clientId))}})()}ai(){this.ti=this.Ws.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.oi().then(()=>this.gi()).then(()=>this.ai()))}_i(e){return!!e&&e.ownerId===this.clientId}fi(e){return this.Js?lt.resolve(!0):Sc(e).get("owner").next(t=>{if(null!==t&&this.yi(t.leaseTimestampMs,5e3)&&!this.Ti(t.ownerId)){if(this._i(t)&&this.networkEnabled)return!0;if(!this._i(t)){if(!t.allowTabSynchronization)throw new St(it.FAILED_PRECONDITION,Hu);return!1}}return!(!this.networkEnabled||!this.inForeground)||af(e).j().next(s=>void 0===this.pi(s,5e3).find(d=>{if(this.clientId!==d.clientId){const w=!this.inForeground&&d.inForeground,N=this.networkEnabled===d.networkEnabled;if(!this.networkEnabled&&d.networkEnabled||w&&N)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&mt("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Ae.Z)(function*(){e.Ss=!1,e.Ei(),e.ti&&(e.ti.cancel(),e.ti=null),e.Ai(),e.Ri(),yield e.ii.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const s=new Ul(t,Ps.ct);return e.di(s).next(()=>e.mi(s))}),e.ii.close(),e.vi()})()}pi(e,t){return e.filter(s=>this.yi(s.updateTimeMs,t)&&!this.Ti(s.clientId))}bi(){return this.runTransaction("getActiveClients","readonly",e=>af(e).j().next(t=>this.pi(t,18e5).map(s=>s.clientId)))}get started(){return this.Ss}getMutationQueue(e,t){return yu.ie(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Ds}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new w_(e,this.serializer.se.databaseId)}getDocumentOverlayCache(e){return Xf.ie(this.serializer,e)}getBundleCache(){return this.xs}runTransaction(e,t,s){mt("IndexedDbPersistence","Starting transaction:",e);const d="readonly"===t?"readonly":"readwrite",m=15===(w=this.Ys)?Yi:14===w?ec:13===w?vo:12===w?Po:11===w?Xu:void dn();var w;let N;return this.ii.runTransaction(e,d,m,$=>(N=new Ul($,this.Vs?this.Vs.next():Ps.ct),"readwrite-primary"===t?this.li(N).next(W=>!!W||this.fi(N)).next(W=>{if(!W)throw br(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Ws.enqueueRetryable(()=>this.ni(!1)),new St(it.FAILED_PRECONDITION,Su);return s(N)}).next(W=>this.wi(N).next(()=>W)):this.Pi(N).next(()=>s(N)))).then($=>(N.raiseOnCommittedEvent(),$))}Pi(e){return Sc(e).get("owner").next(t=>{if(null!==t&&this.yi(t.leaseTimestampMs,5e3)&&!this.Ti(t.ownerId)&&!this._i(t)&&!(this.Js||this.allowTabSynchronization&&t.allowTabSynchronization))throw new St(it.FAILED_PRECONDITION,Hu)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Sc(e).put("owner",t)}static D(){return Jr.D()}di(e){const t=Sc(e);return t.get("owner").next(s=>this._i(s)?(mt("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):lt.resolve())}yi(e,t){const s=Date.now();return!(e<s-t||e>s&&(br(`Detected an update time that is in the future: ${e} > ${s}`),1))}ui(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Xs=()=>{this.Ws.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.oi()))},this.document.addEventListener("visibilitychange",this.Xs),this.inForeground="visible"===this.document.visibilityState)}Ai(){this.Xs&&(this.document.removeEventListener("visibilitychange",this.Xs),this.Xs=null)}ci(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ei();const t=/(?:Version|Mobile)\/1[456]/;(0,Fe.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.Ws.enterRestrictedMode(!0),this.Ws.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}Ri(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ti(e){var t;try{const s=null!==(null===(t=this.ri)||void 0===t?void 0:t.getItem(this.Ii(e)));return mt("IndexedDbPersistence",`Client '${e}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return br("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}Ei(){if(this.ri)try{this.ri.setItem(this.Ii(this.clientId),String(Date.now()))}catch(e){br("Failed to set zombie client id.",e)}}vi(){if(this.ri)try{this.ri.removeItem(this.Ii(this.clientId))}catch{}}Ii(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Sc(i){return ss(i,"owner")}function af(i){return ss(i,"clientMetadata")}function lf(i,e){let t=i.projectId;return i.isDefaultDatabase||(t+="."+i.database),"firestore/"+e+"/"+t+"/"}class uf{constructor(e,t,s,d){this.targetId=e,this.fromCache=t,this.Vi=s,this.Si=d}static Di(e,t){let s=rr(),d=rr();for(const m of t.docChanges)switch(m.type){case 0:s=s.add(m.doc.key);break;case 1:d=d.add(m.doc.key)}return new uf(e,t.fromCache,s,d)}}class up{constructor(){this.Ci=!1}initialize(e,t){this.xi=e,this.indexManager=t,this.Ci=!0}getDocumentsMatchingQuery(e,t,s,d){return this.Ni(e,t).next(m=>m||this.ki(e,t,d,s)).next(m=>m||this.Oi(e,t))}Ni(e,t){if(ic(t))return lt.resolve(null);let s=lo(t);return this.indexManager.getIndexType(e,s).next(d=>0===d?null:(null!==t.limit&&1===d&&(t=ac(t,null,"F"),s=lo(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(m=>{const w=rr(...m);return this.xi.getDocuments(e,w).next(N=>this.indexManager.getMinOffset(e,s).next($=>{const W=this.$i(t,N);return this.Mi(t,W,w,$.readTime)?this.Ni(e,ac(t,null,"F")):this.Fi(e,W,t,$)}))})))}ki(e,t,s,d){return ic(t)||d.isEqual(xn.min())?this.Oi(e,t):this.xi.getDocuments(e,s).next(m=>{const w=this.$i(t,m);return this.Mi(t,w,s,d)?this.Oi(e,t):(qn()<=$e.in.DEBUG&&mt("QueryEngine","Re-using previous result from %s to execute query: %s",d.toString(),Ki(t)),this.Fi(e,w,t,gl(d,-1)))})}$i(e,t){let s=new Le(Dl(e));return t.forEach((d,m)=>{sl(e,m)&&(s=s.add(m))}),s}Mi(e,t,s,d){if(null===e.limit)return!1;if(s.size!==t.size)return!0;const m="F"===e.limitType?t.last():t.first();return!!m&&(m.hasPendingWrites||m.version.compareTo(d)>0)}Oi(e,t){return qn()<=$e.in.DEBUG&&mt("QueryEngine","Using full collection scan to execute query:",Ki(t)),this.xi.getDocumentsMatchingQuery(e,t,Vr.min())}Fi(e,t,s,d){return this.xi.getDocumentsMatchingQuery(e,s,d).next(m=>(t.forEach(w=>{m=m.insert(w.key,w)}),m))}}class lm{constructor(e,t,s,d){this.persistence=e,this.Bi=t,this.serializer=d,this.Li=new Y(zn),this.qi=new ai(m=>ku(m),Ia),this.Ui=new Map,this.Ki=e.getRemoteDocumentCache(),this.Ds=e.getTargetCache(),this.xs=e.getBundleCache(),this.Gi(s)}Gi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new sh(this.Ki,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ki.setIndexManager(this.indexManager),this.Bi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Li))}}function ug(i,e,t,s){return new lm(i,e,t,s)}function cp(i,e){return cf.apply(this,arguments)}function cf(){return cf=(0,Ae.Z)(function*(i,e){const t=Vt(i);return yield t.persistence.runTransaction("Handle user change","readonly",s=>{let d;return t.mutationQueue.getAllMutationBatches(s).next(m=>(d=m,t.Gi(e),t.mutationQueue.getAllMutationBatches(s))).next(m=>{const w=[],N=[];let $=rr();for(const W of d){w.push(W.batchId);for(const re of W.mutations)$=$.add(re.key)}for(const W of m){N.push(W.batchId);for(const re of W.mutations)$=$.add(re.key)}return t.localDocuments.getDocuments(s,$).next(W=>({Qi:W,removedBatchIds:w,addedBatchIds:N}))})})}),cf.apply(this,arguments)}function df(i,e){const t=Vt(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const d=e.batch.keys(),m=t.Ki.newChangeBuffer({trackRemovals:!0});return function(w,N,$,W){const re=$.batch,De=re.keys();let Ye=lt.resolve();return De.forEach(wt=>{Ye=Ye.next(()=>W.getEntry(N,wt)).next(Kt=>{const yn=$.docVersions.get(wt);nn(null!==yn),Kt.version.compareTo(yn)<0&&(re.applyToRemoteDocument(Kt,$),Kt.isValidDocument()&&(Kt.setReadTime($.commitVersion),W.addEntry(Kt)))})}),Ye.next(()=>w.mutationQueue.removeMutationBatch(N,re))}(t,s,e,m).next(()=>m.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,d,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(w){let N=rr();for(let $=0;$<w.mutationResults.length;++$)w.mutationResults[$].transformResults.length>0&&(N=N.add(w.batch.mutations[$].key));return N}(e))).next(()=>t.localDocuments.getDocuments(s,d))})}function hf(i){const e=Vt(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ds.getLastRemoteSnapshotVersion(t))}function Ac(i,e){const t=Vt(i),s=e.snapshotVersion;let d=t.Li;return t.persistence.runTransaction("Apply remote event","readwrite-primary",m=>{const w=t.Ki.newChangeBuffer({trackRemovals:!0});d=t.Li;const N=[];e.targetChanges.forEach((re,De)=>{const Ye=d.get(De);if(!Ye)return;N.push(t.Ds.removeMatchingKeys(m,re.removedDocuments,De).next(()=>t.Ds.addMatchingKeys(m,re.addedDocuments,De)));let wt=Ye.withSequenceNumber(m.currentSequenceNumber);var Kt,yn,Ln;e.targetMismatches.has(De)?wt=wt.withResumeToken(Dn.EMPTY_BYTE_STRING,xn.min()).withLastLimboFreeSnapshotVersion(xn.min()):re.resumeToken.approximateByteSize()>0&&(wt=wt.withResumeToken(re.resumeToken,s)),d=d.insert(De,wt),yn=wt,Ln=re,(0===(Kt=Ye).resumeToken.approximateByteSize()||yn.snapshotVersion.toMicroseconds()-Kt.snapshotVersion.toMicroseconds()>=3e8||Ln.addedDocuments.size+Ln.modifiedDocuments.size+Ln.removedDocuments.size>0)&&N.push(t.Ds.updateTargetData(m,wt))});let $=os(),W=rr();if(e.documentUpdates.forEach(re=>{e.resolvedLimboDocuments.has(re)&&N.push(t.persistence.referenceDelegate.updateLimboDocument(m,re))}),N.push(cg(m,w,e.documentUpdates).next(re=>{$=re.zi,W=re.ji})),!s.isEqual(xn.min())){const re=t.Ds.getLastRemoteSnapshotVersion(m).next(De=>t.Ds.setTargetsMetadata(m,m.currentSequenceNumber,s));N.push(re)}return lt.waitFor(N).next(()=>w.apply(m)).next(()=>t.localDocuments.getLocalViewOfDocuments(m,$,W)).next(()=>$)}).then(m=>(t.Li=d,m))}function cg(i,e,t){let s=rr(),d=rr();return t.forEach(m=>s=s.add(m)),e.getEntries(i,s).next(m=>{let w=os();return t.forEach((N,$)=>{const W=m.get(N);$.isFoundDocument()!==W.isFoundDocument()&&(d=d.add(N)),$.isNoDocument()&&$.version.isEqual(xn.min())?(e.removeEntry(N,$.readTime),w=w.insert(N,$)):!W.isValidDocument()||$.version.compareTo(W.version)>0||0===$.version.compareTo(W.version)&&W.hasPendingWrites?(e.addEntry($),w=w.insert(N,$)):mt("LocalStore","Ignoring outdated watch update for ",N,". Current version:",W.version," Watch version:",$.version)}),{zi:w,ji:d}})}function oh(i,e){const t=Vt(i);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function Mc(i,e){const t=Vt(i);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let d;return t.Ds.getTargetData(s,e).next(m=>m?(d=m,lt.resolve(d)):t.Ds.allocateTargetId(s).next(w=>(d=new Uu(e,w,0,s.currentSequenceNumber),t.Ds.addTargetData(s,d).next(()=>d))))}).then(s=>{const d=t.Li.get(s.targetId);return(null===d||s.snapshotVersion.compareTo(d.snapshotVersion)>0)&&(t.Li=t.Li.insert(s.targetId,s),t.qi.set(e,s.targetId)),s})}function ah(i,e,t){return dp.apply(this,arguments)}function dp(){return dp=(0,Ae.Z)(function*(i,e,t){const s=Vt(i),d=s.Li.get(e),m=t?"readwrite":"readwrite-primary";try{t||(yield s.persistence.runTransaction("Release target",m,w=>s.persistence.referenceDelegate.removeTarget(w,d)))}catch(w){if(!Ba(w))throw w;mt("LocalStore",`Failed to update sequence numbers for target ${e}: ${w}`)}s.Li=s.Li.remove(e),s.qi.delete(d.target)}),dp.apply(this,arguments)}function hp(i,e,t){const s=Vt(i);let d=xn.min(),m=rr();return s.persistence.runTransaction("Execute query","readonly",w=>function(N,$,W){const re=Vt(N),De=re.qi.get(W);return void 0!==De?lt.resolve(re.Li.get(De)):re.Ds.getTargetData($,W)}(s,w,lo(e)).next(N=>{if(N)return d=N.lastLimboFreeSnapshotVersion,s.Ds.getMatchingKeysForTargetId(w,N.targetId).next($=>{m=$})}).next(()=>s.Bi.getDocumentsMatchingQuery(w,e,t?d:xn.min(),t?m:rr())).next(N=>(ff(s,lc(e),N),{documents:N,Wi:m})))}function dg(i,e){const t=Vt(i),s=Vt(t.Ds),d=t.Li.get(e);return d?Promise.resolve(d.target):t.persistence.runTransaction("Get target data","readonly",m=>s.ne(m,e).next(w=>w?w.target:null))}function fp(i,e){const t=Vt(i),s=t.Ui.get(e)||xn.min();return t.persistence.runTransaction("Get new document changes","readonly",d=>t.Ki.getAllFromCollectionGroup(d,e,gl(s,-1),Number.MAX_SAFE_INTEGER)).then(d=>(ff(t,e,d),d))}function ff(i,e,t){let s=i.Ui.get(e)||xn.min();t.forEach((d,m)=>{m.readTime.compareTo(s)>0&&(s=m.readTime)}),i.Ui.set(e,s)}function pf(){return pf=(0,Ae.Z)(function*(i,e,t,s){const d=Vt(i);let m=rr(),w=os();for(const W of t){const re=e.Hi(W.metadata.name);W.document&&(m=m.add(re));const De=e.Ji(W);De.setReadTime(e.Yi(W.metadata.readTime)),w=w.insert(re,De)}const N=d.Ki.newChangeBuffer({trackRemovals:!0}),$=yield Mc(d,(W=s,lo(Ru(wr.fromString(`__bundle__/docs/${W}`)))));var W;return d.persistence.runTransaction("Apply bundle documents","readwrite",W=>cg(W,N,w).next(re=>(N.apply(W),re)).next(re=>d.Ds.removeMatchingKeysForTargetId(W,$.targetId).next(()=>d.Ds.addMatchingKeys(W,m,$.targetId)).next(()=>d.localDocuments.getLocalViewOfDocuments(W,re.zi,re.ji)).next(()=>re.zi)))}),pf.apply(this,arguments)}function Nc(i,e){return gf.apply(this,arguments)}function gf(){return gf=(0,Ae.Z)(function*(i,e,t=rr()){const s=yield Mc(i,lo(eh(e.bundledQuery))),d=Vt(i);return d.persistence.runTransaction("Save named query","readwrite",m=>{const w=Pi(e.readTime);if(s.snapshotVersion.compareTo(w)>=0)return d.xs.saveNamedQuery(m,e);const N=s.withResumeToken(Dn.EMPTY_BYTE_STRING,w);return d.Li=d.Li.insert(N.targetId,N),d.Ds.updateTargetData(m,N).next(()=>d.Ds.removeMatchingKeysForTargetId(m,s.targetId)).next(()=>d.Ds.addMatchingKeys(m,t,s.targetId)).next(()=>d.xs.saveNamedQuery(m,e))})}),gf.apply(this,arguments)}function hg(i,e){return`firestore_clients_${i}_${e}`}function mf(i,e,t){let s=`firestore_mutations_${i}_${t}`;return e.isAuthenticated()&&(s+=`_${e.uid}`),s}function _f(i,e){return`firestore_targets_${i}_${e}`}class lh{constructor(e,t,s,d){this.user=e,this.batchId=t,this.state=s,this.error=d}static Zi(e,t,s){const d=JSON.parse(s);let m,w="object"==typeof d&&-1!==["pending","acknowledged","rejected"].indexOf(d.state)&&(void 0===d.error||"object"==typeof d.error);return w&&d.error&&(w="string"==typeof d.error.message&&"string"==typeof d.error.code,w&&(m=new St(d.error.code,d.error.message))),w?new lh(e,t,d.state,m):(br("SharedClientState",`Failed to parse mutation state for ID '${t}': ${s}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class uh{constructor(e,t,s){this.targetId=e,this.state=t,this.error=s}static Zi(e,t){const s=JSON.parse(t);let d,m="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return m&&s.error&&(m="string"==typeof s.error.message&&"string"==typeof s.error.code,m&&(d=new St(s.error.code,s.error.message))),m?new uh(e,s.state,d):(br("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class yf{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const s=JSON.parse(t);let d="object"==typeof s&&s.activeTargetIds instanceof Array,m=ja();for(let w=0;d&&w<s.activeTargetIds.length;++w)d=E(s.activeTargetIds[w]),m=m.add(s.activeTargetIds[w]);return d?new yf(e,m):(br("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class pp{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new pp(t.clientId,t.onlineState):(br("SharedClientState",`Failed to parse online state: ${e}`),null)}}class vf{constructor(){this.activeTargetIds=ja()}tr(e){this.activeTargetIds=this.activeTargetIds.add(e)}er(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Xi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class fg{constructor(e,t,s,d,m){this.window=e,this.Ws=t,this.persistenceKey=s,this.nr=d,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.sr=this.ir.bind(this),this.rr=new Y(zn),this.started=!1,this.ur=[];const w=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=m,this.cr=hg(this.persistenceKey,this.nr),this.ar=`firestore_sequence_number_${this.persistenceKey}`,this.rr=this.rr.insert(this.nr,new vf),this.hr=new RegExp(`^firestore_clients_${w}_([^_]*)$`),this.lr=new RegExp(`^firestore_mutations_${w}_(\\d+)(?:_(.*))?$`),this.dr=new RegExp(`^firestore_targets_${w}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this._r=function(N){return`firestore_bundle_loaded_v2_${N}`}(this.persistenceKey),this.window.addEventListener("storage",this.sr)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Ae.Z)(function*(){const t=yield e.syncEngine.bi();for(const d of t){if(d===e.nr)continue;const m=e.getItem(hg(e.persistenceKey,d));if(m){const w=yf.Zi(d,m);w&&(e.rr=e.rr.insert(w.clientId,w))}}e.mr();const s=e.storage.getItem(e.wr);if(s){const d=e.gr(s);d&&e.yr(d)}for(const d of e.ur)e.ir(d);e.ur=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ar,JSON.stringify(e))}getAllActiveQueryTargets(){return this.pr(this.rr)}isActiveQueryTarget(e){let t=!1;return this.rr.forEach((s,d)=>{d.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Ir(e,"pending")}updateMutationState(e,t,s){this.Ir(e,t,s),this.Tr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(_f(this.persistenceKey,e));if(s){const d=uh.Zi(e,s);d&&(t=d.state)}}return this.Er.tr(e),this.mr(),t}removeLocalQueryTarget(e){this.Er.er(e),this.mr()}isLocalQueryTarget(e){return this.Er.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(_f(this.persistenceKey,e))}updateQueryState(e,t,s){this.Ar(e,t,s)}handleUserChange(e,t,s){t.forEach(d=>{this.Tr(d)}),this.currentUser=e,s.forEach(d=>{this.addPendingMutation(d)})}setOnlineState(e){this.Rr(e)}notifyBundleLoaded(e){this.vr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.sr),this.removeItem(this.cr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return mt("SharedClientState","READ",e,t),t}setItem(e,t){mt("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){mt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ir(e){var t=this;const s=e;if(s.storageArea===this.storage){if(mt("SharedClientState","EVENT",s.key,s.newValue),s.key===this.cr)return void br("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ws.enqueueRetryable((0,Ae.Z)(function*(){if(t.started){if(null!==s.key)if(t.hr.test(s.key)){if(null==s.newValue){const d=t.br(s.key);return t.Pr(d,null)}{const d=t.Vr(s.key,s.newValue);if(d)return t.Pr(d.clientId,d)}}else if(t.lr.test(s.key)){if(null!==s.newValue){const d=t.Sr(s.key,s.newValue);if(d)return t.Dr(d)}}else if(t.dr.test(s.key)){if(null!==s.newValue){const d=t.Cr(s.key,s.newValue);if(d)return t.Nr(d)}}else if(s.key===t.wr){if(null!==s.newValue){const d=t.gr(s.newValue);if(d)return t.yr(d)}}else if(s.key===t.ar){const d=function(m){let w=Ps.ct;if(null!=m)try{const N=JSON.parse(m);nn("number"==typeof N),w=N}catch(N){br("SharedClientState","Failed to read sequence number from WebStorage",N)}return w}(s.newValue);d!==Ps.ct&&t.sequenceNumberHandler(d)}else if(s.key===t._r){const d=t.kr(s.newValue);yield Promise.all(d.map(m=>t.syncEngine.Or(m)))}}else t.ur.push(s)}))}}get Er(){return this.rr.get(this.nr)}mr(){this.setItem(this.cr,this.Er.Xi())}Ir(e,t,s){const d=new lh(this.currentUser,e,t,s),m=mf(this.persistenceKey,this.currentUser,e);this.setItem(m,d.Xi())}Tr(e){const t=mf(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Rr(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.nr,onlineState:e}))}Ar(e,t,s){const d=_f(this.persistenceKey,e),m=new uh(e,t,s);this.setItem(d,m.Xi())}vr(e){const t=JSON.stringify(Array.from(e));this.setItem(this._r,t)}br(e){const t=this.hr.exec(e);return t?t[1]:null}Vr(e,t){const s=this.br(e);return yf.Zi(s,t)}Sr(e,t){const s=this.lr.exec(e),d=Number(s[1]);return lh.Zi(new kn(void 0!==s[2]?s[2]:null),d,t)}Cr(e,t){const s=this.dr.exec(e),d=Number(s[1]);return uh.Zi(d,t)}gr(e){return pp.Zi(e)}kr(e){return JSON.parse(e)}Dr(e){var t=this;return(0,Ae.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.$r(e.batchId,e.state,e.error);mt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Nr(e){return this.syncEngine.Mr(e.targetId,e.state,e.error)}Pr(e,t){const s=t?this.rr.insert(e,t):this.rr.remove(e),d=this.pr(this.rr),m=this.pr(s),w=[],N=[];return m.forEach($=>{d.has($)||w.push($)}),d.forEach($=>{m.has($)||N.push($)}),this.syncEngine.Fr(w,N).then(()=>{this.rr=s})}yr(e){this.rr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}pr(e){let t=ja();return e.forEach((s,d)=>{t=t.unionWith(d.activeTargetIds)}),t}}class gp{constructor(){this.Br=new vf,this.Lr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e){return this.Br.tr(e),this.Lr[e]||"not-current"}updateQueryState(e,t,s){this.Lr[e]=t}removeLocalQueryTarget(e){this.Br.er(e)}isLocalQueryTarget(e){return this.Br.activeTargetIds.has(e)}clearQueryState(e){delete this.Lr[e]}getAllActiveQueryTargets(){return this.Br.activeTargetIds}isActiveQueryTarget(e){return this.Br.activeTargetIds.has(e)}start(){return this.Br=new vf,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class pg{qr(e){}shutdown(){}}class mp{constructor(){this.Ur=()=>this.Kr(),this.Gr=()=>this.Qr(),this.zr=[],this.jr()}qr(e){this.zr.push(e)}shutdown(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Gr)}jr(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Gr)}Kr(){mt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.zr)e(0)}Qr(){mt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.zr)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let ch=null;function dh(){return null===ch?ch=268435456+Math.round(2147483648*Math.random()):ch++,"0x"+ch.toString(16)}const Ky={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class bf{constructor(e){this.Wr=e.Wr,this.Hr=e.Hr}Jr(e){this.Yr=e}Zr(e){this.Xr=e}onMessage(e){this.eo=e}close(){this.Hr()}send(e){this.Wr(e)}no(){this.Yr()}so(e){this.Xr(e)}io(e){this.eo(e)}}const Jo="WebChannelConnection";class Jy extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.ro=(e.ssl?"https":"http")+"://"+e.host,this.oo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get uo(){return!1}co(e,t,s,d,m){const w=dh(),N=this.ao(e,t);mt("RestConnection",`Sending RPC '${e}' ${w}:`,N,s);const $={};return this.ho($,d,m),this.lo(e,N,$,s).then(W=>(mt("RestConnection",`Received RPC '${e}' ${w}: `,W),W),W=>{throw Kr("RestConnection",`RPC '${e}' ${w} failed with error: `,W,"url: ",N,"request:",s),W})}fo(e,t,s,d,m,w){return this.co(e,t,s,d,m)}ho(e,t,s){e["X-Goog-Api-Client"]="gl-js/ fire/"+Jn,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((d,m)=>e[m]=d),s&&s.headers.forEach((d,m)=>e[m]=d)}ao(e,t){return`${this.ro}/v1/${t}:${Ky[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}lo(e,t,s,d){const m=dh();return new Promise((w,N)=>{const $=new vt;$.setWithCredentials(!0),$.listenOnce(Z.COMPLETE,()=>{try{switch($.getLastErrorCode()){case k.NO_ERROR:const re=$.getResponseJson();mt(Jo,`XHR for RPC '${e}' ${m} received:`,JSON.stringify(re)),w(re);break;case k.TIMEOUT:mt(Jo,`RPC '${e}' ${m} timed out`),N(new St(it.DEADLINE_EXCEEDED,"Request time out"));break;case k.HTTP_ERROR:const De=$.getStatus();if(mt(Jo,`RPC '${e}' ${m} failed with status:`,De,"response text:",$.getResponseText()),De>0){let Ye=$.getResponseJson();Array.isArray(Ye)&&(Ye=Ye[0]);const wt=Ye?.error;if(wt&&wt.status&&wt.message){const Kt=function(yn){const Ln=yn.toLowerCase().replace(/_/g,"-");return Object.values(it).indexOf(Ln)>=0?Ln:it.UNKNOWN}(wt.status);N(new St(Kt,wt.message))}else N(new St(it.UNKNOWN,"Server responded with status "+$.getStatus()))}else N(new St(it.UNAVAILABLE,"Connection failed."));break;default:dn()}}finally{mt(Jo,`RPC '${e}' ${m} completed.`)}});const W=JSON.stringify(d);mt(Jo,`RPC '${e}' ${m} sending request:`,d),$.send(t,"POST",W,s,15)})}wo(e,t,s){const d=dh(),m=[this.ro,"/","google.firestore.v1.Firestore","/",e,"/channel"],w=_o(),N=ks(),$={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&($.xmlHttpFactory=new be({})),this.ho($.initMessageHeaders,t,s),$.encodeInitMessageHeaders=!0;const W=m.join("");mt(Jo,`Creating RPC '${e}' stream ${d}: ${W}`,$);const re=w.createWebChannel(W,$);let De=!1,Ye=!1;const wt=new bf({Wr:yn=>{Ye?mt(Jo,`Not sending because RPC '${e}' stream ${d} is closed:`,yn):(De||(mt(Jo,`Opening RPC '${e}' stream ${d} transport.`),re.open(),De=!0),mt(Jo,`RPC '${e}' stream ${d} sending:`,yn),re.send(yn))},Hr:()=>re.close()}),Kt=(yn,Ln,ei)=>{yn.listen(Ln,ys=>{try{ei(ys)}catch(Ur){setTimeout(()=>{throw Ur},0)}})};return Kt(re,ot.EventType.OPEN,()=>{Ye||mt(Jo,`RPC '${e}' stream ${d} transport opened.`)}),Kt(re,ot.EventType.CLOSE,()=>{Ye||(Ye=!0,mt(Jo,`RPC '${e}' stream ${d} transport closed`),wt.so())}),Kt(re,ot.EventType.ERROR,yn=>{Ye||(Ye=!0,Kr(Jo,`RPC '${e}' stream ${d} transport errored:`,yn),wt.so(new St(it.UNAVAILABLE,"The operation could not be completed")))}),Kt(re,ot.EventType.MESSAGE,yn=>{var Ln;if(!Ye){const ei=yn.data[0];nn(!!ei);const ys=ei,Ur=ys.error||(null===(Ln=ys[0])||void 0===Ln?void 0:Ln.error);if(Ur){mt(Jo,`RPC '${e}' stream ${d} received error:`,Ur);const ea=Ur.status;let Qi=function(qa){const Sd=D[qa];if(void 0!==Sd)return I(Sd)}(ea),ls=Ur.message;void 0===Qi&&(Qi=it.INTERNAL,ls="Unknown error status: "+ea+" with message "+Ur.message),Ye=!0,wt.so(new St(Qi,ls)),re.close()}else mt(Jo,`RPC '${e}' stream ${d} received:`,ei),wt.io(ei)}}),Kt(N,L.STAT_EVENT,yn=>{yn.stat===X.PROXY?mt(Jo,`RPC '${e}' stream ${d} detected buffering proxy`):yn.stat===X.NOPROXY&&mt(Jo,`RPC '${e}' stream ${d} detected no buffering proxy`)}),setTimeout(()=>{wt.no()},0),wt}}function ju(){return typeof window<"u"?window:null}function hh(){return typeof document<"u"?document:null}function fh(i){return new gc(i,!0)}class xc{constructor(e,t,s=1e3,d=1.5,m=6e4){this.Ws=e,this.timerId=t,this._o=s,this.mo=d,this.yo=m,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const t=Math.floor(this.po+this.Ro()),s=Math.max(0,Date.now()-this.To),d=Math.max(0,t-s);d>0&&mt("ExponentialBackoff",`Backing off for ${d} ms (base delay: ${this.po} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Io=this.Ws.enqueueAfterDelay(this.timerId,d,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this._o&&(this.po=this._o),this.po>this.yo&&(this.po=this.yo)}vo(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}cancel(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}class Za{constructor(e,t,s,d,m,w,N,$){this.Ws=e,this.bo=s,this.Po=d,this.connection=m,this.authCredentialsProvider=w,this.appCheckCredentialsProvider=N,this.listener=$,this.state=0,this.Vo=0,this.So=null,this.Do=null,this.stream=null,this.Co=new xc(e,t)}xo(){return 1===this.state||5===this.state||this.No()}No(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.ko()}stop(){var e=this;return(0,Ae.Z)(function*(){e.xo()&&(yield e.close(0))})()}Oo(){this.state=0,this.Co.reset()}$o(){this.No()&&null===this.So&&(this.So=this.Ws.enqueueAfterDelay(this.bo,6e4,()=>this.Mo()))}Fo(e){this.Bo(),this.stream.send(e)}Mo(){var e=this;return(0,Ae.Z)(function*(){if(e.No())return e.close(0)})()}Bo(){this.So&&(this.So.cancel(),this.So=null)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}close(e,t){var s=this;return(0,Ae.Z)(function*(){s.Bo(),s.Lo(),s.Co.cancel(),s.Vo++,4!==e?s.Co.reset():t&&t.code===it.RESOURCE_EXHAUSTED?(br(t.toString()),br("Using maximum backoff delay to prevent overloading the backend."),s.Co.Eo()):t&&t.code===it.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.qo(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Uo(this.Vo),t=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,d])=>{this.Vo===t&&this.Ko(s,d)},s=>{e(()=>{const d=new St(it.UNKNOWN,"Fetching auth token failed: "+s.message);return this.Go(d)})})}Ko(e,t){const s=this.Uo(this.Vo);this.stream=this.Qo(e,t),this.stream.Jr(()=>{s(()=>(this.state=2,this.Do=this.Ws.enqueueAfterDelay(this.Po,1e4,()=>(this.No()&&(this.state=3),Promise.resolve())),this.listener.Jr()))}),this.stream.Zr(d=>{s(()=>this.Go(d))}),this.stream.onMessage(d=>{s(()=>this.onMessage(d))})}ko(){var e=this;this.state=5,this.Co.Ao((0,Ae.Z)(function*(){e.state=0,e.start()}))}Go(e){return mt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Uo(e){return t=>{this.Ws.enqueueAndForget(()=>this.Vo===e?t():(mt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class gg extends Za{constructor(e,t,s,d,m,w){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,d,w),this.serializer=m}Qo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.Co.reset();const t=function Kg(i,e){let t;if("targetChange"in e){const s="NO_CHANGE"===($=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===$?1:"REMOVE"===$?2:"CURRENT"===$?3:"RESET"===$?4:dn(),d=e.targetChange.targetIds||[],m=function($,W){return $.useProto3Json?(nn(void 0===W||"string"==typeof W),Dn.fromBase64String(W||"")):(nn(void 0===W||W instanceof Uint8Array),Dn.fromUint8Array(W||new Uint8Array))}(i,e.targetChange.resumeToken),w=e.targetChange.cause,N=w&&function($){const W=void 0===$.code?it.UNKNOWN:I($.code);return new St(W,$.message||"")}(w);t=new jn(s,d,m,N||null)}else if("documentChange"in e){const s=e.documentChange,d=Lo(i,s.document.name),m=Pi(s.document.updateTime),w=s.document.createTime?Pi(s.document.createTime):xn.min(),N=new ao({mapValue:{fields:s.document.fields}}),$=bi.newFoundDocument(d,m,w,N);t=new Qt(s.targetIds||[],s.removedTargetIds||[],$.key,$)}else if("documentDelete"in e){const s=e.documentDelete,d=Lo(i,s.document),m=s.readTime?Pi(s.readTime):xn.min(),w=bi.newNoDocument(d,m);t=new Qt([],s.removedTargetIds||[],w.key,w)}else if("documentRemove"in e){const s=e.documentRemove,d=Lo(i,s.document);t=new Qt([],s.removedTargetIds||[],d,null)}else{if(!("filter"in e))return dn();{const s=e.filter,m=new fu(s.count||0);t=new Cn(s.targetId,m)}}var $;return t}(this.serializer,e),s=function(d){if(!("targetChange"in d))return xn.min();const m=d.targetChange;return m.targetIds&&m.targetIds.length?xn.min():m.readTime?Pi(m.readTime):xn.min()}(e);return this.listener.zo(t,s)}jo(e){const t={};t.database=gu(this.serializer),t.addTarget=function(d,m){let w;const N=m.target;return w=Xc(N)?{documents:Yf(d,N)}:{query:Yd(d,N)},w.targetId=m.targetId,m.resumeToken.approximateByteSize()>0?w.resumeToken=pu(d,m.resumeToken):m.snapshotVersion.compareTo(xn.min())>0&&(w.readTime=Co(d,m.snapshotVersion.toTimestamp())),w}(this.serializer,e);const s=function qs(i,e){const t=function(s,d){switch(d){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return dn()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);s&&(t.labels=s),this.Fo(t)}Wo(e){const t={};t.database=gu(this.serializer),t.removeTarget=e,this.Fo(t)}}class cm extends Za{constructor(e,t,s,d,m,w){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,d,w),this.serializer=m,this.Ho=!1}get Jo(){return this.Ho}start(){this.Ho=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Ho&&this.Yo([])}Qo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(nn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Ho){this.Co.reset();const t=function Qh(i,e){return i&&i.length>0?(nn(void 0!==e),i.map(t=>function(s,d){let m=Pi(s.updateTime?s.updateTime:d);return m.isEqual(xn.min())&&(m=Pi(d)),new hc(m,s.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),s=Pi(e.commitTime);return this.listener.Zo(s,t)}return nn(!e.writeResults||0===e.writeResults.length),this.Ho=!0,this.listener.Xo()}tu(){const e={};e.database=gu(this.serializer),this.Fo(e)}Yo(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>ad(this.serializer,s))};this.Fo(t)}}class wf extends class{}{constructor(e,t,s,d){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=d,this.eu=!1}nu(){if(this.eu)throw new St(it.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,t,s){return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,m])=>this.connection.co(e,t,s,d,m)).catch(d=>{throw"FirebaseError"===d.name?(d.code===it.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new St(it.UNKNOWN,d.toString())})}fo(e,t,s,d){return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([m,w])=>this.connection.fo(e,t,s,m,w,d)).catch(m=>{throw"FirebaseError"===m.name?(m.code===it.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),m):new St(it.UNKNOWN,m.toString())})}terminate(){this.eu=!0}}class _p{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.su=0,this.iu=null,this.ru=!0}ou(){0===this.su&&(this.uu("Unknown"),this.iu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.iu=null,this.cu("Backend didn't respond within 10 seconds."),this.uu("Offline"),Promise.resolve())))}au(e){"Online"===this.state?this.uu("Unknown"):(this.su++,this.su>=1&&(this.hu(),this.cu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.uu("Offline")))}set(e){this.hu(),this.su=0,"Online"===e&&(this.ru=!1),this.uu(e)}uu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}cu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ru?(br(t),this.ru=!1):mt("OnlineStateTracker",t)}hu(){null!==this.iu&&(this.iu.cancel(),this.iu=null)}}class yp{constructor(e,t,s,d,m){var w=this;this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.lu=[],this.fu=new Map,this.du=new Set,this.wu=[],this._u=m,this._u.qr(N=>{s.enqueueAndForget((0,Ae.Z)(function*(){var $;Du(w)&&(mt("RemoteStore","Restarting streams for network reachability change."),yield($=(0,Ae.Z)(function*(W){const re=Vt(W);re.du.add(4),yield fd(re),re.mu.set("Unknown"),re.du.delete(4),yield Df(re)}),function(W){return $.apply(this,arguments)})(w))}))}),this.mu=new _p(s,d)}}function Df(i){return vp.apply(this,arguments)}function vp(){return vp=(0,Ae.Z)(function*(i){if(Du(i))for(const e of i.wu)yield e(!0)}),vp.apply(this,arguments)}function fd(i){return pd.apply(this,arguments)}function pd(){return pd=(0,Ae.Z)(function*(i){for(const e of i.wu)yield e(!1)}),pd.apply(this,arguments)}function kc(i,e){const t=Vt(i);t.fu.has(e.targetId)||(t.fu.set(e.targetId,e),Dp(t)?wp(t):xt(t).No()&&gh(t,e))}function Rc(i,e){const t=Vt(i),s=xt(t);t.fu.delete(e),s.No()&&bp(t,e),0===t.fu.size&&(s.No()?s.$o():Du(t)&&t.mu.set("Unknown"))}function gh(i,e){i.gu.Ot(e.targetId),xt(i).jo(e)}function bp(i,e){i.gu.Ot(e),xt(i).Wo(e)}function wp(i){i.gu=new Oi({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>i.fu.get(e)||null}),xt(i).start(),i.mu.ou()}function Dp(i){return Du(i)&&!xt(i).xo()&&i.fu.size>0}function Du(i){return 0===Vt(i).du.size}function mg(i){i.gu=void 0}function S_(i){return mh.apply(this,arguments)}function mh(){return mh=(0,Ae.Z)(function*(i){i.fu.forEach((e,t)=>{gh(i,e)})}),mh.apply(this,arguments)}function A_(i,e){return Cp.apply(this,arguments)}function Cp(){return Cp=(0,Ae.Z)(function*(i,e){mg(i),Dp(i)?(i.mu.au(e),wp(i)):i.mu.set("Unknown")}),Cp.apply(this,arguments)}function dm(i,e,t){return Cf.apply(this,arguments)}function Cf(){return Cf=(0,Ae.Z)(function*(i,e,t){if(i.mu.set("Online"),e instanceof jn&&2===e.state&&e.cause)try{yield(s=(0,Ae.Z)(function*(d,m){const w=m.cause;for(const N of m.targetIds)d.fu.has(N)&&(yield d.remoteSyncer.rejectListen(N,w),d.fu.delete(N),d.gu.removeTarget(N))}),function(d,m){return s.apply(this,arguments)})(i,e)}catch(s){mt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield gd(i,s)}else if(e instanceof Qt?i.gu.Kt(e):e instanceof Cn?i.gu.Jt(e):i.gu.zt(e),!t.isEqual(xn.min()))try{const s=yield hf(i.localStore);t.compareTo(s)>=0&&(yield function(d,m){const w=d.gu.Xt(m);return w.targetChanges.forEach((N,$)=>{if(N.resumeToken.approximateByteSize()>0){const W=d.fu.get($);W&&d.fu.set($,W.withResumeToken(N.resumeToken,m))}}),w.targetMismatches.forEach(N=>{const $=d.fu.get(N);if(!$)return;d.fu.set(N,$.withResumeToken(Dn.EMPTY_BYTE_STRING,$.snapshotVersion)),bp(d,N);const W=new Uu($.target,N,1,$.sequenceNumber);gh(d,W)}),d.remoteSyncer.applyRemoteEvent(w)}(i,t))}catch(s){mt("RemoteStore","Failed to raise snapshot:",s),yield gd(i,s)}var s}),Cf.apply(this,arguments)}function gd(i,e,t){return Ep.apply(this,arguments)}function Ep(){return Ep=(0,Ae.Z)(function*(i,e,t){if(!Ba(e))throw e;i.du.add(1),yield fd(i),i.mu.set("Offline"),t||(t=()=>hf(i.localStore)),i.asyncQueue.enqueueRetryable((0,Ae.Z)(function*(){mt("RemoteStore","Retrying IndexedDB access"),yield t(),i.du.delete(1),yield Df(i)}))}),Ep.apply(this,arguments)}function Ef(i,e){return e().catch(t=>gd(i,t,e))}function _h(i){return hm.apply(this,arguments)}function hm(){return hm=(0,Ae.Z)(function*(i){const e=Vt(i),t=Ut(e);let s=e.lu.length>0?e.lu[e.lu.length-1].batchId:-1;for(;fm(e);)try{const d=yield oh(e.localStore,s);if(null===d){0===e.lu.length&&t.$o();break}s=d.batchId,M_(e,d)}catch(d){yield gd(e,d)}pm(e)&&gm(e)}),hm.apply(this,arguments)}function fm(i){return Du(i)&&i.lu.length<10}function M_(i,e){i.lu.push(e);const t=Ut(i);t.No()&&t.Jo&&t.Yo(e.mutations)}function pm(i){return Du(i)&&!Ut(i).xo()&&i.lu.length>0}function gm(i){Ut(i).start()}function u(i){return f.apply(this,arguments)}function f(){return f=(0,Ae.Z)(function*(i){Ut(i).tu()}),f.apply(this,arguments)}function o(i){return h.apply(this,arguments)}function h(){return h=(0,Ae.Z)(function*(i){const e=Ut(i);for(const t of i.lu)e.Yo(t.mutations)}),h.apply(this,arguments)}function b(i,e,t){return S.apply(this,arguments)}function S(){return S=(0,Ae.Z)(function*(i,e,t){const s=i.lu.shift(),d=fc.from(s,e,t);yield Ef(i,()=>i.remoteSyncer.applySuccessfulWrite(d)),yield _h(i)}),S.apply(this,arguments)}function J(i,e){return ae.apply(this,arguments)}function ae(){return ae=(0,Ae.Z)(function*(i,e){var t;e&&Ut(i).Jo&&(yield(t=(0,Ae.Z)(function*(s,d){if(_(m=d.code)&&m!==it.ABORTED){const w=s.lu.shift();Ut(s).Oo(),yield Ef(s,()=>s.remoteSyncer.rejectFailedWrite(w.batchId,d)),yield _h(s)}var m}),function(s,d){return t.apply(this,arguments)})(i,e)),pm(i)&&gm(i)}),ae.apply(this,arguments)}function ge(i,e){return Re.apply(this,arguments)}function Re(){return Re=(0,Ae.Z)(function*(i,e){const t=Vt(i);t.asyncQueue.verifyOperationInProgress(),mt("RemoteStore","RemoteStore received new credentials");const s=Du(t);t.du.add(3),yield fd(t),s&&t.mu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.du.delete(3),yield Df(t)}),Re.apply(this,arguments)}function ht(i,e){return Yt.apply(this,arguments)}function Yt(){return Yt=(0,Ae.Z)(function*(i,e){const t=Vt(i);e?(t.du.delete(2),yield Df(t)):e||(t.du.add(2),yield fd(t),t.mu.set("Unknown"))}),Yt.apply(this,arguments)}function xt(i){return i.yu||(i.yu=function(e,t,s){const d=Vt(e);return d.nu(),new gg(t,d.connection,d.authCredentials,d.appCheckCredentials,d.serializer,s)}(i.datastore,i.asyncQueue,{Jr:S_.bind(null,i),Zr:A_.bind(null,i),zo:dm.bind(null,i)}),i.wu.push(function(){var e=(0,Ae.Z)(function*(t){t?(i.yu.Oo(),Dp(i)?wp(i):i.mu.set("Unknown")):(yield i.yu.stop(),mg(i))});return function(t){return e.apply(this,arguments)}}())),i.yu}function Ut(i){return i.pu||(i.pu=function(e,t,s){const d=Vt(e);return d.nu(),new cm(t,d.connection,d.authCredentials,d.appCheckCredentials,d.serializer,s)}(i.datastore,i.asyncQueue,{Jr:u.bind(null,i),Zr:J.bind(null,i),Xo:o.bind(null,i),Zo:b.bind(null,i)}),i.wu.push(function(){var e=(0,Ae.Z)(function*(t){t?(i.pu.Oo(),yield _h(i)):(yield i.pu.stop(),i.lu.length>0&&(mt("RemoteStore",`Stopping write stream with ${i.lu.length} pending writes`),i.lu=[]))});return function(t){return e.apply(this,arguments)}}())),i.pu}class an{constructor(e,t,s,d,m){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=d,this.removalCallback=m,this.deferred=new Ei,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(w=>{})}static createAndSchedule(e,t,s,d,m){const w=Date.now()+s,N=new an(e,t,w,d,m);return N.start(s),N}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new St(it.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Fn(i,e){if(br("AsyncQueue",`${e}: ${i}`),Ba(i))return new St(it.UNAVAILABLE,`${e}: ${i}`);throw i}class ar{constructor(e){this.comparator=e?(t,s)=>e(t,s)||en.comparator(t.key,s.key):(t,s)=>en.comparator(t.key,s.key),this.keyedMap=Ou(),this.sortedSet=new Y(this.comparator)}static emptySet(e){return new ar(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ar)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const d=t.getNext().key,m=s.getNext().key;if(!d.isEqual(m))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const s=new ar;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class Ar{constructor(){this.Iu=new Y(en.comparator)}track(e){const t=e.doc.key,s=this.Iu.get(t);s?0!==e.type&&3===s.type?this.Iu=this.Iu.insert(t,e):3===e.type&&1!==s.type?this.Iu=this.Iu.insert(t,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.Iu=this.Iu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.Iu=this.Iu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.Iu=this.Iu.remove(t):1===e.type&&2===s.type?this.Iu=this.Iu.insert(t,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.Iu=this.Iu.insert(t,{type:2,doc:e.doc}):dn():this.Iu=this.Iu.insert(t,e)}Tu(){const e=[];return this.Iu.inorderTraversal((t,s)=>{e.push(s)}),e}}class zr{constructor(e,t,s,d,m,w,N,$,W){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=d,this.mutatedKeys=m,this.fromCache=w,this.syncStateChanged=N,this.excludesMetadataChanges=$,this.hasCachedResults=W}static fromInitialDocuments(e,t,s,d,m){const w=[];return t.forEach(N=>{w.push({type:0,doc:N})}),new zr(e,t,ar.emptySet(t),w,s,d,!0,!1,m)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&nd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let d=0;d<t.length;d++)if(t[d].type!==s[d].type||!t[d].doc.isEqual(s[d].doc))return!1;return!0}}class Ji{constructor(){this.Eu=void 0,this.listeners=[]}}class Ii{constructor(){this.queries=new ai(e=>Hl(e),nd),this.onlineState="Unknown",this.Au=new Set}}function ga(i,e){return Qo.apply(this,arguments)}function Qo(){return Qo=(0,Ae.Z)(function*(i,e){const t=Vt(i),s=e.query;let d=!1,m=t.queries.get(s);if(m||(d=!0,m=new Ji),d)try{m.Eu=yield t.onListen(s)}catch(w){const N=Fn(w,`Initialization of query '${Ki(e.query)}' failed`);return void e.onError(N)}t.queries.set(s,m),m.listeners.push(e),e.Ru(t.onlineState),m.Eu&&e.vu(m.Eu)&&Ip(t)}),Qo.apply(this,arguments)}function Jl(i,e){return uo.apply(this,arguments)}function uo(){return uo=(0,Ae.Z)(function*(i,e){const t=Vt(i),s=e.query;let d=!1;const m=t.queries.get(s);if(m){const w=m.listeners.indexOf(e);w>=0&&(m.listeners.splice(w,1),d=0===m.listeners.length)}if(d)return t.queries.delete(s),t.onUnlisten(s)}),uo.apply(this,arguments)}function If(i,e){const t=Vt(i);let s=!1;for(const d of e){const w=t.queries.get(d.query);if(w){for(const N of w.listeners)N.vu(d)&&(s=!0);w.Eu=d}}s&&Ip(t)}function N_(i,e,t){const s=Vt(i),d=s.queries.get(e);if(d)for(const m of d.listeners)m.onError(t);s.queries.delete(e)}function Ip(i){i.Au.forEach(e=>{e.next()})}class Tp{constructor(e,t,s){this.query=e,this.bu=t,this.Pu=!1,this.Vu=null,this.onlineState="Unknown",this.options=s||{}}vu(e){if(!this.options.includeMetadataChanges){const s=[];for(const d of e.docChanges)3!==d.type&&s.push(d);e=new zr(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Pu?this.Su(e)&&(this.bu.next(e),t=!0):this.Du(e,this.onlineState)&&(this.Cu(e),t=!0),this.Vu=e,t}onError(e){this.bu.error(e)}Ru(e){this.onlineState=e;let t=!1;return this.Vu&&!this.Pu&&this.Du(this.Vu,e)&&(this.Cu(this.Vu),t=!0),t}Du(e,t){return!e.fromCache||(!this.options.xu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Su(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Cu(e){e=zr.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Pu=!0,this.bu.next(e)}}class x_{constructor(e,t){this.Nu=e,this.byteLength=t}ku(){return"metadata"in this.Nu}}class _g{constructor(e){this.serializer=e}Hi(e){return Lo(this.serializer,e)}Ji(e){return e.metadata.exists?Jh(this.serializer,e.document,!1):bi.newNoDocument(this.Hi(e.metadata.name),this.Yi(e.metadata.readTime))}Yi(e){return Pi(e)}}class Qy{constructor(e,t,s){this.Ou=e,this.localStore=t,this.serializer=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Xy(e)}$u(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Nu.namedQuery)this.queries.push(e.Nu.namedQuery);else if(e.Nu.documentMetadata){this.documents.push({metadata:e.Nu.documentMetadata}),e.Nu.documentMetadata.exists||++t;const s=wr.fromString(e.Nu.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else e.Nu.document&&(this.documents[this.documents.length-1].document=e.Nu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Mu(e){const t=new Map,s=new _g(this.serializer);for(const d of e)if(d.metadata.queries){const m=s.Hi(d.metadata.name);for(const w of d.metadata.queries){const N=(t.get(w)||rr()).add(m);t.set(w,N)}}return t}complete(){var e=this;return(0,Ae.Z)(function*(){const t=yield function um(i,e,t,s){return pf.apply(this,arguments)}(e.localStore,new _g(e.serializer),e.documents,e.Ou.id),s=e.Mu(e.documents);for(const d of e.queries)yield Nc(e.localStore,d,s.get(d.name));return e.progress.taskState="Success",{progress:e.progress,Fu:e.collectionGroups,Bu:t}})()}}function Xy(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class k_{constructor(e){this.key=e}}class mm{constructor(e){this.key=e}}class R_{constructor(e,t){this.query=e,this.Lu=t,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Uu=rr(),this.mutatedKeys=rr(),this.Ku=Dl(e),this.Gu=new ar(this.Ku)}get Qu(){return this.Lu}zu(e,t){const s=t?t.ju:new Ar,d=t?t.Gu:this.Gu;let m=t?t.mutatedKeys:this.mutatedKeys,w=d,N=!1;const $="F"===this.query.limitType&&d.size===this.query.limit?d.last():null,W="L"===this.query.limitType&&d.size===this.query.limit?d.first():null;if(e.inorderTraversal((re,De)=>{const Ye=d.get(re),wt=sl(this.query,De)?De:null,Kt=!!Ye&&this.mutatedKeys.has(Ye.key),yn=!!wt&&(wt.hasLocalMutations||this.mutatedKeys.has(wt.key)&&wt.hasCommittedMutations);let Ln=!1;Ye&&wt?Ye.data.isEqual(wt.data)?Kt!==yn&&(s.track({type:3,doc:wt}),Ln=!0):this.Wu(Ye,wt)||(s.track({type:2,doc:wt}),Ln=!0,($&&this.Ku(wt,$)>0||W&&this.Ku(wt,W)<0)&&(N=!0)):!Ye&&wt?(s.track({type:0,doc:wt}),Ln=!0):Ye&&!wt&&(s.track({type:1,doc:Ye}),Ln=!0,($||W)&&(N=!0)),Ln&&(wt?(w=w.add(wt),m=yn?m.add(re):m.delete(re)):(w=w.delete(re),m=m.delete(re)))}),null!==this.query.limit)for(;w.size>this.query.limit;){const re="F"===this.query.limitType?w.last():w.first();w=w.delete(re.key),m=m.delete(re.key),s.track({type:1,doc:re})}return{Gu:w,ju:s,Mi:N,mutatedKeys:m}}Wu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s){const d=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;const m=e.ju.Tu();m.sort((W,re)=>function(De,Ye){const wt=Kt=>{switch(Kt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return dn()}};return wt(De)-wt(Ye)}(W.type,re.type)||this.Ku(W.doc,re.doc)),this.Hu(s);const w=t?this.Ju():[],N=0===this.Uu.size&&this.current?1:0,$=N!==this.qu;return this.qu=N,0!==m.length||$?{snapshot:new zr(this.query,e.Gu,d,m,e.mutatedKeys,0===N,$,!1,!!s&&s.resumeToken.approximateByteSize()>0),Yu:w}:{Yu:w}}Ru(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Gu:this.Gu,ju:new Ar,mutatedKeys:this.mutatedKeys,Mi:!1},!1)):{Yu:[]}}Zu(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}Hu(e){e&&(e.addedDocuments.forEach(t=>this.Lu=this.Lu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Lu=this.Lu.delete(t)),this.current=e.current)}Ju(){if(!this.current)return[];const e=this.Uu;this.Uu=rr(),this.Gu.forEach(s=>{this.Zu(s.key)&&(this.Uu=this.Uu.add(s.key))});const t=[];return e.forEach(s=>{this.Uu.has(s)||t.push(new mm(s))}),this.Uu.forEach(s=>{e.has(s)||t.push(new k_(s))}),t}Xu(e){this.Lu=e.Wi,this.Uu=rr();const t=this.zu(e.documents);return this.applyChanges(t,!0)}tc(){return zr.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class O_{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class P_{constructor(e){this.key=e,this.ec=!1}}class ev{constructor(e,t,s,d,m,w){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=d,this.currentUser=m,this.maxConcurrentLimboResolutions=w,this.nc={},this.sc=new ai(N=>Hl(N),nd),this.ic=new Map,this.rc=new Set,this.oc=new Y(en.comparator),this.uc=new Map,this.cc=new ig,this.ac={},this.hc=new Map,this.lc=ul.bn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return!0===this.fc}}function Al(i,e){return yg.apply(this,arguments)}function yg(){return yg=(0,Ae.Z)(function*(i,e){const t=Sg(i);let s,d;const m=t.sc.get(e);if(m)s=m.targetId,t.sharedClientState.addLocalQueryTarget(s),d=m.view.tc();else{const w=yield Mc(t.localStore,lo(e));t.isPrimaryClient&&kc(t.remoteStore,w);const N=t.sharedClientState.addLocalQueryTarget(w.targetId);s=w.targetId,d=yield _m(t,e,s,"current"===N,w.resumeToken)}return d}),yg.apply(this,arguments)}function _m(i,e,t,s,d){return F_.apply(this,arguments)}function F_(){return F_=(0,Ae.Z)(function*(i,e,t,s,d){i.dc=(De,Ye,wt)=>{return(Kt=(0,Ae.Z)(function*(yn,Ln,ei,ys){let Ur=Ln.view.zu(ei);Ur.Mi&&(Ur=yield hp(yn.localStore,Ln.query,!1).then(({documents:ls})=>Ln.view.zu(ls,Ur)));const ea=ys&&ys.targetChanges.get(Ln.targetId),Qi=Ln.view.applyChanges(Ur,yn.isPrimaryClient,ea);return wg(yn,Ln.targetId,Qi.Yu),Qi.snapshot}),function(yn,Ln,ei,ys){return Kt.apply(this,arguments)})(i,De,Ye,wt);var Kt};const m=yield hp(i.localStore,e,!0),w=new R_(e,m.Wi),N=w.zu(m.documents),$=gt.createSynthesizedTargetChangeForCurrentChange(t,s&&"Offline"!==i.onlineState,d),W=w.applyChanges(N,i.isPrimaryClient,$);wg(i,t,W.Yu);const re=new O_(e,t,w);return i.sc.set(e,re),i.ic.has(t)?i.ic.get(t).push(e):i.ic.set(t,[e]),W.snapshot}),F_.apply(this,arguments)}function tv(i,e){return Sp.apply(this,arguments)}function Sp(){return Sp=(0,Ae.Z)(function*(i,e){const t=Vt(i),s=t.sc.get(e),d=t.ic.get(s.targetId);if(d.length>1)return t.ic.set(s.targetId,d.filter(m=>!nd(m,e))),void t.sc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(s.targetId),t.sharedClientState.isActiveQueryTarget(s.targetId)||(yield ah(t.localStore,s.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(s.targetId),Rc(t.remoteStore,s.targetId),Tf(t,s.targetId)}).catch(js))):(Tf(t,s.targetId),yield ah(t.localStore,s.targetId,!0))}),Sp.apply(this,arguments)}function ym(){return ym=(0,Ae.Z)(function*(i,e,t){const s=Sm(i);try{const d=yield function(m,w){const N=Vt(m),$=Wr.now(),W=w.reduce((Ye,wt)=>Ye.add(wt.key),rr());let re,De;return N.persistence.runTransaction("Locally write mutations","readwrite",Ye=>{let wt=os(),Kt=rr();return N.Ki.getEntries(Ye,W).next(yn=>{wt=yn,wt.forEach((Ln,ei)=>{ei.isValidDocument()||(Kt=Kt.add(Ln))})}).next(()=>N.localDocuments.getOverlayedDocuments(Ye,wt)).next(yn=>{re=yn;const Ln=[];for(const ei of w){const ys=Gd(ei,re.get(ei.key).overlayedDocument);null!=ys&&Ln.push(new Ga(ei.key,ys,Vh(ys.value.mapValue),Ri.exists(!0)))}return N.mutationQueue.addMutationBatch(Ye,$,Ln,w)}).next(yn=>{De=yn;const Ln=yn.applyToLocalDocumentSet(re,Kt);return N.documentOverlayCache.saveOverlays(Ye,yn.batchId,Ln)})}).then(()=>({batchId:De.batchId,changes:Vd(re)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(d.batchId),function(m,w,N){let $=m.ac[m.currentUser.toKey()];$||($=new Y(zn)),$=$.insert(w,N),m.ac[m.currentUser.toKey()]=$}(s,d.batchId,t),yield Oc(s,d.changes),yield _h(s.remoteStore)}catch(d){const m=Fn(d,"Failed to persist write");t.reject(m)}}),ym.apply(this,arguments)}function V_(i,e){return vm.apply(this,arguments)}function vm(){return vm=(0,Ae.Z)(function*(i,e){const t=Vt(i);try{const s=yield Ac(t.localStore,e);e.targetChanges.forEach((d,m)=>{const w=t.uc.get(m);w&&(nn(d.addedDocuments.size+d.modifiedDocuments.size+d.removedDocuments.size<=1),d.addedDocuments.size>0?w.ec=!0:d.modifiedDocuments.size>0?nn(w.ec):d.removedDocuments.size>0&&(nn(w.ec),w.ec=!1))}),yield Oc(t,s,e)}catch(s){yield js(s)}}),vm.apply(this,arguments)}function bm(i,e,t){const s=Vt(i);if(s.isPrimaryClient&&0===t||!s.isPrimaryClient&&1===t){const d=[];s.sc.forEach((m,w)=>{const N=w.view.Ru(e);N.snapshot&&d.push(N.snapshot)}),function(m,w){const N=Vt(m);N.onlineState=w;let $=!1;N.queries.forEach((W,re)=>{for(const De of re.listeners)De.Ru(w)&&($=!0)}),$&&Ip(N)}(s.eventManager,e),d.length&&s.nc.zo(d),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function nv(i,e,t){return vg.apply(this,arguments)}function vg(){return vg=(0,Ae.Z)(function*(i,e,t){const s=Vt(i);s.sharedClientState.updateQueryState(e,"rejected",t);const d=s.uc.get(e),m=d&&d.key;if(m){let w=new Y(en.comparator);w=w.insert(m,bi.newNoDocument(m,xn.min()));const N=rr().add(m),$=new Ie(xn.min(),new Map,new Le(zn),w,N);yield V_(s,$),s.oc=s.oc.remove(m),s.uc.delete(e),Cm(s)}else yield ah(s.localStore,e,!1).then(()=>Tf(s,e,t)).catch(js)}),vg.apply(this,arguments)}function rv(i,e){return wm.apply(this,arguments)}function wm(){return wm=(0,Ae.Z)(function*(i,e){const t=Vt(i),s=e.batch.batchId;try{const d=yield df(t.localStore,e);Dm(t,s,null),Ap(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),yield Oc(t,d)}catch(d){yield js(d)}}),wm.apply(this,arguments)}function U_(i,e,t){return bg.apply(this,arguments)}function bg(){return bg=(0,Ae.Z)(function*(i,e,t){const s=Vt(i);try{const d=yield function(m,w){const N=Vt(m);return N.persistence.runTransaction("Reject batch","readwrite-primary",$=>{let W;return N.mutationQueue.lookupMutationBatch($,w).next(re=>(nn(null!==re),W=re.keys(),N.mutationQueue.removeMutationBatch($,re))).next(()=>N.mutationQueue.performConsistencyCheck($)).next(()=>N.documentOverlayCache.removeOverlaysForBatchId($,W,w)).next(()=>N.localDocuments.recalculateAndSaveOverlaysForDocumentKeys($,W)).next(()=>N.localDocuments.getDocuments($,W))})}(s.localStore,e);Dm(s,e,t),Ap(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),yield Oc(s,d)}catch(d){yield js(d)}}),bg.apply(this,arguments)}function Ql(){return Ql=(0,Ae.Z)(function*(i,e){const t=Vt(i);Du(t.remoteStore)||mt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(m){const w=Vt(m);return w.persistence.runTransaction("Get highest unacknowledged batch id","readonly",N=>w.mutationQueue.getHighestUnacknowledgedBatchId(N))}(t.localStore);if(-1===s)return void e.resolve();const d=t.hc.get(s)||[];d.push(e),t.hc.set(s,d)}catch(s){const d=Fn(s,"Initialization of waitForPendingWrites() operation failed");e.reject(d)}}),Ql.apply(this,arguments)}function Ap(i,e){(i.hc.get(e)||[]).forEach(t=>{t.resolve()}),i.hc.delete(e)}function Dm(i,e,t){const s=Vt(i);let d=s.ac[s.currentUser.toKey()];if(d){const m=d.get(e);m&&(t?m.reject(t):m.resolve(),d=d.remove(e)),s.ac[s.currentUser.toKey()]=d}}function Tf(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.ic.get(e))i.sc.delete(s),t&&i.nc.wc(s,t);i.ic.delete(e),i.isPrimaryClient&&i.cc.hs(e).forEach(s=>{i.cc.containsKey(s)||sv(i,s)})}function sv(i,e){i.rc.delete(e.path.canonicalString());const t=i.oc.get(e);null!==t&&(Rc(i.remoteStore,t),i.oc=i.oc.remove(e),i.uc.delete(t),Cm(i))}function wg(i,e,t){for(const s of t)s instanceof k_?(i.cc.addReference(s.key,e),ov(i,s)):s instanceof mm?(mt("SyncEngine","Document no longer in limbo: "+s.key),i.cc.removeReference(s.key,e),i.cc.containsKey(s.key)||sv(i,s.key)):dn()}function ov(i,e){const t=e.key,s=t.path.canonicalString();i.oc.get(t)||i.rc.has(s)||(mt("SyncEngine","New document in limbo: "+t),i.rc.add(s),Cm(i))}function Cm(i){for(;i.rc.size>0&&i.oc.size<i.maxConcurrentLimboResolutions;){const e=i.rc.values().next().value;i.rc.delete(e);const t=new en(wr.fromString(e)),s=i.lc.next();i.uc.set(s,new P_(t)),i.oc=i.oc.insert(t,s),kc(i.remoteStore,new Uu(lo(Ru(t.path)),s,2,Ps.ct))}}function Oc(i,e,t){return Mp.apply(this,arguments)}function Mp(){return Mp=(0,Ae.Z)(function*(i,e,t){const s=Vt(i),d=[],m=[],w=[];var N;s.sc.isEmpty()||(s.sc.forEach((N,$)=>{w.push(s.dc($,e,t).then(W=>{if((W||t)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState($.targetId,W?.fromCache?"not-current":"current"),W){d.push(W);const re=uf.Di($.targetId,W);m.push(re)}}))}),yield Promise.all(w),s.nc.zo(d),yield(N=(0,Ae.Z)(function*($,W){const re=Vt($);try{yield re.persistence.runTransaction("notifyLocalViewChanges","readwrite",De=>lt.forEach(W,Ye=>lt.forEach(Ye.Vi,wt=>re.persistence.referenceDelegate.addReference(De,Ye.targetId,wt)).next(()=>lt.forEach(Ye.Si,wt=>re.persistence.referenceDelegate.removeReference(De,Ye.targetId,wt)))))}catch(De){if(!Ba(De))throw De;mt("LocalStore","Failed to update sequence numbers: "+De)}for(const De of W){const Ye=De.targetId;if(!De.fromCache){const wt=re.Li.get(Ye),yn=wt.withLastLimboFreeSnapshotVersion(wt.snapshotVersion);re.Li=re.Li.insert(Ye,yn)}}}),function($,W){return N.apply(this,arguments)})(s.localStore,m))}),Mp.apply(this,arguments)}function av(i,e){return Em.apply(this,arguments)}function Em(){return Em=(0,Ae.Z)(function*(i,e){const t=Vt(i);if(!t.currentUser.isEqual(e)){mt("SyncEngine","User change. New user:",e.toKey());const s=yield cp(t.localStore,e);t.currentUser=e,(d=t).hc.forEach(w=>{w.forEach(N=>{N.reject(new St(it.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),d.hc.clear(),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield Oc(t,s.Qi)}var d}),Em.apply(this,arguments)}function Dg(i,e){const t=Vt(i),s=t.uc.get(e);if(s&&s.ec)return rr().add(s.key);{let d=rr();const m=t.ic.get(e);if(!m)return d;for(const w of m){const N=t.sc.get(w);d=d.unionWith(N.view.Qu)}return d}}function Im(i,e){return Sf.apply(this,arguments)}function Sf(){return Sf=(0,Ae.Z)(function*(i,e){const t=Vt(i),s=yield hp(t.localStore,e.query,!0),d=e.view.Xu(s);return t.isPrimaryClient&&wg(t,e.targetId,d.Yu),d}),Sf.apply(this,arguments)}function z0(i,e){return Np.apply(this,arguments)}function Np(){return Np=(0,Ae.Z)(function*(i,e){const t=Vt(i);return fp(t.localStore,e).then(s=>Oc(t,s))}),Np.apply(this,arguments)}function Z0(i,e,t,s){return Cg.apply(this,arguments)}function Cg(){return Cg=(0,Ae.Z)(function*(i,e,t,s){const d=Vt(i),m=yield function(w,N){const $=Vt(w),W=Vt($.mutationQueue);return $.persistence.runTransaction("Lookup mutation documents","readonly",re=>W.In(re,N).next(De=>De?$.localDocuments.getDocuments(re,De):lt.resolve(null)))}(d.localStore,e);var N;null!==m?("pending"===t?yield _h(d.remoteStore):"acknowledged"===t||"rejected"===t?(Dm(d,e,s||null),Ap(d,e),N=e,Vt(Vt(d.localStore).mutationQueue).En(N)):dn(),yield Oc(d,m)):mt("SyncEngine","Cannot apply mutation batch with id: "+e)}),Cg.apply(this,arguments)}function Eg(){return Eg=(0,Ae.Z)(function*(i,e){const t=Vt(i);if(Sg(t),Sm(t),!0===e&&!0!==t.fc){const s=t.sharedClientState.getAllActiveQueryTargets(),d=yield Tm(t,s.toArray());t.fc=!0,yield ht(t.remoteStore,!0);for(const m of d)kc(t.remoteStore,m)}else if(!1===e&&!1!==t.fc){const s=[];let d=Promise.resolve();t.ic.forEach((m,w)=>{t.sharedClientState.isLocalQueryTarget(w)?s.push(w):d=d.then(()=>(Tf(t,w),ah(t.localStore,w,!0))),Rc(t.remoteStore,w)}),yield d,yield Tm(t,s),function(m){const w=Vt(m);w.uc.forEach((N,$)=>{Rc(w.remoteStore,$)}),w.cc.ls(),w.uc=new Map,w.oc=new Y(en.comparator)}(t),t.fc=!1,yield ht(t.remoteStore,!1)}}),Eg.apply(this,arguments)}function Tm(i,e,t){return xp.apply(this,arguments)}function xp(){return xp=(0,Ae.Z)(function*(i,e,t){const s=Vt(i),d=[],m=[];for(const w of e){let N;const $=s.ic.get(w);if($&&0!==$.length){N=yield Mc(s.localStore,lo($[0]));for(const W of $){const re=s.sc.get(W),De=yield Im(s,re);De.snapshot&&m.push(De.snapshot)}}else{const W=yield dg(s.localStore,w);N=yield Mc(s.localStore,W),yield _m(s,Gu(W),w,!1,N.resumeToken)}d.push(N)}return s.nc.zo(m),d}),xp.apply(this,arguments)}function Gu(i){return td(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function Ig(i){const e=Vt(i);return Vt(Vt(e.localStore).persistence).bi()}function Tg(i,e,t,s){return yh.apply(this,arguments)}function yh(){return yh=(0,Ae.Z)(function*(i,e,t,s){const d=Vt(i);if(d.fc)return void mt("SyncEngine","Ignoring unexpected query state notification.");const m=d.ic.get(e);if(m&&m.length>0)switch(t){case"current":case"not-current":{const w=yield fp(d.localStore,lc(m[0])),N=Ie.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Dn.EMPTY_BYTE_STRING);yield Oc(d,w,N);break}case"rejected":yield ah(d.localStore,e,!0),Tf(d,e,s);break;default:dn()}}),yh.apply(this,arguments)}function lv(i,e,t){return kp.apply(this,arguments)}function kp(){return kp=(0,Ae.Z)(function*(i,e,t){const s=Sg(i);if(s.fc){for(const d of e){if(s.ic.has(d)){mt("SyncEngine","Adding an already active target "+d);continue}const m=yield dg(s.localStore,d),w=yield Mc(s.localStore,m);yield _m(s,Gu(m),w.targetId,!1,w.resumeToken),kc(s.remoteStore,w)}for(const d of t)s.ic.has(d)&&(yield ah(s.localStore,d,!1).then(()=>{Rc(s.remoteStore,d),Tf(s,d)}).catch(js))}}),kp.apply(this,arguments)}function Sg(i){const e=Vt(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=V_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Dg.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=nv.bind(null,e),e.nc.zo=If.bind(null,e.eventManager),e.nc.wc=N_.bind(null,e.eventManager),e}function Sm(i){const e=Vt(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=rv.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=U_.bind(null,e),e}class md{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Ae.Z)(function*(){t.serializer=fh(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return ug(this.persistence,new up,e.initialUser,this.serializer)}createPersistence(e){return new og(rf.Fs,this.serializer)}createSharedClientState(e){return new gp}terminate(){var e=this;return(0,Ae.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Am extends md{constructor(e,t,s){super(),this.mc=e,this.cacheSizeBytes=t,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,s=this;return(0,Ae.Z)(function*(){yield t().call(s,e),yield s.mc.initialize(s,e),yield Sm(s.mc.syncEngine),yield _h(s.mc.remoteStore),yield s.persistence.hi(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(),s.indexBackfillerScheduler&&!s.indexBackfillerScheduler.started&&s.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return ug(this.persistence,new up,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new E_(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const s=new el(t,this.persistence);return new Da(e.asyncQueue,s)}createPersistence(e){const t=lf(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?Sa.withCacheSize(this.cacheSizeBytes):Sa.DEFAULT;return new sf(this.synchronizeTabs,t,e.clientId,s,e.asyncQueue,ju(),hh(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new gp}}class cv extends Am{constructor(e,t){super(e,t,!1),this.mc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,s=this;return(0,Ae.Z)(function*(){yield t().call(s,e);const d=s.mc.syncEngine;s.sharedClientState instanceof fg&&(s.sharedClientState.syncEngine={$r:Z0.bind(null,d),Mr:Tg.bind(null,d),Fr:lv.bind(null,d),bi:Ig.bind(null,d),Or:z0.bind(null,d)},yield s.sharedClientState.start()),yield s.persistence.hi(function(){var m=(0,Ae.Z)(function*(w){yield function B_(i,e){return Eg.apply(this,arguments)}(s.mc.syncEngine,w),s.gcScheduler&&(w&&!s.gcScheduler.started?s.gcScheduler.start():w||s.gcScheduler.stop()),s.indexBackfillerScheduler&&(w&&!s.indexBackfillerScheduler.started?s.indexBackfillerScheduler.start():w||s.indexBackfillerScheduler.stop())});return function(w){return m.apply(this,arguments)}}())})()}createSharedClientState(e){const t=ju();if(!fg.D(t))throw new St(it.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=lf(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new fg(t,e.asyncQueue,s,e.clientId,e.initialUser)}}class Af{initialize(e,t){var s=this;return(0,Ae.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(t),s.remoteStore=s.createRemoteStore(t),s.eventManager=s.createEventManager(t),s.syncEngine=s.createSyncEngine(t,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=d=>bm(s.syncEngine,d,1),s.remoteStore.remoteSyncer.handleCredentialChange=av.bind(null,s.syncEngine),yield ht(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Ii}createDatastore(e){const t=fh(e.databaseInfo.databaseId),s=new Jy(e.databaseInfo);return new wf(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return t=this.localStore,s=this.datastore,d=e.asyncQueue,m=N=>bm(this.syncEngine,N,0),w=mp.D()?new mp:new pg,new yp(t,s,d,m,w);var t,s,d,m,w}createSyncEngine(e,t){return function(s,d,m,w,N,$,W){const re=new ev(s,d,m,w,N,$);return W&&(re.fc=!0),re}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Ae.Z)(function*(t){const s=Vt(t);mt("RemoteStore","RemoteStore shutting down."),s.du.add(5),yield fd(s),s._u.shutdown(),s.mu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function dv(i,e=10240){let t=0;return{read:()=>(0,Ae.Z)(function*(){if(t<i.byteLength){const s={value:i.slice(t,t+e),done:!1};return t+=e,s}return{done:!0}})(),cancel:()=>(0,Ae.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Ag{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.gc(this.observer.next,e)}error(e){this.observer.error?this.gc(this.observer.error,e):br("Uncaught Error in snapshot listener:",e.toString())}yc(){this.muted=!0}gc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class hv{constructor(e,t){this.Ic=e,this.serializer=t,this.metadata=new Ei,this.buffer=new Uint8Array,this.Tc=new TextDecoder("utf-8"),this.Ec().then(s=>{s&&s.ku()?this.metadata.resolve(s.Nu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(s?.Nu)}`))},s=>this.metadata.reject(s))}close(){return this.Ic.cancel()}getMetadata(){var e=this;return(0,Ae.Z)(function*(){return e.metadata.promise})()}_c(){var e=this;return(0,Ae.Z)(function*(){return yield e.getMetadata(),e.Ec()})()}Ec(){var e=this;return(0,Ae.Z)(function*(){const t=yield e.Ac();if(null===t)return null;const s=e.Tc.decode(t),d=Number(s);isNaN(d)&&e.Rc(`length string (${s}) is not valid number`);const m=yield e.vc(d);return new x_(JSON.parse(m),t.length+d)})()}bc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Ac(){var e=this;return(0,Ae.Z)(function*(){for(;e.bc()<0&&!(yield e.Pc()););if(0===e.buffer.length)return null;const t=e.bc();t<0&&e.Rc("Reached the end of bundle when a length string is expected.");const s=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),s})()}vc(e){var t=this;return(0,Ae.Z)(function*(){for(;t.buffer.length<e;)(yield t.Pc())&&t.Rc("Reached the end of bundle when more is expected.");const s=t.Tc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),s})()}Rc(e){throw this.Ic.cancel(),new Error(`Invalid bundle format: ${e}`)}Pc(){var e=this;return(0,Ae.Z)(function*(){const t=yield e.Ic.read();if(!t.done){const s=new Uint8Array(e.buffer.length+t.value.length);s.set(e.buffer),s.set(t.value,e.buffer.length),e.buffer=s}return t.done})()}}class fv{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Ae.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new St(it.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const s=yield(d=(0,Ae.Z)(function*(m,w){const N=Vt(m),$=gu(N.serializer)+"/documents",W={documents:w.map(wt=>Lu(N.serializer,wt))},re=yield N.fo("BatchGetDocuments",$,W,w.length),De=new Map;re.forEach(wt=>{const Kt=function Yg(i,e){return"found"in e?function(t,s){nn(!!s.found);const d=Lo(t,s.found.name),m=Pi(s.found.updateTime),w=s.found.createTime?Pi(s.found.createTime):xn.min(),N=new ao({mapValue:{fields:s.found.fields}});return bi.newFoundDocument(d,m,w,N)}(i,e):"missing"in e?function(t,s){nn(!!s.missing),nn(!!s.readTime);const d=Lo(t,s.missing),m=Pi(s.readTime);return bi.newNoDocument(d,m)}(i,e):dn()}(N.serializer,wt);De.set(Kt.key.toString(),Kt)});const Ye=[];return w.forEach(wt=>{const Kt=De.get(wt.toString());nn(!!Kt),Ye.push(Kt)}),Ye}),function(m,w){return d.apply(this,arguments)})(t.datastore,e);var d;return s.forEach(d=>t.recordVersion(d)),s})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastWriteError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new Do(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Ae.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var s;e.mutations.forEach(s=>{t.delete(s.key.toString())}),t.forEach((s,d)=>{const m=en.fromPath(d);e.mutations.push(new zd(m,e.precondition(m)))}),yield(s=(0,Ae.Z)(function*(d,m){const w=Vt(d),N=gu(w.serializer)+"/documents",$={writes:m.map(W=>ad(w.serializer,W))};yield w.co("Commit",N,$)}),function(d,m){return s.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw dn();t=xn.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!t.isEqual(s))throw new St(it.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(xn.min())?Ri.exists(!1):Ri.updateTime(t):Ri.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(xn.min()))throw new St(it.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ri.updateTime(t)}return Ri.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class $_{constructor(e,t,s,d,m){this.asyncQueue=e,this.datastore=t,this.options=s,this.updateFunction=d,this.deferred=m,this.Vc=s.maxAttempts,this.Co=new xc(this.asyncQueue,"transaction_retry")}run(){this.Vc-=1,this.Sc()}Sc(){var e=this;this.Co.Ao((0,Ae.Z)(function*(){const t=new fv(e.datastore),s=e.Dc(t);s&&s.then(d=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(d)}).catch(m=>{e.Cc(m)}))}).catch(d=>{e.Cc(d)})}))}Dc(e){try{const t=this.updateFunction(e);return!T(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Cc(e){this.Vc>0&&this.xc(e)?(this.Vc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Sc(),Promise.resolve()))):this.deferred.reject(e)}xc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!_(t)}return!1}}class Mm{constructor(e,t,s,d){var m=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=d,this.user=kn.UNAUTHENTICATED,this.clientId=ha.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var w=(0,Ae.Z)(function*(N){mt("FirestoreClient","Received user=",N.uid),yield m.authCredentialListener(N),m.user=N});return function(N){return w.apply(this,arguments)}}()),this.appCheckCredentials.start(s,w=>(mt("FirestoreClient","Received new app check token=",w),this.appCheckCredentialListener(w,this.user)))}getConfiguration(){var e=this;return(0,Ae.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new St(it.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Ei;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ae.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(s){const d=Fn(s,"Failed to shutdown persistence");t.reject(d)}})),t.promise}}function Mg(i,e){return Rp.apply(this,arguments)}function Rp(){return Rp=(0,Ae.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),mt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield i.getConfiguration();yield e.initialize(t);let s=t.initialUser;i.setCredentialChangeListener(function(){var d=(0,Ae.Z)(function*(m){s.isEqual(m)||(yield cp(e.localStore,m),s=m)});return function(m){return d.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}),Rp.apply(this,arguments)}function Nm(i,e){return xm.apply(this,arguments)}function xm(){return xm=(0,Ae.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const t=yield km(i);mt("FirestoreClient","Initializing OnlineComponentProvider");const s=yield i.getConfiguration();yield e.initialize(t,s),i.setCredentialChangeListener(d=>ge(e.remoteStore,d)),i.setAppCheckTokenChangeListener((d,m)=>ge(e.remoteStore,m)),i._onlineComponents=e}),xm.apply(this,arguments)}function H_(i){return"FirebaseError"===i.name?i.code===it.FAILED_PRECONDITION||i.code===it.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code}function km(i){return Rm.apply(this,arguments)}function Rm(){return Rm=(0,Ae.Z)(function*(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){mt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Mg(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!H_(t))throw t;Kr("Error using user provided cache. Falling back to memory cache: "+t),yield Mg(i,new md)}}else mt("FirestoreClient","Using default OfflineComponentProvider"),yield Mg(i,new md);return i._offlineComponents}),Rm.apply(this,arguments)}function Ng(i){return Mf.apply(this,arguments)}function Mf(){return Mf=(0,Ae.Z)(function*(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(mt("FirestoreClient","Using user provided OnlineComponentProvider"),yield Nm(i,i._uninitializedComponentsProvider._online)):(mt("FirestoreClient","Using default OnlineComponentProvider"),yield Nm(i,new Af))),i._onlineComponents}),Mf.apply(this,arguments)}function _d(i){return km(i).then(e=>e.persistence)}function Om(i){return km(i).then(e=>e.localStore)}function vh(i){return Ng(i).then(e=>e.remoteStore)}function Pm(i){return Ng(i).then(e=>e.syncEngine)}function yd(i){return Fm.apply(this,arguments)}function Fm(){return Fm=(0,Ae.Z)(function*(i){const e=yield Ng(i),t=e.eventManager;return t.onListen=Al.bind(null,e.syncEngine),t.onUnlisten=tv.bind(null,e.syncEngine),t}),Fm.apply(this,arguments)}function vd(i,e,t={}){const s=new Ei;return i.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return function(d,m,w,N,$){const W=new Ag({next:De=>{m.enqueueAndForget(()=>Jl(d,re));const Ye=De.docs.has(w);!Ye&&De.fromCache?$.reject(new St(it.UNAVAILABLE,"Failed to get document because the client is offline.")):Ye&&De.fromCache&&N&&"server"===N.source?$.reject(new St(it.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):$.resolve(De)},error:De=>$.reject(De)}),re=new Tp(Ru(w.path),W,{includeMetadataChanges:!0,xu:!0});return ga(d,re)}(yield yd(i),i.asyncQueue,e,t,s)})),s.promise}function Ml(i,e,t={}){const s=new Ei;return i.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return function(d,m,w,N,$){const W=new Ag({next:De=>{m.enqueueAndForget(()=>Jl(d,re)),De.fromCache&&"server"===N.source?$.reject(new St(it.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):$.resolve(De)},error:De=>$.reject(De)}),re=new Tp(w,W,{includeMetadataChanges:!0,xu:!0});return ga(d,re)}(yield yd(i),i.asyncQueue,e,t,s)})),s.promise}const bh=new Map;function bd(i,e,t){if(!t)throw new St(it.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function wh(i,e,t,s){if(!0===e&&!0===s)throw new St(it.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function Dh(i){if(!en.isDocumentKey(i))throw new St(it.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Ch(i){if(en.isDocumentKey(i))throw new St(it.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Pc(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(t=i).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof i?"a function":dn()}function qr(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new St(it.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Pc(i);throw new St(it.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}function Vm(i,e){if(e<=0)throw new St(it.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}class Um{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new St(it.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new St(it.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,wh("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Rf{constructor(e,t,s,d){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=d,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Um({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new St(it.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new St(it.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Um(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Hc;switch(t.type){case"firstParty":return new Va(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new St(it.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=bh.get(e);t&&(mt("ComponentProvider","Removing Datastore"),bh.delete(e),t.terminate())}(this),Promise.resolve()}}class as{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Cu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new as(this.firestore,e,this._key)}}class Xo{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Xo(this.firestore,e,this._query)}}class Cu extends Xo{constructor(e,t,s){super(e,t,Ru(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new as(this.firestore,null,new en(e))}withConverter(e){return new Cu(this.firestore,e,this._path)}}function $m(i,e,...t){if(i=(0,Fe.m9)(i),bd("collection","path",e),i instanceof Rf){const s=wr.fromString(e,...t);return Ch(s),new Cu(i,null,s)}{if(!(i instanceof as||i instanceof Cu))throw new St(it.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(wr.fromString(e,...t));return Ch(s),new Cu(i.firestore,null,s)}}function kg(i,e,...t){if(i=(0,Fe.m9)(i),1===arguments.length&&(e=ha.A()),bd("doc","path",e),i instanceof Rf){const s=wr.fromString(e,...t);return Dh(s),new as(i,null,new en(s))}{if(!(i instanceof as||i instanceof Cu))throw new St(it.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(wr.fromString(e,...t));return Dh(s),new as(i.firestore,i instanceof Cu?i.converter:null,new en(s))}}function Hm(i,e){return i=(0,Fe.m9)(i),e=(0,Fe.m9)(e),(i instanceof as||i instanceof Cu)&&(e instanceof as||e instanceof Cu)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function jm(i,e){return i=(0,Fe.m9)(i),e=(0,Fe.m9)(e),i instanceof Xo&&e instanceof Xo&&i.firestore===e.firestore&&nd(i._query,e._query)&&i.converter===e.converter}class G_{constructor(){this.Nc=Promise.resolve(),this.kc=[],this.Oc=!1,this.$c=[],this.Mc=null,this.Fc=!1,this.Bc=!1,this.Lc=[],this.Co=new xc(this,"async_queue_retry"),this.qc=()=>{const t=hh();t&&mt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Co.vo()};const e=hh();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.qc)}get isShuttingDown(){return this.Oc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Uc(),this.Kc(e)}enterRestrictedMode(e){if(!this.Oc){this.Oc=!0,this.Bc=e||!1;const t=hh();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.qc)}}enqueue(e){if(this.Uc(),this.Oc)return new Promise(()=>{});const t=new Ei;return this.Kc(()=>this.Oc&&this.Bc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.kc.push(e),this.Gc()))}Gc(){var e=this;return(0,Ae.Z)(function*(){if(0!==e.kc.length){try{yield e.kc[0](),e.kc.shift(),e.Co.reset()}catch(t){if(!Ba(t))throw t;mt("AsyncQueue","Operation failed with retryable error: "+t)}e.kc.length>0&&e.Co.Ao(()=>e.Gc())}})()}Kc(e){const t=this.Nc.then(()=>(this.Fc=!0,e().catch(s=>{throw this.Mc=s,this.Fc=!1,br("INTERNAL UNHANDLED ERROR: ",function(m){let w=m.message||"";return m.stack&&(w=m.stack.includes(m.message)?m.stack:m.message+"\n"+m.stack),w}(s)),s}).then(s=>(this.Fc=!1,s))));return this.Nc=t,t}enqueueAfterDelay(e,t,s){this.Uc(),this.Lc.indexOf(e)>-1&&(t=0);const d=an.createAndSchedule(this,e,t,s,m=>this.Qc(m));return this.$c.push(d),d}Uc(){this.Mc&&dn()}verifyOperationInProgress(){}zc(){var e=this;return(0,Ae.Z)(function*(){let t;do{t=e.Nc,yield t}while(t!==e.Nc)})()}jc(e){for(const t of this.$c)if(t.timerId===e)return!0;return!1}Wc(e){return this.zc().then(()=>{this.$c.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.$c)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.zc()})}Hc(e){this.Lc.push(e)}Qc(e){const t=this.$c.indexOf(e);this.$c.splice(t,1)}}function Pp(i){return function(e,t){if("object"!=typeof e||null===e)return!1;const s=e;for(const d of["next","error","complete"])if(d in s&&"function"==typeof s[d])return!0;return!1}(i)}class Gm{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ei,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,s){this._progressObserver={next:e,error:t,complete:s}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Li extends Rf{constructor(e,t,s,d){super(e,t,s,d),this.type="firestore",this._queue=new G_,this._persistenceKey=d?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Fp(this),this._firestoreClient.terminate()}}function co(i){return i._firestoreClient||Fp(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function Fp(i){var e,t,s;const d=i._freezeSettings(),m=(N=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new tc(i._databaseId,N,i._persistenceKey,(W=d).host,W.ssl,W.experimentalForceLongPolling,W.experimentalAutoDetectLongPolling,W.useFetchStreams));var N,W;i._firestoreClient=new Mm(i._authCredentials,i._appCheckCredentials,i._queue,m),(null===(t=d.cache)||void 0===t?void 0:t._offlineComponentProvider)&&(null===(s=d.cache)||void 0===s?void 0:s._onlineComponentProvider)&&(i._firestoreClient._uninitializedComponentsProvider={_offlineKind:d.cache.kind,_offline:d.cache._offlineComponentProvider,_online:d.cache._onlineComponentProvider})}function Zm(i,e,t){const s=new Ei;return i.asyncQueue.enqueue((0,Ae.Z)(function*(){try{yield Mg(i,t),yield Nm(i,e),s.resolve()}catch(d){const m=d;if(!H_(m))throw m;Kr("Error enabling indexeddb cache. Falling back to memory cache: "+m),s.reject(m)}})).then(()=>s.promise)}function Ym(i){if(i._initialized||i._terminated)throw new St(it.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Zu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Zu(Dn.fromBase64String(e))}catch(t){throw new St(it.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Zu(Dn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Wu{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new St(it.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ir(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Fc{constructor(e){this._methodName=e}}class Eh{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new St(it.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new St(it.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return zn(this._lat,e._lat)||zn(this._long,e._long)}}const J_=/^__.*__$/;class Q_{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return null!==this.fieldMask?new Ga(e,this.data,this.fieldMask,t,this.fieldTransforms):new wi(e,this.data,t,this.fieldTransforms)}}class Km{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Ga(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Jm(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw dn()}}class Lp{constructor(e,t,s,d,m,w){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=d,void 0===m&&this.Jc(),this.fieldTransforms=m||[],this.fieldMask=w||[]}get path(){return this.settings.path}get Yc(){return this.settings.Yc}Zc(e){return new Lp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Xc(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),d=this.Zc({path:s,ta:!1});return d.ea(e),d}na(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),d=this.Zc({path:s,ta:!1});return d.Jc(),d}sa(e){return this.Zc({path:void 0,ta:!0})}ia(e){return Up(e,this.settings.methodName,this.settings.ra||!1,this.path,this.settings.oa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Jc(){if(this.path)for(let e=0;e<this.path.length;e++)this.ea(this.path.get(e))}ea(e){if(0===e.length)throw this.ia("Document fields must not be empty");if(Jm(this.Yc)&&J_.test(e))throw this.ia('Document fields cannot begin and end with "__"')}}class X_{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||fh(e)}ua(e,t,s,d=!1){return new Lp({Yc:e,methodName:t,oa:s,path:Ir.emptyPath(),ta:!1,ra:d},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function wd(i){const e=i._freezeSettings(),t=fh(i._databaseId);return new X_(i._databaseId,!!e.ignoreUndefinedProperties,t)}function Vp(i,e,t,s,d,m={}){const w=i.ua(m.merge||m.mergeFields?2:0,e,t,d);Fg("Data must be an object, but it was:",w,s);const N=ry(s,w);let $,W;if(m.merge)$=new bn(w.fieldMask),W=w.fieldTransforms;else if(m.mergeFields){const re=[];for(const De of m.mergeFields){const Ye=qu(e,De,t);if(!w.contains(Ye))throw new St(it.INVALID_ARGUMENT,`Field '${Ye}' is specified in your field mask but missing from your input data.`);iy(re,Ye)||re.push(Ye)}$=new bn(re),W=w.fieldTransforms.filter(De=>$.covers(De.field))}else $=null,W=w.fieldTransforms;return new Q_(new ao(N),$,W)}class Og extends Fc{_toFieldTransform(e){if(2!==e.Yc)throw e.ia(1===e.Yc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Og}}function ey(i,e,t){return new Lp({Yc:3,oa:e.settings.oa,methodName:i._methodName,ta:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Qm extends Fc{_toFieldTransform(e){return new al(e.path,new zl)}isEqual(e){return e instanceof Qm}}class ty extends Fc{constructor(e,t){super(e),this.ca=t}_toFieldTransform(e){const t=ey(this,e,!0),s=this.ca.map(m=>Dd(m,t)),d=new ol(s);return new al(e.path,d)}isEqual(e){return this===e}}class vv extends Fc{constructor(e,t){super(e),this.ca=t}_toFieldTransform(e){const t=ey(this,e,!0),s=this.ca.map(m=>Dd(m,t)),d=new Cl(s);return new al(e.path,d)}isEqual(e){return this===e}}class Vo extends Fc{constructor(e,t){super(e),this.aa=t}_toFieldTransform(e){const t=new Yo(e.serializer,Pu(e.serializer,this.aa));return new al(e.path,t)}isEqual(e){return this===e}}function Pg(i,e,t,s){const d=i.ua(1,e,t);Fg("Data must be an object, but it was:",d,s);const m=[],w=ao.empty();F(s,($,W)=>{const re=Lg(e,$,t);W=(0,Fe.m9)(W);const De=d.na(re);if(W instanceof Og)m.push(re);else{const Ye=Dd(W,De);null!=Ye&&(m.push(re),w.set(re,Ye))}});const N=new bn(m);return new Km(w,N,d.fieldTransforms)}function Xm(i,e,t,s,d,m){const w=i.ua(1,e,t),N=[qu(e,s,t)],$=[d];if(m.length%2!=0)throw new St(it.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Ye=0;Ye<m.length;Ye+=2)N.push(qu(e,m[Ye])),$.push(m[Ye+1]);const W=[],re=ao.empty();for(let Ye=N.length-1;Ye>=0;--Ye)if(!iy(W,N[Ye])){const wt=N[Ye];let Kt=$[Ye];Kt=(0,Fe.m9)(Kt);const yn=w.na(wt);if(Kt instanceof Og)W.push(wt);else{const Ln=Dd(Kt,yn);null!=Ln&&(W.push(wt),re.set(wt,Ln))}}const De=new bn(W);return new Km(re,De,w.fieldTransforms)}function ny(i,e,t,s=!1){return Dd(t,i.ua(s?4:3,e))}function Dd(i,e){if(e_(i=(0,Fe.m9)(i)))return Fg("Unsupported field value:",e,i),ry(i,e);if(i instanceof Fc)return function(t,s){if(!Jm(s.Yc))throw s.ia(`${t._methodName}() can only be used with update() and set()`);if(!s.path)throw s.ia(`${t._methodName}() is not currently supported inside arrays`);const d=t._toFieldTransform(s);d&&s.fieldTransforms.push(d)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.ta&&4!==e.Yc)throw e.ia("Nested arrays are not supported");return function(t,s){const d=[];let m=0;for(const w of t){let N=Dd(w,s.sa(m));null==N&&(N={nullValue:"NULL_VALUE"}),d.push(N),m++}return{arrayValue:{values:d}}}(i,e)}return function(t,s){if(null===(t=(0,Fe.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Pu(s.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const d=Wr.fromDate(t);return{timestampValue:Co(s.serializer,d)}}if(t instanceof Wr){const d=new Wr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Co(s.serializer,d)}}if(t instanceof Eh)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Zu)return{bytesValue:pu(s.serializer,t._byteString)};if(t instanceof as){const d=s.databaseId,m=t.firestore._databaseId;if(!m.isEqual(d))throw s.ia(`Document reference is for database ${m.projectId}/${m.database} but should be for database ${d.projectId}/${d.database}`);return{referenceValue:mc(t.firestore._databaseId||s.databaseId,t._key.path)}}throw s.ia(`Unsupported field value: ${Pc(t)}`)}(i,e)}function ry(i,e){const t={};return H(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):F(i,(s,d)=>{const m=Dd(d,e.Xc(s));null!=m&&(t[s]=m)}),{mapValue:{fields:t}}}function e_(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof Wr||i instanceof Eh||i instanceof Zu||i instanceof as||i instanceof Fc)}function Fg(i,e,t){if(!e_(t)||"object"!=typeof(s=t)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){const s=Pc(t);throw e.ia("an object"===s?i+" a custom object":i+" "+s)}var s}function qu(i,e,t){if((e=(0,Fe.m9)(e))instanceof Wu)return e._internalPath;if("string"==typeof e)return Lg(i,e);throw Up("Field path arguments must be of type string or ",i,!1,void 0,t)}const bv=new RegExp("[~\\*/\\[\\]]");function Lg(i,e,t){if(e.search(bv)>=0)throw Up(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new Wu(...e.split("."))._internalPath}catch{throw Up(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function Up(i,e,t,s,d){const m=s&&!s.isEmpty(),w=void 0!==d;let N=`Function ${e}() called with invalid data`;t&&(N+=" (via `toFirestore()`)"),N+=". ";let $="";return(m||w)&&($+=" (found",m&&($+=` in field ${s}`),w&&($+=` in document ${d}`),$+=")"),new St(it.INVALID_ARGUMENT,N+i+$)}function iy(i,e){return i.some(t=>t.isEqual(e))}class Pf{constructor(e,t,s,d,m){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=d,this._converter=m}get id(){return this._key.path.lastSegment()}get ref(){return new as(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new W0(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Ff("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class W0 extends Pf{data(){return super.data()}}function Ff(i,e){return"string"==typeof e?Lg(i,e):e instanceof Wu?e._internalPath:e._delegate._internalPath}function Vg(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new St(it.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Nl{}class Bp extends Nl{}function Lc(i,e,...t){let s=[];e instanceof Nl&&s.push(e),s=s.concat(t),function(d){const m=d.filter(N=>N instanceof Na).length,w=d.filter(N=>N instanceof cl).length;if(m>1||m>0&&w>0)throw new St(it.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const d of s)i=d._apply(i);return i}class cl extends Bp{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new cl(e,t,s)}_apply(e){const t=this._parse(e);return i_(e._query,t),new Xo(e.firestore,e.converter,oc(e._query,t))}_parse(e){const t=wd(e.firestore);return function(d,m,w,N,$,W,re){let De;if($.isKeyField()){if("array-contains"===W||"array-contains-any"===W)throw new St(it.INVALID_ARGUMENT,`Invalid Query. You can't perform '${W}' queries on documentId().`);if("in"===W||"not-in"===W){r_(re,W);const Ye=[];for(const wt of re)Ye.push(ly(N,d,wt));De={arrayValue:{values:Ye}}}else De=ly(N,d,re)}else"in"!==W&&"not-in"!==W&&"array-contains-any"!==W||r_(re,W),De=ny(w,"where",re,"in"===W||"not-in"===W);return Or.create($,W,De)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Na extends Nl{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Na(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return 1===t.length?t[0]:Xr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(s,d){let m=s;const w=d.getFlattenedFilters();for(const N of w)i_(m,N),m=oc(m,N)}(e._query,t),new Xo(e.firestore,e.converter,oc(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class t_ extends Bp{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new t_(e,t)}_apply(e){const t=function(s,d,m){if(null!==s.startAt)throw new St(it.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==s.endAt)throw new St(it.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const w=new ou(d,m);return function(N,$){if(null===Ld(N)){const W=$l(N);null!==W&&$g(0,W,$.field)}}(s,w),w}(e._query,this._field,this._direction);return new Xo(e.firestore,e.converter,function(s,d){const m=s.explicitOrderBy.concat([d]);return new fa(s.path,s.collectionGroup,m,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}class Ug extends Bp{constructor(e,t,s){super(),this.type=e,this._limit=t,this._limitType=s}static _create(e,t,s){return new Ug(e,t,s)}_apply(e){return new Xo(e.firestore,e.converter,ac(e._query,this._limit,this._limitType))}}class Cd extends Bp{constructor(e,t,s){super(),this.type=e,this._docOrFields=t,this._inclusive=s}static _create(e,t,s){return new Cd(e,t,s)}_apply(e){const t=$p(e,this.type,this._docOrFields,this._inclusive);return new Xo(e.firestore,e.converter,(d=t,new fa((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,d,s.endAt)));var s,d}}class Bg extends Bp{constructor(e,t,s){super(),this.type=e,this._docOrFields=t,this._inclusive=s}static _create(e,t,s){return new Bg(e,t,s)}_apply(e){const t=$p(e,this.type,this._docOrFields,this._inclusive);return new Xo(e.firestore,e.converter,(d=t,new fa((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,d)));var s,d}}function $p(i,e,t,s){if(t[0]=(0,Fe.m9)(t[0]),t[0]instanceof Pf)return function(d,m,w,N,$){if(!N)throw new St(it.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${w}().`);const W=[];for(const re of lu(d))if(re.field.isKeyField())W.push($a(m,N.key));else{const De=N.data.field(re.field);if(Wo(De))throw new St(it.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+re.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===De){const Ye=re.field.canonicalString();throw new St(it.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Ye}' (used as the orderBy) does not exist.`)}W.push(De)}return new Ha(W,$)}(i._query,i.firestore._databaseId,e,t[0]._document,s);{const d=wd(i.firestore);return function(m,w,N,$,W,re){const De=m.explicitOrderBy;if(W.length>De.length)throw new St(it.INVALID_ARGUMENT,`Too many arguments provided to ${$}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Ye=[];for(let wt=0;wt<W.length;wt++){const Kt=W[wt];if(De[wt].field.isKeyField()){if("string"!=typeof Kt)throw new St(it.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${$}(), but got a ${typeof Kt}`);if(!sc(m)&&-1!==Kt.indexOf("/"))throw new St(it.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${$}() must be a plain document ID, but '${Kt}' contains a slash.`);const yn=m.path.child(wr.fromString(Kt));if(!en.isDocumentKey(yn))throw new St(it.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${$}() must result in a valid document path, but '${yn}' is not because it contains an odd number of segments.`);const Ln=new en(yn);Ye.push($a(w,Ln))}else{const yn=ny(N,$,Kt);Ye.push(yn)}}return new Ha(Ye,re)}(i._query,i.firestore._databaseId,d,e,t,s)}}function ly(i,e,t){if("string"==typeof(t=(0,Fe.m9)(t))){if(""===t)throw new St(it.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!sc(e)&&-1!==t.indexOf("/"))throw new St(it.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(wr.fromString(t));if(!en.isDocumentKey(s))throw new St(it.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return $a(i,new en(s))}if(t instanceof as)return $a(i,t._key);throw new St(it.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Pc(t)}.`)}function r_(i,e){if(!Array.isArray(i)||0===i.length)throw new St(it.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function i_(i,e){if(e.isInequality()){const s=$l(i),d=e.field;if(null!==s&&!s.isEqual(d))throw new St(it.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${s.toString()}' and '${d.toString()}'`);const m=Ld(i);null!==m&&$g(0,d,m)}const t=function(s,d){for(const m of s)for(const w of m.getFlattenedFilters())if(d.indexOf(w.op)>=0)return w.op;return null}(i.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new St(it.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function $g(i,e,t){if(!t.isEqual(e))throw new St(it.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class Hg{convertValue(e,t="none"){switch(su(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ci(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(bo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw dn()}}convertObject(e,t){const s={};return F(e.fields,(d,m)=>{s[d]=this.convertValue(m,t)}),s}convertGeoPoint(e){return new Eh(ci(e.latitude),ci(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Fo(e);return null==s?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(qo(e));default:return null}}convertTimestamp(e){const t=mi(e);return new Wr(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=wr.fromString(e);nn(Jf(s));const d=new vl(s.get(1),s.get(3)),m=new en(s.popFirst(5));return d.isEqual(t)||br(`Document ${m} contains a document reference within a different database (${d.projectId}/${d.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),m}}function jp(i,e,t){let s;return s=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,s}class uy extends Hg{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new as(this.firestore,null,t)}}class Ed{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Vc extends Pf{constructor(e,t,s,d,m,w){super(e,t,s,d,w),this._firestore=e,this._firestoreImpl=e,this.metadata=m}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Gp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Ff("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class Gp extends Vc{data(e={}){return super.data(e)}}class Uc{constructor(e,t,s,d){this._firestore=e,this._userDataWriter=t,this._snapshot=d,this.metadata=new Ed(d.hasPendingWrites,d.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new Gp(this._firestore,this._userDataWriter,s.key,s,new Ed(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new St(it.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,d){if(s._snapshot.oldDocs.isEmpty()){let m=0;return s._snapshot.docChanges.map(w=>({type:"added",doc:new Gp(s._firestore,s._userDataWriter,w.doc.key,w.doc,new Ed(s._snapshot.mutatedKeys.has(w.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:m++}))}{let m=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(w=>d||3!==w.type).map(w=>{const N=new Gp(s._firestore,s._userDataWriter,w.doc.key,w.doc,new Ed(s._snapshot.mutatedKeys.has(w.doc.key),s._snapshot.fromCache),s.query.converter);let $=-1,W=-1;return 0!==w.type&&($=m.indexOf(w.doc.key),m=m.delete(w.doc.key)),1!==w.type&&(m=m.add(w.doc),W=m.indexOf(w.doc.key)),{type:Nv(w.type),doc:N,oldIndex:$,newIndex:W}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Nv(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return dn()}}function dy(i,e){return i instanceof Vc&&e instanceof Vc?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof Uc&&e instanceof Uc&&i._firestore===e._firestore&&jm(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}class Id extends Hg{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new as(this.firestore,null,t)}}function hy(i,e,t){i=qr(i,as);const s=qr(i.firestore,Li),d=jp(i.converter,e,t);return Ih(s,[Vp(wd(s),"setDoc",i._key,d,null!==i.converter,t).toMutation(i._key,Ri.none())])}function fy(i,e,t,...s){i=qr(i,as);const d=qr(i.firestore,Li),m=wd(d);let w;return w="string"==typeof(e=(0,Fe.m9)(e))||e instanceof Wu?Xm(m,"updateDoc",i._key,e,t,s):Pg(m,"updateDoc",i._key,e),Ih(d,[w.toMutation(i._key,Ri.exists(!0))])}function py(i,...e){var t,s,d;i=(0,Fe.m9)(i);let m={includeMetadataChanges:!1},w=0;"object"!=typeof e[w]||Pp(e[w])||(m=e[w],w++);const N={includeMetadataChanges:m.includeMetadataChanges};if(Pp(e[w])){const De=e[w];e[w]=null===(t=De.next)||void 0===t?void 0:t.bind(De),e[w+1]=null===(s=De.error)||void 0===s?void 0:s.bind(De),e[w+2]=null===(d=De.complete)||void 0===d?void 0:d.bind(De)}let $,W,re;if(i instanceof as)W=qr(i.firestore,Li),re=Ru(i._key.path),$={next:De=>{e[w]&&e[w](jg(W,i,De))},error:e[w+1],complete:e[w+2]};else{const De=qr(i,Xo);W=qr(De.firestore,Li),re=De._query;const Ye=new Id(W);$={next:wt=>{e[w]&&e[w](new Uc(W,Ye,De,wt))},error:e[w+1],complete:e[w+2]},Vg(i._query)}return function(De,Ye,wt,Kt){const yn=new Ag(Kt),Ln=new Tp(Ye,yn,wt);return De.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return ga(yield yd(De),Ln)})),()=>{yn.yc(),De.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return Jl(yield yd(De),Ln)}))}}(co(W),re,N,$)}function Ih(i,e){return function(t,s){const d=new Ei;return t.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return function L_(i,e,t){return ym.apply(this,arguments)}(yield Pm(t),s,d)})),d.promise}(co(i),e)}function jg(i,e,t){const s=t.docs.get(e._key),d=new Id(i);return new Vc(i,d,e._key,s,new Ed(t.hasPendingWrites,t.fromCache),e.converter)}const Hv={maxAttempts:5};class Sh{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=wd(e)}set(e,t,s){this._verifyNotCommitted();const d=Ah(e,this._firestore),m=jp(d.converter,t,s),w=Vp(this._dataReader,"WriteBatch.set",d._key,m,null!==d.converter,s);return this._mutations.push(w.toMutation(d._key,Ri.none())),this}update(e,t,s,...d){this._verifyNotCommitted();const m=Ah(e,this._firestore);let w;return w="string"==typeof(t=(0,Fe.m9)(t))||t instanceof Wu?Xm(this._dataReader,"WriteBatch.update",m._key,t,s,d):Pg(this._dataReader,"WriteBatch.update",m._key,t),this._mutations.push(w.toMutation(m._key,Ri.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Ah(e,this._firestore);return this._mutations=this._mutations.concat(new Do(t._key,Ri.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new St(it.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ah(i,e){if((i=(0,Fe.m9)(i)).firestore!==e)throw new St(it.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class o_ extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=wd(e)}get(e){const t=Ah(e,this._firestore),s=new uy(this._firestore);return this._transaction.lookup([t._key]).then(d=>{if(!d||1!==d.length)return dn();const m=d[0];if(m.isFoundDocument())return new Pf(this._firestore,s,m.key,m,t.converter);if(m.isNoDocument())return new Pf(this._firestore,s,t._key,null,t.converter);throw dn()})}set(e,t,s){const d=Ah(e,this._firestore),m=jp(d.converter,t,s),w=Vp(this._dataReader,"Transaction.set",d._key,m,null!==d.converter,s);return this._transaction.set(d._key,w),this}update(e,t,s,...d){const m=Ah(e,this._firestore);let w;return w="string"==typeof(t=(0,Fe.m9)(t))||t instanceof Wu?Xm(this._dataReader,"Transaction.update",m._key,t,s,d):Pg(this._dataReader,"Transaction.update",m._key,t),this._transaction.update(m._key,w),this}delete(e){const t=Ah(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Ah(e,this._firestore),s=new Id(this._firestore);return super.get(e).then(d=>new Vc(this._firestore,s,t._key,d._document,new Ed(!1,!1),t.converter))}}function Lf(i,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new St("invalid-argument",`Invalid options passed to function ${i}(): You cannot specify both "merge" and "mergeFields".`);return e}function Vs(){if(typeof Uint8Array>"u")throw new St("unimplemented","Uint8Arrays are not available in this environment.")}function zv(){if(!function pr(){return typeof atob<"u"}())throw new St("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(i,e=!0){Jn=Zt.SDK_VERSION,(0,Zt._registerComponent)(new ut.wA("firestore",(t,{instanceIdentifier:s,options:d})=>{const m=t.getProvider("app").getImmediate(),w=new Li(new eu(t.getProvider("auth-internal")),new oi(t.getProvider("app-check-internal")),function(N,$){if(!Object.prototype.hasOwnProperty.apply(N.options,["projectId"]))throw new St(it.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vl(N.options.projectId,$)}(m,s),m);return d=Object.assign({useFetchStreams:e},d),w._setSettings(d),w},"PUBLIC").setMultipleInstances(!0)),(0,Zt.registerVersion)(Xt,"3.10.0",i),(0,Zt.registerVersion)(Xt,"3.10.0","esm2017")}();class Vf{constructor(e){this._delegate=e}static fromBase64String(e){return zv(),new Vf(Zu.fromBase64String(e))}static fromUint8Array(e){return Vs(),new Vf(Zu.fromUint8Array(e))}toBase64(){return zv(),this._delegate.toBase64()}toUint8Array(){return Vs(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function zg(i){return function Zv(i,e){if("object"!=typeof i||null===i)return!1;const t=i;for(const s of e)if(s in t&&"function"==typeof t[s])return!0;return!1}(i,["next","error","complete"])}class Dy{enableIndexedDbPersistence(e,t){return function Rg(i,e){Ym(i=qr(i,Li));const t=co(i);if(t._uninitializedComponentsProvider)throw new St(it.FAILED_PRECONDITION,"SDK cache is already specified.");Kr("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const s=i._freezeSettings(),d=new Af;return Zm(t,d,new Am(d,s.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function Z_(i){Ym(i=qr(i,Li));const e=co(i);if(e._uninitializedComponentsProvider)throw new St(it.FAILED_PRECONDITION,"SDK cache is already specified.");Kr("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=i._freezeSettings(),s=new Af;return Zm(e,s,new cv(s,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function Wm(i){if(i._initialized&&!i._terminated)throw new St(it.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Ei;return i._queue.enqueueAndForgetEvenWhileRestricted((0,Ae.Z)(function*(){try{yield(t=(0,Ae.Z)(function*(s){if(!Jr.D())return Promise.resolve();const d=s+"main";yield Jr.delete(d)}),function(s){return t.apply(this,arguments)})(lf(i._databaseId,i._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class a_{constructor(e,t,s){this._delegate=t,this._persistenceProvider=s,this.INTERNAL={delete:()=>this.terminate()},e instanceof vl||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Kr("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,s={}){!function Bm(i,e,t,s={}){var d;const m=(i=qr(i,Rf))._getSettings();if("firestore.googleapis.com"!==m.host&&m.host!==e&&Kr("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},m),{host:`${e}:${t}`,ssl:!1})),s.mockUserToken){let w,N;if("string"==typeof s.mockUserToken)w=s.mockUserToken,N=kn.MOCK_USER;else{w=(0,Fe.Sg)(s.mockUserToken,null===(d=i._app)||void 0===d?void 0:d.options.projectId);const $=s.mockUserToken.sub||s.mockUserToken.user_id;if(!$)throw new St(it.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");N=new kn($)}i._authCredentials=new Rl(new ca(w,N))}}(this._delegate,e,t,s)}enableNetwork(){return function q_(i){return function zu(i){return i.asyncQueue.enqueue((0,Ae.Z)(function*(){const e=yield _d(i),t=yield vh(i);return e.setNetworkEnabled(!0),function(s){const d=Vt(s);return d.du.delete(0),Df(d)}(t)}))}(co(i=qr(i,Li)))}(this._delegate)}disableNetwork(){return function qm(i){return function Op(i){return i.asyncQueue.enqueue((0,Ae.Z)(function*(){const e=yield _d(i),t=yield vh(i);return e.setNetworkEnabled(!1),(s=(0,Ae.Z)(function*(d){const m=Vt(d);m.du.add(0),yield fd(m),m.mu.set("Offline")}),function(d){return s.apply(this,arguments)})(t);var s}))}(co(i=qr(i,Li)))}(this._delegate)}enablePersistence(e){let t=!1,s=!1;return e&&(t=!!e.synchronizeTabs,s=!!e.experimentalForceOwningTab,wh("synchronizeTabs",t,"experimentalForceOwningTab",s)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,s)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function W_(i){return function(e){const t=new Ei;return e.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return function iv(i,e){return Ql.apply(this,arguments)}(yield Pm(e),t)})),t.promise}(co(i=qr(i,Li)))}(this._delegate)}onSnapshotsInSync(e){return function gy(i,e){return function Lm(i,e){const t=new Ag(e);return i.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return s=yield yd(i),d=t,Vt(s).Au.add(d),void d.next();var s,d})),()=>{t.yc(),i.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return s=yield yd(i),d=t,void Vt(s).Au.delete(d);var s,d}))}}(co(i=qr(i,Li)),Pp(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new St("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Yu(this,$m(this._delegate,e))}catch(t){throw Wa(t,"collection()","Firestore.collection()")}}doc(e){try{return new xa(this,kg(this._delegate,e))}catch(t){throw Wa(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new ka(this,function pv(i,e){if(i=qr(i,Rf),bd("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new St(it.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Xo(i,null,(t=e,new fa(wr.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Wa(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function Y0(i,e,t){i=qr(i,Li);const s=Object.assign(Object.assign({},Hv),t);return function(d){if(d.maxAttempts<1)throw new St(it.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(d,m,w){const N=new Ei;return d.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){const $=yield function j_(i){return Ng(i).then(e=>e.datastore)}(d);new $_(d.asyncQueue,$,w,m,N).run()})),N.promise}(co(i),d=>e(new o_(i,d)),s)}(this._delegate,t=>e(new Ey(this,t)))}batch(){return co(this._delegate),new Iy(new Sh(this._delegate,e=>Ih(this._delegate,e)))}loadBundle(e){return function _v(i,e){const t=co(i=qr(i,Li)),s=new Gm;return function Nf(i,e,t,s){const d=function(m,w){let N;return N="string"==typeof m?(new TextEncoder).encode(m):m,$=function($,W){if($ instanceof Uint8Array)return dv($,W);if($ instanceof ArrayBuffer)return dv(new Uint8Array($),W);if($ instanceof ReadableStream)return $.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(N),new hv($,w);var $}(t,fh(e));i.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){!function uv(i,e,t){const s=Vt(i);var d;(d=(0,Ae.Z)(function*(m,w,N){try{const $=yield w.getMetadata();if(yield function(Ye,wt){const Kt=Vt(Ye),yn=Pi(wt.createTime);return Kt.persistence.runTransaction("hasNewerBundle","readonly",Ln=>Kt.xs.getBundleMetadata(Ln,wt.id)).then(Ln=>!!Ln&&Ln.createTime.compareTo(yn)>=0)}(m.localStore,$))return yield w.close(),N._completeWith({taskState:"Success",documentsLoaded:(Ye=$).totalDocuments,bytesLoaded:Ye.totalBytes,totalDocuments:Ye.totalDocuments,totalBytes:Ye.totalBytes}),Promise.resolve(new Set);N._updateProgress(Xy($));const W=new Qy($,m.localStore,w.serializer);let re=yield w._c();for(;re;){const Ye=yield W.$u(re);Ye&&N._updateProgress(Ye),re=yield w._c()}const De=yield W.complete();return yield Oc(m,De.Bu,void 0),yield function(Ye,wt){const Kt=Vt(Ye);return Kt.persistence.runTransaction("Save bundle","readwrite",yn=>Kt.xs.saveBundleMetadata(yn,wt))}(m.localStore,$),N._completeWith(De.progress),Promise.resolve(De.Fu)}catch($){return Kr("SyncEngine",`Loading bundle failed with ${$}`),N._failWith($),Promise.resolve(new Set)}var Ye}),function(m,w,N){return d.apply(this,arguments)})(s,e,t).then(d=>{s.sharedClientState.notifyBundleLoaded(d)})}(yield Pm(i),d,s)}))}(t,i._databaseId,e,s),s}(this._delegate,e)}namedQuery(e){return function Y_(i,e){return function xf(i,e){return i.asyncQueue.enqueue((0,Ae.Z)(function*(){return function(t,s){const d=Vt(t);return d.persistence.runTransaction("Get named query","readonly",m=>d.xs.getNamedQuery(m,s))}(yield Om(i),e)}))}(co(i=qr(i,Li)),e).then(t=>t?new Xo(i,null,t.query):null)}(this._delegate,e).then(t=>t?new ka(this,t):null)}}class zp extends Hg{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vf(new Zu(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return xa.forKey(t,this.firestore,null)}}class Ey{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new zp(e)}get(e){const t=Iu(e);return this._delegate.get(t).then(s=>new Td(this._firestore,new Vc(this._firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,t.converter)))}set(e,t,s){const d=Iu(e);return s?(Lf("Transaction.set",s),this._delegate.set(d,t,s)):this._delegate.set(d,t),this}update(e,t,s,...d){const m=Iu(e);return 2===arguments.length?this._delegate.update(m,t):this._delegate.update(m,t,s,...d),this}delete(e){const t=Iu(e);return this._delegate.delete(t),this}}class Iy{constructor(e){this._delegate=e}set(e,t,s){const d=Iu(e);return s?(Lf("WriteBatch.set",s),this._delegate.set(d,t,s)):this._delegate.set(d,t),this}update(e,t,s,...d){const m=Iu(e);return 2===arguments.length?this._delegate.update(m,t):this._delegate.update(m,t,s,...d),this}delete(e){const t=Iu(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Nh{constructor(e,t,s){this._firestore=e,this._userDataWriter=t,this._delegate=s}fromFirestore(e,t){const s=new Gp(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Uf(this._firestore,s),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const s=Nh.INSTANCES;let d=s.get(e);d||(d=new WeakMap,s.set(e,d));let m=d.get(t);return m||(m=new Nh(e,new zp(e),t),d.set(t,m)),m}}Nh.INSTANCES=new WeakMap;class xa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new zp(e)}static forPath(e,t,s){if(e.length%2!=0)throw new St("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new xa(t,new as(t._delegate,s,new en(e)))}static forKey(e,t,s){return new xa(t,new as(t._delegate,s,e))}get id(){return this._delegate.id}get parent(){return new Yu(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Yu(this.firestore,$m(this._delegate,e))}catch(t){throw Wa(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Fe.m9)(e))instanceof as&&Hm(this._delegate,e)}set(e,t){t=Lf("DocumentReference.set",t);try{return t?hy(this._delegate,e,t):hy(this._delegate,e)}catch(s){throw Wa(s,"setDoc()","DocumentReference.set()")}}update(e,t,...s){try{return 1===arguments.length?fy(this._delegate,e):fy(this._delegate,e,t,...s)}catch(d){throw Wa(d,"updateDoc()","DocumentReference.update()")}}delete(){return function Lv(i){return Ih(qr(i.firestore,Li),[new Do(i._key,Ri.none())])}(this._delegate)}onSnapshot(...e){const t=Ty(e),s=Sy(e,d=>new Td(this.firestore,new Vc(this.firestore._delegate,this._userDataWriter,d._key,d._document,d.metadata,this._delegate.converter)));return py(this._delegate,t,s)}get(e){let t;return t="cache"===e?.source?function kv(i){i=qr(i,as);const e=qr(i.firestore,Li),t=co(e),s=new Id(e);return function Ma(i,e){const t=new Ei;return i.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return(s=(0,Ae.Z)(function*(d,m,w){try{const N=yield function($,W){const re=Vt($);return re.persistence.runTransaction("read document","readonly",De=>re.localDocuments.getDocument(De,W))}(d,m);N.isFoundDocument()?w.resolve(N):N.isNoDocument()?w.resolve(null):w.reject(new St(it.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(N){const $=Fn(N,`Failed to get document '${m} from cache`);w.reject($)}}),function(d,m,w){return s.apply(this,arguments)})(yield Om(i),e,t);var s})),t.promise}(t,i._key).then(d=>new Vc(e,s,i._key,d,new Ed(null!==d&&d.hasLocalMutations,!0),i.converter))}(this._delegate):"server"===e?.source?function Rv(i){i=qr(i,as);const e=qr(i.firestore,Li);return vd(co(e),i._key,{source:"server"}).then(t=>jg(e,i,t))}(this._delegate):function xv(i){i=qr(i,as);const e=qr(i.firestore,Li);return vd(co(e),i._key).then(t=>jg(e,i,t))}(this._delegate),t.then(s=>new Td(this.firestore,new Vc(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)))}withConverter(e){return new xa(this.firestore,this._delegate.withConverter(e?Nh.getInstance(this.firestore,e):null))}}function Wa(i,e,t){return i.message=i.message.replace(e,t),i}function Ty(i){for(const e of i)if("object"==typeof e&&!zg(e))return e;return{}}function Sy(i,e){var t,s;let d;return d=zg(i[0])?i[0]:zg(i[1])?i[1]:"function"==typeof i[0]?{next:i[0],error:i[1],complete:i[2]}:{next:i[1],error:i[2],complete:i[3]},{next:m=>{d.next&&d.next(e(m))},error:null===(t=d.error)||void 0===t?void 0:t.bind(d),complete:null===(s=d.complete)||void 0===s?void 0:s.bind(d)}}class Td{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new xa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return dy(this._delegate,e._delegate)}}class Uf extends Td{data(e){const t=this._delegate.data(e);return function Qa(i,e){i||dn()}(void 0!==t),t}}class ka{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new zp(e)}where(e,t,s){try{return new ka(this.firestore,Lc(this._delegate,function Eu(i,e,t){const s=e,d=Ff("where",i);return cl._create(d,s,t)}(e,t,s)))}catch(d){throw Wa(d,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new ka(this.firestore,Lc(this._delegate,function Cv(i,e="asc"){const t=e,s=Ff("orderBy",i);return t_._create(s,t)}(e,t)))}catch(s){throw Wa(s,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new ka(this.firestore,Lc(this._delegate,function Ev(i){return Vm("limit",i),Ug._create("limit",i,"F")}(e)))}catch(t){throw Wa(t,"limit()","Query.limit()")}}limitToLast(e){try{return new ka(this.firestore,Lc(this._delegate,function n_(i){return Vm("limitToLast",i),Ug._create("limitToLast",i,"L")}(e)))}catch(t){throw Wa(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new ka(this.firestore,Lc(this._delegate,function Iv(...i){return Cd._create("startAt",i,!0)}(...e)))}catch(t){throw Wa(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new ka(this.firestore,Lc(this._delegate,function sy(...i){return Cd._create("startAfter",i,!1)}(...e)))}catch(t){throw Wa(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new ka(this.firestore,Lc(this._delegate,function oy(...i){return Bg._create("endBefore",i,!1)}(...e)))}catch(t){throw Wa(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new ka(this.firestore,Lc(this._delegate,function ay(...i){return Bg._create("endAt",i,!0)}(...e)))}catch(t){throw Wa(t,"endAt()","Query.endAt()")}}isEqual(e){return jm(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function Pv(i){i=qr(i,Xo);const e=qr(i.firestore,Li),t=co(e),s=new Id(e);return function xg(i,e){const t=new Ei;return i.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return(s=(0,Ae.Z)(function*(d,m,w){try{const N=yield hp(d,m,!0),$=new R_(m,N.Wi),W=$.zu(N.documents),re=$.applyChanges(W,!1);w.resolve(re.snapshot)}catch(N){const $=Fn(N,`Failed to execute query '${m} against cache`);w.reject($)}}),function(d,m,w){return s.apply(this,arguments)})(yield Om(i),e,t);var s})),t.promise}(t,i._query).then(d=>new Uc(e,s,i,d))}(this._delegate):"server"===e?.source?function Fv(i){i=qr(i,Xo);const e=qr(i.firestore,Li),t=co(e),s=new Id(e);return Ml(t,i._query,{source:"server"}).then(d=>new Uc(e,s,i,d))}(this._delegate):function Ov(i){i=qr(i,Xo);const e=qr(i.firestore,Li),t=co(e),s=new Id(e);return Vg(i._query),Ml(t,i._query).then(d=>new Uc(e,s,i,d))}(this._delegate),t.then(s=>new l_(this.firestore,new Uc(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)))}onSnapshot(...e){const t=Ty(e),s=Sy(e,d=>new l_(this.firestore,new Uc(this.firestore._delegate,this._userDataWriter,this._delegate,d._snapshot)));return py(this._delegate,t,s)}withConverter(e){return new ka(this.firestore,this._delegate.withConverter(e?Nh.getInstance(this.firestore,e):null))}}class Ay{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Uf(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class l_{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new ka(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Uf(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new Ay(this._firestore,t))}forEach(e,t){this._delegate.forEach(s=>{e.call(t,new Uf(this._firestore,s))})}isEqual(e){return dy(this._delegate,e._delegate)}}class Yu extends ka{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new xa(this.firestore,e):null}doc(e){try{return new xa(this.firestore,void 0===e?kg(this._delegate):kg(this._delegate,e))}catch(t){throw Wa(t,"doc()","CollectionReference.doc()")}}add(e){return function Vv(i,e){const t=qr(i.firestore,Li),s=kg(i),d=jp(i.converter,e);return Ih(t,[Vp(wd(i.firestore),"addDoc",s._key,d,null!==i.converter,{}).toMutation(s._key,Ri.exists(!1))]).then(()=>s)}(this._delegate,e).then(t=>new xa(this.firestore,t))}isEqual(e){return Hm(this._delegate,e._delegate)}withConverter(e){return new Yu(this.firestore,this._delegate.withConverter(e?Nh.getInstance(this.firestore,e):null))}}function Iu(i){return qr(i,as)}class u_{constructor(...e){this._delegate=new Wu(...e)}static documentId(){return new u_(Ir.keyField().canonicalString())}isEqual(e){return(e=(0,Fe.m9)(e))instanceof Wu&&this._delegate._internalPath.isEqual(e._internalPath)}}class xh{constructor(e){this._delegate=e}static serverTimestamp(){const e=function wy(){return new Qm("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new xh(e)}static delete(){const e=function by(){return new Og("deleteField")}();return e._methodName="FieldValue.delete",new xh(e)}static arrayUnion(...e){const t=function K0(...i){return new ty("arrayUnion",i)}(...e);return t._methodName="FieldValue.arrayUnion",new xh(t)}static arrayRemove(...e){const t=function Xn(...i){return new vv("arrayRemove",i)}(...e);return t._methodName="FieldValue.arrayRemove",new xh(t)}static increment(e){const t=function jv(i){return new Vo("increment",i)}(e);return t._methodName="FieldValue.increment",new xh(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Wv={Firestore:a_,GeoPoint:Eh,Timestamp:Wr,Blob:Vf,Transaction:Ey,WriteBatch:Iy,DocumentReference:xa,DocumentSnapshot:Td,Query:ka,QueryDocumentSnapshot:Uf,QuerySnapshot:l_,CollectionReference:Yu,FieldPath:u_,FieldValue:xh,setLogLevel:function Cy(i){!function ui(i){nr.setLogLevel(i)}(i)},CACHE_SIZE_UNLIMITED:-1};!function Ny(i){(function My(i,e){i.INTERNAL.registerComponent(new ut.wA("firestore-compat",t=>{const s=t.getProvider("app-compat").getImmediate(),d=t.getProvider("firestore").getImmediate();return e(s,d)},"PUBLIC").setServiceProps(Object.assign({},Wv)))})(i,(e,t)=>new a_(e,t,new Dy)),i.registerVersion("@firebase/firestore-compat","0.3.6")}(Je.Z);var Bc=B(1205),qv=B(6217),xy=B(9260);function ky(i,e){return function Yv(i,e=K.z){return new x.y(t=>{let s;return null!=e?e.schedule(()=>{s=i.onSnapshot({includeMetadataChanges:!0},t)}):s=i.onSnapshot({includeMetadataChanges:!0},t),()=>{s?.()}})}(i,e)}function Ry(i,e){return ky(i,e).pipe((0,de.U)(t=>({payload:t,type:"query"})))}function c_(i,e){return Ry(i,e).pipe((0,he.O)(void 0),ce(),(0,de.U)(([t,s])=>{const d=s.payload.docChanges(),m=d.map(w=>({type:w.type,payload:w}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(s.payload.metadata)&&s.payload.docs.forEach((w,N)=>{const $=d.find(re=>re.doc.ref.isEqual(w.ref)),W=t?.payload.docs.find(re=>re.ref.isEqual(w.ref));$&&JSON.stringify($.doc.metadata)===JSON.stringify(w.metadata)||!$&&W&&JSON.stringify(W.metadata)===JSON.stringify(w.metadata)||m.push({type:"modified",payload:{oldIndex:N,newIndex:N,type:"modified",doc:w}})}),m}))}function Kv(i,e,t){return c_(i,t).pipe((0,we.R)((s,d)=>function Oy(i,e,t){return e.forEach(s=>{t.indexOf(s.type)>-1&&(i=function Jv(i,e){switch(e.type){case"added":if(!i[e.newIndex]||!i[e.newIndex].doc.ref.isEqual(e.doc.ref))return Bf(i,e.newIndex,0,e);break;case"modified":if(null==i[e.oldIndex]||i[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=i.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return Bf(i,e.newIndex,1,e)}break;case"removed":if(i[e.oldIndex]&&i[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Bf(i,e.oldIndex,1)}return i}(i,s))}),i}(s,d.map(m=>m.payload),e),[]),(0,_t.x)(),(0,de.U)(s=>s.map(d=>({type:d.type,payload:d}))))}function Bf(i,e,t,...s){const d=i.slice();return d.splice(e,t,...s),d}function Py(i){return(!i||0===i.length)&&(i=["added","removed","modified"]),i}class d_{constructor(e,t,s){this.ref=e,this.query=t,this.afs=s}stateChanges(e){let t=c_(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,de.U)(s=>s.filter(d=>e.indexOf(d.type)>-1)))),t.pipe((0,he.O)(void 0),ce(),(0,Ue.h)(([s,d])=>d.length>0||!s),(0,de.U)(([s,d])=>d),Ce.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,we.R)((t,s)=>[...t,...s],[]))}snapshotChanges(e){const t=Py(e);return Kv(this.query,t,this.afs.schedulers.outsideAngular).pipe(Ce.iC)}valueChanges(e={}){return Ry(this.query,this.afs.schedulers.outsideAngular).pipe((0,de.U)(t=>t.payload.docs.map(s=>e.idField?Object.assign(Object.assign({},s.data()),{[e.idField]:s.id}):s.data())),Ce.iC)}get(e){return(0,l.D)(this.query.get(e)).pipe(Ce.iC)}add(e){return this.ref.add(e)}doc(e){return new $f(this.ref.doc(e),this.afs)}}class $f{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const s=this.ref.collection(e),{ref:d,query:m}=h_(s,t);return new d_(d,m,this.afs)}snapshotChanges(){return function X0(i,e){return ky(i,e).pipe((0,he.O)(void 0),ce(),(0,de.U)(([t,s])=>s.exists?t?.exists?{payload:s,type:"modified"}:{payload:s,type:"added"}:{payload:s,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Ce.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,de.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,l.D)(this.ref.get(e)).pipe(Ce.iC)}}class Qv{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?c_(this.query,this.afs.schedulers.outsideAngular).pipe((0,de.U)(t=>t.filter(s=>e.indexOf(s.type)>-1)),(0,Ue.h)(t=>t.length>0),Ce.iC):c_(this.query,this.afs.schedulers.outsideAngular).pipe(Ce.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,we.R)((t,s)=>[...t,...s],[]))}snapshotChanges(e){const t=Py(e);return Kv(this.query,t,this.afs.schedulers.outsideAngular).pipe(Ce.iC)}valueChanges(e={}){return Ry(this.query,this.afs.schedulers.outsideAngular).pipe((0,de.U)(s=>s.payload.docs.map(d=>e.idField?Object.assign({[e.idField]:d.id},d.data()):d.data())),Ce.iC)}get(e){return(0,l.D)(this.query.get(e)).pipe(Ce.iC)}}const Fy=new v.OlP("angularfire2.enableFirestorePersistence"),Ly=new v.OlP("angularfire2.firestore.persistenceSettings"),Xv=new v.OlP("angularfire2.firestore.settings"),e0=new v.OlP("angularfire2.firestore.use-emulator");function h_(i,e=(t=>t)){return{query:e(i),ref:i}}let Vy=(()=>{class i{constructor(t,s,d,m,w,N,$,W,re,De,Ye,wt,Kt,yn,Ln,ei,ys){this.schedulers=$;const Ur=(0,Be.on)(t,N,s),ea=re;De&&(0,Bc.nw)(Ur,N,Ye,Kt,yn,Ln,wt,ei),[this.firestore,this.persistenceEnabled$]=(0,Be.cc)(`${Ur.name}.firestore`,"AngularFirestore",Ur.name,()=>{const Qi=N.runOutsideAngular(()=>Ur.firestore());if(m&&Qi.settings(m),ea&&Qi.useEmulator(...ea),d&&!(0,Pt.PM)(w)){const ls=()=>{try{return(0,l.D)(Qi.enablePersistence(W||void 0).then(()=>!0,()=>!1))}catch(qa){return typeof console<"u"&&console.warn(qa),(0,Ee.of)(!1)}};return[Qi,N.runOutsideAngular(ls)]}return[Qi,(0,Ee.of)(!1)]},[m,ea,d])}collection(t,s){let d;d="string"==typeof t?this.firestore.collection(t):t;const{ref:m,query:w}=h_(d,s),N=this.schedulers.ngZone.run(()=>m);return new d_(N,w,this)}collectionGroup(t,s){const d=s||(w=>w),m=this.firestore.collectionGroup(t);return new Qv(d(m),this)}doc(t){let s;s="string"==typeof t?this.firestore.doc(t):t;const d=this.schedulers.ngZone.run(()=>s);return new $f(d,this)}createId(){return this.firestore.collection("_").doc().id}}return i.\u0275fac=function(t){return new(t||i)(v.LFG(Be.Dh),v.LFG(Be.xv,8),v.LFG(Fy,8),v.LFG(Xv,8),v.LFG(v.Lbi),v.LFG(v.R0b),v.LFG(Ce.HU),v.LFG(Ly,8),v.LFG(e0,8),v.LFG(Bc.zQ,8),v.LFG(Bc.Qv,8),v.LFG(Bc.L6,8),v.LFG(Bc._Q,8),v.LFG(Bc.rT,8),v.LFG(Bc.lh,8),v.LFG(Bc.f7,8),v.LFG(qv.nm,8))},i.\u0275prov=v.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})(),t0=(()=>{class i{constructor(){xy.Z.registerVersion("angularfire",Ce.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:i,providers:[{provide:Fy,useValue:!0},{provide:Ly,useValue:t}]}}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=v.oAB({type:i}),i.\u0275inj=v.cJS({providers:[Vy]}),i})()},2011:(tn,ze,B)=>{B.d(ze,{Dh:()=>Te,GT:()=>Ce,cc:()=>Ue,hO:()=>_t,on:()=>ce,pX:()=>Ee,xv:()=>Pe});var v=B(4650),K=B(9260),x=B(2122);tn=B.hmd(tn);const l=["ngOnDestroy"],Ee=(Je,Ae,Zt,ut={})=>new Proxy(Je,{get:($e,Fe)=>Zt.runOutsideAngular(()=>{var Ft;if(Je[Fe])return!(null===(Ft=ut?.spy)||void 0===Ft)&&Ft.get&&ut.spy.get(Fe,Je[Fe]),Je[Fe];if(l.indexOf(Fe)>-1)return()=>{};const Dt=Ae.toPromise().then(se=>{const et=se&&se[Fe];return"function"==typeof et?et.bind(se):et&&et.then?et.then(tt=>Zt.run(()=>tt)):Zt.run(()=>et)});return new Proxy(()=>{},{get:(se,et)=>Dt[et],apply:(se,et,tt)=>Dt.then(Ot=>{var kt;const bt=Ot&&Ot(...tt);return!(null===(kt=ut?.spy)||void 0===kt)&&kt.apply&&ut.spy.apply(Fe,tt,bt),bt})})})}),Ce=(Je,Ae)=>{Ae.forEach(Zt=>{Object.getOwnPropertyNames(Zt.prototype||Zt).forEach(ut=>{Object.defineProperty(Je.prototype,ut,Object.getOwnPropertyDescriptor(Zt.prototype||Zt,ut))})})};class he{constructor(Ae){return Ae}}const Te=new v.OlP("angularfire2.app.options"),Pe=new v.OlP("angularfire2.app.name");function ce(Je,Ae,Zt){const $e="object"==typeof Zt&&Zt||{};$e.name=$e.name||"string"==typeof Zt&&Zt||"[DEFAULT]";const Ft=K.Z.apps.filter(Dt=>Dt&&Dt.name===$e.name)[0]||Ae.runOutsideAngular(()=>K.Z.initializeApp(Je,$e));try{JSON.stringify(Je)!==JSON.stringify(Ft.options)&&de("error",`${Ft.name} Firebase App already initialized with different options${tn.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new he(Ft)}const de=(Je,...Ae)=>{(0,v.X6Q)()&&typeof console<"u"&&console[Je](...Ae)},we={provide:he,useFactory:ce,deps:[Te,v.R0b,[new v.FiY,Pe]]};let _t=(()=>{class Je{constructor(Zt){K.Z.registerVersion("angularfire",x.q4.full,"core"),K.Z.registerVersion("angularfire",x.q4.full,"app-compat"),K.Z.registerVersion("angular",v.q4F.full,Zt.toString())}static initializeApp(Zt,ut){return{ngModule:Je,providers:[{provide:Te,useValue:Zt},{provide:Pe,useValue:ut}]}}}return Je.\u0275fac=function(Zt){return new(Zt||Je)(v.LFG(v.Lbi))},Je.\u0275mod=v.oAB({type:Je}),Je.\u0275inj=v.cJS({providers:[we]}),Je})();function Ue(Je,Ae,Zt,ut,$e){const[,Fe,Ft]=globalThis.\u0275AngularfireInstanceCache.find(Dt=>Dt[0]===Je)||[];if(Fe)return function Be(Je,Ae){try{return Je.toString()===Ae.toString()}catch{return Je===Ae}}($e,Ft)||(Ke("error",`${Ae} was already initialized on the ${Zt} Firebase App with different settings.${Pt?" You may need to reload as Firebase is not HMR aware.":""}`),Ke("warn",{is:$e,was:Ft})),Fe;{const Dt=ut();return globalThis.\u0275AngularfireInstanceCache.push([Je,Dt,$e]),Dt}}const Pt=!!tn.hot,Ke=(Je,...Ae)=>{(0,v.X6Q)()&&typeof console<"u"&&console[Je](...Ae)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2122:(tn,ze,B)=>{B.d(ze,{q4:()=>ye,iC:()=>Yi,fc:()=>vo,HU:()=>iu,vb:()=>ml,JM:()=>tl});var v=B(4650),K=B(259),x=B(5861),l=B(9681),Ee=B(2090),Ce=B(4859),he=B(1877),Te=B(8766);const Pe="@firebase/installations",we="w:0.6.4",_t="FIS_v2",Ae=new Ee.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Zt(F){return F instanceof Ee.ZR&&F.code.includes("request-failed")}function ut({projectId:F}){return`https://firebaseinstallations.googleapis.com/v1/projects/${F}/installations`}function $e(F){return{token:F.token,requestStatus:2,expiresIn:Ot(F.expiresIn),creationTime:Date.now()}}function Fe(F,H){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,x.Z)(function*(F,H){const _e=(yield H.json()).error;return Ae.create("request-failed",{requestName:F,serverCode:_e.code,serverMessage:_e.message,serverStatus:_e.status})})).apply(this,arguments)}function Dt({apiKey:F}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":F})}function se(F,{refreshToken:H}){const Y=Dt(F);return Y.append("Authorization",function kt(F){return`${_t} ${F}`}(H)),Y}function et(F){return tt.apply(this,arguments)}function tt(){return(tt=(0,x.Z)(function*(F){const H=yield F();return H.status>=500&&H.status<600?F():H})).apply(this,arguments)}function Ot(F){return Number(F.replace("s","000"))}function bt(F,H){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,x.Z)(function*({appConfig:F,heartbeatServiceProvider:H},{fid:Y}){const _e=ut(F),ke=Dt(F),Le=H.getImmediate({optional:!0});if(Le){const Hn=yield Le.getHeartbeatsHeader();Hn&&ke.append("x-firebase-client",Hn)}const gn={method:"POST",headers:ke,body:JSON.stringify({fid:Y,authVersion:_t,appId:F.appId,sdkVersion:we})},bn=yield et(()=>fetch(_e,gn));if(bn.ok){const Hn=yield bn.json();return{fid:Hn.fid||Y,registrationStatus:2,refreshToken:Hn.refreshToken,authToken:$e(Hn.authToken)}}throw yield Fe("Create Installation",bn)})).apply(this,arguments)}function at(F){return new Promise(H=>{setTimeout(H,F)})}const ct=/^[cdef][\w-]{21}$/;function We(){try{const F=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(F),F[0]=112+F[0]%16;const Y=function Jt(F){return function Qe(F){return btoa(String.fromCharCode(...F)).replace(/\+/g,"-").replace(/\//g,"_")}(F).substr(0,22)}(F);return ct.test(Y)?Y:""}catch{return""}}function Wt(F){return`${F.appName}!${F.appId}`}const pn=new Map;function Lt(F,H){const Y=Wt(F);hn(Y,H),function Zn(F,H){const Y=function hr(){return!Yn&&"BroadcastChannel"in self&&(Yn=new BroadcastChannel("[Firebase] FID Change"),Yn.onmessage=F=>{hn(F.data.key,F.data.fid)}),Yn}();Y&&Y.postMessage({key:F,fid:H}),function lr(){0===pn.size&&Yn&&(Yn.close(),Yn=null)}()}(Y,H)}function hn(F,H){const Y=pn.get(F);if(Y)for(const _e of Y)_e(H)}let Yn=null;const Kn="firebase-installations-store";let mr=null;function _r(){return mr||(mr=(0,Te.X3)("firebase-installations-database",1,{upgrade:(F,H)=>{0===H&&F.createObjectStore(Kn)}})),mr}function Tt(F,H){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,x.Z)(function*(F,H){const Y=Wt(F),ke=(yield _r()).transaction(Kn,"readwrite"),Le=ke.objectStore(Kn),$t=yield Le.get(Y);return yield Le.put(H,Y),yield ke.done,(!$t||$t.fid!==H.fid)&&Lt(F,H.fid),H})).apply(this,arguments)}function Wn(F){return He.apply(this,arguments)}function He(){return(He=(0,x.Z)(function*(F){const H=Wt(F),_e=(yield _r()).transaction(Kn,"readwrite");yield _e.objectStore(Kn).delete(H),yield _e.done})).apply(this,arguments)}function ln(F,H){return q.apply(this,arguments)}function q(){return(q=(0,x.Z)(function*(F,H){const Y=Wt(F),ke=(yield _r()).transaction(Kn,"readwrite"),Le=ke.objectStore(Kn),$t=yield Le.get(Y),gn=H($t);return void 0===gn?yield Le.delete(Y):yield Le.put(gn,Y),yield ke.done,gn&&(!$t||$t.fid!==gn.fid)&&Lt(F,gn.fid),gn})).apply(this,arguments)}function oe(F){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,x.Z)(function*(F){let H;const Y=yield ln(F.appConfig,_e=>{const ke=Ct(_e),Le=Mt(F,ke);return H=Le.registrationPromise,Le.installationEntry});return""===Y.fid?{installationEntry:yield H}:{installationEntry:Y,registrationPromise:H}})).apply(this,arguments)}function Ct(F){return fn(F||{fid:We(),registrationStatus:0})}function Mt(F,H){if(0===H.registrationStatus){if(!navigator.onLine)return{installationEntry:H,registrationPromise:Promise.reject(Ae.create("app-offline"))};const Y={fid:H.fid,registrationStatus:1,registrationTime:Date.now()},_e=function Nt(F,H){return dt.apply(this,arguments)}(F,Y);return{installationEntry:Y,registrationPromise:_e}}return 1===H.registrationStatus?{installationEntry:H,registrationPromise:jt(F)}:{installationEntry:H}}function dt(){return(dt=(0,x.Z)(function*(F,H){try{const Y=yield bt(F,H);return Tt(F.appConfig,Y)}catch(Y){throw Zt(Y)&&409===Y.customData.serverCode?yield Wn(F.appConfig):yield Tt(F.appConfig,{fid:H.fid,registrationStatus:0}),Y}})).apply(this,arguments)}function jt(F){return wn.apply(this,arguments)}function wn(){return(wn=(0,x.Z)(function*(F){let H=yield un(F.appConfig);for(;1===H.registrationStatus;)yield at(100),H=yield un(F.appConfig);if(0===H.registrationStatus){const{installationEntry:Y,registrationPromise:_e}=yield oe(F);return _e||Y}return H})).apply(this,arguments)}function un(F){return ln(F,H=>{if(!H)throw Ae.create("installation-not-found");return fn(H)})}function fn(F){return function sr(F){return 1===F.registrationStatus&&F.registrationTime+1e4<Date.now()}(F)?{fid:F.fid,registrationStatus:0}:F}function En(F,H){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,x.Z)(function*({appConfig:F,heartbeatServiceProvider:H},Y){const _e=Qn(F,Y),ke=se(F,Y),Le=H.getImmediate({optional:!0});if(Le){const Hn=yield Le.getHeartbeatsHeader();Hn&&ke.append("x-firebase-client",Hn)}const gn={method:"POST",headers:ke,body:JSON.stringify({installation:{sdkVersion:we,appId:F.appId}})},bn=yield et(()=>fetch(_e,gn));if(bn.ok)return $e(yield bn.json());throw yield Fe("Generate Auth Token",bn)})).apply(this,arguments)}function Qn(F,{fid:H}){return`${ut(F)}/${H}/authTokens:generate`}function Mr(F){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,x.Z)(function*(F,H=!1){let Y;const _e=yield ln(F.appConfig,Le=>{if(!In(Le))throw Ae.create("not-registered");const $t=Le.authToken;if(!H&&Dr($t))return Le;if(1===$t.requestStatus)return Y=rn(F,H),Le;{if(!navigator.onLine)throw Ae.create("app-offline");const gn=fe(Le);return Y=on(F,gn),gn}});return Y?yield Y:_e.authToken})).apply(this,arguments)}function rn(F,H){return nt.apply(this,arguments)}function nt(){return(nt=(0,x.Z)(function*(F,H){let Y=yield Rt(F.appConfig);for(;1===Y.authToken.requestStatus;)yield at(100),Y=yield Rt(F.appConfig);const _e=Y.authToken;return 0===_e.requestStatus?Mr(F,H):_e})).apply(this,arguments)}function Rt(F){return ln(F,H=>{if(!In(H))throw Ae.create("not-registered");return function Se(F){return 1===F.requestStatus&&F.requestTime+1e4<Date.now()}(H.authToken)?Object.assign(Object.assign({},H),{authToken:{requestStatus:0}}):H})}function on(F,H){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,x.Z)(function*(F,H){try{const Y=yield En(F,H),_e=Object.assign(Object.assign({},H),{authToken:Y});return yield Tt(F.appConfig,_e),Y}catch(Y){if(!Zt(Y)||401!==Y.customData.serverCode&&404!==Y.customData.serverCode){const _e=Object.assign(Object.assign({},H),{authToken:{requestStatus:0}});yield Tt(F.appConfig,_e)}else yield Wn(F.appConfig);throw Y}})).apply(this,arguments)}function In(F){return void 0!==F&&2===F.registrationStatus}function Dr(F){return 2===F.requestStatus&&!function ve(F){const H=Date.now();return H<F.creationTime||F.creationTime+F.expiresIn<H+36e5}(F)}function fe(F){const H={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},F),{authToken:H})}function je(){return(je=(0,x.Z)(function*(F){const H=F,{installationEntry:Y,registrationPromise:_e}=yield oe(H);return _e?_e.catch(console.error):Mr(H).catch(console.error),Y.fid})).apply(this,arguments)}function mn(){return(mn=(0,x.Z)(function*(F,H=!1){const Y=F;return yield Gn(Y),(yield Mr(Y,H)).token})).apply(this,arguments)}function Gn(F){return fr.apply(this,arguments)}function fr(){return(fr=(0,x.Z)(function*(F){const{registrationPromise:H}=yield oe(F);H&&(yield H)})).apply(this,arguments)}function Br(F){return Ae.create("missing-app-config-values",{valueName:F})}const Vi="installations",vr=F=>{const H=F.getProvider("app").getImmediate(),Y=function Un(F){if(!F||!F.options)throw Br("App Configuration");if(!F.name)throw Br("App Name");const H=["projectId","apiKey","appId"];for(const Y of H)if(!F.options[Y])throw Br(Y);return{appName:F.name,projectId:F.options.projectId,apiKey:F.options.apiKey,appId:F.options.appId}}(H);return{app:H,appConfig:Y,heartbeatServiceProvider:(0,l._getProvider)(H,"heartbeat"),_delete:()=>Promise.resolve()}},_i=F=>{const H=F.getProvider("app").getImmediate(),Y=(0,l._getProvider)(H,Vi).getImmediate();return{getId:()=>function rt(F){return je.apply(this,arguments)}(Y),getToken:ke=>function qt(F){return mn.apply(this,arguments)}(Y,ke)}};(function Xi(){(0,l._registerComponent)(new Ce.wA(Vi,vr,"PUBLIC")),(0,l._registerComponent)(new Ce.wA("installations-internal",_i,"PRIVATE"))})(),(0,l.registerVersion)(Pe,"0.6.4"),(0,l.registerVersion)(Pe,"0.6.4","esm2017");const Si="@firebase/remote-config",ti=new Ee.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Ai{constructor(H,Y,_e,ke){this.client=H,this.storage=Y,this.storageCache=_e,this.logger=ke}isCachedDataFresh(H,Y){if(!Y)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const _e=Date.now()-Y,ke=_e<=H;return this.logger.debug(`Config fetch cache check. Cache age millis: ${_e}. Cache max age millis (minimumFetchIntervalMillis setting): ${H}. Is cache hit: ${ke}.`),ke}fetch(H){var Y=this;return(0,x.Z)(function*(){const[_e,ke]=yield Promise.all([Y.storage.getLastSuccessfulFetchTimestampMillis(),Y.storage.getLastSuccessfulFetchResponse()]);if(ke&&Y.isCachedDataFresh(H.cacheMaxAgeMillis,_e))return ke;H.eTag=ke&&ke.eTag;const Le=yield Y.client.fetch(H),$t=[Y.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Le.status&&$t.push(Y.storage.setLastSuccessfulFetchResponse(Le)),yield Promise.all($t),Le})()}}function fi(F=navigator){return F.languages&&F.languages[0]||F.language}class _a{constructor(H,Y,_e,ke,Le,$t){this.firebaseInstallations=H,this.sdkVersion=Y,this.namespace=_e,this.projectId=ke,this.apiKey=Le,this.appId=$t}fetch(H){var Y=this;return(0,x.Z)(function*(){const[_e,ke]=yield Promise.all([Y.firebaseInstallations.getId(),Y.firebaseInstallations.getToken()]),$t=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${Y.projectId}/namespaces/${Y.namespace}:fetch?key=${Y.apiKey}`,gn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":H.eTag||"*"},bn={sdk_version:Y.sdkVersion,app_instance_id:_e,app_instance_id_token:ke,app_id:Y.appId,language_code:fi()},Hn={method:"POST",headers:gn,body:JSON.stringify(bn)},pr=fetch($t,Hn),Dn=new Promise((Fo,qo)=>{H.signal.addEventListener(()=>{const tc=new Error("The operation was aborted.");tc.name="AbortError",qo(tc)})});let oo;try{yield Promise.race([pr,Dn]),oo=yield pr}catch(Fo){let qo="fetch-client-network";throw"AbortError"===Fo?.name&&(qo="fetch-timeout"),ti.create(qo,{originalErrorMessage:Fo?.message})}let mi=oo.status;const ci=oo.headers.get("ETag")||void 0;let bo,Wo;if(200===oo.status){let Fo;try{Fo=yield oo.json()}catch(qo){throw ti.create("fetch-client-parse",{originalErrorMessage:qo?.message})}bo=Fo.entries,Wo=Fo.state}if("INSTANCE_STATE_UNSPECIFIED"===Wo?mi=500:"NO_CHANGE"===Wo?mi=304:("NO_TEMPLATE"===Wo||"EMPTY_CONFIG"===Wo)&&(bo={}),304!==mi&&200!==mi)throw ti.create("fetch-status",{httpStatus:mi});return{status:mi,eTag:ci,config:bo}})()}}class xe{constructor(H,Y){this.client=H,this.storage=Y}fetch(H){var Y=this;return(0,x.Z)(function*(){const _e=(yield Y.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return Y.attemptFetch(H,_e)})()}attemptFetch(H,{throttleEndTimeMillis:Y,backoffCount:_e}){var ke=this;return(0,x.Z)(function*(){yield function Rr(F,H){return new Promise((Y,_e)=>{const ke=Math.max(H-Date.now(),0),Le=setTimeout(Y,ke);F.addEventListener(()=>{clearTimeout(Le),_e(ti.create("fetch-throttle",{throttleEndTimeMillis:H}))})})}(H.signal,Y);try{const Le=yield ke.client.fetch(H);return yield ke.storage.deleteThrottleMetadata(),Le}catch(Le){if(!function Oe(F){if(!(F instanceof Ee.ZR&&F.customData))return!1;const H=Number(F.customData.httpStatus);return 429===H||500===H||503===H||504===H}(Le))throw Le;const $t={throttleEndTimeMillis:Date.now()+(0,Ee.$s)(_e),backoffCount:_e+1};return yield ke.storage.setThrottleMetadata($t),ke.attemptFetch(H,$t)}})()}}class zt{constructor(H,Y,_e,ke,Le){this.app=H,this._client=Y,this._storageCache=_e,this._storage=ke,this._logger=Le,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Tn(F,H){const Y=F.target.error||void 0;return ti.create(H,{originalErrorMessage:Y&&Y?.message})}const Rn="app_namespace_store";class ho{constructor(H,Y,_e,ke=function Di(){return new Promise((F,H)=>{try{const Y=indexedDB.open("firebase_remote_config",1);Y.onerror=_e=>{H(Tn(_e,"storage-open"))},Y.onsuccess=_e=>{F(_e.target.result)},Y.onupgradeneeded=_e=>{0===_e.oldVersion&&_e.target.result.createObjectStore(Rn,{keyPath:"compositeKey"})}}catch(Y){H(ti.create("storage-open",{originalErrorMessage:Y?.message}))}})}()){this.appId=H,this.appName=Y,this.namespace=_e,this.openDbPromise=ke}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(H){return this.set("last_fetch_status",H)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(H){return this.set("last_successful_fetch_timestamp_millis",H)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(H){return this.set("last_successful_fetch_response",H)}getActiveConfig(){return this.get("active_config")}setActiveConfig(H){return this.set("active_config",H)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(H){return this.set("active_config_etag",H)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(H){return this.set("throttle_metadata",H)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(H){var Y=this;return(0,x.Z)(function*(){const _e=yield Y.openDbPromise;return new Promise((ke,Le)=>{const gn=_e.transaction([Rn],"readonly").objectStore(Rn),bn=Y.createCompositeKey(H);try{const Hn=gn.get(bn);Hn.onerror=pr=>{Le(Tn(pr,"storage-get"))},Hn.onsuccess=pr=>{const Dn=pr.target.result;ke(Dn?Dn.value:void 0)}}catch(Hn){Le(ti.create("storage-get",{originalErrorMessage:Hn?.message}))}})})()}set(H,Y){var _e=this;return(0,x.Z)(function*(){const ke=yield _e.openDbPromise;return new Promise((Le,$t)=>{const bn=ke.transaction([Rn],"readwrite").objectStore(Rn),Hn=_e.createCompositeKey(H);try{const pr=bn.put({compositeKey:Hn,value:Y});pr.onerror=Dn=>{$t(Tn(Dn,"storage-set"))},pr.onsuccess=()=>{Le()}}catch(pr){$t(ti.create("storage-set",{originalErrorMessage:pr?.message}))}})})()}delete(H){var Y=this;return(0,x.Z)(function*(){const _e=yield Y.openDbPromise;return new Promise((ke,Le)=>{const gn=_e.transaction([Rn],"readwrite").objectStore(Rn),bn=Y.createCompositeKey(H);try{const Hn=gn.delete(bn);Hn.onerror=pr=>{Le(Tn(pr,"storage-delete"))},Hn.onsuccess=()=>{ke()}}catch(Hn){Le(ti.create("storage-delete",{originalErrorMessage:Hn?.message}))}})})()}createCompositeKey(H){return[this.appId,this.appName,this.namespace,H].join()}}class Bi{constructor(H){this.storage=H}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var H=this;return(0,x.Z)(function*(){const Y=H.storage.getLastFetchStatus(),_e=H.storage.getLastSuccessfulFetchTimestampMillis(),ke=H.storage.getActiveConfig(),Le=yield Y;Le&&(H.lastFetchStatus=Le);const $t=yield _e;$t&&(H.lastSuccessfulFetchTimestampMillis=$t);const gn=yield ke;gn&&(H.activeConfig=gn)})()}setLastFetchStatus(H){return this.lastFetchStatus=H,this.storage.setLastFetchStatus(H)}setLastSuccessfulFetchTimestampMillis(H){return this.lastSuccessfulFetchTimestampMillis=H,this.storage.setLastSuccessfulFetchTimestampMillis(H)}setActiveConfig(H){return this.activeConfig=H,this.storage.setActiveConfig(H)}}function Js(){return na.apply(this,arguments)}function na(){return(na=(0,x.Z)(function*(){if(!(0,Ee.hl)())return!1;try{return yield(0,Ee.eu)()}catch{return!1}})).apply(this,arguments)}!function $i(){(0,l._registerComponent)(new Ce.wA("remote-config",function F(H,{instanceIdentifier:Y}){const _e=H.getProvider("app").getImmediate(),ke=H.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw ti.create("registration-window");if(!(0,Ee.hl)())throw ti.create("indexed-db-unavailable");const{projectId:Le,apiKey:$t,appId:gn}=_e.options;if(!Le)throw ti.create("registration-project-id");if(!$t)throw ti.create("registration-api-key");if(!gn)throw ti.create("registration-app-id");const bn=new ho(gn,_e.name,Y=Y||"firebase"),Hn=new Bi(bn),pr=new he.Yd(Si);pr.logLevel=he.in.ERROR;const Dn=new _a(ke,l.SDK_VERSION,Y,Le,$t,gn),oo=new xe(Dn,bn),mi=new Ai(oo,bn,Hn,pr),ci=new zt(_e,mi,Hn,bn,pr);return function Nr(F){const H=(0,Ee.m9)(F);H._initializePromise||(H._initializePromise=H._storageCache.loadFromStorage().then(()=>{H._isInitializationComplete=!0}))}(ci),ci},"PUBLIC").setMultipleInstances(!0)),(0,l.registerVersion)(Si,"0.4.4"),(0,l.registerVersion)(Si,"0.4.4","esm2017")}();const Hi="/firebase-messaging-sw.js",ji="/firebase-cloud-messaging-push-scope",vs="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Bo="google.c.a.c_id",fs="google.c.a.c_l",Qs="google.c.a.ts",To="google.c.a.e";var Ss=(()=>{return(F=Ss||(Ss={})).PUSH_RECEIVED="push-received",F.NOTIFICATION_CLICKED="notification-clicked",Ss;var F})();function ts(F){const H=new Uint8Array(F);return btoa(String.fromCharCode(...H)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Mi(F){const Y=(F+"=".repeat((4-F.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),_e=atob(Y),ke=new Uint8Array(_e.length);for(let Le=0;Le<_e.length;++Le)ke[Le]=_e.charCodeAt(Le);return ke}const As="fcm_token_details_db",Hr="fcm_token_object_Store";function ns(F){return So.apply(this,arguments)}function So(){return So=(0,x.Z)(function*(F){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Le=>Le.name).includes(As))return null;let H=null;return(yield(0,Te.X3)(As,5,{upgrade:(_e=(0,x.Z)(function*(ke,Le,$t,gn){var bn;if(Le<2||!ke.objectStoreNames.contains(Hr))return;const Hn=gn.objectStore(Hr),pr=yield Hn.index("fcmSenderId").get(F);if(yield Hn.clear(),pr)if(2===Le){const Dn=pr;if(!Dn.auth||!Dn.p256dh||!Dn.endpoint)return;H={token:Dn.fcmToken,createTime:null!==(bn=Dn.createTime)&&void 0!==bn?bn:Date.now(),subscriptionOptions:{auth:Dn.auth,p256dh:Dn.p256dh,endpoint:Dn.endpoint,swScope:Dn.swScope,vapidKey:"string"==typeof Dn.vapidKey?Dn.vapidKey:ts(Dn.vapidKey)}}}else if(3===Le){const Dn=pr;H={token:Dn.fcmToken,createTime:Dn.createTime,subscriptionOptions:{auth:ts(Dn.auth),p256dh:ts(Dn.p256dh),endpoint:Dn.endpoint,swScope:Dn.swScope,vapidKey:ts(Dn.vapidKey)}}}else if(4===Le){const Dn=pr;H={token:Dn.fcmToken,createTime:Dn.createTime,subscriptionOptions:{auth:ts(Dn.auth),p256dh:ts(Dn.p256dh),endpoint:Dn.endpoint,swScope:Dn.swScope,vapidKey:ts(Dn.vapidKey)}}}}),function(Le,$t,gn,bn){return _e.apply(this,arguments)})})).close(),yield(0,Te.Lj)(As),yield(0,Te.Lj)("fcm_vapid_details_db"),yield(0,Te.Lj)("undefined"),ri(H)?H:null;var _e}),So.apply(this,arguments)}function ri(F){if(!F||!F.subscriptionOptions)return!1;const{subscriptionOptions:H}=F;return"number"==typeof F.createTime&&F.createTime>0&&"string"==typeof F.token&&F.token.length>0&&"string"==typeof H.auth&&H.auth.length>0&&"string"==typeof H.p256dh&&H.p256dh.length>0&&"string"==typeof H.endpoint&&H.endpoint.length>0&&"string"==typeof H.swScope&&H.swScope.length>0&&"string"==typeof H.vapidKey&&H.vapidKey.length>0}const Ci="firebase-messaging-store";let pi=null;function ps(){return pi||(pi=(0,Te.X3)("firebase-messaging-database",1,{upgrade:(F,H)=>{0===H&&F.createObjectStore(Ci)}})),pi}function ra(F){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,x.Z)(function*(F){const H=vi(F),_e=yield(yield ps()).transaction(Ci).objectStore(Ci).get(H);if(_e)return _e;{const ke=yield ns(F.appConfig.senderId);if(ke)return yield ii(F,ke),ke}})).apply(this,arguments)}function ii(F,H){return ia.apply(this,arguments)}function ia(){return(ia=(0,x.Z)(function*(F,H){const Y=vi(F),ke=(yield ps()).transaction(Ci,"readwrite");return yield ke.objectStore(Ci).put(H,Y),yield ke.done,H})).apply(this,arguments)}function jo(F){return sa.apply(this,arguments)}function sa(){return(sa=(0,x.Z)(function*(F){const H=vi(F),_e=(yield ps()).transaction(Ci,"readwrite");yield _e.objectStore(Ci).delete(H),yield _e.done})).apply(this,arguments)}function vi({appConfig:F}){return F.appId}const Qr=new Ee.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Nn(F,H){return Go.apply(this,arguments)}function Go(){return(Go=(0,x.Z)(function*(F,H){const Y=yield eo(F),_e=Et(H),ke={method:"POST",headers:Y,body:JSON.stringify(_e)};let Le;try{Le=yield(yield fetch(zi(F.appConfig),ke)).json()}catch($t){throw Qr.create("token-subscribe-failed",{errorInfo:$t?.toString()})}if(Le.error)throw Qr.create("token-subscribe-failed",{errorInfo:Le.error.message});if(!Le.token)throw Qr.create("token-subscribe-no-token");return Le.token})).apply(this,arguments)}function fo(F,H){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,x.Z)(function*(F,H){const Y=yield eo(F),_e=Et(H.subscriptionOptions),ke={method:"PATCH",headers:Y,body:JSON.stringify(_e)};let Le;try{Le=yield(yield fetch(`${zi(F.appConfig)}/${H.token}`,ke)).json()}catch($t){throw Qr.create("token-update-failed",{errorInfo:$t?.toString()})}if(Le.error)throw Qr.create("token-update-failed",{errorInfo:Le.error.message});if(!Le.token)throw Qr.create("token-update-no-token");return Le.token})).apply(this,arguments)}function Xs(F,H){return oa.apply(this,arguments)}function oa(){return(oa=(0,x.Z)(function*(F,H){const _e={method:"DELETE",headers:yield eo(F)};try{const Le=yield(yield fetch(`${zi(F.appConfig)}/${H}`,_e)).json();if(Le.error)throw Qr.create("token-unsubscribe-failed",{errorInfo:Le.error.message})}catch(ke){throw Qr.create("token-unsubscribe-failed",{errorInfo:ke?.toString()})}})).apply(this,arguments)}function zi({projectId:F}){return`https://fcmregistrations.googleapis.com/v1/projects/${F}/registrations`}function eo(F){return to.apply(this,arguments)}function to(){return(to=(0,x.Z)(function*({appConfig:F,installations:H}){const Y=yield H.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":F.apiKey,"x-goog-firebase-installations-auth":`FIS ${Y}`})})).apply(this,arguments)}function Et({p256dh:F,auth:H,endpoint:Y,vapidKey:_e}){const ke={web:{endpoint:Y,auth:H,p256dh:F}};return _e!==vs&&(ke.web.applicationPubKey=_e),ke}const tr=6048e5;function no(F){return gs.apply(this,arguments)}function gs(){return(gs=(0,x.Z)(function*(F){const H=yield Ya(F.swRegistration,F.vapidKey),Y={vapidKey:F.vapidKey,swScope:F.swRegistration.scope,endpoint:H.endpoint,auth:ts(H.getKey("auth")),p256dh:ts(H.getKey("p256dh"))},_e=yield ra(F.firebaseDependencies);if(_e){if(j(_e.subscriptionOptions,Y))return Date.now()>=_e.createTime+tr?Ra(F,{token:_e.token,createTime:Date.now(),subscriptionOptions:Y}):_e.token;try{yield Xs(F.firebaseDependencies,_e.token)}catch(ke){console.warn(ke)}return po(F.firebaseDependencies,Y)}return po(F.firebaseDependencies,Y)})).apply(this,arguments)}function si(F){return aa.apply(this,arguments)}function aa(){return(aa=(0,x.Z)(function*(F){const H=yield ra(F.firebaseDependencies);H&&(yield Xs(F.firebaseDependencies,H.token),yield jo(F.firebaseDependencies));const Y=yield F.swRegistration.pushManager.getSubscription();return!Y||Y.unsubscribe()})).apply(this,arguments)}function Ra(F,H){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,x.Z)(function*(F,H){try{const Y=yield fo(F.firebaseDependencies,H),_e=Object.assign(Object.assign({},H),{token:Y,createTime:Date.now()});return yield ii(F.firebaseDependencies,_e),Y}catch(Y){throw yield si(F),Y}})).apply(this,arguments)}function po(F,H){return bs.apply(this,arguments)}function bs(){return(bs=(0,x.Z)(function*(F,H){const _e={token:yield Nn(F,H),createTime:Date.now(),subscriptionOptions:H};return yield ii(F,_e),_e.token})).apply(this,arguments)}function Ya(F,H){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,x.Z)(function*(F,H){return(yield F.pushManager.getSubscription())||F.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Mi(H)})})).apply(this,arguments)}function j(F,H){return H.vapidKey===F.vapidKey&&H.endpoint===F.endpoint&&H.auth===F.auth&&H.p256dh===F.p256dh}function V(F){const H={from:F.from,collapseKey:F.collapse_key,messageId:F.fcmMessageId};return function O(F,H){if(!H.notification)return;F.notification={};const Y=H.notification.title;Y&&(F.notification.title=Y);const _e=H.notification.body;_e&&(F.notification.body=_e);const ke=H.notification.image;ke&&(F.notification.image=ke);const Le=H.notification.icon;Le&&(F.notification.icon=Le)}(H,F),function ee(F,H){!H.data||(F.data=H.data)}(H,F),function qe(F,H){var Y,_e,ke,Le,$t;if(!(H.fcmOptions||null!==(Y=H.notification)&&void 0!==Y&&Y.click_action))return;F.fcmOptions={};const gn=null!==(ke=null===(_e=H.fcmOptions)||void 0===_e?void 0:_e.link)&&void 0!==ke?ke:null===(Le=H.notification)||void 0===Le?void 0:Le.click_action;gn&&(F.fcmOptions.link=gn);const bn=null===($t=H.fcmOptions)||void 0===$t?void 0:$t.analytics_label;bn&&(F.fcmOptions.analyticsLabel=bn)}(H,F),H}function cn(F){return"object"==typeof F&&!!F&&Bo in F}function or(F,H){const Y=[];for(let _e=0;_e<F.length;_e++)Y.push(F.charAt(_e)),_e<H.length&&Y.push(H.charAt(_e));return Y.join("")}function Ns(F){return Qr.create("missing-app-config-values",{valueName:F})}or("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),or("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class go{constructor(H,Y,_e){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ke=function Ms(F){if(!F||!F.options)throw Ns("App Configuration Object");if(!F.name)throw Ns("App Name");const H=["projectId","apiKey","appId","messagingSenderId"],{options:Y}=F;for(const _e of H)if(!Y[_e])throw Ns(_e);return{appName:F.name,projectId:Y.projectId,apiKey:Y.apiKey,appId:Y.appId,senderId:Y.messagingSenderId}}(H);this.firebaseDependencies={app:H,appConfig:ke,installations:Y,analyticsProvider:_e}}_delete(){return Promise.resolve()}}function mo(F){return xs.apply(this,arguments)}function xs(){return(xs=(0,x.Z)(function*(F){try{F.swRegistration=yield navigator.serviceWorker.register(Hi,{scope:ji}),F.swRegistration.update().catch(()=>{})}catch(H){throw Qr.create("failed-service-worker-registration",{browserErrorMessage:H?.message})}})).apply(this,arguments)}function Mo(F,H){return No.apply(this,arguments)}function No(){return(No=(0,x.Z)(function*(F,H){if(!H&&!F.swRegistration&&(yield mo(F)),H||!F.swRegistration){if(!(H instanceof ServiceWorkerRegistration))throw Qr.create("invalid-sw-registration");F.swRegistration=H}})).apply(this,arguments)}function Wi(F,H){return ya.apply(this,arguments)}function ya(){return(ya=(0,x.Z)(function*(F,H){H?F.vapidKey=H:F.vapidKey||(F.vapidKey=vs)})).apply(this,arguments)}function $s(){return($s=(0,x.Z)(function*(F,H){if(!navigator)throw Qr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Qr.create("permission-blocked");return yield Wi(F,H?.vapidKey),yield Mo(F,H?.serviceWorkerRegistration),no(F)})).apply(this,arguments)}function va(F,H,Y){return ba.apply(this,arguments)}function ba(){return(ba=(0,x.Z)(function*(F,H,Y){const _e=zo(H);(yield F.firebaseDependencies.analyticsProvider.get()).logEvent(_e,{message_id:Y[Bo],message_name:Y[fs],message_time:Y[Qs],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function zo(F){switch(F){case Ss.NOTIFICATION_CLICKED:return"notification_open";case Ss.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function ro(){return(ro=(0,x.Z)(function*(F,H){const Y=H.data;if(!Y.isFirebaseMessaging)return;F.onMessageHandler&&Y.messageType===Ss.PUSH_RECEIVED&&("function"==typeof F.onMessageHandler?F.onMessageHandler(V(Y)):F.onMessageHandler.next(V(Y)));const _e=Y.data;cn(_e)&&"1"===_e[To]&&(yield va(F,Y.messageType,_e))})).apply(this,arguments)}const xo="@firebase/messaging",gi=F=>{const H=new go(F.getProvider("app").getImmediate(),F.getProvider("installations-internal").getImmediate(),F.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",Y=>function la(F,H){return ro.apply(this,arguments)}(H,Y)),H},ws=F=>{const H=F.getProvider("messaging").getImmediate();return{getToken:_e=>function Oa(F,H){return $s.apply(this,arguments)}(H,_e)}};function ua(){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,x.Z)(function*(){try{yield(0,Ee.eu)()}catch{return!1}return typeof window<"u"&&(0,Ee.hl)()&&(0,Ee.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Lr(){(0,l._registerComponent)(new Ce.wA("messaging",gi,"PUBLIC")),(0,l._registerComponent)(new Ce.wA("messaging-internal",ws,"PRIVATE")),(0,l.registerVersion)(xo,"0.12.4"),(0,l.registerVersion)(xo,"0.12.4","esm2017")}();const dl="analytics",Tu="firebase_id",hl="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",io="https://www.googletagmanager.com/gtag/js",xr=new he.Yd("@firebase/analytics"),ks=new Ee.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function k(F){if(!F.startsWith(io)){const H=ks.create("invalid-gtag-resource",{gtagURL:F});return xr.warn(H.message),""}return F}function Z(F){return Promise.all(F.map(H=>H.catch(Y=>Y)))}function X(F,H){const Y=function L(F,H){let Y;return window.trustedTypes&&(Y=window.trustedTypes.createPolicy(F,H)),Y}("firebase-js-sdk-policy",{createScriptURL:k}),_e=document.createElement("script"),ke=`${io}?l=${F}&id=${H}`;_e.src=Y?Y?.createScriptURL(ke):ke,_e.async=!0,document.head.appendChild(_e)}function ot(F,H,Y,_e,ke,Le){return vt.apply(this,arguments)}function vt(){return(vt=(0,x.Z)(function*(F,H,Y,_e,ke,Le){const $t=_e[ke];try{if($t)yield H[$t];else{const bn=(yield Z(Y)).find(Hn=>Hn.measurementId===ke);bn&&(yield H[bn.appId])}}catch(gn){xr.error(gn)}F("config",ke,Le)})).apply(this,arguments)}function Xt(F,H,Y,_e,ke){return kn.apply(this,arguments)}function kn(){return(kn=(0,x.Z)(function*(F,H,Y,_e,ke){try{let Le=[];if(ke&&ke.send_to){let $t=ke.send_to;Array.isArray($t)||($t=[$t]);const gn=yield Z(Y);for(const bn of $t){const Hn=gn.find(Dn=>Dn.measurementId===bn),pr=Hn&&H[Hn.appId];if(!pr){Le=[];break}Le.push(pr)}}0===Le.length&&(Le=Object.values(H)),yield Promise.all(Le),F("event",_e,ke||{})}catch(Le){xr.error(Le)}})).apply(this,arguments)}function qn(F){const H=window.document.getElementsByTagName("script");for(const Y of Object.values(H))if(Y.src&&Y.src.includes(io)&&Y.src.includes(F))return Y;return null}const Kr=new class br{constructor(H={},Y=1e3){this.throttleMetadata=H,this.intervalMillis=Y}getThrottleMetadata(H){return this.throttleMetadata[H]}setThrottleMetadata(H,Y){this.throttleMetadata[H]=Y}deleteThrottleMetadata(H){delete this.throttleMetadata[H]}};function Rs(F){return new Headers({Accept:"application/json","x-goog-api-key":F})}function dn(F){return nn.apply(this,arguments)}function nn(){return(nn=(0,x.Z)(function*(F){var H;const{appId:Y,apiKey:_e}=F,ke={method:"GET",headers:Rs(_e)},Le=hl.replace("{app-id}",Y),$t=yield fetch(Le,ke);if(200!==$t.status&&304!==$t.status){let gn="";try{const bn=yield $t.json();null!==(H=bn.error)&&void 0!==H&&H.message&&(gn=bn.error.message)}catch{}throw ks.create("config-fetch-failed",{httpStatus:$t.status,responseMessage:gn})}return $t.json()})).apply(this,arguments)}function Qa(F){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,x.Z)(function*(F,H=Kr,Y){const{appId:_e,apiKey:ke,measurementId:Le}=F.options;if(!_e)throw ks.create("no-app-id");if(!ke){if(Le)return{measurementId:Le,appId:_e};throw ks.create("no-api-key")}const $t=H.getThrottleMetadata(_e)||{backoffCount:0,throttleEndTimeMillis:Date.now()},gn=new Hc;return setTimeout((0,x.Z)(function*(){gn.abort()}),void 0!==Y?Y:6e4),it({appId:_e,apiKey:ke,measurementId:Le},$t,gn,H)})).apply(this,arguments)}function it(F,H,Y){return St.apply(this,arguments)}function St(){return(St=(0,x.Z)(function*(F,{throttleEndTimeMillis:H,backoffCount:Y},_e,ke=Kr){var Le;const{appId:$t,measurementId:gn}=F;try{yield Ei(_e,H)}catch(bn){if(gn)return xr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${gn} provided in the "measurementId" field in the local Firebase config. [${bn?.message}]`),{appId:$t,measurementId:gn};throw bn}try{const bn=yield dn(F);return ke.deleteThrottleMetadata($t),bn}catch(bn){const Hn=bn;if(!ca(Hn)){if(ke.deleteThrottleMetadata($t),gn)return xr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${gn} provided in the "measurementId" field in the local Firebase config. [${Hn?.message}]`),{appId:$t,measurementId:gn};throw bn}const pr=503===Number(null===(Le=Hn?.customData)||void 0===Le?void 0:Le.httpStatus)?(0,Ee.$s)(Y,ke.intervalMillis,30):(0,Ee.$s)(Y,ke.intervalMillis),Dn={throttleEndTimeMillis:Date.now()+pr,backoffCount:Y+1};return ke.setThrottleMetadata($t,Dn),xr.debug(`Calling attemptFetch again in ${pr} millis`),it(F,Dn,_e,ke)}})).apply(this,arguments)}function Ei(F,H){return new Promise((Y,_e)=>{const ke=Math.max(H-Date.now(),0),Le=setTimeout(Y,ke);F.addEventListener(()=>{clearTimeout(Le),_e(ks.create("fetch-throttle",{throttleEndTimeMillis:H}))})})}function ca(F){if(!(F instanceof Ee.ZR&&F.customData))return!1;const H=Number(F.customData.httpStatus);return 429===H||500===H||503===H||504===H}class Hc{constructor(){this.listeners=[]}addEventListener(H){this.listeners.push(H)}abort(){this.listeners.forEach(H=>H())}}let Rl,Pl;function fl(){return(fl=(0,x.Z)(function*(F,H,Y,_e,ke){if(ke&&ke.global)F("event",Y,_e);else{const Le=yield H;F("event",Y,Object.assign(Object.assign({},_e),{send_to:Le}))}})).apply(this,arguments)}function Wr(F){Pl=F}function xn(F){Rl=F}function tu(){return wr.apply(this,arguments)}function wr(){return(wr=(0,x.Z)(function*(){if(!(0,Ee.hl)())return xr.warn(ks.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Ee.eu)()}catch(F){return xr.warn(ks.create("indexeddb-unavailable",{errorInfo:F?.toString()}).message),!1}return!0})).apply(this,arguments)}function Ir(){return(Ir=(0,x.Z)(function*(F,H,Y,_e,ke,Le,$t){var gn;const bn=Qa(F);bn.then(mi=>{Y[mi.measurementId]=mi.appId,F.options.measurementId&&mi.measurementId!==F.options.measurementId&&xr.warn(`The measurement ID in the local Firebase config (${F.options.measurementId}) does not match the measurement ID fetched from the server (${mi.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(mi=>xr.error(mi)),H.push(bn);const Hn=tu().then(mi=>{if(mi)return _e.getId()}),[pr,Dn]=yield Promise.all([bn,Hn]);qn(Le)||X(Le,pr.measurementId),Pl&&(ke("consent","default",Pl),Wr(void 0)),ke("js",new Date);const oo=null!==(gn=$t?.config)&&void 0!==gn?gn:{};return oo.origin="firebase",oo.update=!0,null!=Dn&&(oo[Tu]=Dn),ke("config",pr.measurementId,oo),Rl&&(ke("set",Rl),xn(void 0)),pr.measurementId})).apply(this,arguments)}class en{constructor(H){this.app=H}_delete(){return delete Ds[this.app.options.appId],Promise.resolve()}}let Ds={},Xa=[];const Os={};let pl,dr,so="dataLayer",gl=!1;function Ua(F,H,Y){!function Vr(){const F=[];if((0,Ee.ru)()&&F.push("This is a browser extension environment."),(0,Ee.zI)()||F.push("Cookies are not available."),F.length>0){const H=F.map((_e,ke)=>`(${ke+1}) ${_e}`).join(" "),Y=ks.create("invalid-analytics-context",{errorInfo:H});xr.warn(Y.message)}}();const _e=F.options.appId;if(!_e)throw ks.create("no-app-id");if(!F.options.apiKey){if(!F.options.measurementId)throw ks.create("no-api-key");xr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${F.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ds[_e])throw ks.create("already-exists",{id:_e});if(!gl){!function be(F){let H=[];Array.isArray(window[F])?H=window[F]:window[F]=H}(so);const{wrappedGtag:Le,gtagCore:$t}=function nr(F,H,Y,_e,ke){let Le=function(...$t){window[_e].push(arguments)};return window[ke]&&"function"==typeof window[ke]&&(Le=window[ke]),window[ke]=function Jn(F,H,Y,_e){function Le(){return(Le=(0,x.Z)(function*($t,gn,bn){try{"event"===$t?yield Xt(F,H,Y,gn,bn):"config"===$t?yield ot(F,H,Y,_e,gn,bn):"consent"===$t?F("consent","update",bn):F("set",gn)}catch(Hn){xr.error(Hn)}})).apply(this,arguments)}return function ke($t,gn,bn){return Le.apply(this,arguments)}}(Le,F,H,Y),{gtagCore:Le,wrappedGtag:window[ke]}}(Ds,Xa,Os,so,"gtag");dr=Le,pl=$t,gl=!0}return Ds[_e]=function Fl(F,H,Y,_e,ke,Le,$t){return Ir.apply(this,arguments)}(F,Xa,Os,H,pl,so,Y),new en(F)}function js(){return yo.apply(this,arguments)}function yo(){return(yo=(0,x.Z)(function*(){if((0,Ee.ru)()||!(0,Ee.zI)()||!(0,Ee.hl)())return!1;try{return yield(0,Ee.eu)()}catch{return!1}})).apply(this,arguments)}const Ni="@firebase/analytics";!function Ll(){(0,l._registerComponent)(new Ce.wA(dl,(H,{options:Y})=>Ua(H.getProvider("app").getImmediate(),H.getProvider("installations-internal").getImmediate(),Y),"PUBLIC")),(0,l._registerComponent)(new Ce.wA("analytics-internal",function F(H){try{const Y=H.getProvider(dl).getImmediate();return{logEvent:(_e,ke,Le)=>function Ba(F,H,Y,_e){F=(0,Ee.m9)(F),function eu(F,H,Y,_e,ke){return fl.apply(this,arguments)}(dr,Ds[F.app.options.appId],H,Y,_e).catch(ke=>xr.error(ke))}(Y,_e,ke,Le)}}catch(Y){throw ks.create("interop-component-reg-failed",{reason:Y})}},"PRIVATE")),(0,l.registerVersion)(Ni,"0.9.5"),(0,l.registerVersion)(Ni,"0.9.5","esm2017")}();var Da=B(4408),Ps=B(7565);const A=new class T extends Ps.v{}(class el extends Da.o{constructor(H,Y){super(H,Y),this.scheduler=H,this.work=Y}schedule(H,Y=0){return Y>0?super.schedule(H,Y):(this.delay=Y,this.state=H,this.scheduler.flush(this),this)}execute(H,Y){return Y>0||this.closed?super.execute(H,Y):this._execute(H,Y)}requestAsyncId(H,Y,_e=0){return null!=_e&&_e>0||null==_e&&this.delay>0?super.requestAsyncId(H,Y,_e):(H.flush(this),0)}});var R=B(4986),U=B(8505),Q=B(5363),le=B(9468);const ye=new v.GfV("7.5.0"),ft="__angularfire_symbol__analyticsIsSupportedValue",Bt="__angularfire_symbol__analyticsIsSupported",Pn="__angularfire_symbol__remoteConfigIsSupportedValue",_n="__angularfire_symbol__remoteConfigIsSupported",Tr="__angularfire_symbol__messagingIsSupportedValue",xi="__angularfire_symbol__messagingIsSupported";function tl(F,H,Y){if(H){if(1===H.length)return H[0];const Le=H.filter($t=>$t.app===Y);if(1===Le.length)return Le[0]}return Y.container.getProvider(F).getImmediate({optional:!0})}globalThis[Bt]||(globalThis[Bt]=js().then(F=>globalThis[ft]=F).catch(()=>globalThis[ft]=!1)),globalThis[xi]||(globalThis[xi]=ua().then(F=>globalThis[Tr]=F).catch(()=>globalThis[Tr]=!1)),globalThis[_n]||(globalThis[_n]=Js().then(F=>globalThis[Pn]=F).catch(()=>globalThis[Pn]=!1));const ml=(F,H)=>{const Y=H?[H]:(0,K.C6)(),_e=[];return Y.forEach(ke=>{ke.container.getProvider(F).instances.forEach($t=>{_e.includes($t)||_e.push($t)})}),_e};function Ea(){}class _l{constructor(H,Y=A){this.zone=H,this.delegate=Y}now(){return this.delegate.now()}schedule(H,Y,_e){const ke=this.zone;return this.delegate.schedule(function($t){ke.runGuarded(()=>{H.apply(this,[$t])})},Y,_e)}}class Md{constructor(H){this.zone=H,this.task=null}call(H,Y){const _e=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ea,{},Ea,Ea)),Y.pipe((0,U.b)({next:_e,complete:_e,error:_e})).subscribe(H).add(_e)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let iu=(()=>{class F{constructor(Y){this.ngZone=Y,this.outsideAngular=Y.runOutsideAngular(()=>new _l(Zone.current)),this.insideAngular=Y.run(()=>new _l(Zone.current,R.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return F.\u0275fac=function(Y){return new(Y||F)(v.LFG(v.R0b))},F.\u0275prov=v.Yz7({token:F,factory:F.\u0275fac,providedIn:"root"}),F})();function yl(){const F=globalThis.\u0275AngularFireScheduler;if(!F)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return F}function vo(F){return F.pipe((0,Q.Q)(yl().outsideAngular))}function Yi(F){return yl(),function Ul(F){return function(Y){return(Y=Y.lift(new Md(F.ngZone))).pipe((0,le.R)(F.outsideAngular),(0,Q.Q)(F.insideAngular))}}(yl())(F)}},2090:(tn,ze,B)=>{B.d(ze,{$s:()=>on,BH:()=>Fe,G6:()=>ct,L:()=>Pe,LL:()=>Lt,Pz:()=>$e,Sg:()=>Ft,UG:()=>et,US:()=>Ce,ZB:()=>we,ZR:()=>pn,aH:()=>ut,b$:()=>kt,eu:()=>We,hl:()=>pt,jU:()=>tt,m9:()=>Dr,ne:()=>Ct,pd:()=>oe,r3:()=>Kn,ru:()=>Ot,tV:()=>ce,uI:()=>se,vZ:()=>Vn,w1:()=>Ze,xO:()=>ln,xb:()=>_r,z$:()=>Dt,zI:()=>Jt,zd:()=>q});const l=function(ve){const fe=[];let Se=0;for(let rt=0;rt<ve.length;rt++){let je=ve.charCodeAt(rt);je<128?fe[Se++]=je:je<2048?(fe[Se++]=je>>6|192,fe[Se++]=63&je|128):55296==(64512&je)&&rt+1<ve.length&&56320==(64512&ve.charCodeAt(rt+1))?(je=65536+((1023&je)<<10)+(1023&ve.charCodeAt(++rt)),fe[Se++]=je>>18|240,fe[Se++]=je>>12&63|128,fe[Se++]=je>>6&63|128,fe[Se++]=63&je|128):(fe[Se++]=je>>12|224,fe[Se++]=je>>6&63|128,fe[Se++]=63&je|128)}return fe},Ce={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ve,fe){if(!Array.isArray(ve))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Se=fe?this.byteToCharMapWebSafe_:this.byteToCharMap_,rt=[];for(let je=0;je<ve.length;je+=3){const qt=ve[je],mn=je+1<ve.length,Gn=mn?ve[je+1]:0,fr=je+2<ve.length,me=fr?ve[je+2]:0;let Me=(15&Gn)<<2|me>>6,st=63&me;fr||(st=64,mn||(Me=64)),rt.push(Se[qt>>2],Se[(3&qt)<<4|Gn>>4],Se[Me],Se[st])}return rt.join("")},encodeString(ve,fe){return this.HAS_NATIVE_SUPPORT&&!fe?btoa(ve):this.encodeByteArray(l(ve),fe)},decodeString(ve,fe){return this.HAS_NATIVE_SUPPORT&&!fe?atob(ve):function(ve){const fe=[];let Se=0,rt=0;for(;Se<ve.length;){const je=ve[Se++];if(je<128)fe[rt++]=String.fromCharCode(je);else if(je>191&&je<224){const qt=ve[Se++];fe[rt++]=String.fromCharCode((31&je)<<6|63&qt)}else if(je>239&&je<365){const fr=((7&je)<<18|(63&ve[Se++])<<12|(63&ve[Se++])<<6|63&ve[Se++])-65536;fe[rt++]=String.fromCharCode(55296+(fr>>10)),fe[rt++]=String.fromCharCode(56320+(1023&fr))}else{const qt=ve[Se++],mn=ve[Se++];fe[rt++]=String.fromCharCode((15&je)<<12|(63&qt)<<6|63&mn)}}return fe.join("")}(this.decodeStringToByteArray(ve,fe))},decodeStringToByteArray(ve,fe){this.init_();const Se=fe?this.charToByteMapWebSafe_:this.charToByteMap_,rt=[];for(let je=0;je<ve.length;){const qt=Se[ve.charAt(je++)],Gn=je<ve.length?Se[ve.charAt(je)]:0;++je;const me=je<ve.length?Se[ve.charAt(je)]:64;++je;const ie=je<ve.length?Se[ve.charAt(je)]:64;if(++je,null==qt||null==Gn||null==me||null==ie)throw new he;rt.push(qt<<2|Gn>>4),64!==me&&(rt.push(Gn<<4&240|me>>2),64!==ie&&rt.push(me<<6&192|ie))}return rt},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ve=0;ve<this.ENCODED_VALS.length;ve++)this.byteToCharMap_[ve]=this.ENCODED_VALS.charAt(ve),this.charToByteMap_[this.byteToCharMap_[ve]]=ve,this.byteToCharMapWebSafe_[ve]=this.ENCODED_VALS_WEBSAFE.charAt(ve),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ve]]=ve,ve>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ve)]=ve,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ve)]=ve)}}};class he extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Pe=function(ve){return function(ve){const fe=l(ve);return Ce.encodeByteArray(fe,!0)}(ve).replace(/\./g,"")},ce=function(ve){try{return Ce.decodeString(ve,!0)}catch(fe){console.error("base64Decode failed: ",fe)}return null};function we(ve,fe){if(!(fe instanceof Object))return fe;switch(fe.constructor){case Date:return new Date(fe.getTime());case Object:void 0===ve&&(ve={});break;case Array:ve=[];break;default:return fe}for(const Se in fe)!fe.hasOwnProperty(Se)||!_t(Se)||(ve[Se]=we(ve[Se],fe[Se]));return ve}function _t(ve){return"__proto__"!==ve}const Je=()=>{try{return function Ue(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const ve=process.env.__FIREBASE_DEFAULTS__;return ve?JSON.parse(ve):void 0})()||(()=>{if(typeof document>"u")return;let ve;try{ve=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const fe=ve&&ce(ve[1]);return fe&&JSON.parse(fe)})()}catch(ve){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${ve}`)}},ut=()=>{var ve;return null===(ve=Je())||void 0===ve?void 0:ve.config},$e=ve=>{var fe;return null===(fe=Je())||void 0===fe?void 0:fe[`_${ve}`]};class Fe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((fe,Se)=>{this.resolve=fe,this.reject=Se})}wrapCallback(fe){return(Se,rt)=>{Se?this.reject(Se):this.resolve(rt),"function"==typeof fe&&(this.promise.catch(()=>{}),1===fe.length?fe(Se):fe(Se,rt))}}}function Ft(ve,fe){if(ve.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const rt=fe||"demo-project",je=ve.iat||0,qt=ve.sub||ve.user_id;if(!qt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const mn=Object.assign({iss:`https://securetoken.google.com/${rt}`,aud:rt,iat:je,exp:je+3600,auth_time:je,sub:qt,user_id:qt,firebase:{sign_in_provider:"custom",identities:{}}},ve);return[Pe(JSON.stringify({alg:"none",type:"JWT"})),Pe(JSON.stringify(mn)),""].join(".")}function Dt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function se(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Dt())}function et(){var ve;const fe=null===(ve=Je())||void 0===ve?void 0:ve.forceEnvironment;if("node"===fe)return!0;if("browser"===fe)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function tt(){return"object"==typeof self&&self.self===self}function Ot(){const ve="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ve&&void 0!==ve.id}function kt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ze(){const ve=Dt();return ve.indexOf("MSIE ")>=0||ve.indexOf("Trident/")>=0}function ct(){return!et()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function pt(){try{return"object"==typeof indexedDB}catch{return!1}}function We(){return new Promise((ve,fe)=>{try{let Se=!0;const rt="validate-browser-context-for-indexeddb-analytics-module",je=self.indexedDB.open(rt);je.onsuccess=()=>{je.result.close(),Se||self.indexedDB.deleteDatabase(rt),ve(!0)},je.onupgradeneeded=()=>{Se=!1},je.onerror=()=>{var qt;fe((null===(qt=je.error)||void 0===qt?void 0:qt.message)||"")}}catch(Se){fe(Se)}})}function Jt(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class pn extends Error{constructor(fe,Se,rt){super(Se),this.code=fe,this.customData=rt,this.name="FirebaseError",Object.setPrototypeOf(this,pn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Lt.prototype.create)}}class Lt{constructor(fe,Se,rt){this.service=fe,this.serviceName=Se,this.errors=rt}create(fe,...Se){const rt=Se[0]||{},je=`${this.service}/${fe}`,qt=this.errors[fe],mn=qt?function An(ve,fe){return ve.replace(It,(Se,rt)=>{const je=fe[rt];return null!=je?String(je):`<${rt}?>`})}(qt,rt):"Error";return new pn(je,`${this.serviceName}: ${mn} (${je}).`,rt)}}const It=/\{\$([^}]+)}/g;function Kn(ve,fe){return Object.prototype.hasOwnProperty.call(ve,fe)}function _r(ve){for(const fe in ve)if(Object.prototype.hasOwnProperty.call(ve,fe))return!1;return!0}function Vn(ve,fe){if(ve===fe)return!0;const Se=Object.keys(ve),rt=Object.keys(fe);for(const je of Se){if(!rt.includes(je))return!1;const qt=ve[je],mn=fe[je];if(Wn(qt)&&Wn(mn)){if(!Vn(qt,mn))return!1}else if(qt!==mn)return!1}for(const je of rt)if(!Se.includes(je))return!1;return!0}function Wn(ve){return null!==ve&&"object"==typeof ve}function ln(ve){const fe=[];for(const[Se,rt]of Object.entries(ve))Array.isArray(rt)?rt.forEach(je=>{fe.push(encodeURIComponent(Se)+"="+encodeURIComponent(je))}):fe.push(encodeURIComponent(Se)+"="+encodeURIComponent(rt));return fe.length?"&"+fe.join("&"):""}function q(ve){const fe={};return ve.replace(/^\?/,"").split("&").forEach(rt=>{if(rt){const[je,qt]=rt.split("=");fe[decodeURIComponent(je)]=decodeURIComponent(qt)}}),fe}function oe(ve){const fe=ve.indexOf("?");if(!fe)return"";const Se=ve.indexOf("#",fe);return ve.substring(fe,Se>0?Se:void 0)}function Ct(ve,fe){const Se=new Mt(ve,fe);return Se.subscribe.bind(Se)}class Mt{constructor(fe,Se){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Se,this.task.then(()=>{fe(this)}).catch(rt=>{this.error(rt)})}next(fe){this.forEachObserver(Se=>{Se.next(fe)})}error(fe){this.forEachObserver(Se=>{Se.error(fe)}),this.close(fe)}complete(){this.forEachObserver(fe=>{fe.complete()}),this.close()}subscribe(fe,Se,rt){let je;if(void 0===fe&&void 0===Se&&void 0===rt)throw new Error("Missing Observer.");je=function dt(ve,fe){if("object"!=typeof ve||null===ve)return!1;for(const Se of fe)if(Se in ve&&"function"==typeof ve[Se])return!0;return!1}(fe,["next","error","complete"])?fe:{next:fe,error:Se,complete:rt},void 0===je.next&&(je.next=jt),void 0===je.error&&(je.error=jt),void 0===je.complete&&(je.complete=jt);const qt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?je.error(this.finalError):je.complete()}catch{}}),this.observers.push(je),qt}unsubscribeOne(fe){void 0===this.observers||void 0===this.observers[fe]||(delete this.observers[fe],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(fe){if(!this.finalized)for(let Se=0;Se<this.observers.length;Se++)this.sendOne(Se,fe)}sendOne(fe,Se){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[fe])try{Se(this.observers[fe])}catch(rt){typeof console<"u"&&console.error&&console.error(rt)}})}close(fe){this.finalized||(this.finalized=!0,void 0!==fe&&(this.finalError=fe),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function jt(){}function on(ve,fe=1e3,Se=2){const rt=fe*Math.pow(Se,ve),je=Math.round(.5*rt*(Math.random()-.5)*2);return Math.min(144e5,rt+je)}function Dr(ve){return ve&&ve._delegate?ve._delegate:ve}},1519:(tn,ze,B)=>{B.r(ze),B.d(ze,{AccountModule:()=>Wn});var v=B(6895),K=B(433),x=B(4650);B(655);const Ee=new x.OlP("config"),Ce=new x.OlP("NEW_CONFIG"),he=new x.OlP("INITIAL_CONFIG"),Te={suffix:"",prefix:"",thousandSeparator:" ",decimalMarker:".",clearIfNotMatch:!1,showTemplate:!1,showMaskTyped:!1,placeHolderCharacter:"_",dropSpecialCharacters:!0,hiddenInput:void 0,shownMaskExpression:"",separatorLimit:"",allowNegativeNumbers:!1,validation:!0,specialCharacters:["-","/","(",")",".",":"," ","+",",","@","[","]",'"',"'"],leadZeroDateTime:!1,patterns:{0:{pattern:new RegExp("\\d")},9:{pattern:new RegExp("\\d"),optional:!0},X:{pattern:new RegExp("\\d"),symbol:"*"},A:{pattern:new RegExp("[a-zA-Z0-9]")},S:{pattern:new RegExp("[a-zA-Z]")},d:{pattern:new RegExp("\\d")},m:{pattern:new RegExp("\\d")},M:{pattern:new RegExp("\\d")},H:{pattern:new RegExp("\\d")},h:{pattern:new RegExp("\\d")},s:{pattern:new RegExp("\\d")}}};let de=(()=>{class He{constructor(q){this._config=q,this.maskExpression="",this.actualValue="",this.shownMaskExpression="",this._formatWithSeparators=(oe,Ve,Ct,Mt)=>{const Nt=oe.split(Ct),dt=Nt.length>1?`${Ct}${Nt[1]}`:"";let jt=Nt[0];const wn=this.separatorLimit.replace(/\s/g,"");wn&&+wn&&(jt="-"===jt[0]?`-${jt.slice(1,jt.length).slice(0,wn.length)}`:jt.slice(0,wn.length));const un=/(\d+)(\d{3})/;for(;Ve&&un.test(jt);)jt=jt.replace(un,"$1"+Ve+"$2");return void 0===Mt?jt+dt:0===Mt?jt:jt+dt.substr(0,Mt+1)},this.percentage=oe=>Number(oe)>=0&&Number(oe)<=100,this.getPrecision=oe=>{const Ve=oe.split(".");return Ve.length>1?Number(Ve[Ve.length-1]):1/0},this.checkAndRemoveSuffix=oe=>{var Ve,Ct,Mt;for(let Nt=(null===(Ve=this.suffix)||void 0===Ve?void 0:Ve.length)-1;Nt>=0;Nt--){const dt=this.suffix.substr(Nt,null===(Ct=this.suffix)||void 0===Ct?void 0:Ct.length);if(oe.includes(dt)&&(Nt-1<0||!oe.includes(this.suffix.substr(Nt-1,null===(Mt=this.suffix)||void 0===Mt?void 0:Mt.length))))return oe.replace(dt,"")}return oe},this.checkInputPrecision=(oe,Ve,Ct)=>{if(Ve<1/0){const Mt=new RegExp(this._charToRegExpExpression(Ct)+`\\d{${Ve}}.*$`),Nt=oe.match(Mt);Nt&&Nt[0].length-1>Ve&&(oe=oe.substring(0,oe.length-(Nt[0].length-1-Ve))),0===Ve&&oe.endsWith(Ct)&&(oe=oe.substring(0,oe.length-1))}return oe},this._shift=new Set,this.clearIfNotMatch=this._config.clearIfNotMatch,this.dropSpecialCharacters=this._config.dropSpecialCharacters,this.maskSpecialCharacters=this._config.specialCharacters,this.maskAvailablePatterns=this._config.patterns,this.prefix=this._config.prefix,this.suffix=this._config.suffix,this.thousandSeparator=this._config.thousandSeparator,this.decimalMarker=this._config.decimalMarker,this.hiddenInput=this._config.hiddenInput,this.showMaskTyped=this._config.showMaskTyped,this.placeHolderCharacter=this._config.placeHolderCharacter,this.validation=this._config.validation,this.separatorLimit=this._config.separatorLimit,this.allowNegativeNumbers=this._config.allowNegativeNumbers,this.leadZeroDateTime=this._config.leadZeroDateTime}applyMaskWithPattern(q,oe){const[Ve,Ct]=oe;return this.customPattern=Ct,this.applyMask(q,Ve)}applyMask(q,oe,Ve=0,Ct=!1,Mt=!1,Nt=(()=>{})){if(null==q||void 0===oe)return"";let dt=0,jt="",wn=!1,un=!1,fn=1,sr=!1;q.slice(0,this.prefix.length)===this.prefix&&(q=q.slice(this.prefix.length,q.length)),this.suffix&&q?.length>0&&(q=this.checkAndRemoveSuffix(q));const En=q.toString().split("");"IP"===oe&&(this.ipError=En.filter(nt=>"."===nt).length<3&&En.length<7,oe="099.099.099.099");const Zr=[];for(let nt=0;nt<q.length;nt++)q[nt].match("\\d")&&Zr.push(q[nt]);if("CPF_CNPJ"===oe&&(this.cpfCnpjError=11!==Zr.length&&14!==Zr.length,oe=Zr.length>11?"00.000.000/0000-00":"000.000.000-00"),oe.startsWith("percent")){if(q.match("[a-z]|[A-Z]")||q.match(/[-!$%^&*()_+|~=`{}\[\]:";'<>?,\/.]/)){q=this._stripToDecimal(q);const nt=this.getPrecision(oe);q=this.checkInputPrecision(q,nt,this.decimalMarker)}q.indexOf(".")>0&&!this.percentage(q.substring(0,q.indexOf(".")))&&(q=`${q.substring(0,q.indexOf(".")-1)}${q.substring(q.indexOf("."),q.length)}`),jt=this.percentage(q)?q:q.substring(0,q.length-1)}else if(oe.startsWith("separator")){(q.match("[w\u0430-\u044f\u0410-\u042f]")||q.match("[\u0401\u0451\u0410-\u044f]")||q.match("[a-z]|[A-Z]")||q.match(/[-@#!$%\\^&*()_\xa3\xac'+|~=`{}\[\]:";<>.?\/]/)||q.match("[^A-Za-z0-9,]"))&&(q=this._stripToDecimal(q)),q=q.length>1&&"0"===q[0]&&q[1]!==this.decimalMarker&&!Mt?q.slice(1,q.length):q;const nt=this._charToRegExpExpression(this.thousandSeparator),Rt=this._charToRegExpExpression(this.decimalMarker),on='@#!$%^&*()_+|~=`{}\\[\\]:\\s,\\.";<>?\\/'.replace(nt,"").replace(Rt,""),Sn=new RegExp("["+on+"]");q.match(Sn)&&(q=q.substring(0,q.length-1));const In=this.getPrecision(oe),Dr=(q=this.checkInputPrecision(q,In,this.decimalMarker)).replace(new RegExp(nt,"g"),"");jt=this._formatWithSeparators(Dr,this.thousandSeparator,this.decimalMarker,In);const ve=jt.indexOf(",")-q.indexOf(","),fe=jt.length-q.length;if(fe>0&&","!==jt[Ve]){un=!0;let Se=0;do{this._shift.add(Ve+Se),Se++}while(Se<fe)}else 0!==ve&&Ve>0&&!(jt.indexOf(",")>=Ve&&Ve>3)||!(jt.indexOf(".")>=Ve&&Ve>3)&&fe<=0?(this._shift.clear(),un=!0,fn=fe,this._shift.add(Ve+=fe)):this._shift.clear()}else for(let nt=0,Rt=En[0];nt<En.length&&dt!==oe.length;nt++,Rt=En[nt])if(this._checkSymbolMask(Rt,oe[dt])&&"?"===oe[dt+1])jt+=Rt,dt+=2;else if("*"===oe[dt+1]&&wn&&this._checkSymbolMask(Rt,oe[dt+2]))jt+=Rt,dt+=3,wn=!1;else if(this._checkSymbolMask(Rt,oe[dt])&&"*"===oe[dt+1])jt+=Rt,wn=!0;else if("?"===oe[dt+1]&&this._checkSymbolMask(Rt,oe[dt+2]))jt+=Rt,dt+=3;else if(this._checkSymbolMask(Rt,oe[dt])){if("H"===oe[dt]&&Number(Rt)>2){dt+=1,this._shiftStep(oe,dt,En.length),nt--,this.leadZeroDateTime&&(jt+="0");continue}if("h"===oe[dt]&&"2"===jt&&Number(Rt)>3){dt+=1,nt--;continue}if("m"===oe[dt]&&Number(Rt)>5){dt+=1,this._shiftStep(oe,dt,En.length),nt--,this.leadZeroDateTime&&(jt+="0");continue}if("s"===oe[dt]&&Number(Rt)>5){dt+=1,this._shiftStep(oe,dt,En.length),nt--,this.leadZeroDateTime&&(jt+="0");continue}const on=31;if("d"===oe[dt]&&(Number(Rt)>3&&this.leadZeroDateTime||Number(q.slice(dt,dt+2))>on||"/"===q[dt+1])){dt+=1,this._shiftStep(oe,dt,En.length),nt--,this.leadZeroDateTime&&(jt+="0");continue}if("M"===oe[dt]){const In=0===dt&&(Number(Rt)>2||Number(q.slice(dt,dt+2))>12||"/"===q[dt+1]),Dr=q.slice(dt-3,dt-1).includes("/")&&("/"===q[dt-2]&&Number(q.slice(dt-1,dt+1))>12&&"/"!==q[dt]||"/"===q[dt]||"/"===q[dt-3]&&Number(q.slice(dt-2,dt))>12&&"/"!==q[dt-1]||"/"===q[dt-1]),ve=Number(q.slice(dt-3,dt-1))<=on&&!q.slice(dt-3,dt-1).includes("/")&&"/"===q[dt-1]&&(Number(q.slice(dt,dt+2))>12||"/"===q[dt+1]),fe=Number(q.slice(dt-3,dt-1))>on&&!q.slice(dt-3,dt-1).includes("/")&&!q.slice(dt-2,dt).includes("/")&&Number(q.slice(dt-2,dt))>12,Se=Number(q.slice(dt-3,dt-1))<=on&&!q.slice(dt-3,dt-1).includes("/")&&"/"!==q[dt-1]&&Number(q.slice(dt-1,dt+1))>12;if(Number(Rt)>1&&this.leadZeroDateTime||In||Dr||ve||fe||Se){dt+=1,this._shiftStep(oe,dt,En.length),nt--,this.leadZeroDateTime&&(jt+="0");continue}}jt+=Rt,dt++}else-1!==this.maskSpecialCharacters.indexOf(oe[dt])?(jt+=oe[dt],dt++,this._shiftStep(oe,dt,En.length),nt--):this.maskSpecialCharacters.indexOf(Rt)>-1&&this.maskAvailablePatterns[oe[dt]]&&this.maskAvailablePatterns[oe[dt]].optional?(!!En[dt]&&"099.099.099.099"!==oe&&"000.000.000-00"!==oe&&"00.000.000/0000-00"!==oe&&(jt+=En[dt]),dt++,nt--):"*"===this.maskExpression[dt+1]&&this._findSpecialChar(this.maskExpression[dt+2])&&this._findSpecialChar(Rt)===this.maskExpression[dt+2]&&wn||"?"===this.maskExpression[dt+1]&&this._findSpecialChar(this.maskExpression[dt+2])&&this._findSpecialChar(Rt)===this.maskExpression[dt+2]&&wn?(dt+=3,jt+=Rt):this.showMaskTyped&&this.maskSpecialCharacters.indexOf(Rt)<0&&Rt!==this.placeHolderCharacter&&(sr=!0);jt.length+1===oe.length&&-1!==this.maskSpecialCharacters.indexOf(oe[oe.length-1])&&(jt+=oe[oe.length-1]);let Qn=Ve+1;for(;this._shift.has(Qn);)fn++,Qn++;let Mr=Ct?dt:this._shift.has(Ve)?fn:0;sr&&Mr--,Nt(Mr,un),fn<0&&this._shift.clear();let Pr=!1;Mt&&(Pr=En.every(nt=>this.maskSpecialCharacters.includes(nt)));let rn=`${this.prefix}${Pr?"":jt}${this.suffix}`;return 0===jt.length&&(rn=`${this.prefix}${jt}`),rn}_findSpecialChar(q){return this.maskSpecialCharacters.find(oe=>oe===q)}_checkSymbolMask(q,oe){return this.maskAvailablePatterns=this.customPattern?this.customPattern:this.maskAvailablePatterns,this.maskAvailablePatterns[oe]&&this.maskAvailablePatterns[oe].pattern&&this.maskAvailablePatterns[oe].pattern.test(q)}_stripToDecimal(q){return q.split("").filter((oe,Ve)=>oe.match("^-?\\d")||oe.match("\\s")||"."===oe||","===oe||"-"===oe&&0===Ve&&this.allowNegativeNumbers).join("")}_charToRegExpExpression(q){return q&&(" "===q?"\\s":"[\\^$.|?*+()".indexOf(q)>=0?"\\"+q:q)}_shiftStep(q,oe,Ve){const Ct=/[*?]/g.test(q.slice(0,oe))?Ve:oe;this._shift.add(Ct+this.prefix.length||0)}}return He.\u0275fac=function(q){return new(q||He)(x.LFG(Ee))},He.\u0275prov=x.Yz7({token:He,factory:He.\u0275fac}),He})(),Be=(()=>{class He{static forRoot(q){return{ngModule:He,providers:[{provide:Ce,useValue:q},{provide:he,useValue:Te},{provide:Ee,useFactory:Pt,deps:[he,Ce]},de]}}static forChild(){return{ngModule:He}}}return He.\u0275fac=function(q){return new(q||He)},He.\u0275mod=x.oAB({type:He}),He.\u0275inj=x.cJS({}),He})();function Pt(He,ln){return Object.assign(Object.assign({},He),ln instanceof Function?ln():ln)}const Ke=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};Ke.KeyboardEvent||(Ke.KeyboardEvent=function(He,ln){});let Je=(()=>{class He{}return He.\u0275fac=function(q){return new(q||He)},He.\u0275mod=x.oAB({type:He}),He.\u0275inj=x.cJS({imports:[v.ez,K.UX,Be.forRoot()]}),He})();var Ae=B(4629),Zt=B(5861),ut=B(1205);function $e(He,ln){if(1&He&&(x.TgZ(0,"div",27),x._uU(1),x.qZA()),2&He){const q=x.oxw();x.Gre("alert alert-",q.alertColor,""),x.xp6(1),x.hij(" ",q.alertMsg," ")}}function Fe(He,ln){1&He&&(x.TgZ(0,"div"),x._uU(1,"Email is required"),x.qZA())}function Ft(He,ln){1&He&&(x.TgZ(0,"div"),x._uU(1,"Email is invalid"),x.qZA())}function Dt(He,ln){if(1&He&&(x.TgZ(0,"div",28),x.YNc(1,Fe,2,0,"div",29),x.YNc(2,Ft,2,0,"div",29),x.qZA()),2&He){const q=x.oxw();x.xp6(1),x.Q6J("ngIf",q.f.email.errors.required),x.xp6(1),x.Q6J("ngIf",q.f.email.errors.email)}}function se(He,ln){1&He&&x._UZ(0,"i",30)}function et(He,ln){1&He&&x._UZ(0,"i",31)}function tt(He,ln){1&He&&(x.TgZ(0,"div"),x._uU(1,"Password is required"),x.qZA())}function Ot(He,ln){1&He&&(x.TgZ(0,"span"),x._uU(1,"Password must be at least 8 characters."),x.qZA())}function kt(He,ln){1&He&&(x.TgZ(0,"span"),x._uU(1," Password must contain alphabetics,numbers and special characters !"),x.qZA())}function bt(He,ln){if(1&He&&(x.TgZ(0,"div",28),x.YNc(1,tt,2,0,"div",29),x.YNc(2,Ot,2,0,"span",29),x.YNc(3,kt,2,0,"span",29),x.qZA()),2&He){const q=x.oxw();x.xp6(1),x.Q6J("ngIf",q.f.password.errors.required),x.xp6(1),x.Q6J("ngIf",q.f.password.errors.minlength),x.xp6(1),x.Q6J("ngIf",q.f.password.errors.pattern)}}const Ze=function(He){return{"is-invalid":He}};let at=(()=>{class He{constructor(q,oe,Ve){this.auth=q,this.formBuilder=oe,this.router=Ve,this.showpassword=!1,this.credentials={email:"",password:""},this.email=new K.NI("",[K.kI.required,K.kI.email]),this.password=new K.NI("",[K.kI.required,K.kI.required,K.kI.minLength(8),K.kI.pattern(/^(?=.*[a-zA-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]+$/)]),this.loginForm=new K.cw({email:this.email,password:this.password}),this.showAlert=!1,this.alertMsg="Please wait! We are logging you in.",this.alertColor="primary",this.inSubmission=!1,this.year=(new Date).getFullYear()}ngOnInit(){}get f(){return this.loginForm.controls}login(){var q=this;return(0,Zt.Z)(function*(){if(q.inSubmission=!0,!q.loginForm.invalid){q.showAlert=!0,q.alertMsg="Please wait! We are logging you in.",q.alertColor="primary";try{yield q.auth.signInWithEmailAndPassword(q.loginForm.value.email,q.loginForm.value.password)}catch{return q.alertMsg="An unexpected error occurred. Please try again later",q.alertColor="danger ",void(q.inSubmission=!1)}q.alertMsg="Success! You are now logged in.",q.alertColor="success ",q.router.navigate(["/email-signature"])}})()}}return He.\u0275fac=function(q){return new(q||He)(x.Y36(ut.zQ),x.Y36(K.qu),x.Y36(Ae.F0))},He.\u0275cmp=x.Xpm({type:He,selectors:[["app-login"]],decls:40,vars:14,consts:[[1,"account-pages","mt-5","mb-5"],[1,"container"],[1,"row","justify-content-center"],[1,"col-md-8","col-lg-6","col-xl-5"],[1,"card","overflow-hidden"],[1,"bg-soft-primary","mb-4"],[1,"row"],[1,"col-12","text-center","login-header"],[1,"p-5"],[1,""],[1,"card-body","pt-3"],[1,"p-2"],[1,"form-horizontal",3,"formGroup","ngSubmit"],["role","alert",3,"class",4,"ngIf"],[1,"form-group","mb-3"],["for","email"],["type","email","formControlName","email","id","email","placeholder","Email",1,"form-control","mt-2",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","password"],[1,"input-group","auth-pass-inputgroup"],["formControlName","password","id","password","placeholder","Enter password",1,"form-control",3,"type","ngClass"],["type","button",1,"btn","btn-light",3,"click"],["class","fas fa fa-eye-slash",4,"ngIf"],["class","fas fa fa-eye",4,"ngIf"],[1,"mt-4","text-center"],["type","submit",1,"btn","btn-block"],["routerLink","/account/register",1,"fw-medium"],["role","alert"],[1,"invalid-feedback"],[4,"ngIf"],[1,"fas","fa","fa-eye-slash"],[1,"fas","fa","fa-eye"]],template:function(q,oe){1&q&&(x.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"h5",9),x._uU(10,"Welcome Back !"),x.qZA()()()()(),x.TgZ(11,"div",10),x._UZ(12,"div"),x.TgZ(13,"div",11)(14,"form",12),x.NdJ("ngSubmit",function(){return oe.login()}),x.YNc(15,$e,2,4,"div",13),x.TgZ(16,"div",14)(17,"label",15),x._uU(18,"Email"),x.qZA(),x._UZ(19,"input",16),x.YNc(20,Dt,3,2,"div",17),x.qZA(),x.TgZ(21,"div",14)(22,"label",18),x._uU(23,"Password"),x.qZA(),x.TgZ(24,"div",19),x._UZ(25,"input",20),x.TgZ(26,"button",21),x.NdJ("click",function(){return oe.showpassword=!oe.showpassword}),x.YNc(27,se,1,0,"i",22),x.YNc(28,et,1,0,"i",23),x.qZA(),x.YNc(29,bt,4,3,"div",17),x.qZA()(),x.TgZ(30,"div",24)(31,"button",25),x._uU(32,"Login"),x.qZA()()()()(),x.TgZ(33,"div",24)(34,"p"),x._uU(35,"Don't have an account ? "),x.TgZ(36,"a",26),x._uU(37," Signup "),x.qZA()(),x.TgZ(38,"p"),x._uU(39),x.qZA()()()()()()()),2&q&&(x.xp6(14),x.Q6J("formGroup",oe.loginForm),x.xp6(1),x.Q6J("ngIf",oe.showAlert),x.xp6(4),x.Q6J("ngClass",x.VKq(10,Ze,oe.inSubmission&&oe.f.email.errors)),x.xp6(1),x.Q6J("ngIf",oe.inSubmission&&oe.f.email.errors),x.xp6(5),x.Q6J("type",oe.showpassword?"text":"password")("ngClass",x.VKq(12,Ze,oe.inSubmission&&oe.f.password.errors)),x.xp6(2),x.Q6J("ngIf",!oe.showpassword),x.xp6(1),x.Q6J("ngIf",oe.showpassword),x.xp6(1),x.Q6J("ngIf",oe.inSubmission&&oe.f.password.errors),x.xp6(10),x.hij("\xa9 ",oe.year," Email Signature"))},dependencies:[v.mk,v.O5,Ae.yS,K._Y,K.Fj,K.JJ,K.JL,K.sg,K.u],styles:[".card[_ngcontent-%COMP%]{border:none;background-color:#f5ebeb;border-radius:24px}.login-header[_ngcontent-%COMP%]{background-color:#e4d0d0}button[_ngcontent-%COMP%]{background-color:#d5b4b4}a[_ngcontent-%COMP%]{color:#867070}"]}),He})();var Qe=B(7556);function ct(He,ln){if(1&He&&(x.TgZ(0,"div",32),x._uU(1),x.qZA()),2&He){const q=x.oxw();x.Gre("alert alert-",q.alertColor,""),x.xp6(1),x.hij(" ",q.alertMsg," ")}}function pt(He,ln){1&He&&(x.TgZ(0,"div"),x._uU(1,"Name is required"),x.qZA())}function We(He,ln){if(1&He&&(x.TgZ(0,"div",33),x.YNc(1,pt,2,0,"div",34),x.qZA()),2&He){const q=x.oxw();x.xp6(1),x.Q6J("ngIf",q.f.name.errors.required)}}function Jt(He,ln){1&He&&(x.TgZ(0,"div"),x._uU(1,"Email is required"),x.qZA())}function Wt(He,ln){1&He&&(x.TgZ(0,"div"),x._uU(1,"Email must be a valid email address"),x.qZA())}function pn(He,ln){if(1&He&&(x.TgZ(0,"div",33),x.YNc(1,Jt,2,0,"div",34),x.YNc(2,Wt,2,0,"div",34),x.qZA()),2&He){const q=x.oxw();x.xp6(1),x.Q6J("ngIf",q.f.email.errors.required),x.xp6(1),x.Q6J("ngIf",q.f.email.errors.email)}}function Lt(He,ln){1&He&&(x.TgZ(0,"div"),x._uU(1,"Age is required"),x.qZA())}function An(He,ln){if(1&He&&(x.TgZ(0,"div",33),x.YNc(1,Lt,2,0,"div",34),x.qZA()),2&He){const q=x.oxw();x.xp6(1),x.Q6J("ngIf",q.f.age.errors.required)}}function It(He,ln){1&He&&x._UZ(0,"i",35)}function hn(He,ln){1&He&&x._UZ(0,"i",36)}function Zn(He,ln){1&He&&(x.TgZ(0,"div"),x._uU(1,"Password is required"),x.qZA())}function Yn(He,ln){1&He&&(x.TgZ(0,"span"),x._uU(1,"Password must be at least 8 characters."),x.qZA())}function hr(He,ln){1&He&&(x.TgZ(0,"span"),x._uU(1," Password must contain alphabetics,numbers and special characters !"),x.qZA())}function lr(He,ln){if(1&He&&(x.TgZ(0,"div",33),x.YNc(1,Zn,2,0,"div",34),x.YNc(2,Yn,2,0,"span",34),x.YNc(3,hr,2,0,"span",34),x.qZA()),2&He){const q=x.oxw();x.xp6(1),x.Q6J("ngIf",q.f.password.errors.required),x.xp6(1),x.Q6J("ngIf",q.f.password.errors.minlength),x.xp6(1),x.Q6J("ngIf",q.f.password.errors.pattern)}}function ir(He,ln){1&He&&(x.TgZ(0,"div"),x._uU(1,"Phone Number is required"),x.qZA())}function kr(He,ln){1&He&&(x.TgZ(0,"span"),x._uU(1,"Phone number should be a valid one."),x.qZA())}function Kn(He,ln){if(1&He&&(x.TgZ(0,"div",33),x.YNc(1,ir,2,0,"div",34),x.YNc(2,kr,2,0,"span",34),x.qZA()),2&He){const q=x.oxw();x.xp6(1),x.Q6J("ngIf",q.f.phoneNumber.errors.required),x.xp6(1),x.Q6J("ngIf",q.f.phoneNumber.errors.pattern||q.f.phoneNumber.errors.maxLength)}}const mr=function(He){return{"is-invalid":He}},Tt=[{path:"login",component:at},{path:"register",component:(()=>{class He{constructor(q,oe){this.auth=q,this.router=oe,this.showpassword=!1,this.name=new K.NI("",[K.kI.required,K.kI.minLength(3)]),this.email=new K.NI("",[K.kI.required,K.kI.email]),this.age=new K.NI(null,[K.kI.required,K.kI.max(120)]),this.password=new K.NI("",[K.kI.required,K.kI.minLength(8),K.kI.pattern(/^(?=.*[a-zA-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]+$/)]),this.phoneNumber=new K.NI("",[K.kI.required,K.kI.minLength(10),K.kI.maxLength(10),K.kI.pattern("[0-9]{10}")]),this.year=(new Date).getFullYear(),this.showAlert=!1,this.alertMsg="Please wait! Your account is being created.",this.alertColor="primary",this.inSubmission=!1,this.registerForm=new K.cw({name:this.name,email:this.email,age:this.age,password:this.password,phoneNumber:this.phoneNumber})}get f(){return this.registerForm.controls}register(){var q=this;return(0,Zt.Z)(function*(){if(q.inSubmission=!0,!q.registerForm.invalid){q.showAlert=!0,q.alertMsg="Please wait! Your account is being created.",q.alertColor="primary";try{q.auth.createUser(q.registerForm.value)}catch{return q.alertMsg="An unexpected error occurred. Please try again later",q.alertColor="danger",void(q.inSubmission=!1)}q.alertMsg="Success! Your account has been created.",q.alertColor="success",q.router.navigate(["/email-signature"])}})()}}return He.\u0275fac=function(q){return new(q||He)(x.Y36(Qe.e),x.Y36(Ae.F0))},He.\u0275cmp=x.Xpm({type:He,selectors:[["app-register"]],decls:55,vars:26,consts:[[1,"account-pages","my-5","pt-sm-5"],[1,"container"],[1,"row","justify-content-center"],[1,"col-md-8","col-lg-6","col-xl-5"],[1,"card","overflow-hidden"],[1,"bg-soft","bg-primary"],[1,"row"],[1,"col-12","text-center","login-header"],[1,"p-5"],[1,""],[1,"card-body","pt-3"],[1,"p-2"],["name","registerForm","novalidate","",1,"needs-validation",3,"formGroup","ngSubmit"],["role","alert",3,"class",4,"ngIf"],[1,"mb-3"],["for","name",1,"form-label"],["type","text","formControlName","name","id","name","placeholder","Enter name",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","email",1,"form-label"],["type","email","formControlName","email","id","email","placeholder","Enter Email",1,"form-control",3,"ngClass"],[1,"inline-block","mb-2"],["type","number","formControlName","age","id","age","placeholder","Enter age",1,"form-control",3,"ngClass"],[1,"input-group","auth-pass-inputgroup"],["formControlName","password","id","password","placeholder","Enter password",1,"form-control",3,"type","ngClass"],["type","button",1,"btn","btn-light",3,"click"],["class","fas fa fa-eye-slash",4,"ngIf"],["class","fas fa fa-eye",4,"ngIf"],["type","text","formControlName","phoneNumber","id","phoneNumber","placeholder","Enter phoneNumber",1,"form-control",3,"ngClass"],[1,"mt-4","text-center"],["type","submit",1,"btn","btn-block","register"],[1,"mt-5","text-center"],["routerLink","/account/login",1,"fw-medium"],["role","alert"],[1,"invalid-feedback"],[4,"ngIf"],[1,"fas","fa","fa-eye-slash"],[1,"fas","fa","fa-eye"]],template:function(q,oe){1&q&&(x.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"h5",9),x._uU(10,"Create Account"),x.qZA()()()()(),x.TgZ(11,"div",10),x._UZ(12,"div"),x.TgZ(13,"div",11)(14,"form",12),x.NdJ("ngSubmit",function(){return oe.register()}),x.YNc(15,ct,2,4,"div",13),x.TgZ(16,"div",14)(17,"label",15),x._uU(18,"Name"),x.qZA(),x._UZ(19,"input",16),x.YNc(20,We,2,1,"div",17),x.qZA(),x.TgZ(21,"div",14)(22,"label",18),x._uU(23,"Email"),x.qZA(),x._UZ(24,"input",19),x.YNc(25,pn,3,2,"div",17),x.qZA(),x.TgZ(26,"div",14)(27,"label",20),x._uU(28,"Age"),x.qZA(),x._UZ(29,"input",21),x.YNc(30,An,2,1,"div",17),x.qZA(),x.TgZ(31,"div",14)(32,"label",20),x._uU(33,"Password"),x.qZA(),x.TgZ(34,"div",22),x._UZ(35,"input",23),x.TgZ(36,"button",24),x.NdJ("click",function(){return oe.showpassword=!oe.showpassword}),x.YNc(37,It,1,0,"i",25),x.YNc(38,hn,1,0,"i",26),x.qZA(),x.YNc(39,lr,4,3,"div",17),x.qZA()(),x.TgZ(40,"div",14)(41,"label",20),x._uU(42,"Phone Number"),x.qZA(),x._UZ(43,"input",27),x.YNc(44,Kn,3,2,"div",17),x.qZA(),x.TgZ(45,"div",28)(46,"button",29),x._uU(47,"Register"),x.qZA()()()()()(),x.TgZ(48,"div",30)(49,"p"),x._uU(50,"Already have an account ?"),x.TgZ(51,"a",31),x._uU(52," Login"),x.qZA()(),x.TgZ(53,"p"),x._uU(54),x.qZA()()()()()()),2&q&&(x.xp6(14),x.Q6J("formGroup",oe.registerForm),x.xp6(1),x.Q6J("ngIf",oe.showAlert),x.xp6(4),x.Q6J("ngClass",x.VKq(16,mr,oe.inSubmission&&oe.f.name.errors)),x.xp6(1),x.Q6J("ngIf",oe.inSubmission&&oe.f.name.errors),x.xp6(4),x.Q6J("ngClass",x.VKq(18,mr,oe.inSubmission&&oe.f.email.errors)),x.xp6(1),x.Q6J("ngIf",oe.inSubmission&&oe.f.email.errors),x.xp6(4),x.Q6J("ngClass",x.VKq(20,mr,oe.inSubmission&&oe.f.age.errors)),x.xp6(1),x.Q6J("ngIf",oe.inSubmission&&oe.f.age.errors),x.xp6(5),x.Q6J("type",oe.showpassword?"text":"password")("ngClass",x.VKq(22,mr,oe.inSubmission&&oe.f.password.errors)),x.xp6(2),x.Q6J("ngIf",!oe.showpassword),x.xp6(1),x.Q6J("ngIf",oe.showpassword),x.xp6(1),x.Q6J("ngIf",oe.inSubmission&&oe.f.password.errors),x.xp6(4),x.Q6J("ngClass",x.VKq(24,mr,oe.inSubmission&&oe.f.phoneNumber.errors)),x.xp6(1),x.Q6J("ngIf",oe.inSubmission&&oe.f.phoneNumber.errors),x.xp6(10),x.hij("\xa9 ",oe.year," Email Signature"))},dependencies:[v.mk,v.O5,Ae.yS,K._Y,K.Fj,K.wV,K.JJ,K.JL,K.sg,K.u],styles:[".login-header[_ngcontent-%COMP%]{background-color:#e4d0d0}.register[_ngcontent-%COMP%]{background-color:#d5b4b4}a[_ngcontent-%COMP%]{color:#867070}"]}),He})()}];let Vn=(()=>{class He{}return He.\u0275fac=function(q){return new(q||He)},He.\u0275mod=x.oAB({type:He}),He.\u0275inj=x.cJS({imports:[Ae.Bz.forChild(Tt),Ae.Bz]}),He})(),Wn=(()=>{class He{}return He.\u0275fac=function(q){return new(q||He)},He.\u0275mod=x.oAB({type:He}),He.\u0275inj=x.cJS({imports:[v.ez,Vn,Je,K.UX,K.u5]}),He})()},7556:(tn,ze,B)=>{B.d(ze,{e:()=>he});var v=B(5861),K=B(4004),x=B(1005),l=B(4650),Ee=B(1205),Ce=B(3101);let he=(()=>{class Te{constructor(ce,de){this.auth=ce,this.db=de,this.userCollection=de.collection("users"),this.auth.user.subscribe(console.log),this.isAuthenticated$=ce.user.pipe((0,K.U)(we=>!!we)),this.isAuthenticatedWithDelay$=this.isAuthenticated$.pipe((0,x.g)(100))}createUser(ce){var de=this;return(0,v.Z)(function*(){if(!ce.password)throw new Error("Password not provided");const we=yield de.auth.createUserWithEmailAndPassword(ce.email,ce.password);if(!we.user)throw new Error("User can't be found");yield de.userCollection.doc(we.user?.uid).set({name:ce.name,email:ce.email,age:ce.age,phoneNumber:ce.phoneNumber}),yield we.user.updateProfile({displayName:ce.name})})()}}return Te.\u0275fac=function(ce){return new(ce||Te)(l.LFG(Ee.zQ),l.LFG(Ce.ST))},Te.\u0275prov=l.Yz7({token:Te,factory:Te.\u0275fac,providedIn:"root"}),Te})()},3091:(tn,ze,B)=>{B.r(ze),B.d(ze,{SignatureModule:()=>gm});var v=B(6895),K=B(4629),x=B(5861),l=B(4650),Ee=B(7556),Ce=B(1205),he=B(433),Te=B(1135),Pe=B(3101),ce=B(9751),de=B(9646),we=B(8996),_t=B(4986),Ue=B(4482),Be=B(5403),Ke=B(4004),Je=B(3900),Ae=B(2122),Zt=B(2011),ut=B(3942),$e=B(9681),Fe=B(2090),Ft=B(4859);const Dt="firebasestorage.googleapis.com",se="storageBucket";class kt extends Fe.ZR{constructor(f,o,h=0){super(Ze(f),`Firebase Storage: ${o} (${Ze(f)})`),this.status_=h,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,kt.prototype)}get status(){return this.status_}set status(f){this.status_=f}_codeEquals(f){return Ze(f)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(f){this.customData.serverResponse=f,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var bt=(()=>{return(u=bt||(bt={})).UNKNOWN="unknown",u.OBJECT_NOT_FOUND="object-not-found",u.BUCKET_NOT_FOUND="bucket-not-found",u.PROJECT_NOT_FOUND="project-not-found",u.QUOTA_EXCEEDED="quota-exceeded",u.UNAUTHENTICATED="unauthenticated",u.UNAUTHORIZED="unauthorized",u.UNAUTHORIZED_APP="unauthorized-app",u.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",u.INVALID_CHECKSUM="invalid-checksum",u.CANCELED="canceled",u.INVALID_EVENT_NAME="invalid-event-name",u.INVALID_URL="invalid-url",u.INVALID_DEFAULT_BUCKET="invalid-default-bucket",u.NO_DEFAULT_BUCKET="no-default-bucket",u.CANNOT_SLICE_BLOB="cannot-slice-blob",u.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",u.NO_DOWNLOAD_URL="no-download-url",u.INVALID_ARGUMENT="invalid-argument",u.INVALID_ARGUMENT_COUNT="invalid-argument-count",u.APP_DELETED="app-deleted",u.INVALID_ROOT_OPERATION="invalid-root-operation",u.INVALID_FORMAT="invalid-format",u.INTERNAL_ERROR="internal-error",u.UNSUPPORTED_ENVIRONMENT="unsupported-environment",bt;var u})();function Ze(u){return"storage/"+u}function at(){return new kt(bt.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Wt(){return new kt(bt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function pn(){return new kt(bt.CANCELED,"User canceled the upload/download.")}function hn(){return new kt(bt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function lr(u){return new kt(bt.INVALID_ARGUMENT,u)}function ir(){return new kt(bt.APP_DELETED,"The Firebase app was deleted.")}function kr(u){return new kt(bt.INVALID_ROOT_OPERATION,"The operation '"+u+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Kn(u,f){return new kt(bt.INVALID_FORMAT,"String does not match format '"+u+"': "+f)}function mr(u){throw new kt(bt.INTERNAL_ERROR,"Internal error: "+u)}class _r{constructor(f,o){this.bucket=f,this.path_=o}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const f=encodeURIComponent;return"/b/"+f(this.bucket)+"/o/"+f(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(f,o){let h;try{h=_r.makeFromUrl(f,o)}catch{return new _r(f,"")}if(""===h.path)return h;throw function An(u){return new kt(bt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+u+"'.")}(f)}static makeFromUrl(f,o){let h=null;const b="([A-Za-z0-9.\\-_]+)",ae=new RegExp("^gs://"+b+"(/(.*))?$","i");function Re(Ii){Ii.path_=decodeURIComponent(Ii.path)}const Yt=o.replace(/[.]/g,"\\."),Ji=[{regex:ae,indices:{bucket:1,path:3},postModify:function S(Ii){"/"===Ii.path.charAt(Ii.path.length-1)&&(Ii.path_=Ii.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Yt}/v[A-Za-z0-9_]+/b/${b}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:Re},{regex:new RegExp(`^https?://${o===Dt?"(?:storage.googleapis.com|storage.cloud.google.com)":o}/${b}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:Re}];for(let Ii=0;Ii<Ji.length;Ii++){const ga=Ji[Ii],Qo=ga.regex.exec(f);if(Qo){let uo=Qo[ga.indices.path];uo||(uo=""),h=new _r(Qo[ga.indices.bucket],uo),ga.postModify(h);break}}if(null==h)throw function Lt(u){return new kt(bt.INVALID_URL,"Invalid URL '"+u+"'.")}(f);return h}}class Tt{constructor(f){this.promise_=Promise.reject(f)}getPromise(){return this.promise_}cancel(f=!1){}}function oe(u){return"string"==typeof u||u instanceof String}function Ve(u){return Ct()&&u instanceof Blob}function Ct(){return typeof Blob<"u"&&!(0,Fe.UG)()}function Mt(u,f,o,h){if(h<f)throw lr(`Invalid value for '${u}'. Expected ${f} or greater.`);if(h>o)throw lr(`Invalid value for '${u}'. Expected ${o} or less.`)}function Nt(u,f,o){let h=f;return null==o&&(h=`https://${f}`),`${o}://${h}/v0${u}`}function dt(u){const f=encodeURIComponent;let o="?";for(const h in u)u.hasOwnProperty(h)&&(o=o+(f(h)+"=")+f(u[h])+"&");return o=o.slice(0,-1),o}var jt=(()=>{return(u=jt||(jt={}))[u.NO_ERROR=0]="NO_ERROR",u[u.NETWORK_ERROR=1]="NETWORK_ERROR",u[u.ABORT=2]="ABORT",jt;var u})();function wn(u,f){const o=u>=500&&u<600,b=-1!==[408,429].indexOf(u),S=-1!==f.indexOf(u);return o||b||S}class un{constructor(f,o,h,b,S,J,ae,ge,Re,ht,Yt,xt=!0){this.url_=f,this.method_=o,this.headers_=h,this.body_=b,this.successCodes_=S,this.additionalRetryCodes_=J,this.callback_=ae,this.errorCallback_=ge,this.timeout_=Re,this.progressCallback_=ht,this.connectionFactory_=Yt,this.retry=xt,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Ut,an)=>{this.resolve_=Ut,this.reject_=an,this.start_()})}start_(){const o=(h,b)=>{const S=this.resolve_,J=this.reject_,ae=b.connection;if(b.wasSuccessCode)try{const ge=this.callback_(ae,ae.getResponse());!function He(u){return void 0!==u}(ge)?S():S(ge)}catch(ge){J(ge)}else if(null!==ae){const ge=at();ge.serverResponse=ae.getErrorText(),J(this.errorCallback_?this.errorCallback_(ae,ge):ge)}else J(b.canceled?this.appDelete_?ir():pn():Wt())};this.canceled_?o(0,new fn(!1,null,!0)):this.backoffId_=function Vn(u,f,o){let h=1,b=null,S=null,J=!1,ae=0;function ge(){return 2===ae}let Re=!1;function ht(...ar){Re||(Re=!0,f.apply(null,ar))}function Yt(ar){b=setTimeout(()=>{b=null,u(Ut,ge())},ar)}function xt(){S&&clearTimeout(S)}function Ut(ar,...Ar){if(Re)return void xt();if(ar)return xt(),void ht.call(null,ar,...Ar);if(ge()||J)return xt(),void ht.call(null,ar,...Ar);let Ji;h<64&&(h*=2),1===ae?(ae=2,Ji=0):Ji=1e3*(h+Math.random()),Yt(Ji)}let an=!1;function Fn(ar){an||(an=!0,xt(),!Re&&(null!==b?(ar||(ae=2),clearTimeout(b),Yt(0)):ar||(ae=1)))}return Yt(0),S=setTimeout(()=>{J=!0,Fn(!0)},o),Fn}((h,b)=>{if(b)return void h(!1,new fn(!1,null,!0));const S=this.connectionFactory_();this.pendingConnection_=S;const J=ae=>{null!==this.progressCallback_&&this.progressCallback_(ae.loaded,ae.lengthComputable?ae.total:-1)};null!==this.progressCallback_&&S.addUploadProgressListener(J),S.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&S.removeUploadProgressListener(J),this.pendingConnection_=null;const ae=S.getErrorCode()===jt.NO_ERROR,ge=S.getStatus();if(!ae||wn(ge,this.additionalRetryCodes_)&&this.retry){const ht=S.getErrorCode()===jt.ABORT;return void h(!1,new fn(!1,null,ht))}const Re=-1!==this.successCodes_.indexOf(ge);h(!0,new fn(Re,S))})},o,this.timeout_)}getPromise(){return this.promise_}cancel(f){this.canceled_=!0,this.appDelete_=f||!1,null!==this.backoffId_&&function Wn(u){u(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class fn{constructor(f,o,h){this.wasSuccessCode=f,this.connection=o,this.canceled=!!h}}function rn(...u){const f=function Pr(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==f){const o=new f;for(let h=0;h<u.length;h++)o.append(u[h]);return o.getBlob()}if(Ct())return new Blob(u);throw new kt(bt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const on={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Sn{constructor(f,o){this.data=f,this.contentType=o||null}}function In(u,f){switch(u){case on.RAW:return new Sn(Dr(f));case on.BASE64:case on.BASE64URL:return new Sn(fe(u,f));case on.DATA_URL:return new Sn(function rt(u){const f=new Se(u);return f.base64?fe(on.BASE64,f.rest):function ve(u){let f;try{f=decodeURIComponent(u)}catch{throw Kn(on.DATA_URL,"Malformed data URL.")}return Dr(f)}(f.rest)}(f),function je(u){return new Se(u).contentType}(f))}throw at()}function Dr(u){const f=[];for(let o=0;o<u.length;o++){let h=u.charCodeAt(o);h<=127?f.push(h):h<=2047?f.push(192|h>>6,128|63&h):55296==(64512&h)?o<u.length-1&&56320==(64512&u.charCodeAt(o+1))?(h=65536|(1023&h)<<10|1023&u.charCodeAt(++o),f.push(240|h>>18,128|h>>12&63,128|h>>6&63,128|63&h)):f.push(239,191,189):56320==(64512&h)?f.push(239,191,189):f.push(224|h>>12,128|h>>6&63,128|63&h)}return new Uint8Array(f)}function fe(u,f){switch(u){case on.BASE64:{const b=-1!==f.indexOf("-"),S=-1!==f.indexOf("_");if(b||S)throw Kn(u,"Invalid character '"+(b?"-":"_")+"' found: is it base64url encoded?");break}case on.BASE64URL:{const b=-1!==f.indexOf("+"),S=-1!==f.indexOf("/");if(b||S)throw Kn(u,"Invalid character '"+(b?"+":"/")+"' found: is it base64 encoded?");f=f.replace(/-/g,"+").replace(/_/g,"/");break}}let o;try{o=function Rt(u){if(typeof atob>"u")throw function hr(u){return new kt(bt.UNSUPPORTED_ENVIRONMENT,`${u} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(u)}(f)}catch(b){throw b.message.includes("polyfill")?b:Kn(u,"Invalid character found")}const h=new Uint8Array(o.length);for(let b=0;b<o.length;b++)h[b]=o.charCodeAt(b);return h}class Se{constructor(f){this.base64=!1,this.contentType=null;const o=f.match(/^data:([^,]+)?,/);if(null===o)throw Kn(on.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const h=o[1]||null;null!=h&&(this.base64=function qt(u,f){return u.length>=f.length&&u.substring(u.length-f.length)===f}(h,";base64"),this.contentType=this.base64?h.substring(0,h.length-7):h),this.rest=f.substring(f.indexOf(",")+1)}}class mn{constructor(f,o){let h=0,b="";Ve(f)?(this.data_=f,h=f.size,b=f.type):f instanceof ArrayBuffer?(o?this.data_=new Uint8Array(f):(this.data_=new Uint8Array(f.byteLength),this.data_.set(new Uint8Array(f))),h=this.data_.length):f instanceof Uint8Array&&(o?this.data_=f:(this.data_=new Uint8Array(f.length),this.data_.set(f)),h=f.length),this.size_=h,this.type_=b}size(){return this.size_}type(){return this.type_}slice(f,o){if(Ve(this.data_)){const b=function nt(u,f,o){return u.webkitSlice?u.webkitSlice(f,o):u.mozSlice?u.mozSlice(f,o):u.slice?u.slice(f,o):null}(this.data_,f,o);return null===b?null:new mn(b)}{const h=new Uint8Array(this.data_.buffer,f,o-f);return new mn(h,!0)}}static getBlob(...f){if(Ct()){const o=f.map(h=>h instanceof mn?h.data_:h);return new mn(rn.apply(null,o))}{const o=f.map(J=>oe(J)?In(on.RAW,J).data:J.data_);let h=0;o.forEach(J=>{h+=J.byteLength});const b=new Uint8Array(h);let S=0;return o.forEach(J=>{for(let ae=0;ae<J.length;ae++)b[S++]=J[ae]}),new mn(b,!0)}}uploadData(){return this.data_}}function Gn(u){let f;try{f=JSON.parse(u)}catch{return null}return function q(u){return"object"==typeof u&&!Array.isArray(u)}(f)?f:null}function pe(u){const f=u.lastIndexOf("/",u.length-2);return-1===f?u:u.slice(f+1)}function ie(u,f){return f}class Me{constructor(f,o,h,b){this.server=f,this.local=o||f,this.writable=!!h,this.xform=b||ie}}let st=null;function Mn(){if(st)return st;const u=[];u.push(new Me("bucket")),u.push(new Me("generation")),u.push(new Me("metageneration")),u.push(new Me("name","fullPath",!0));const o=new Me("name");o.xform=function f(S,J){return function Gt(u){return!oe(u)||u.length<2?u:pe(u)}(J)},u.push(o);const b=new Me("size");return b.xform=function h(S,J){return void 0!==J?Number(J):J},u.push(b),u.push(new Me("timeCreated")),u.push(new Me("updated")),u.push(new Me("md5Hash",null,!0)),u.push(new Me("cacheControl",null,!0)),u.push(new Me("contentDisposition",null,!0)),u.push(new Me("contentEncoding",null,!0)),u.push(new Me("contentLanguage",null,!0)),u.push(new Me("contentType",null,!0)),u.push(new Me("metadata","customMetadata",!0)),st=u,st}function Vi(u,f,o){const h=Gn(f);return null===h?null:function Br(u,f,o){const h={type:"file"},b=o.length;for(let S=0;S<b;S++){const J=o[S];h[J.local]=J.xform(h,f[J.server])}return function Un(u,f){Object.defineProperty(u,"ref",{get:function o(){const S=new _r(u.bucket,u.fullPath);return f._makeStorageReference(S)}})}(h,u),h}(u,h,o)}function vr(u,f){const o={},h=f.length;for(let b=0;b<h;b++){const S=f[b];S.writable&&(o[S.server]=u[S.local])}return JSON.stringify(o)}const _i="prefixes";class li{constructor(f,o,h,b){this.url=f,this.method=o,this.handler=h,this.timeout=b,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function $r(u){if(!u)throw at()}function di(u,f){return function o(h,b){const S=Vi(u,b,f);return $r(null!==S),S}}function ur(u){return function f(o,h){let b;return b=401===o.getStatus()?o.getErrorText().includes("Firebase App Check token is invalid")?function We(){return new kt(bt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function pt(){return new kt(bt.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===o.getStatus()?function ct(u){return new kt(bt.QUOTA_EXCEEDED,"Quota for bucket '"+u+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(u.bucket):403===o.getStatus()?function Jt(u){return new kt(bt.UNAUTHORIZED,"User does not have permission to access '"+u+"'.")}(u.path):h,b.status=o.getStatus(),b.serverResponse=h.serverResponse,b}}function Es(u){const f=ur(u);return function o(h,b){let S=f(h,b);return 404===h.getStatus()&&(S=function Qe(u){return new kt(bt.OBJECT_NOT_FOUND,"Object '"+u+"' does not exist.")}(u.path)),S.serverResponse=b.serverResponse,S}}function us(u,f,o){const b=Nt(f.fullServerUrl(),u.host,u._protocol),J=u.maxOperationRetryTime,ae=new li(b,"GET",di(u,o),J);return ae.errorHandler=Es(f),ae}function cs(u,f,o,h,b){const S={};S.prefix=f.isRoot?"":f.path+"/",o&&o.length>0&&(S.delimiter=o),h&&(S.pageToken=h),b&&(S.maxResults=b);const ae=Nt(f.bucketOnlyServerUrl(),u.host,u._protocol),Re=u.maxOperationRetryTime,ht=new li(ae,"GET",function ti(u,f){return function o(h,b){const S=function Yr(u,f,o){const h=Gn(o);return null===h?null:function Si(u,f,o){const h={prefixes:[],items:[],nextPageToken:o.nextPageToken};if(o[_i])for(const b of o[_i]){const S=b.replace(/\/$/,""),J=u._makeStorageReference(new _r(f,S));h.prefixes.push(J)}if(o.items)for(const b of o.items){const S=u._makeStorageReference(new _r(f,b.name));h.items.push(S)}return h}(u,f,h)}(u,f,b);return $r(null!==S),S}}(u,f.bucket),Re);return ht.urlParams=S,ht.errorHandler=ur(f),ht}function Is(u,f,o){const h=Object.assign({},o);return h.fullPath=u.path,h.size=f.size(),h.contentType||(h.contentType=function Nr(u,f){return u&&u.contentType||f&&f.type()||"application/octet-stream"}(null,f)),h}class ni{constructor(f,o,h,b){this.current=f,this.total=o,this.finalized=!!h,this.metadata=b||null}}function Us(u,f){let o=null;try{o=u.getResponseHeader("X-Goog-Upload-Status")}catch{$r(!1)}return $r(!!o&&-1!==(f||["active"]).indexOf(o)),o}const Uo={STATE_CHANGED:"state_changed"},Ai={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function fi(u){switch(u){case"running":case"pausing":case"canceling":return Ai.RUNNING;case"paused":return Ai.PAUSED;case"success":return Ai.SUCCESS;case"canceled":return Ai.CANCELED;default:return Ai.ERROR}}class _a{constructor(f,o,h){if(function ln(u){return"function"==typeof u}(f)||null!=o||null!=h)this.next=f,this.error=o??void 0,this.complete=h??void 0;else{const S=f;this.next=S.next,this.error=S.error,this.complete=S.complete}}}function Rr(u){return(...f)=>{Promise.resolve().then(()=>u(...f))}}class Ge extends class xe{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=jt.NO_ERROR,this.sendPromise_=new Promise(f=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=jt.ABORT,f()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=jt.NETWORK_ERROR,f()}),this.xhr_.addEventListener("load",()=>{f()})})}send(f,o,h,b){if(this.sent_)throw mr("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(o,f,!0),void 0!==b)for(const S in b)b.hasOwnProperty(S)&&this.xhr_.setRequestHeader(S,b[S].toString());return void 0!==h?this.xhr_.send(h):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw mr("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw mr("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw mr("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw mr("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(f){return this.xhr_.getResponseHeader(f)}addUploadProgressListener(f){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",f)}removeUploadProgressListener(f){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",f)}}{initXhr(){this.xhr_.responseType="text"}}function yt(){return new Ge}class cr{constructor(f,o,h=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=f,this._blob=o,this._metadata=h,this._mappings=Mn(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=b=>{if(this._request=void 0,this._chunkMultiplier=1,b._codeEquals(bt.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const S=this.isExponentialBackoffExpired();if(wn(b.status,[])){if(!S)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();b=Wt()}this._error=b,this._transition("error")}},this._metadataErrorHandler=b=>{this._request=void 0,b._codeEquals(bt.CANCELED)?this.completeTransitions_():(this._error=b,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((b,S)=>{this._resolve=b,this._reject=S,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const f=this._transferred;return o=>this._updateProgress(f+o)}_shouldDoResumable(f){return f.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(f){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([o,h])=>{switch(this._state){case"running":f(o,h);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((f,o)=>{const h=function yi(u,f,o,h,b){const S=f.bucketOnlyServerUrl(),J=Is(f,h,b),ae={name:J.fullPath},ge=Nt(S,u.host,u._protocol),ht={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${h.size()}`,"X-Goog-Upload-Header-Content-Type":J.contentType,"Content-Type":"application/json; charset=utf-8"},Yt=vr(J,o),an=new li(ge,"POST",function Ut(Fn){let ar;Us(Fn);try{ar=Fn.getResponseHeader("X-Goog-Upload-URL")}catch{$r(!1)}return $r(oe(ar)),ar},u.maxUploadRetryTime);return an.urlParams=ae,an.headers=ht,an.body=Yt,an.errorHandler=ur(f),an}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),b=this._ref.storage._makeRequest(h,yt,f,o);this._request=b,b.getPromise().then(S=>{this._request=void 0,this._uploadUrl=S,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const f=this._uploadUrl;this._resolveToken((o,h)=>{const b=function ma(u,f,o,h){const ge=new li(o,"POST",function S(Re){const ht=Us(Re,["active","final"]);let Yt=null;try{Yt=Re.getResponseHeader("X-Goog-Upload-Size-Received")}catch{$r(!1)}Yt||$r(!1);const xt=Number(Yt);return $r(!isNaN(xt)),new ni(xt,h.size(),"final"===ht)},u.maxUploadRetryTime);return ge.headers={"X-Goog-Upload-Command":"query"},ge.errorHandler=ur(f),ge}(this._ref.storage,this._ref._location,f,this._blob),S=this._ref.storage._makeRequest(b,yt,o,h);this._request=S,S.getPromise().then(J=>{this._request=void 0,this._updateProgress(J.current),this._needToFetchStatus=!1,J.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const f=262144*this._chunkMultiplier,o=new ni(this._transferred,this._blob.size()),h=this._uploadUrl;this._resolveToken((b,S)=>{let J;try{J=function ta(u,f,o,h,b,S,J,ae){const ge=new ni(0,0);if(J?(ge.current=J.current,ge.total=J.total):(ge.current=0,ge.total=h.size()),h.size()!==ge.total)throw function Zn(){return new kt(bt.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const Re=ge.total-ge.current;let ht=Re;b>0&&(ht=Math.min(ht,b));const Yt=ge.current;let Ut="";Ut=0===ht?"finalize":Re===ht?"upload, finalize":"upload";const an={"X-Goog-Upload-Command":Ut,"X-Goog-Upload-Offset":`${ge.current}`},Fn=h.slice(Yt,Yt+ht);if(null===Fn)throw hn();const Ji=new li(o,"POST",function ar(Ii,ga){const Qo=Us(Ii,["active","final"]),Jl=ge.current+ht,uo=h.size();let If;return If="final"===Qo?di(f,S)(Ii,ga):null,new ni(Jl,uo,"final"===Qo,If)},f.maxUploadRetryTime);return Ji.headers=an,Ji.body=Fn.uploadData(),Ji.progressCallback=ae||null,Ji.errorHandler=ur(u),Ji}(this._ref._location,this._ref.storage,h,this._blob,f,this._mappings,o,this._makeProgressCallback())}catch(ge){return this._error=ge,void this._transition("error")}const ae=this._ref.storage._makeRequest(J,yt,b,S,!1);this._request=ae,ae.getPromise().then(ge=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(ge.current),ge.finalized?(this._metadata=ge.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((f,o)=>{const h=us(this._ref.storage,this._ref._location,this._mappings),b=this._ref.storage._makeRequest(h,yt,f,o);this._request=b,b.getPromise().then(S=>{this._request=void 0,this._metadata=S,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((f,o)=>{const h=function Cr(u,f,o,h,b){const S=f.bucketOnlyServerUrl(),J={"X-Goog-Upload-Protocol":"multipart"},ge=function ae(){let Ji="";for(let Ii=0;Ii<2;Ii++)Ji+=Math.random().toString().slice(2);return Ji}();J["Content-Type"]="multipart/related; boundary="+ge;const Re=Is(f,h,b),ht=vr(Re,o),Ut=mn.getBlob("--"+ge+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+ht+"\r\n--"+ge+"\r\nContent-Type: "+Re.contentType+"\r\n\r\n",h,"\r\n--"+ge+"--");if(null===Ut)throw hn();const an={name:Re.fullPath},Fn=Nt(S,u.host,u._protocol),Ar=u.maxUploadRetryTime,zr=new li(Fn,"POST",di(u,o),Ar);return zr.urlParams=an,zr.headers=J,zr.body=Ut.uploadData(),zr.errorHandler=ur(f),zr}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),b=this._ref.storage._makeRequest(h,yt,f,o);this._request=b,b.getPromise().then(S=>{this._request=void 0,this._metadata=S,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(f){const o=this._transferred;this._transferred=f,this._transferred!==o&&this._notifyObservers()}_transition(f){if(this._state!==f)switch(f){case"canceling":case"pausing":this._state=f,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const o="paused"===this._state;this._state=f,o&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=f,this._notifyObservers();break;case"canceled":this._error=pn(),this._state=f,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const f=fi(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:f,metadata:this._metadata,task:this,ref:this._ref}}on(f,o,h,b){const S=new _a(o||void 0,h||void 0,b||void 0);return this._addObserver(S),()=>{this._removeObserver(S)}}then(f,o){return this._promise.then(f,o)}catch(f){return this.then(null,f)}_addObserver(f){this._observers.push(f),this._notifyObserver(f)}_removeObserver(f){const o=this._observers.indexOf(f);-1!==o&&this._observers.splice(o,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(o=>{this._notifyObserver(o)})}_finishPromise(){if(void 0!==this._resolve){let f=!0;switch(fi(this._state)){case Ai.SUCCESS:Rr(this._resolve.bind(null,this.snapshot))();break;case Ai.CANCELED:case Ai.ERROR:Rr(this._reject.bind(null,this._error))();break;default:f=!1}f&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(f){switch(fi(this._state)){case Ai.RUNNING:case Ai.PAUSED:f.next&&Rr(f.next.bind(f,this.snapshot))();break;case Ai.SUCCESS:f.complete&&Rr(f.complete.bind(f))();break;default:f.error&&Rr(f.error.bind(f,this._error))()}}resume(){const f="paused"===this._state||"pausing"===this._state;return f&&this._transition("running"),f}pause(){const f="running"===this._state;return f&&this._transition("pausing"),f}cancel(){const f="running"===this._state||"pausing"===this._state;return f&&this._transition("canceling"),f}}class Di{constructor(f,o){this._service=f,this._location=o instanceof _r?o:_r.makeFromUrl(o,f.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(f,o){return new Di(f,o)}get root(){const f=new _r(this._location.bucket,"");return this._newRef(this._service,f)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return pe(this._location.path)}get storage(){return this._service}get parent(){const f=function fr(u){if(0===u.length)return null;const f=u.lastIndexOf("/");return-1===f?"":u.slice(0,f)}(this._location.path);if(null===f)return null;const o=new _r(this._location.bucket,f);return new Di(this._service,o)}_throwIfRoot(f){if(""===this._location.path)throw kr(f)}}function na(u,f,o){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,x.Z)(function*(u,f,o){const b=yield ji(u,{pageToken:o});f.prefixes.push(...b.prefixes),f.items.push(...b.items),null!=b.nextPageToken&&(yield na(u,f,b.nextPageToken))})).apply(this,arguments)}function ji(u,f){null!=f&&"number"==typeof f.maxResults&&Mt("options.maxResults",1,1e3,f.maxResults);const o=f||{},h=cs(u.storage,u._location,"/",o.pageToken,o.maxResults);return u.storage.makeRequestWithTokens(h,yt)}function Bo(u){u._throwIfRoot("getDownloadURL");const f=function es(u,f,o){const b=Nt(f.fullServerUrl(),u.host,u._protocol),J=u.maxOperationRetryTime,ae=new li(b,"GET",function Cs(u,f){return function o(h,b){const S=Vi(u,b,f);return $r(null!==S),function $n(u,f,o,h){const b=Gn(f);if(null===b||!oe(b.downloadTokens))return null;const S=b.downloadTokens;if(0===S.length)return null;const J=encodeURIComponent;return S.split(",").map(Re=>{const Yt=u.fullPath;return Nt("/b/"+J(u.bucket)+"/o/"+J(Yt),o,h)+dt({alt:"media",token:Re})})[0]}(S,b,u.host,u._protocol)}}(u,o),J);return ae.errorHandler=Es(f),ae}(u.storage,u._location,Mn());return u.storage.makeRequestWithTokens(f,yt).then(o=>{if(null===o)throw function Yn(){return new kt(bt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return o})}function Qs(u,f){const o=function me(u,f){const o=f.split("/").filter(h=>h.length>0).join("/");return 0===u.length?o:u+"/"+o}(u._location.path,f),h=new _r(u._location.bucket,o);return new Di(u.storage,h)}function Ss(u,f){if(u instanceof $o){const o=u;if(null==o._bucket)throw function It(){return new kt(bt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+se+"' property when initializing the app?")}();const h=new Di(o,o._bucket);return null!=f?Ss(h,f):h}return void 0!==f?Qs(u,f):u}function ts(u,f){if(f&&function To(u){return/^[A-Za-z]+:\/\//.test(u)}(f)){if(u instanceof $o)return function Ts(u,f){return new Di(u,f)}(u,f);throw lr("To use ref(service, url), the first argument must be a Storage instance.")}return Ss(u,f)}function Mi(u,f){const o=f?.[se];return null==o?null:_r.makeFromBucketSpec(o,u)}class $o{constructor(f,o,h,b,S){this.app=f,this._authProvider=o,this._appCheckProvider=h,this._url=b,this._firebaseVersion=S,this._bucket=null,this._host=Dt,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=b?_r.makeFromBucketSpec(b,this._host):Mi(this._host,this.app.options)}get host(){return this._host}set host(f){this._host=f,this._bucket=null!=this._url?_r.makeFromBucketSpec(this._url,f):Mi(f,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(f){Mt("time",0,Number.POSITIVE_INFINITY,f),this._maxUploadRetryTime=f}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(f){Mt("time",0,Number.POSITIVE_INFINITY,f),this._maxOperationRetryTime=f}_getAuthToken(){var f=this;return(0,x.Z)(function*(){if(f._overrideAuthToken)return f._overrideAuthToken;const o=f._authProvider.getImmediate({optional:!0});if(o){const h=yield o.getToken();if(null!==h)return h.accessToken}return null})()}_getAppCheckToken(){var f=this;return(0,x.Z)(function*(){const o=f._appCheckProvider.getImmediate({optional:!0});return o?(yield o.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(f=>f.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(f){return new Di(this,f)}_makeRequest(f,o,h,b,S=!0){if(this._deleted)return new Tt(ir());{const J=function Mr(u,f,o,h,b,S,J=!0){const ae=dt(u.urlParams),ge=u.url+ae,Re=Object.assign({},u.headers);return function Zr(u,f){f&&(u["X-Firebase-GMPID"]=f)}(Re,f),function sr(u,f){null!==f&&f.length>0&&(u.Authorization="Firebase "+f)}(Re,o),function En(u,f){u["X-Firebase-Storage-Version"]="webjs/"+(f??"AppManager")}(Re,S),function Qn(u,f){null!==f&&(u["X-Firebase-AppCheck"]=f)}(Re,h),new un(ge,u.method,Re,u.body,u.successCodes,u.additionalRetryCodes,u.handler,u.errorHandler,u.timeout,u.progressCallback,b,J)}(f,this._appId,h,b,o,this._firebaseVersion,S);return this._requests.add(J),J.getPromise().then(()=>this._requests.delete(J),()=>this._requests.delete(J)),J}}makeRequestWithTokens(f,o){var h=this;return(0,x.Z)(function*(){const[b,S]=yield Promise.all([h._getAuthToken(),h._getAppCheckToken()]);return h._makeRequest(f,o,b,S).getPromise()})()}}const Hr="@firebase/storage";function jo(u,f){return ts(u=(0,Fe.m9)(u),f)}function Go(u,{instanceIdentifier:f}){const o=u.getProvider("app").getImmediate(),h=u.getProvider("auth-internal"),b=u.getProvider("app-check-internal");return new $o(o,h,b,f,$e.SDK_VERSION)}!function fo(){(0,$e._registerComponent)(new Ft.wA("storage",Go,"PUBLIC").setMultipleInstances(!0)),(0,$e.registerVersion)(Hr,"0.11.2",""),(0,$e.registerVersion)(Hr,"0.11.2","esm2017")}();class Ao{constructor(f,o,h){this._delegate=f,this.task=o,this.ref=h}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class Xs{constructor(f,o){this._delegate=f,this._ref=o,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Ao(this._delegate.snapshot,this,this._ref)}then(f,o){return this._delegate.then(h=>{if(f)return f(new Ao(h,this,this._ref))},o)}on(f,o,h,b){let S;return o&&(S="function"==typeof o?J=>o(new Ao(J,this,this._ref)):{next:o.next?J=>o.next(new Ao(J,this,this._ref)):void 0,complete:o.complete||void 0,error:o.error||void 0}),this._delegate.on(f,S,h||void 0,b||void 0)}}class oa{constructor(f,o){this._delegate=f,this._service=o}get prefixes(){return this._delegate.prefixes.map(f=>new zi(f,this._service))}get items(){return this._delegate.items.map(f=>new zi(f,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class zi{constructor(f,o){this._delegate=f,this.storage=o}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(f){const o=function sa(u,f){return Qs(u,f)}(this._delegate,f);return new zi(o,this.storage)}get root(){return new zi(this._delegate.root,this.storage)}get parent(){const f=this._delegate.parent;return null==f?null:new zi(f,this.storage)}put(f,o){return this._throwIfRoot("put"),new Xs(function Ci(u,f,o){return function Eo(u,f,o){return u._throwIfRoot("uploadBytesResumable"),new cr(u,new mn(f),o)}(u=(0,Fe.m9)(u),f,o)}(this._delegate,f,o),this)}putString(f,o=on.RAW,h){this._throwIfRoot("putString");const b=In(o,f),S=Object.assign({},h);return null==S.contentType&&null!=b.contentType&&(S.contentType=b.contentType),new Xs(new cr(this._delegate,new mn(b.data,!0),S),this)}listAll(){return function Bs(u){return function Js(u){const f={prefixes:[],items:[]};return na(u,f).then(()=>f)}(u=(0,Fe.m9)(u))}(this._delegate).then(f=>new oa(f,this.storage))}list(f){return function ra(u,f){return ji(u=(0,Fe.m9)(u),f)}(this._delegate,f||void 0).then(o=>new oa(o,this.storage))}getMetadata(){return function pi(u){return function vs(u){u._throwIfRoot("getMetadata");const f=us(u.storage,u._location,Mn());return u.storage.makeRequestWithTokens(f,yt)}(u=(0,Fe.m9)(u))}(this._delegate)}updateMetadata(f){return function ps(u,f){return function Gi(u,f){u._throwIfRoot("updateMetadata");const o=function hs(u,f,o,h){const S=Nt(f.fullServerUrl(),u.host,u._protocol),ae=vr(o,h),Re=u.maxOperationRetryTime,ht=new li(S,"PATCH",di(u,h),Re);return ht.headers={"Content-Type":"application/json; charset=utf-8"},ht.body=ae,ht.errorHandler=Es(f),ht}(u.storage,u._location,f,Mn());return u.storage.makeRequestWithTokens(o,yt)}(u=(0,Fe.m9)(u),f)}(this._delegate,f)}getDownloadURL(){return function ii(u){return Bo(u=(0,Fe.m9)(u))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function ia(u){return function fs(u){u._throwIfRoot("deleteObject");const f=function Ui(u,f){const h=Nt(f.fullServerUrl(),u.host,u._protocol),ae=new li(h,"DELETE",function J(ge,Re){},u.maxOperationRetryTime);return ae.successCodes=[200,204],ae.errorHandler=Es(f),ae}(u.storage,u._location);return u.storage.makeRequestWithTokens(f,yt)}(u=(0,Fe.m9)(u))}(this._delegate)}_throwIfRoot(f){if(""===this._delegate._location.path)throw kr(f)}}class eo{constructor(f,o){this.app=f,this._delegate=o}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(f){if(to(f))throw lr("ref() expected a child path but got a URL, use refFromURL instead.");return new zi(jo(this._delegate,f),this)}refFromURL(f){if(!to(f))throw lr("refFromURL() expected a full URL but got a child path, use ref() instead.");try{_r.makeFromUrl(f,this._delegate.host)}catch{throw lr("refFromUrl() expected a valid full URL but got an invalid one.")}return new zi(jo(this._delegate,f),this)}setMaxUploadRetryTime(f){this._delegate.maxUploadRetryTime=f}setMaxOperationRetryTime(f){this._delegate.maxOperationRetryTime=f}useEmulator(f,o,h={}){!function Fr(u,f,o,h={}){!function As(u,f,o,h={}){u.host=`${f}:${o}`,u._protocol="http";const{mockUserToken:b}=h;b&&(u._overrideAuthToken="string"==typeof b?b:(0,Fe.Sg)(b,u.app.options.projectId))}(u,f,o,h)}(this._delegate,f,o,h)}}function to(u){return/^[A-Za-z]+:\/\//.test(u)}function gs(u,{instanceIdentifier:f}){const o=u.getProvider("app-compat").getImmediate(),h=u.getProvider("storage").getImmediate({identifier:f});return new eo(o,h)}!function si(u){const f={TaskState:Ai,TaskEvent:Uo,StringFormat:on,Storage:eo,Reference:zi};u.INTERNAL.registerComponent(new Ft.wA("storage-compat",gs,"PUBLIC").setServiceProps(f).setMultipleInstances(!0)),u.registerVersion("@firebase/storage-compat","0.3.2")}(ut.Z);var aa=B(6217);function po(u){const f=function Zi(u){return new ce.y(f=>{const o=J=>f.next(J);o(u.snapshot);const S=u.on("state_changed",o);return u.then(J=>{o(J),f.complete()},J=>{o(u.snapshot),(J=>{f.error(J)})(J)}),function(){S()}}).pipe(function Pt(u,f=_t.z){return(0,Ue.e)((o,h)=>{let b=null,S=null,J=null;const ae=()=>{if(b){b.unsubscribe(),b=null;const Re=S;S=null,h.next(Re)}};function ge(){const Re=J+u,ht=f.now();if(ht<Re)return b=this.schedule(void 0,Re-ht),void h.add(b);ae()}o.subscribe((0,Be.x)(h,Re=>{S=Re,J=f.now(),b||(b=f.schedule(ge,u),h.add(b))},()=>{ae(),h.complete()},void 0,()=>{S=b=null}))})}(0))}(u);return{task:u,then:u.then.bind(u),catch:u.catch.bind(u),pause:u.pause.bind(u),cancel:u.cancel.bind(u),resume:u.resume.bind(u),snapshotChanges:()=>f,percentageChanges:()=>f.pipe((0,Ke.U)(o=>o.bytesTransferred/o.totalBytes*100))}}function bs(u){return{getDownloadURL:()=>(0,de.of)(void 0).pipe(Ae.fc,(0,Je.w)(()=>u.getDownloadURL()),Ae.iC),getMetadata:()=>(0,de.of)(void 0).pipe(Ae.fc,(0,Je.w)(()=>u.getMetadata()),Ae.iC),delete:()=>(0,we.D)(u.delete()),child:f=>bs(u.child(f)),updateMetadata:f=>(0,we.D)(u.updateMetadata(f)),put:(f,o)=>po(u.put(f,o)),putString:(f,o,h)=>po(u.putString(f,o,h)),list:f=>(0,we.D)(u.list(f)),listAll:()=>(0,we.D)(u.listAll())}}B(9260);const Ya=new l.OlP("angularfire2.storageBucket"),Gr=new l.OlP("angularfire2.storage.maxUploadRetryTime"),j=new l.OlP("angularfire2.storage.maxOperationRetryTime"),V=new l.OlP("angularfire2.storage.use-emulator");let O=(()=>{class u{constructor(o,h,b,S,J,ae,ge,Re,ht,Yt){const xt=(0,Zt.on)(o,J,h);this.storage=(0,Zt.cc)(`${xt.name}.storage.${b}`,"AngularFireStorage",xt.name,()=>{const Ut=J.runOutsideAngular(()=>xt.storage(b||void 0)),an=ht;return an&&Ut.useEmulator(...an),ge&&Ut.setMaxUploadRetryTime(ge),Re&&Ut.setMaxOperationRetryTime(Re),Ut},[ge,Re])}ref(o){return bs(this.storage.ref(o))}refFromURL(o){return bs(this.storage.refFromURL(o))}upload(o,h,b){return bs(this.storage.ref(o)).put(h,b)}}return u.\u0275fac=function(o){return new(o||u)(l.LFG(Zt.Dh),l.LFG(Zt.xv,8),l.LFG(Ya,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Ae.HU),l.LFG(Gr,8),l.LFG(j,8),l.LFG(V,8),l.LFG(aa.nm,8))},u.\u0275prov=l.Yz7({token:u,factory:u.\u0275fac,providedIn:"any"}),u})(),or=(()=>{class u{constructor(o,h,b){this.db=o,this.auth=h,this.storage=b,this.user=null,this.basicData=new Te.X(null),this.basicData$=this.basicData.asObservable(),this.imageData=new Te.X(null),this.imageData$=this.imageData.asObservable(),this.socialMediaData=new Te.X(null),this.socialMediaData$=this.socialMediaData.asObservable(),this.designData=new Te.X(null),this.designData$=this.designData.asObservable(),this.signCollection=o.collection("signature"),h.user.subscribe(S=>this.user=S)}createSign(o){var h=this;return(0,x.Z)(function*(){return h.signCollection.doc(h.user?.uid).set(o)})()}setData(o){this.basicData.next(o),console.log(this.basicData)}setImageData(o){this.imageData.next(o)}setSocialMediaData(o){this.socialMediaData.next(o)}setDesignData(o){this.designData.next(o)}getSignatureData(){return this.db.collection("signature").snapshotChanges()}}return u.\u0275fac=function(o){return new(o||u)(l.LFG(Pe.ST),l.LFG(Ce.zQ),l.LFG(O))},u.\u0275prov=l.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})(),Ms=(()=>{class u{constructor(o,h,b){this.formBuilder=o,this.sharedService=h,this.auth=b,this.basicData=[],this.user=null,this.fname=new he.NI("Sam",[he.kI.required]),this.lname=new he.NI("Smith",[he.kI.required]),this.email=new he.NI("sam@gmail.com",[he.kI.required]),this.mobileNo=new he.NI("8888888888",[he.kI.required]),this.company=new he.NI("My Company",[he.kI.required]),this.position=new he.NI("Software Developer",[he.kI.required]),this.department=new he.NI("IT",[he.kI.required]),this.address=new he.NI("Street, City, Pin",[he.kI.required]),this.contactFields=new he.NI("",[he.kI.required]),this.contactValue=new he.NI("",[he.kI.required]),this.getBFData=[],b.user.subscribe(S=>this.user=S),this.typeValidationForm=this.formBuilder.group({fname:this.fname,lname:this.lname,email:this.email,mobileNo:this.mobileNo,company:this.company,position:this.position,department:this.department,address:this.address,contacts:this.formBuilder.array([])}),this.FormData=this.typeValidationForm.controls,this.sharedService.basicData$.subscribe(S=>{this.basicData=S})}field(){return this.formBuilder.group({contactFields:"",contactValue:""})}get contacts(){return this.typeValidationForm.get("contacts")}get f(){return this.typeValidationForm.controls}ngOnInit(){this.sharedService.setData(this.FormData),this.getBasicForm()}getBasicForm(){this.sharedService.getSignatureData().subscribe(o=>{if(this.getBFData=[],o.forEach((b,S)=>{b.payload.doc.data().uid==this.user?.uid&&this.getBFData.push({uid:b.payload.doc.uid,...b.payload.doc.data()})}),this.getBFData.length>0){var h=this.getBFData[0].basicForm;this.typeValidationForm.patchValue({fname:h.fname,lname:h.lname,email:h.email,mobileNo:h.mobileNo,company:h.company,position:h.position,department:h.department,address:h.address})}})}addField(){this.field(),this.contacts.push(this.field()),console.log("Add field")}removeField(o){this.contacts.removeAt(o)}}return u.\u0275fac=function(o){return new(o||u)(l.Y36(he.qu),l.Y36(or),l.Y36(Ce.zQ))},u.\u0275cmp=l.Xpm({type:u,selectors:[["app-basic-form"]],decls:61,vars:1,consts:[[1,"container"],[1,"row"],[1,"col-md-12","col-lg-6","col-xl-12"],[1,"card","overflow-hidden","shadow","p-3","mb-5","rounded"],[1,"card-body","pt-0"],[1,"p-2"],["name","registerForm",1,"needs-validation",3,"formGroup"],[1,"mb-3","row","col-md-12"],[1,"col-md-4"],["for","name",1,"form-label"],[1,"col-md-8"],["type","text","formControlName","fname","id","name","placeholder","Enter name",1,"form-control"],["for","lastName",1,"form-label"],["type","text","formControlName","lname","id","lastName","placeholder","Enter name",1,"form-control"],["for","email",1,"form-label"],["type","text","formControlName","email","id","email","placeholder","Enter Email",1,"form-control"],["for","number",1,"form-label"],["type","text","formControlName","mobileNo","id","number","placeholder","Enter Mobile Number",1,"form-control"],["for","company",1,"form-label"],["type","text","formControlName","company","id","company","placeholder","Enter company",1,"form-control"],["for","position",1,"inline-block","mb-2"],["type","text","formControlName","position","id","position","placeholder","Enter position",1,"form-control"],["for","department",1,"inline-block","mb-2"],["type","text","formControlName","department","id","department","placeholder","Enter department",1,"form-control"],[1,"row","col-md-12"],[1,"inline-block","mb-2"],["type","text","formControlName","address","id","department","placeholder","Enter Address ",1,"form-control"]],template:function(o,h){1&o&&(l.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"form",6)(7,"p")(8,"b"),l._uU(9,"Personal Details"),l.qZA()(),l.TgZ(10,"div",7)(11,"div",8)(12,"label",9),l._uU(13,"First Name"),l.qZA()(),l.TgZ(14,"div",10),l._UZ(15,"input",11),l.qZA()(),l.TgZ(16,"div",7)(17,"div",8)(18,"label",12),l._uU(19,"Last Name"),l.qZA()(),l.TgZ(20,"div",10),l._UZ(21,"input",13),l.qZA()(),l.TgZ(22,"div",7)(23,"div",8)(24,"label",14),l._uU(25,"Email"),l.qZA()(),l.TgZ(26,"div",10),l._UZ(27,"input",15),l.qZA()(),l.TgZ(28,"div",7)(29,"div",8)(30,"label",16),l._uU(31,"Mobile Number"),l.qZA()(),l.TgZ(32,"div",10),l._UZ(33,"input",17),l.qZA()(),l.TgZ(34,"p")(35,"b"),l._uU(36,"Company Details"),l.qZA()(),l.TgZ(37,"div",7)(38,"div",8)(39,"label",18),l._uU(40,"Company"),l.qZA()(),l.TgZ(41,"div",10),l._UZ(42,"input",19),l.qZA()(),l.TgZ(43,"div",7)(44,"div",8)(45,"label",20),l._uU(46,"Position"),l.qZA()(),l.TgZ(47,"div",10),l._UZ(48,"input",21),l.qZA()(),l.TgZ(49,"div",7)(50,"div",8)(51,"label",22),l._uU(52,"Department"),l.qZA()(),l.TgZ(53,"div",10),l._UZ(54,"input",23),l.qZA()(),l.TgZ(55,"div",24)(56,"div",8)(57,"label",25),l._uU(58,"Address"),l.qZA()(),l.TgZ(59,"div",10),l._UZ(60,"input",26),l.qZA()()()()()()()()()),2&o&&(l.xp6(6),l.Q6J("formGroup",h.typeValidationForm))},dependencies:[he._Y,he.Fj,he.JJ,he.JL,he.sg,he.u],styles:[".card[_ngcontent-%COMP%]{border:none;background-color:#f5ebeb;border-radius:24px}"]}),u})();var Ns=B(1481);function go(u,f){if(1&u){const o=l.EpF();l.TgZ(0,"ngx-dropzone-remove-badge",1),l.NdJ("click",function(b){l.CHM(o);const S=l.oxw();return l.KtG(S._remove(b))}),l.qZA()}}const mo=[[["ngx-dropzone-label"]]],xs=["ngx-dropzone-label"],Mo=["fileInput"];function No(u,f){1&u&&l.Hsn(0,2,["*ngIf","!_hasPreviews"])}const Wi=[[["ngx-dropzone-preview"]],"*",[["ngx-dropzone-label"]]],ya=["ngx-dropzone-preview","*","ngx-dropzone-label"];function Oa(u,f){if(1&u){const o=l.EpF();l.TgZ(0,"ngx-dropzone-remove-badge",2),l.NdJ("click",function(b){l.CHM(o);const S=l.oxw();return l.KtG(S._remove(b))}),l.qZA()}}let ba=(()=>{class u{}return u.\u0275fac=function(o){return new(o||u)},u.\u0275dir=l.lG2({type:u,selectors:[["ngx-dropzone-label"]]}),u})();function zo(u){return null!=u&&"false"!=`${u}`}let ro=(()=>{class u{}return u.\u0275fac=function(o){return new(o||u)},u.\u0275cmp=l.Xpm({type:u,selectors:[["ngx-dropzone-remove-badge"]],decls:3,vars:0,consts:[["x1","0","y1","0","x2","10","y2","10"],["x1","0","y1","10","x2","10","y2","0"]],template:function(o,h){1&o&&(l.O4$(),l.TgZ(0,"svg"),l._UZ(1,"line",0)(2,"line",1),l.qZA())},styles:["[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;height:22px;width:22px;position:absolute;top:5px;right:5px;border-radius:50%;background:#bbb;color:#333;cursor:pointer}[_nghost-%COMP%]:hover{background:#aeaeae}[_nghost-%COMP%] > svg[_ngcontent-%COMP%]{height:10px;width:10px}[_nghost-%COMP%] > svg[_ngcontent-%COMP%] > line[_ngcontent-%COMP%]{stroke-width:2px;stroke:#fff}"]}),u})();var xo=(()=>{return(u=xo||(xo={}))[u.BACKSPACE=8]="BACKSPACE",u[u.DELETE=46]="DELETE",xo;var u})();let Pa=(()=>{class u{constructor(o){this.sanitizer=o,this._removable=!1,this.removed=new l.vpe,this.tabIndex=0}set file(o){this._file=o}get file(){return this._file}get removable(){return this._removable}set removable(o){this._removable=zo(o)}keyEvent(o){switch(o.keyCode){case xo.BACKSPACE:case xo.DELETE:this.remove()}}get hostStyle(){return this.sanitizer.bypassSecurityTrustStyle("\n\t\t\tdisplay: flex;\n\t\t\theight: 140px;\n\t\t\tmin-height: 140px;\n\t\t\tmin-width: 180px;\n\t\t\tmax-width: 180px;\n\t\t\tjustify-content: center;\n\t\t\talign-items: center;\n\t\t\tpadding: 0 20px;\n\t\t\tmargin: 10px;\n\t\t\tborder-radius: 5px;\n\t\t\tposition: relative;\n\t\t")}_remove(o){o.stopPropagation(),this.remove()}remove(){this._removable&&this.removed.next(this.file)}readFile(){var o=this;return(0,x.Z)(function*(){return new Promise((h,b)=>{const S=new FileReader;if(S.onload=J=>{h(J.target.result)},S.onerror=J=>{console.error(`FileReader failed on file ${o.file.name}.`),b(J)},!o.file)return b("No file to read. Please provide a file using the [file] Input property.");S.readAsDataURL(o.file)})})()}}return u.\u0275fac=function(o){return new(o||u)(l.Y36(Ns.H7))},u.\u0275cmp=l.Xpm({type:u,selectors:[["ngx-dropzone-preview"]],hostVars:3,hostBindings:function(o,h){1&o&&l.NdJ("keyup",function(S){return h.keyEvent(S)}),2&o&&(l.Ikx("tabindex",h.tabIndex),l.Akn(h.hostStyle))},inputs:{file:"file",removable:"removable"},outputs:{removed:"removed"},ngContentSelectors:xs,decls:2,vars:1,consts:[[3,"click",4,"ngIf"],[3,"click"]],template:function(o,h){1&o&&(l.F$t(mo),l.Hsn(0),l.YNc(1,go,1,0,"ngx-dropzone-remove-badge",0)),2&o&&(l.xp6(1),l.Q6J("ngIf",h.removable))},dependencies:[ro,v.O5],styles:["[_nghost-%COMP%]{background-image:linear-gradient(to top,#ededed,#efefef,#f1f1f1,#f4f4f4,#f6f6f6)}[_nghost-%COMP%]:hover, [_nghost-%COMP%]:focus{background-image:linear-gradient(to top,#e3e3e3,#ebeaea,#e8e7e7,#ebeaea,#f4f4f4);outline:0}[_nghost-%COMP%]:hover   ngx-dropzone-remove-badge[_ngcontent-%COMP%], [_nghost-%COMP%]:focus   ngx-dropzone-remove-badge[_ngcontent-%COMP%]{opacity:1}[_nghost-%COMP%]   ngx-dropzone-remove-badge[_ngcontent-%COMP%]{opacity:0}[_nghost-%COMP%]     ngx-dropzone-label{overflow-wrap:break-word}"]}),u})(),gi=(()=>{class u{parseFileList(o,h,b,S){const J=[],ae=[];for(let Re=0;Re<o.length;Re++){const ht=o.item(Re);this.isAccepted(ht,h)?b&&ht.size>b?this.rejectFile(ae,ht,"size"):!S&&J.length>=1?this.rejectFile(ae,ht,"no_multiple"):J.push(ht):this.rejectFile(ae,ht,"type")}return{addedFiles:J,rejectedFiles:ae}}isAccepted(o,h){if("*"===h)return!0;const b=h.split(",").map(ge=>ge.toLowerCase().trim()),S=o.type.toLowerCase(),J=o.name.toLowerCase();return!!b.find(ge=>ge.endsWith("/*")?S.split("/")[0]===ge.split("/")[0]:ge.startsWith(".")?J.endsWith(ge):ge==S)}rejectFile(o,h,b){const S=h;S.reason=b,o.push(S)}}return u.\u0275fac=function(o){return new(o||u)},u.\u0275prov=l.Yz7({token:u,factory:u.\u0275fac}),u})(),ws=(()=>{class u{constructor(o){this.service=o,this.change=new l.vpe,this.accept="*",this._disabled=!1,this._multiple=!0,this._maxFileSize=void 0,this._expandable=!1,this._disableClick=!1,this._processDirectoryDrop=!1,this._isHovered=!1}get _hasPreviews(){return!!this._previewChildren.length}get disabled(){return this._disabled}set disabled(o){this._disabled=zo(o),this._isHovered&&(this._isHovered=!1)}get multiple(){return this._multiple}set multiple(o){this._multiple=zo(o)}get maxFileSize(){return this._maxFileSize}set maxFileSize(o){this._maxFileSize=function la(u){return isNaN(parseFloat(u))||isNaN(Number(u))?null:Number(u)}(o)}get expandable(){return this._expandable}set expandable(o){this._expandable=zo(o)}get disableClick(){return this._disableClick}set disableClick(o){this._disableClick=zo(o)}get processDirectoryDrop(){return this._processDirectoryDrop}set processDirectoryDrop(o){this._processDirectoryDrop=zo(o)}_onClick(){this.disableClick||this.showFileSelector()}_onDragOver(o){this.disabled||(this.preventDefault(o),this._isHovered=!0)}_onDragLeave(){this._isHovered=!1}_onDrop(o){if(!this.disabled)if(this.preventDefault(o),this._isHovered=!1,this.processDirectoryDrop&&DataTransferItem.prototype.webkitGetAsEntry){const h=o.dataTransfer.items;if(h.length>0){const b=[],S=[];for(let ae=0;ae<h.length;ae++){const ge=h[ae].webkitGetAsEntry();ge.isFile?b.push(o.dataTransfer.files[ae]):ge.isDirectory&&S.push(ge)}const J=new DataTransfer;if(b.forEach(ae=>{J.items.add(ae)}),!S.length&&J.items.length&&this.handleFileDrop(J.files),S.length){const ae=[];for(const ge of S)ae.push(this.extractFilesFromDirectory(ge));Promise.all(ae).then(ge=>{ge.reduce((Re,ht)=>[...Re,...ht]).forEach(Re=>{J.items.add(Re)}),this.handleFileDrop(J.files)})}}}else this.handleFileDrop(o.dataTransfer.files)}extractFilesFromDirectory(o){function h(S){return b.apply(this,arguments)}function b(){return(b=(0,x.Z)(function*(S){try{return yield new Promise((J,ae)=>S.file(J,ae))}catch(J){console.log("Error converting a fileEntry to a File: ",J)}})).apply(this,arguments)}return new Promise((S,J)=>{const ae=[],ge=o.createReader(),Re=()=>{ge.readEntries(function(){var ht=(0,x.Z)(function*(Yt){if(Yt.length){const xt=Yt.filter(Ut=>Ut.isFile);for(const Ut of xt){const an=yield h(Ut);ae.push(an)}Re()}else S(ae)});return function(Yt){return ht.apply(this,arguments)}}())};Re()})}showFileSelector(){this.disabled||this._fileInput.nativeElement.click()}_onFilesSelected(o){this.handleFileDrop(o.target.files),this._fileInput.nativeElement.value="",this.preventDefault(o)}handleFileDrop(o){const h=this.service.parseFileList(o,this.accept,this.maxFileSize,this.multiple);this.change.next({addedFiles:h.addedFiles,rejectedFiles:h.rejectedFiles,source:this})}preventDefault(o){o.preventDefault(),o.stopPropagation()}}return u.\u0275fac=function(o){return new(o||u)(l.Y36(gi,2))},u.\u0275cmp=l.Xpm({type:u,selectors:[["ngx-dropzone"],["","ngx-dropzone",""]],contentQueries:function(o,h,b){if(1&o&&l.Suo(b,Pa,5),2&o){let S;l.iGM(S=l.CRH())&&(h._previewChildren=S)}},viewQuery:function(o,h){if(1&o&&l.Gf(Mo,7),2&o){let b;l.iGM(b=l.CRH())&&(h._fileInput=b.first)}},hostVars:8,hostBindings:function(o,h){1&o&&l.NdJ("click",function(){return h._onClick()})("dragover",function(S){return h._onDragOver(S)})("dragleave",function(){return h._onDragLeave()})("drop",function(S){return h._onDrop(S)}),2&o&&l.ekj("ngx-dz-disabled",h.disabled)("expandable",h.expandable)("unclickable",h.disableClick)("ngx-dz-hovered",h._isHovered)},inputs:{accept:"accept",disabled:"disabled",multiple:"multiple",maxFileSize:"maxFileSize",expandable:"expandable",disableClick:"disableClick",processDirectoryDrop:"processDirectoryDrop",id:"id",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedBy:["aria-describedby","ariaDescribedBy"]},outputs:{change:"change"},features:[l._Bn([gi])],ngContentSelectors:ya,decls:5,vars:8,consts:[["type","file",3,"id","multiple","accept","disabled","change"],["fileInput",""],[4,"ngIf"]],template:function(o,h){1&o&&(l.F$t(Wi),l.TgZ(0,"input",0,1),l.NdJ("change",function(S){return h._onFilesSelected(S)}),l.qZA(),l.YNc(2,No,1,0,"ng-content",2),l.Hsn(3),l.Hsn(4,1)),2&o&&(l.Q6J("id",h.id)("multiple",h.multiple)("accept",h.accept)("disabled",h.disabled),l.uIk("aria-label",h.ariaLabel)("aria-labelledby",h.ariaLabelledby)("aria-describedby",h.ariaDescribedBy),l.xp6(2),l.Q6J("ngIf",!h._hasPreviews))},dependencies:[v.O5],styles:["[_nghost-%COMP%]{display:flex;align-items:center;height:180px;background:#fff;cursor:pointer;color:#717386;border:2px dashed #717386;border-radius:5px;font-size:16px;overflow-x:auto}.ngx-dz-hovered[_nghost-%COMP%]{border-style:solid}.ngx-dz-disabled[_nghost-%COMP%]{opacity:.5;cursor:no-drop;pointer-events:none}.expandable[_nghost-%COMP%]{overflow:hidden;height:unset;min-height:180px;flex-wrap:wrap}.unclickable[_nghost-%COMP%]{cursor:default}[_nghost-%COMP%]     ngx-dropzone-label{text-align:center;z-index:10;margin:10px auto}[_nghost-%COMP%]   input[_ngcontent-%COMP%]{width:.1px;height:.1px;opacity:0;overflow:hidden;position:absolute;z-index:-1}[_nghost-%COMP%]   input[_ngcontent-%COMP%]:focus +   ngx-dropzone-label{outline:1px dotted #000;outline:-webkit-focus-ring-color auto 5px}"]}),u})(),Lr=(()=>{class u extends Pa{constructor(o){super(o),this.defaultImgLoading="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBzdHlsZT0ibWFyZ2luOiBhdXRvOyBiYWNrZ3JvdW5kOiByZ2IoMjQxLCAyNDIsIDI0Mykgbm9uZSByZXBlYXQgc2Nyb2xsIDAlIDAlOyBkaXNwbGF5OiBibG9jazsgc2hhcGUtcmVuZGVyaW5nOiBhdXRvOyIgd2lkdGg9IjIyNHB4IiBoZWlnaHQ9IjIyNHB4IiB2aWV3Qm94PSIwIDAgMTAwIDEwMCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ieE1pZFlNaWQiPgo8Y2lyY2xlIGN4PSI1MCIgY3k9IjUwIiByPSIxNCIgc3Ryb2tlLXdpZHRoPSIzIiBzdHJva2U9IiM4NWEyYjYiIHN0cm9rZS1kYXNoYXJyYXk9IjIxLjk5MTE0ODU3NTEyODU1MiAyMS45OTExNDg1NzUxMjg1NTIiIGZpbGw9Im5vbmUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCI+CiAgPGFuaW1hdGVUcmFuc2Zvcm0gYXR0cmlidXRlTmFtZT0idHJhbnNmb3JtIiB0eXBlPSJyb3RhdGUiIGR1cj0iMS4xNjI3OTA2OTc2NzQ0MTg0cyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIGtleVRpbWVzPSIwOzEiIHZhbHVlcz0iMCA1MCA1MDszNjAgNTAgNTAiPjwvYW5pbWF0ZVRyYW5zZm9ybT4KPC9jaXJjbGU+CjxjaXJjbGUgY3g9IjUwIiBjeT0iNTAiIHI9IjEwIiBzdHJva2Utd2lkdGg9IjMiIHN0cm9rZT0iI2JiY2VkZCIgc3Ryb2tlLWRhc2hhcnJheT0iMTUuNzA3OTYzMjY3OTQ4OTY2IDE1LjcwNzk2MzI2Nzk0ODk2NiIgc3Ryb2tlLWRhc2hvZmZzZXQ9IjE1LjcwNzk2MzI2Nzk0ODk2NiIgZmlsbD0ibm9uZSIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIj4KICA8YW5pbWF0ZVRyYW5zZm9ybSBhdHRyaWJ1dGVOYW1lPSJ0cmFuc2Zvcm0iIHR5cGU9InJvdGF0ZSIgZHVyPSIxLjE2Mjc5MDY5NzY3NDQxODRzIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSIga2V5VGltZXM9IjA7MSIgdmFsdWVzPSIwIDUwIDUwOy0zNjAgNTAgNTAiPjwvYW5pbWF0ZVRyYW5zZm9ybT4KPC9jaXJjbGU+CjwhLS0gW2xkaW9dIGdlbmVyYXRlZCBieSBodHRwczovL2xvYWRpbmcuaW8vIC0tPjwvc3ZnPg==",this.imageSrc=this.sanitizer.bypassSecurityTrustUrl(this.defaultImgLoading)}set file(o){this._file=o,this.renderImage()}get file(){return this._file}ngOnInit(){this.renderImage()}renderImage(){this.readFile().then(o=>setTimeout(()=>this.imageSrc=o)).catch(o=>console.error(o))}}return u.\u0275fac=function(o){return new(o||u)(l.Y36(Ns.H7))},u.\u0275cmp=l.Xpm({type:u,selectors:[["ngx-dropzone-image-preview"]],inputs:{file:"file"},features:[l._Bn([{provide:Pa,useExisting:u}]),l.qOj],ngContentSelectors:xs,decls:3,vars:2,consts:[[3,"src"],[3,"click",4,"ngIf"],[3,"click"]],template:function(o,h){1&o&&(l.F$t(mo),l._UZ(0,"img",0),l.Hsn(1),l.YNc(2,Oa,1,0,"ngx-dropzone-remove-badge",1)),2&o&&(l.Q6J("src",h.imageSrc,l.LSH),l.xp6(2),l.Q6J("ngIf",h.removable))},dependencies:[ro,v.O5],styles:["[_nghost-%COMP%]{min-width:unset!important;max-width:unset!important;padding:0!important}[_nghost-%COMP%]:hover   img[_ngcontent-%COMP%], [_nghost-%COMP%]:focus   img[_ngcontent-%COMP%]{opacity:.7}[_nghost-%COMP%]:hover   ngx-dropzone-remove-badge[_ngcontent-%COMP%], [_nghost-%COMP%]:focus   ngx-dropzone-remove-badge[_ngcontent-%COMP%]{opacity:1}[_nghost-%COMP%]   ngx-dropzone-remove-badge[_ngcontent-%COMP%]{opacity:0}[_nghost-%COMP%]   img[_ngcontent-%COMP%]{max-height:100%;border-radius:5px;opacity:.8}[_nghost-%COMP%]     ngx-dropzone-label{position:absolute;overflow-wrap:break-word}"]}),u})(),Fa=(()=>{class u{}return u.\u0275fac=function(o){return new(o||u)},u.\u0275mod=l.oAB({type:u}),u.\u0275inj=l.cJS({imports:[[v.ez]]}),u})();function kl(u,f){if(1&u){const o=l.EpF();l.TgZ(0,"ngx-dropzone-image-preview",10),l.NdJ("removed",function(){l.CHM(o);const b=l.oxw();return l.KtG(b.onRemove())}),l._UZ(1,"ngx-dropzone-label"),l.qZA()}if(2&u){const o=l.oxw();l.Q6J("removable",!0)("file",o.logo)}}let Ka=(()=>{class u{constructor(o,h,b){this.formBuilder=o,this.sharedService=h,this.auth=b,this.user=null,this.FormData=[],this.imageData=[],this.typesubmit=!1,this.imageType=!0,this.sizeError=!1,this.imageChangedEvent="",this.file_label="Choose File",this.dummyImage="assets/images/facebook.png",this.profileImage=new he.NI("assets/images/profile.jpg",[he.kI.required]),this.dimensionError=!1,this.getImageData=[],b.user.subscribe(S=>this.user=S),this.typeValidationForm=this.formBuilder.group({profileImage:this.profileImage}),this.FormData.push(this.typeValidationForm.controls),this.sharedService.imageData$.subscribe(S=>{this.imageData=S})}ngOnInit(){this.sharedService.setImageData(this.FormData),this.getImageForm()}get f(){return this.typeValidationForm.controls}onFileSelected(o){const h=o.addedFiles[0];if(this.validateImageDimensions(h),"image/png"==o.addedFiles[0].type||"image/jpg"==o.addedFiles[0].type||"image/jpeg"==o.addedFiles[0].type){if(this.imageType=!0,o.addedFiles[0].size>102400)this.sizeError=!0;else if(this.sizeError=!1,this.logo=h,o.addedFiles[0]){var b=new FileReader;b.onload=S=>{this.f.profileImage.setValue(S.target.result)},b.readAsDataURL(o.addedFiles[0])}}else this.imageType=!1}validateImageDimensions(o){const h=new Image;h.onload=()=>{this.dimensionError=h.width<200&&h.height<100},h.src=URL.createObjectURL(o)}onRemove(){this.logo="",this.typeValidationForm.patchValue({profileImage:this.logo})}getImageForm(){this.sharedService.getSignatureData().subscribe(o=>{this.getImageData=[],o.forEach((b,S)=>{b.payload.doc.data().uid==this.user?.uid&&this.getImageData.push({uid:b.payload.doc.uid,...b.payload.doc.data()})}),this.getImageData.length>0&&this.typeValidationForm.patchValue({profileImage:this.getImageData[0].imageForm.profileImage})})}}return u.\u0275fac=function(o){return new(o||u)(l.Y36(he.qu),l.Y36(or),l.Y36(Ce.zQ))},u.\u0275cmp=l.Xpm({type:u,selectors:[["app-image-form"]],decls:13,vars:2,consts:[[1,"container"],[1,"row"],[1,"col-md-12","col-lg-6","col-xl-12"],[1,"card","overflow-hidden","shadow","p-3","mb-5","rounded"],[1,"card-body","pt-0"],[1,"p-2"],[1,"inline-block","mb-2","ml-0"],[1,"col-md-4","mt-4"],["accept","image/jpeg,image/jpg,image/png",3,"multiple","change"],["ngProjectAs","ngx-dropzone-preview",5,["ngx-dropzone-preview"],3,"removable","file","removed",4,"ngIf"],["ngProjectAs","ngx-dropzone-preview",5,["ngx-dropzone-preview"],3,"removable","file","removed"]],template:function(o,h){1&o&&(l.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"label",6),l._uU(7,"Logo / Photo"),l.qZA(),l.TgZ(8,"div",7)(9,"ngx-dropzone",8),l.NdJ("change",function(S){return h.onFileSelected(S)}),l.TgZ(10,"ngx-dropzone-label"),l._uU(11,"Choose File"),l.qZA(),l.YNc(12,kl,2,2,"ngx-dropzone-image-preview",9),l.qZA()()()()()()()()),2&o&&(l.xp6(9),l.Q6J("multiple",!1),l.xp6(3),l.Q6J("ngIf",h.logo))},dependencies:[v.O5,ws,ba,Lr],styles:[".card[_ngcontent-%COMP%]{border:none;background-color:#f5ebeb;border-radius:24px}"]}),u})(),Ja=(()=>{class u{constructor(o,h,b){this.formBuilder=o,this.sharedService=h,this.auth=b,this.designData=[],this.user=null,this.getDesignData=[],this.fontFamily=new he.NI("arial",[he.kI.required]),this.fontSize=new he.NI(16,[he.kI.required]),this.templateColor=new he.NI("#4A4F50",[he.kI.required]),this.backgroundColor=new he.NI("#FFFFFF",[he.kI.required]),b.user.subscribe(S=>this.user=S),this.typeValidationForm=this.formBuilder.group({fontFamily:this.fontFamily,fontSize:this.fontSize,templateColor:this.templateColor,backgroundColor:this.backgroundColor}),this.FormData=this.typeValidationForm.controls,this.sharedService.designData$.subscribe(S=>{this.designData=S})}get f(){return this.typeValidationForm.controls}ngOnInit(){this.sharedService.setDesignData(this.FormData),this.getDesignForm()}getDesignForm(){this.sharedService.getSignatureData().subscribe(o=>{if(this.getDesignData=[],o.forEach((b,S)=>{b.payload.doc.data().uid==this.user?.uid&&this.getDesignData.push({uid:b.payload.doc.uid,...b.payload.doc.data()})}),this.getDesignData.length>0){var h=this.getDesignData[0].designForm;this.typeValidationForm.patchValue({backgroundColor:h.backgroundColor,fontFamily:h.fontFamily,fontSize:h.fontSize,templateColor:h.templateColor})}})}}return u.\u0275fac=function(o){return new(o||u)(l.Y36(he.qu),l.Y36(or),l.Y36(Ce.zQ))},u.\u0275cmp=l.Xpm({type:u,selectors:[["app-design"]],decls:55,vars:1,consts:[[1,"container"],[1,"row"],[1,"col-md-12","col-lg-6","col-xl-12"],[1,"card","overflow-hidden","shadow","p-3","mb-5","rounded"],[1,"card-body","pt-0"],[1,"p-2"],[1,"col-md-12"],[3,"formGroup"],[1,"mb-3","row","col-md-12"],[1,"col-md-4"],[1,""],[1,"col-md-8"],["id","fonFomily","formControlName","fontFamily",1,"form-control"],["value","arial","selected","",1,"bg-slate-700"],["value","inter",1,"bg-slate-700"],["value","verdana",1,"bg-slate-700"],["value","tahoma",1,"bg-slate-700"],["value","trebuchet",1,"bg-slate-700"],["value","timeNewRoman",1,"bg-slate-700"],["value","georgia",1,"bg-slate-700"],["value","garamond",1,"bg-slate-700"],["value","courierNew",1,"bg-slate-700"],["value","brushScriptMt",1,"bg-slate-700"],["type","range","min","10","max","30","formControlName","fontSize",1,"form-range"],[1,"inline-block","mb-2","col-span-1"],["type","color","value","#fefefe","formControlName","templateColor",1,""],["type","color","formControlName","backgroundColor"]],template:function(o,h){1&o&&(l.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"p")(8,"b"),l._uU(9,"Layout"),l.qZA()()(),l.TgZ(10,"form",7)(11,"div",8)(12,"div",9)(13,"label",10),l._uU(14,"Font family"),l.qZA()(),l.TgZ(15,"div",11)(16,"select",12)(17,"option",13),l._uU(18,"Arial (sans-serif)"),l.qZA(),l.TgZ(19,"option",14),l._uU(20,"Inter, sans-serif"),l.qZA(),l.TgZ(21,"option",15),l._uU(22,"Verdana (sans-serif)"),l.qZA(),l.TgZ(23,"option",16),l._uU(24,"Tahoma (sans-serif)"),l.qZA(),l.TgZ(25,"option",17),l._uU(26,"Trebuchet MS (sans-serif)"),l.qZA(),l.TgZ(27,"option",18),l._uU(28,"Times New Roman (serif)"),l.qZA(),l.TgZ(29,"option",19),l._uU(30,"Georgia (serif)"),l.qZA(),l.TgZ(31,"option",20),l._uU(32,"Garamond (serif)"),l.qZA(),l.TgZ(33,"option",21),l._uU(34,"Courier New (monospace)"),l.qZA(),l.TgZ(35,"option",22),l._uU(36,"Brush Script MT (cursive)"),l.qZA()()()(),l.TgZ(37,"div",8)(38,"div",9)(39,"label",10),l._uU(40,"Font size"),l.qZA()(),l.TgZ(41,"div",11),l._UZ(42,"input",23),l.qZA()(),l.TgZ(43,"div",8)(44,"div",9)(45,"label",24),l._uU(46,"Template color"),l.qZA()(),l.TgZ(47,"div",11),l._UZ(48,"input",25),l.qZA()(),l.TgZ(49,"div",8)(50,"div",9)(51,"label",24),l._uU(52,"Background color"),l.qZA()(),l.TgZ(53,"div",11),l._UZ(54,"input",26),l.qZA()()()()()()()()()),2&o&&(l.xp6(10),l.Q6J("formGroup",h.typeValidationForm))},dependencies:[he._Y,he.YN,he.Kr,he.Fj,he.eT,he.EJ,he.JJ,he.JL,he.sg,he.u],styles:[".card[_ngcontent-%COMP%]{border:none;background-color:#f5ebeb;border-radius:24px}"]}),u})();var Xl=B(4351),rs=B(9300);class is{}class La{}class ko{constructor(f){this.normalizedNames=new Map,this.lazyUpdate=null,f?this.lazyInit="string"==typeof f?()=>{this.headers=new Map,f.split("\n").forEach(o=>{const h=o.indexOf(":");if(h>0){const b=o.slice(0,h),S=b.toLowerCase(),J=o.slice(h+1).trim();this.maybeSetNormalizedName(b,S),this.headers.has(S)?this.headers.get(S).push(J):this.headers.set(S,[J])}})}:()=>{this.headers=new Map,Object.keys(f).forEach(o=>{let h=f[o];const b=o.toLowerCase();"string"==typeof h&&(h=[h]),h.length>0&&(this.headers.set(b,h),this.maybeSetNormalizedName(o,b))})}:this.headers=new Map}has(f){return this.init(),this.headers.has(f.toLowerCase())}get(f){this.init();const o=this.headers.get(f.toLowerCase());return o&&o.length>0?o[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(f){return this.init(),this.headers.get(f.toLowerCase())||null}append(f,o){return this.clone({name:f,value:o,op:"a"})}set(f,o){return this.clone({name:f,value:o,op:"s"})}delete(f,o){return this.clone({name:f,value:o,op:"d"})}maybeSetNormalizedName(f,o){this.normalizedNames.has(o)||this.normalizedNames.set(o,f)}init(){this.lazyInit&&(this.lazyInit instanceof ko?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(f=>this.applyUpdate(f)),this.lazyUpdate=null))}copyFrom(f){f.init(),Array.from(f.headers.keys()).forEach(o=>{this.headers.set(o,f.headers.get(o)),this.normalizedNames.set(o,f.normalizedNames.get(o))})}clone(f){const o=new ko;return o.lazyInit=this.lazyInit&&this.lazyInit instanceof ko?this.lazyInit:this,o.lazyUpdate=(this.lazyUpdate||[]).concat([f]),o}applyUpdate(f){const o=f.name.toLowerCase();switch(f.op){case"a":case"s":let h=f.value;if("string"==typeof h&&(h=[h]),0===h.length)return;this.maybeSetNormalizedName(f.name,o);const b=("a"===f.op?this.headers.get(o):void 0)||[];b.push(...h),this.headers.set(o,b);break;case"d":const S=f.value;if(S){let J=this.headers.get(o);if(!J)return;J=J.filter(ae=>-1===S.indexOf(ae)),0===J.length?(this.headers.delete(o),this.normalizedNames.delete(o)):this.headers.set(o,J)}else this.headers.delete(o),this.normalizedNames.delete(o)}}forEach(f){this.init(),Array.from(this.normalizedNames.keys()).forEach(o=>f(this.normalizedNames.get(o),this.headers.get(o)))}}class Tu{encodeKey(f){return io(f)}encodeValue(f){return io(f)}decodeKey(f){return decodeURIComponent(f)}decodeValue(f){return decodeURIComponent(f)}}const ms=/%(\d[a-f0-9])/gi,hl={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function io(u){return encodeURIComponent(u).replace(ms,(f,o)=>hl[o]??f)}function xr(u){return`${u}`}class _o{constructor(f={}){if(this.updates=null,this.cloneFrom=null,this.encoder=f.encoder||new Tu,f.fromString){if(f.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Ro(u,f){const o=new Map;return u.length>0&&u.replace(/^\?/,"").split("&").forEach(b=>{const S=b.indexOf("="),[J,ae]=-1==S?[f.decodeKey(b),""]:[f.decodeKey(b.slice(0,S)),f.decodeValue(b.slice(S+1))],ge=o.get(J)||[];ge.push(ae),o.set(J,ge)}),o}(f.fromString,this.encoder)}else f.fromObject?(this.map=new Map,Object.keys(f.fromObject).forEach(o=>{const h=f.fromObject[o],b=Array.isArray(h)?h.map(xr):[xr(h)];this.map.set(o,b)})):this.map=null}has(f){return this.init(),this.map.has(f)}get(f){this.init();const o=this.map.get(f);return o?o[0]:null}getAll(f){return this.init(),this.map.get(f)||null}keys(){return this.init(),Array.from(this.map.keys())}append(f,o){return this.clone({param:f,value:o,op:"a"})}appendAll(f){const o=[];return Object.keys(f).forEach(h=>{const b=f[h];Array.isArray(b)?b.forEach(S=>{o.push({param:h,value:S,op:"a"})}):o.push({param:h,value:b,op:"a"})}),this.clone(o)}set(f,o){return this.clone({param:f,value:o,op:"s"})}delete(f,o){return this.clone({param:f,value:o,op:"d"})}toString(){return this.init(),this.keys().map(f=>{const o=this.encoder.encodeKey(f);return this.map.get(f).map(h=>o+"="+this.encoder.encodeValue(h)).join("&")}).filter(f=>""!==f).join("&")}clone(f){const o=new _o({encoder:this.encoder});return o.cloneFrom=this.cloneFrom||this,o.updates=(this.updates||[]).concat(f),o}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(f=>this.map.set(f,this.cloneFrom.map.get(f))),this.updates.forEach(f=>{switch(f.op){case"a":case"s":const o=("a"===f.op?this.map.get(f.param):void 0)||[];o.push(xr(f.value)),this.map.set(f.param,o);break;case"d":if(void 0===f.value){this.map.delete(f.param);break}{let h=this.map.get(f.param)||[];const b=h.indexOf(xr(f.value));-1!==b&&h.splice(b,1),h.length>0?this.map.set(f.param,h):this.map.delete(f.param)}}}),this.cloneFrom=this.updates=null)}}class k{constructor(){this.map=new Map}set(f,o){return this.map.set(f,o),this}get(f){return this.map.has(f)||this.map.set(f,f.defaultValue()),this.map.get(f)}delete(f){return this.map.delete(f),this}has(f){return this.map.has(f)}keys(){return this.map.keys()}}function L(u){return typeof ArrayBuffer<"u"&&u instanceof ArrayBuffer}function X(u){return typeof Blob<"u"&&u instanceof Blob}function be(u){return typeof FormData<"u"&&u instanceof FormData}class vt{constructor(f,o,h,b){let S;if(this.url=o,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=f.toUpperCase(),function Z(u){switch(u){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||b?(this.body=void 0!==h?h:null,S=b):S=h,S&&(this.reportProgress=!!S.reportProgress,this.withCredentials=!!S.withCredentials,S.responseType&&(this.responseType=S.responseType),S.headers&&(this.headers=S.headers),S.context&&(this.context=S.context),S.params&&(this.params=S.params)),this.headers||(this.headers=new ko),this.context||(this.context=new k),this.params){const J=this.params.toString();if(0===J.length)this.urlWithParams=o;else{const ae=o.indexOf("?");this.urlWithParams=o+(-1===ae?"?":ae<o.length-1?"&":"")+J}}else this.params=new _o,this.urlWithParams=o}serializeBody(){return null===this.body?null:L(this.body)||X(this.body)||be(this.body)||function ot(u){return typeof URLSearchParams<"u"&&u instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof _o?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||be(this.body)?null:X(this.body)?this.body.type||null:L(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof _o?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(f={}){const o=f.method||this.method,h=f.url||this.url,b=f.responseType||this.responseType,S=void 0!==f.body?f.body:this.body,J=void 0!==f.withCredentials?f.withCredentials:this.withCredentials,ae=void 0!==f.reportProgress?f.reportProgress:this.reportProgress;let ge=f.headers||this.headers,Re=f.params||this.params;const ht=f.context??this.context;return void 0!==f.setHeaders&&(ge=Object.keys(f.setHeaders).reduce((Yt,xt)=>Yt.set(xt,f.setHeaders[xt]),ge)),f.setParams&&(Re=Object.keys(f.setParams).reduce((Yt,xt)=>Yt.set(xt,f.setParams[xt]),Re)),new vt(o,h,S,{params:Re,headers:ge,context:ht,reportProgress:ae,responseType:b,withCredentials:J})}}var Xt=(()=>((Xt=Xt||{})[Xt.Sent=0]="Sent",Xt[Xt.UploadProgress=1]="UploadProgress",Xt[Xt.ResponseHeader=2]="ResponseHeader",Xt[Xt.DownloadProgress=3]="DownloadProgress",Xt[Xt.Response=4]="Response",Xt[Xt.User=5]="User",Xt))();class kn{constructor(f,o=200,h="OK"){this.headers=f.headers||new ko,this.status=void 0!==f.status?f.status:o,this.statusText=f.statusText||h,this.url=f.url||null,this.ok=this.status>=200&&this.status<300}}class Jn extends kn{constructor(f={}){super(f),this.type=Xt.ResponseHeader}clone(f={}){return new Jn({headers:f.headers||this.headers,status:void 0!==f.status?f.status:this.status,statusText:f.statusText||this.statusText,url:f.url||this.url||void 0})}}class nr extends kn{constructor(f={}){super(f),this.type=Xt.Response,this.body=void 0!==f.body?f.body:null}clone(f={}){return new nr({body:void 0!==f.body?f.body:this.body,headers:f.headers||this.headers,status:void 0!==f.status?f.status:this.status,statusText:f.statusText||this.statusText,url:f.url||this.url||void 0})}}class qn extends kn{constructor(f){super(f,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${f.url||"(unknown url)"}`:`Http failure response for ${f.url||"(unknown url)"}: ${f.status} ${f.statusText}`,this.error=f.error||null}}function ui(u,f){return{body:f,headers:u.headers,context:u.context,observe:u.observe,params:u.params,reportProgress:u.reportProgress,responseType:u.responseType,withCredentials:u.withCredentials}}let mt=(()=>{class u{constructor(o){this.handler=o}request(o,h,b={}){let S;if(o instanceof vt)S=o;else{let ge,Re;ge=b.headers instanceof ko?b.headers:new ko(b.headers),b.params&&(Re=b.params instanceof _o?b.params:new _o({fromObject:b.params})),S=new vt(o,h,void 0!==b.body?b.body:null,{headers:ge,context:b.context,params:Re,reportProgress:b.reportProgress,responseType:b.responseType||"json",withCredentials:b.withCredentials})}const J=(0,de.of)(S).pipe((0,Xl.b)(ge=>this.handler.handle(ge)));if(o instanceof vt||"events"===b.observe)return J;const ae=J.pipe((0,rs.h)(ge=>ge instanceof nr));switch(b.observe||"body"){case"body":switch(S.responseType){case"arraybuffer":return ae.pipe((0,Ke.U)(ge=>{if(null!==ge.body&&!(ge.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return ge.body}));case"blob":return ae.pipe((0,Ke.U)(ge=>{if(null!==ge.body&&!(ge.body instanceof Blob))throw new Error("Response is not a Blob.");return ge.body}));case"text":return ae.pipe((0,Ke.U)(ge=>{if(null!==ge.body&&"string"!=typeof ge.body)throw new Error("Response is not a string.");return ge.body}));default:return ae.pipe((0,Ke.U)(ge=>ge.body))}case"response":return ae;default:throw new Error(`Unreachable: unhandled observe type ${b.observe}}`)}}delete(o,h={}){return this.request("DELETE",o,h)}get(o,h={}){return this.request("GET",o,h)}head(o,h={}){return this.request("HEAD",o,h)}jsonp(o,h){return this.request("JSONP",o,{params:(new _o).append(h,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(o,h={}){return this.request("OPTIONS",o,h)}patch(o,h,b={}){return this.request("PATCH",o,ui(b,h))}post(o,h,b={}){return this.request("POST",o,ui(b,h))}put(o,h,b={}){return this.request("PUT",o,ui(b,h))}}return u.\u0275fac=function(o){return new(o||u)(l.LFG(is))},u.\u0275prov=l.Yz7({token:u,factory:u.\u0275fac}),u})();class br{constructor(f,o){this.next=f,this.interceptor=o}handle(f){return this.interceptor.intercept(f,this.next)}}const Kr=new l.OlP("HTTP_INTERCEPTORS");let Rs=(()=>{class u{intercept(o,h){return h.handle(o)}}return u.\u0275fac=function(o){return new(o||u)},u.\u0275prov=l.Yz7({token:u,factory:u.\u0275fac}),u})();const Rl=/^\)\]\}',?\n/;let fl=(()=>{class u{constructor(o){this.xhrFactory=o}handle(o){if("JSONP"===o.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new ce.y(h=>{const b=this.xhrFactory.build();if(b.open(o.method,o.urlWithParams),o.withCredentials&&(b.withCredentials=!0),o.headers.forEach((Ut,an)=>b.setRequestHeader(Ut,an.join(","))),o.headers.has("Accept")||b.setRequestHeader("Accept","application/json, text/plain, */*"),!o.headers.has("Content-Type")){const Ut=o.detectContentTypeHeader();null!==Ut&&b.setRequestHeader("Content-Type",Ut)}if(o.responseType){const Ut=o.responseType.toLowerCase();b.responseType="json"!==Ut?Ut:"text"}const S=o.serializeBody();let J=null;const ae=()=>{if(null!==J)return J;const Ut=b.statusText||"OK",an=new ko(b.getAllResponseHeaders()),Fn=function eu(u){return"responseURL"in u&&u.responseURL?u.responseURL:/^X-Request-URL:/m.test(u.getAllResponseHeaders())?u.getResponseHeader("X-Request-URL"):null}(b)||o.url;return J=new Jn({headers:an,status:b.status,statusText:Ut,url:Fn}),J},ge=()=>{let{headers:Ut,status:an,statusText:Fn,url:ar}=ae(),Ar=null;204!==an&&(Ar=typeof b.response>"u"?b.responseText:b.response),0===an&&(an=Ar?200:0);let zr=an>=200&&an<300;if("json"===o.responseType&&"string"==typeof Ar){const Ji=Ar;Ar=Ar.replace(Rl,"");try{Ar=""!==Ar?JSON.parse(Ar):null}catch(Ii){Ar=Ji,zr&&(zr=!1,Ar={error:Ii,text:Ar})}}zr?(h.next(new nr({body:Ar,headers:Ut,status:an,statusText:Fn,url:ar||void 0})),h.complete()):h.error(new qn({error:Ar,headers:Ut,status:an,statusText:Fn,url:ar||void 0}))},Re=Ut=>{const{url:an}=ae(),Fn=new qn({error:Ut,status:b.status||0,statusText:b.statusText||"Unknown Error",url:an||void 0});h.error(Fn)};let ht=!1;const Yt=Ut=>{ht||(h.next(ae()),ht=!0);let an={type:Xt.DownloadProgress,loaded:Ut.loaded};Ut.lengthComputable&&(an.total=Ut.total),"text"===o.responseType&&!!b.responseText&&(an.partialText=b.responseText),h.next(an)},xt=Ut=>{let an={type:Xt.UploadProgress,loaded:Ut.loaded};Ut.lengthComputable&&(an.total=Ut.total),h.next(an)};return b.addEventListener("load",ge),b.addEventListener("error",Re),b.addEventListener("timeout",Re),b.addEventListener("abort",Re),o.reportProgress&&(b.addEventListener("progress",Yt),null!==S&&b.upload&&b.upload.addEventListener("progress",xt)),b.send(S),h.next({type:Xt.Sent}),()=>{b.removeEventListener("error",Re),b.removeEventListener("abort",Re),b.removeEventListener("load",ge),b.removeEventListener("timeout",Re),o.reportProgress&&(b.removeEventListener("progress",Yt),null!==S&&b.upload&&b.upload.removeEventListener("progress",xt)),b.readyState!==b.DONE&&b.abort()}})}}return u.\u0275fac=function(o){return new(o||u)(l.LFG(v.JF))},u.\u0275prov=l.Yz7({token:u,factory:u.\u0275fac}),u})();const Va=new l.OlP("XSRF_COOKIE_NAME"),wa=new l.OlP("XSRF_HEADER_NAME");class oi{}let da=(()=>{class u{constructor(o,h,b){this.doc=o,this.platform=h,this.cookieName=b,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const o=this.doc.cookie||"";return o!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,v.Mx)(o,this.cookieName),this.lastCookieString=o),this.lastToken}}return u.\u0275fac=function(o){return new(o||u)(l.LFG(v.K0),l.LFG(l.Lbi),l.LFG(Va))},u.\u0275prov=l.Yz7({token:u,factory:u.\u0275fac}),u})(),Ol=(()=>{class u{constructor(o,h){this.tokenService=o,this.headerName=h}intercept(o,h){const b=o.url.toLowerCase();if("GET"===o.method||"HEAD"===o.method||b.startsWith("http://")||b.startsWith("https://"))return h.handle(o);const S=this.tokenService.getToken();return null!==S&&!o.headers.has(this.headerName)&&(o=o.clone({headers:o.headers.set(this.headerName,S)})),h.handle(o)}}return u.\u0275fac=function(o){return new(o||u)(l.LFG(oi),l.LFG(wa))},u.\u0275prov=l.Yz7({token:u,factory:u.\u0275fac}),u})(),ha=(()=>{class u{constructor(o,h){this.backend=o,this.injector=h,this.chain=null}handle(o){if(null===this.chain){const h=this.injector.get(Kr,[]);this.chain=h.reduceRight((b,S)=>new br(b,S),this.backend)}return this.chain.handle(o)}}return u.\u0275fac=function(o){return new(o||u)(l.LFG(La),l.LFG(l.zs3))},u.\u0275prov=l.Yz7({token:u,factory:u.\u0275fac}),u})(),Pl=(()=>{class u{static disable(){return{ngModule:u,providers:[{provide:Ol,useClass:Rs}]}}static withOptions(o={}){return{ngModule:u,providers:[o.cookieName?{provide:Va,useValue:o.cookieName}:[],o.headerName?{provide:wa,useValue:o.headerName}:[]]}}}return u.\u0275fac=function(o){return new(o||u)},u.\u0275mod=l.oAB({type:u}),u.\u0275inj=l.cJS({providers:[Ol,{provide:Kr,useExisting:Ol,multi:!0},{provide:oi,useClass:da},{provide:Va,useValue:"XSRF-TOKEN"},{provide:wa,useValue:"X-XSRF-TOKEN"}]}),u})(),Wr=(()=>{class u{}return u.\u0275fac=function(o){return new(o||u)},u.\u0275mod=l.oAB({type:u}),u.\u0275inj=l.cJS({providers:[mt,{provide:is,useClass:ha},fl,{provide:La,useExisting:fl}],imports:[Pl.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),u})(),wr=(()=>{class u{constructor(o,h,b,S){this.formBuilder=o,this.sharedService=h,this.httpClient=b,this.auth=S,this.user=null,this.socialMediaData=[],this.facebookLink=new he.NI("",[he.kI.required]),this.twitterLink=new he.NI("",[he.kI.required]),this.youtubeLink=new he.NI("",[he.kI.required]),this.instagramLink=new he.NI("",[he.kI.required]),this.linkedinLink=new he.NI("",[he.kI.required]),this.pinterestLink=new he.NI("",[he.kI.required]),this.getBFData=[],S.user.subscribe(J=>this.user=J),this.typeValidationForm=this.formBuilder.group({facebookLink:this.facebookLink,twitterLink:this.twitterLink,youtubeLink:this.youtubeLink,instagramLink:this.instagramLink,linkedinLink:this.linkedinLink,pinterestLink:this.pinterestLink}),this.FormData=this.typeValidationForm.controls,this.sharedService.socialMediaData$.subscribe(J=>{this.socialMediaData=J})}get f(){return this.typeValidationForm.controls}ngOnInit(){this.sharedService.setSocialMediaData(this.FormData),this.getSocialForm()}getSocialForm(){this.sharedService.getSignatureData(),this.sharedService.getSignatureData().subscribe(h=>{if(this.getBFData=[],h.forEach((S,J)=>{S.payload.doc.data().uid==this.user?.uid&&this.getBFData.push({uid:S.payload.doc.uid,...S.payload.doc.data()})}),this.getBFData.length>0){var b=this.getBFData[0].socialMedia;this.typeValidationForm.patchValue({facebookLink:b.facebookLink,twitterLink:b.twitterLink,youtubeLink:b.youtubeLink,instagramLink:b.instagramLink,linkedinLink:b.linkedinLink,pinterestLink:b.pinterestLink})}})}}return u.\u0275fac=function(o){return new(o||u)(l.Y36(he.qu),l.Y36(or),l.Y36(mt),l.Y36(Ce.zQ))},u.\u0275cmp=l.Xpm({type:u,selectors:[["app-social-form"]],decls:47,vars:1,consts:[[1,"container"],[1,"row"],[1,"col-md-12","col-lg-6","col-xl-12"],[1,"card","overflow-hidden","shadow","p-3","mb-5","rounded"],[1,"card-body","pt-0"],[1,"col-md-12"],[1,"p-2"],[3,"formGroup"],[1,"mb-3","row","col-md-12"],[1,"wrapper","col-md-2"],[1,"social-icons","icon-circle","icon-zoom","list-unstyled","list-inline"],["src","assets/images/facebook.png","alt",""],[1,"col-md-8","mt-4"],["type","text","formControlName","facebookLink","placeholder","Social Media Link",1,"form-control"],["src","assets/images/twitter.png","alt",""],["type","text","formControlName","twitterLink","placeholder","Social Media Link",1,"form-control"],[1,"social-icons","icon-circle","icon-zoom","list-unstyled","list-inline",2,"width","35px","height","22px"],["src","assets/images/youtube.png","alt",""],["type","text","formControlName","youtubeLink","placeholder","Social Media Link",1,"form-control"],["src","assets/images/instagram.png","alt",""],["type","text","formControlName","instagramLink","placeholder","Social Media Link",1,"form-control"],["src","assets/images/linkedin.png","alt",""],["type","text","formControlName","linkedinLink","placeholder","Social Media Link",1,"form-control"],["src","assets/images/pinterest.png","alt",""],["type","text","formControlName","pinterestLink","placeholder","Social Media Link",1,"form-control"]],template:function(o,h){1&o&&(l.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"p")(7,"b"),l._uU(8,"Social Media Links"),l.qZA()()(),l.TgZ(9,"div",6)(10,"form",7)(11,"div",8)(12,"div",9)(13,"div",10),l._UZ(14,"img",11),l.qZA()(),l.TgZ(15,"div",12),l._UZ(16,"input",13),l.qZA()(),l.TgZ(17,"div",8)(18,"div",9)(19,"div",10),l._UZ(20,"img",14),l.qZA()(),l.TgZ(21,"div",12),l._UZ(22,"input",15),l.qZA()(),l.TgZ(23,"div",8)(24,"div",9)(25,"div",16),l._UZ(26,"img",17),l.qZA()(),l.TgZ(27,"div",12),l._UZ(28,"input",18),l.qZA()(),l.TgZ(29,"div",8)(30,"div",9)(31,"div",10),l._UZ(32,"img",19),l.qZA()(),l.TgZ(33,"div",12),l._UZ(34,"input",20),l.qZA()(),l.TgZ(35,"div",8)(36,"div",9)(37,"div",10),l._UZ(38,"img",21),l.qZA()(),l.TgZ(39,"div",12),l._UZ(40,"input",22),l.qZA()(),l.TgZ(41,"div",8)(42,"div",9)(43,"div",10),l._UZ(44,"img",23),l.qZA()(),l.TgZ(45,"div",12),l._UZ(46,"input",24),l.qZA()()()()()()()()()),2&o&&(l.xp6(10),l.Q6J("formGroup",h.typeValidationForm))},dependencies:[he._Y,he.Fj,he.JJ,he.JL,he.sg,he.u],styles:[".card[_ngcontent-%COMP%]{border:none;background-color:#f5ebeb;border-radius:24px}img[_ngcontent-%COMP%]{width:60px;height:30px}.wrapper[_ngcontent-%COMP%], .copyright[_ngcontent-%COMP%]{padding:20px;text-align:center}hr[_ngcontent-%COMP%]{margin:30px 20px;border-top:2px solid #1C1E26;border-bottom:2px solid #38404D}.list-unstyled[_ngcontent-%COMP%]{padding-left:0;list-style:none}.list-inline[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline-block;padding-right:5px;padding-left:5px;margin-bottom:10px}"]}),u})(),Fl=(()=>{class u{constructor(){this.name="!!!",this.viewMode="tab1",this.tabValue="general"}ngOnInit(){}tabChange(o){this.tabValue=o}}return u.\u0275fac=function(o){return new(o||u)},u.\u0275cmp=l.Xpm({type:u,selectors:[["app-form-nav-bar"]],decls:24,vars:12,consts:[[1,"row"],[1,"text-center","col-12","col-lg-12"],[1,"active",3,"click"],[3,"click"],[1,"col-12","col-lg-12"],[3,"hidden"]],template:function(o,h){1&o&&(l.TgZ(0,"div",0)(1,"ul",1)(2,"li")(3,"a",2),l.NdJ("click",function(){return h.tabChange("general")}),l._uU(4,"General"),l.qZA()(),l.TgZ(5,"li")(6,"a",3),l.NdJ("click",function(){return h.tabChange("image")}),l._uU(7,"Image"),l.qZA()(),l.TgZ(8,"li")(9,"a",3),l.NdJ("click",function(){return h.tabChange("social")}),l._uU(10,"Social"),l.qZA()(),l.TgZ(11,"li")(12,"a",3),l.NdJ("click",function(){return h.tabChange("design")}),l._uU(13,"Design"),l.qZA()()()(),l.TgZ(14,"div",0)(15,"div",4)(16,"div",5),l._UZ(17,"app-basic-form"),l.qZA(),l.TgZ(18,"div",5),l._UZ(19,"app-image-form"),l.qZA(),l.TgZ(20,"div",5),l._UZ(21,"app-social-form"),l.qZA(),l.TgZ(22,"div",5),l._UZ(23,"app-design"),l.qZA()()()),2&o&&(l.xp6(3),l.ekj("color","general"===h.tabValue),l.xp6(3),l.ekj("color","image"===h.tabValue),l.xp6(3),l.ekj("color","social"===h.tabValue),l.xp6(3),l.ekj("color","design"===h.tabValue),l.xp6(4),l.Q6J("hidden","general"!==h.tabValue),l.xp6(2),l.Q6J("hidden","image"!==h.tabValue),l.xp6(2),l.Q6J("hidden","social"!==h.tabValue),l.xp6(2),l.Q6J("hidden","design"!==h.tabValue))},dependencies:[Ms,Ka,Ja,wr],styles:[".main[_ngcontent-%COMP%]{background-color:#f0f8ff}.color[_ngcontent-%COMP%]{color:#dd2022}ul[_ngcontent-%COMP%]{margin:6;padding:0}ul[_ngcontent-%COMP%], li[_ngcontent-%COMP%]{display:inline-block}li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;color:#0c0909;padding:10px 25px;text-decoration:none;border-radius:40px}li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#cf8788;color:#fff}.icon[_ngcontent-%COMP%]{margin-right:10px}"]}),u})();function Ir(u,f){1&u&&(l.TgZ(0,"span",12),l._uU(1,"|"),l.qZA())}function en(u,f){if(1&u&&(l.TgZ(0,"span")(1,"label")(2,"span",12),l._uU(3,"M"),l.qZA(),l._uU(4),l.qZA(),l._UZ(5,"br"),l.qZA()),2&u){const o=l.oxw();l.xp6(4),l.hij(" : ",o.sharedData.mobileNo.value,"")}}function Ds(u,f){if(1&u&&(l.TgZ(0,"span")(1,"label")(2,"span",12),l._uU(3,"C"),l.qZA(),l._uU(4),l.qZA(),l._UZ(5,"br"),l.qZA()),2&u){const o=l.oxw();l.xp6(4),l.hij(" : ",o.sharedData.company.value,"")}}function Xa(u,f){if(1&u&&(l.TgZ(0,"span")(1,"label")(2,"span",12),l._uU(3,"E"),l.qZA(),l._uU(4),l.qZA(),l._UZ(5,"br"),l.qZA()),2&u){const o=l.oxw();l.xp6(4),l.hij(" : ",o.sharedData.email.value,"")}}function Os(u,f){if(1&u&&(l.TgZ(0,"span")(1,"label")(2,"span",12),l._uU(3,"A"),l.qZA(),l._uU(4),l.qZA()()),2&u){const o=l.oxw();l.xp6(4),l.hij(" : ",o.sharedData.address.value,"")}}function so(u,f){if(1&u&&(l.TgZ(0,"div",31),l._uU(1),l.qZA()),2&u){const o=l.oxw();l.Gre("alert alert-",o.alertColor,""),l.xp6(1),l.hij(" ",o.showSuccessMessage," ")}}let nu=(()=>{class u{constructor(o,h,b,S){this.sharedService=o,this.auth=h,this._router=b,this.sanitizer=S,this.imageData=[],this.contactData=[],this.user=null,this.showSuccess=!1,this.showSuccessMessage="",this.alertColor="primary",h.user.subscribe(J=>this.user=J)}ngOnInit(){this.getBasicData(),this.getImageData(),this.getSocialMediaData(),this.getDesignData()}getBasicData(){this.sharedService.basicData$.subscribe(o=>{this.sharedData=o})}getImageData(){this.sharedService.imageData$.subscribe(o=>{this.imageData=o})}getSocialMediaData(){this.sharedService.socialMediaData$.subscribe(o=>{this.socialMediaData=o})}getDesignData(){this.sharedService.designData$.subscribe(o=>{this.designData=o})}onSubmit(){var o=this;return(0,x.Z)(function*(){if(o.user?.uid){o.data={uid:o.user?.uid,basicForm:{fname:o.sharedData.fname.value,lname:o.sharedData.lname.value,email:o.sharedData.email.value,mobileNo:o.sharedData.mobileNo.value,company:o.sharedData.company.value,position:o.sharedData.position.value,department:o.sharedData.department.value,address:o.sharedData.address.value,contacts:o.sharedData.contacts.value},imageForm:{profileImage:o.imageData[0].profileImage.value},socialMedia:{facebookLink:o.socialMediaData.facebookLink.value,twitterLink:o.socialMediaData.twitterLink.value,youtubeLink:o.socialMediaData.youtubeLink.value,instagramLink:o.socialMediaData.instagramLink.value,linkedinLink:o.socialMediaData.linkedinLink.value,pinterestLink:o.socialMediaData.pinterestLink.value},designForm:{fontFamily:o.designData.fontFamily.value,fontSize:o.designData.fontSize.value,templateColor:o.designData.templateColor.value,backgroundColor:o.designData.backgroundColor.value}};try{yield o.sharedService.createSign(o.data),o.showSuccess=!0,o.showSuccessMessage="Success! New signature has been saved.",o.alertColor="success"}catch{o.showSuccessMessage="An unexpected error occurred. Please try again later",o.alertColor="danger "}}else o._router.navigateByUrl("/login")})()}copyToClip(){let o;function h(b){b.clipboardData.setData("text/html",o),b.clipboardData.setData("text/plain",o),b.preventDefault()}o=document.getElementById("email-signature"),console.log(o),alert(o),o=o.innerHTML,console.log(o),document.addEventListener("copy",h),document.execCommand("copy"),document.removeEventListener("copy",h),this.showSuccess=!0,this.showSuccessMessage="Success!  Signature has been copied.",this.alertColor="success"}}return u.\u0275fac=function(o){return new(o||u)(l.Y36(or),l.Y36(Ce.zQ),l.Y36(K.F0),l.Y36(Ns.H7))},u.\u0275cmp=l.Xpm({type:u,selectors:[["app-signature"]],decls:70,vars:31,consts:[[1,"container"],[1,"card","shadow","mb-5","rounded"],[1,"card-header"],[1,"header-text"],["id","email-signature",1,"card-body","m-3","p-3"],["elementContentToCopy",""],[1,"p-2"],[1,"main"],[2,"width","100%","display","flex"],[2,"width","30%"],["alt","",2,"width","70%","margin-top","20px","margin-left","20px",3,"src"],[2,"width","60%"],[2,"font-weight","bold"],["style"," font-weight: bold;",4,"ngIf"],[4,"ngIf"],[1,"col-md-12",2,"display","flex","margin-top","10px","margin-left","20px"],[1,"wrapper","col-md-2"],[1,"social-icons","icon-circle","icon-zoom","list-unstyled","list-inline",2,"width","20px","height","20px"],["target","_blank",3,"href"],["src","https://cdn0.iconfinder.com/data/icons/social-messaging-ui-color-shapes-2-free/128/social-facebook-2019-circle-512.png","alt","",2,"width","20px","height","20px"],["src","https://png.pngtree.com/png-vector/20221018/ourmid/pngtree-twitter-social-media-round-icon-png-image_6315985.png","alt","",2,"width","20px","height","20px"],[1,"social-icons","icon-circle","icon-zoom","list-unstyled","list-inline",2,"width","27px","height","22px"],["src","https://www.freepnglogos.com/uploads/youtube-logo-icon-transparent---32.png","alt","",2,"width","27px","height","22px"],["src","https://www.freepnglogos.com/uploads/logo-ig-png/logo-ig-instagram-new-logo-vector-download-13.png","alt","",2,"width","20px","height","20px"],["src","https://www.freepnglogos.com/uploads/linkedin-basic-round-social-logo-png-13.png","alt","",2,"width","20px","height","20px"],["src","https://www.freepnglogos.com/uploads/pinterest-logo-p-png-0.png","alt","",2,"width","20px","height","20px"],[1,"row","m-2"],[1,"col-md-12"],[1,"btn",3,"click"],["type","submit",1,"btn","float-end",3,"click"],["role","alert","style","position: fixed; bottom: 40px; right: 40px;",3,"class",4,"ngIf"],["role","alert",2,"position","fixed","bottom","40px","right","40px"]],template:function(o,h){1&o&&(l.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h5",3),l._uU(4,"Signature Preview"),l.qZA()(),l.TgZ(5,"div",4,5)(7,"div",6)(8,"div",7)(9,"div",8)(10,"div",9),l._UZ(11,"img",10),l.qZA(),l.TgZ(12,"div",11)(13,"span")(14,"label",12),l._uU(15),l.qZA(),l._uU(16," \xa0 "),l.TgZ(17,"label",12),l._uU(18),l.qZA(),l._UZ(19,"br"),l.TgZ(20,"label"),l._uU(21),l.qZA(),l._uU(22," \xa0 "),l.YNc(23,Ir,2,0,"span",13),l._uU(24," \xa0 "),l.TgZ(25,"label"),l._uU(26),l.qZA(),l._UZ(27,"br"),l.YNc(28,en,6,1,"span",14),l.YNc(29,Ds,6,1,"span",14),l.YNc(30,Xa,6,1,"span",14),l.YNc(31,Os,5,1,"span",14),l.qZA()()()(),l.TgZ(32,"div",15)(33,"div")(34,"div",16)(35,"div",17)(36,"a",18),l._UZ(37,"img",19),l.qZA()()()(),l.TgZ(38,"div")(39,"div",16)(40,"div",17)(41,"a",18),l._UZ(42,"img",20),l.qZA()()()(),l.TgZ(43,"div")(44,"div",16)(45,"div",21)(46,"a",18),l._UZ(47,"img",22),l.qZA()()()(),l.TgZ(48,"div")(49,"div",16)(50,"div",17)(51,"a",18),l._UZ(52,"img",23),l.qZA()()()(),l.TgZ(53,"div")(54,"div",16)(55,"div",17)(56,"a",18),l._UZ(57,"img",24),l.qZA()()()(),l.TgZ(58,"div")(59,"div",16)(60,"div",17)(61,"a",18),l._UZ(62,"img",25),l.qZA()()()()()()(),l.TgZ(63,"div",26)(64,"div",27)(65,"button",28),l.NdJ("click",function(){return h.copyToClip()}),l._uU(66," Copy Signature "),l.qZA(),l.TgZ(67,"button",29),l.NdJ("click",function(){return h.onSubmit()}),l._uU(68," Save Signature "),l.qZA()()(),l.YNc(69,so,2,4,"div",30),l.qZA()()),2&o&&(l.xp6(7),l.Udp("background",h.designData.backgroundColor.value),l.xp6(4),l.Q6J("src",h.imageData[0].profileImage.value,l.LSH),l.xp6(2),l.Udp("font-family",h.designData.fontFamily.value)("font-size",h.designData.fontSize.value,"px")("color",h.designData.templateColor.value),l.xp6(2),l.hij(" ",h.sharedData.fname.value,""),l.xp6(3),l.Oqu(h.sharedData.lname.value),l.xp6(3),l.Oqu(h.sharedData.position.value),l.xp6(2),l.Q6J("ngIf",h.sharedData.department.value.length>0),l.xp6(3),l.Oqu(h.sharedData.department.value),l.xp6(2),l.Q6J("ngIf",h.sharedData.mobileNo.value.length>0),l.xp6(1),l.Q6J("ngIf",h.sharedData.company.value.length>0),l.xp6(1),l.Q6J("ngIf",h.sharedData.email.value.length>0),l.xp6(1),l.Q6J("ngIf",h.sharedData.address.value.length>0),l.xp6(1),l.Udp("font-family",h.designData.fontFamily.value)("font-size",h.designData.fontSize.value,"px")("color",h.designData.templateColor.value),l.xp6(4),l.MGl("href","",h.socialMediaData.facebookLink.value," ",l.LSH),l.xp6(5),l.MGl("href","",h.socialMediaData.twitterLink.value," ",l.LSH),l.xp6(5),l.MGl("href","",h.socialMediaData.youtubeLink.value," ",l.LSH),l.xp6(5),l.MGl("href","",h.socialMediaData.instagramLink.value," ",l.LSH),l.xp6(5),l.MGl("href","",h.socialMediaData.linkedinLink.value," ",l.LSH),l.xp6(5),l.MGl("href","",h.socialMediaData.pinterestLink.value," ",l.LSH),l.xp6(8),l.Q6J("ngIf",h.showSuccess))},dependencies:[v.O5],styles:[".card[_ngcontent-%COMP%]{border:none;background-color:#f5ebeb;border-radius:24px}.login-header[_ngcontent-%COMP%]{background-color:#e4d0d0}button[_ngcontent-%COMP%]{background-color:#d5b4b4}.top[_ngcontent-%COMP%]{display:flex}.image[_ngcontent-%COMP%]{width:20%;height:20%}.icon[_ngcontent-%COMP%]{display:inline-block;padding-right:5px;padding-left:5px;margin-bottom:10px}.card-header[_ngcontent-%COMP%]{height:60px;background-color:#867070}.header-text[_ngcontent-%COMP%]{padding-top:10px}.social-icons[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{font-size:1.4em}.social-icons[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{width:50px;height:50px;line-height:50px;text-align:center;color:#fff;color:#fffc;transition:all .3s ease-in-out}.social-icons.icon-circle[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{border-radius:50%}.social-icons.icon-rounded[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{border-radius:5px}.social-icons.icon-flat[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{border-radius:0}.social-icons[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]:hover, .social-icons[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]:active{color:#fff;box-shadow:1px 1px 3px #333}.social-icons.icon-zoom[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]:hover, .social-icons.icon-zoom[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]:active{transform:scale(1.1)}.social-icons.icon-rotate[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]:hover, .social-icons.icon-rotate[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]:active{transform:scale(1.1) rotate(360deg)}.social-icons[_ngcontent-%COMP%]   .fa-adn[_ngcontent-%COMP%]{background-color:#504e54}.social-icons[_ngcontent-%COMP%]   .fa-apple[_ngcontent-%COMP%]{background-color:#aeb5c5}.social-icons[_ngcontent-%COMP%]   .fa-android[_ngcontent-%COMP%]{background-color:#a5c63b}.social-icons[_ngcontent-%COMP%]   .fa-bitbucket[_ngcontent-%COMP%], .social-icons[_ngcontent-%COMP%]   .fa-bitbucket-square[_ngcontent-%COMP%]{background-color:#036}.social-icons[_ngcontent-%COMP%]   .fa-bitcoin[_ngcontent-%COMP%], .social-icons[_ngcontent-%COMP%]   .fa-btc[_ngcontent-%COMP%]{background-color:#f7931a}.social-icons[_ngcontent-%COMP%]   .fa-css3[_ngcontent-%COMP%]{background-color:#1572b7}.social-icons[_ngcontent-%COMP%]   .fa-dribbble[_ngcontent-%COMP%]{background-color:#f46899}.social-icons[_ngcontent-%COMP%]   .fa-dropbox[_ngcontent-%COMP%]{background-color:#018bd3}.social-icons[_ngcontent-%COMP%]   .fa-facebook[_ngcontent-%COMP%], .social-icons[_ngcontent-%COMP%]   .fa-facebook-square[_ngcontent-%COMP%]{background-color:#3c599f}.social-icons[_ngcontent-%COMP%]   .fa-flickr[_ngcontent-%COMP%]{background-color:#ff0084}.social-icons[_ngcontent-%COMP%]   .fa-foursquare[_ngcontent-%COMP%]{background-color:#0086be}.social-icons[_ngcontent-%COMP%]   .fa-github[_ngcontent-%COMP%], .social-icons[_ngcontent-%COMP%]   .fa-github-alt[_ngcontent-%COMP%], .social-icons[_ngcontent-%COMP%]   .fa-github-square[_ngcontent-%COMP%]{background-color:#070709}.social-icons[_ngcontent-%COMP%]   .fa-google-plus[_ngcontent-%COMP%], .social-icons[_ngcontent-%COMP%]   .fa-google-plus-square[_ngcontent-%COMP%]{background-color:#cf3d2e}.social-icons[_ngcontent-%COMP%]   .fa-html5[_ngcontent-%COMP%]{background-color:#e54d26}.social-icons[_ngcontent-%COMP%]   .fa-instagram[_ngcontent-%COMP%]{background-color:#a1755c}.social-icons[_ngcontent-%COMP%]   .fa-linkedin[_ngcontent-%COMP%], .social-icons[_ngcontent-%COMP%]   .fa-linkedin-square[_ngcontent-%COMP%]{background-color:#0085ae}.social-icons[_ngcontent-%COMP%]   .fa-linux[_ngcontent-%COMP%]{background-color:#fbc002;color:#333}.social-icons[_ngcontent-%COMP%]   .fa-maxcdn[_ngcontent-%COMP%]{background-color:#f6ae1c}.social-icons[_ngcontent-%COMP%]   .fa-pagelines[_ngcontent-%COMP%]{background-color:#241e20;color:#3984ea}.social-icons[_ngcontent-%COMP%]   .fa-pinterest[_ngcontent-%COMP%], .social-icons[_ngcontent-%COMP%]   .fa-pinterest-square[_ngcontent-%COMP%]{background-color:#cc2127}.social-icons[_ngcontent-%COMP%]   .fa-renren[_ngcontent-%COMP%]{background-color:#025dac}.social-icons[_ngcontent-%COMP%]   .fa-skype[_ngcontent-%COMP%]{background-color:#01aef2}.social-icons[_ngcontent-%COMP%]   .fa-stack-exchange[_ngcontent-%COMP%]{background-color:#245590}.social-icons[_ngcontent-%COMP%]   .fa-stack-overflow[_ngcontent-%COMP%]{background-color:#ff7300}.social-icons[_ngcontent-%COMP%]   .fa-trello[_ngcontent-%COMP%]{background-color:#265a7f}.social-icons[_ngcontent-%COMP%]   .fa-tumblr[_ngcontent-%COMP%], .social-icons[_ngcontent-%COMP%]   .fa-tumblr-square[_ngcontent-%COMP%]{background-color:#314e6c}.social-icons[_ngcontent-%COMP%]   .fa-twitter[_ngcontent-%COMP%], .social-icons[_ngcontent-%COMP%]   .fa-twitter-square[_ngcontent-%COMP%]{background-color:#32ccfe}.social-icons[_ngcontent-%COMP%]   .fa-vimeo-square[_ngcontent-%COMP%]{background-color:#229acc}.social-icons[_ngcontent-%COMP%]   .fa-vk[_ngcontent-%COMP%]{background-color:#375474}.social-icons[_ngcontent-%COMP%]   .fa-weibo[_ngcontent-%COMP%]{background-color:#d72b2b}.social-icons[_ngcontent-%COMP%]   .fa-windows[_ngcontent-%COMP%]{background-color:#12b6f3}.social-icons[_ngcontent-%COMP%]   .fa-xing[_ngcontent-%COMP%], .social-icons[_ngcontent-%COMP%]   .fa-xing-square[_ngcontent-%COMP%]{background-color:#00555c}.social-icons[_ngcontent-%COMP%]   .fa-youtube[_ngcontent-%COMP%], .social-icons[_ngcontent-%COMP%]   .fa-youtube-play[_ngcontent-%COMP%], .social-icons[_ngcontent-%COMP%]   .fa-youtube-square[_ngcontent-%COMP%]{background-color:#c52f30}"]}),u})(),pl=(()=>{class u{constructor(o,h,b){this.auth=o,this.afAuth=h,this._router=b}ngOnInit(){}logout(o){var h=this;return(0,x.Z)(function*(){o.preventDefault(),yield h.afAuth.signOut(),h._router.navigateByUrl("/login")})()}}return u.\u0275fac=function(o){return new(o||u)(l.Y36(Ee.e),l.Y36(Ce.zQ),l.Y36(K.F0))},u.\u0275cmp=l.Xpm({type:u,selectors:[["app-home"]],decls:14,vars:0,consts:[[1,"main","pt-4","pb-3"],[1,"container"],[1,"row","m-3"],[1,"col-8","col-lg-10","text-center"],[1,"col-4","col-lg-2","text-end"],[1,"btn","btn-block",3,"click"],[1,"row"],[1,"col-12","col-lg-6","mt-4"]],template:function(o,h){1&o&&(l.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h4"),l._uU(5,"Email Signature"),l.qZA()(),l.TgZ(6,"div",4)(7,"button",5),l.NdJ("click",function(S){return h.logout(S)}),l._uU(8,"Log Out"),l.qZA()()(),l.TgZ(9,"div",6)(10,"div",7),l._UZ(11,"app-form-nav-bar"),l.qZA(),l.TgZ(12,"div",7),l._UZ(13,"app-signature"),l.qZA()()()())},dependencies:[Fl,nu],styles:[".card[_ngcontent-%COMP%]{border:none;background-color:#f5ebeb;border-radius:24px}.main[_ngcontent-%COMP%]{background-color:#e4d0d0}button[_ngcontent-%COMP%]{background-color:#d5b4b4}a[_ngcontent-%COMP%]{color:#867070}"]}),u})();const dr=[{path:"",redirectTo:"email-signature",pathMatch:"full"},{path:"",component:pl},{path:"email-signature",component:pl,data:{authOnly:!0}},{path:"General-Form",component:Ms},{path:"Image-Form",component:Ka},{path:"Social-Form",component:wr},{path:"Design-Form",component:Ja}];let gl=(()=>{class u{}return u.\u0275fac=function(o){return new(o||u)},u.\u0275mod=l.oAB({type:u}),u.\u0275inj=l.cJS({imports:[K.Bz.forChild(dr),K.Bz]}),u})();var Ju=B(515),Vr=B(7579),Ua=B(8421),Su=B(5577),Qu=B(1144),js=B(576),yo=B(3268);const lt=["addListener","removeListener"],ru=["addEventListener","removeEventListener"],Jr=["on","off"];function qi(u,f,o,h){if((0,js.m)(o)&&(h=o,o=void 0),h)return qi(u,f,o).pipe((0,yo.Z)(h));const[b,S]=function Ni(u){return(0,js.m)(u.addEventListener)&&(0,js.m)(u.removeEventListener)}(u)?ru.map(J=>ae=>u[J](f,ae,o)):function Ba(u){return(0,js.m)(u.addListener)&&(0,js.m)(u.removeListener)}(u)?lt.map(Zo(u,f)):function jc(u){return(0,js.m)(u.on)&&(0,js.m)(u.off)}(u)?Jr.map(Zo(u,f)):[];if(!b&&(0,Qu.z)(u))return(0,Su.z)(J=>qi(J,f,o))((0,Ua.Xf)(u));if(!b)throw new TypeError("Invalid event target");return new ce.y(J=>{const ae=(...ge)=>J.next(1<ge.length?ge:ge[0]);return b(ae),()=>S(ae)})}function Zo(u,f){return o=>h=>u[o](f,h)}var Gs=B(5963);const{isArray:Ll}=Array;function Da(u){return 1===u.length&&Ll(u[0])?u[0]:u}B(9841);var A=B(5032);new ce.y(A.Z);var U=B(3269);function Q(...u){const f=(0,U.jO)(u),o=Da(u);return o.length?new ce.y(h=>{let b=o.map(()=>[]),S=o.map(()=>!1);h.add(()=>{b=S=null});for(let J=0;!h.closed&&J<o.length;J++)(0,Ua.Xf)(o[J]).subscribe((0,Be.x)(h,ae=>{if(b[J].push(ae),b.every(ge=>ge.length)){const ge=b.map(Re=>Re.shift());h.next(f?f(...ge):ge),b.some((Re,ht)=>!Re.length&&S[ht])&&h.complete()}},()=>{S[J]=!0,!b[J].length&&h.complete()}));return()=>{b=S=null}}):Ju.E}B(6451);var ye=B(7272);function Bt(u){return(0,Ue.e)((f,o)=>{(0,Ua.Xf)(u).subscribe((0,Be.x)(o,()=>o.complete(),A.Z)),!o.closed&&f.subscribe(o)})}var Pn=B(5698),xi=(B(8675),B(1884),B(8505)),Oo=B(4671);function Ca(...u){const f=(0,U.jO)(u);return(0,Ue.e)((o,h)=>{const b=u.length,S=new Array(b);let J=u.map(()=>!1),ae=!1;for(let ge=0;ge<b;ge++)(0,Ua.Xf)(u[ge]).subscribe((0,Be.x)(h,Re=>{S[ge]=Re,!ae&&!J[ge]&&(J[ge]=!0,(ae=J.every(Oo.y))&&(J=null))},A.Z));o.subscribe((0,Be.x)(h,ge=>{if(ae){const Re=[ge,...S];h.next(f?f(...Re):Re)}}))})}B(1005),B(3099);const vo=["*"],Bl=["dialog"];function jl(u){return null!=u}function Zs(u){return(u||document.body).getBoundingClientRect()}typeof Element<"u"&&!Element.prototype.closest&&(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(u){let f=this;if(!document.documentElement.contains(f))return null;do{if(f.matches(u))return f;f=f.parentElement||f.parentNode}while(null!==f&&1===f.nodeType);return null});const Gh={animation:!0,transitionTimerDelayMs:5};let Ws=(()=>{class u{constructor(){this.animation=Gh.animation}}return u.\u0275fac=function(o){return new(o||u)},u.\u0275prov=(0,l.Yz7)({factory:function(){return new u},token:u,providedIn:"root"}),u})();const ja=()=>{},{transitionTimerDelayMs:Bd}=Gh,Pu=new Map,_s=(u,f,o,h)=>{let b=h.context||{};const S=Pu.get(f);if(S)switch(h.runningTransition){case"continue":return Ju.E;case"stop":u.run(()=>S.transition$.complete()),b=Object.assign(S.context,b),Pu.delete(f)}const J=o(f,h.animation,b)||ja;if(!h.animation||"none"===window.getComputedStyle(f).transitionProperty)return u.run(()=>J()),(0,de.of)(void 0).pipe(function Ud(u){return f=>new ce.y(o=>f.subscribe(J=>u.run(()=>o.next(J)),J=>u.run(()=>o.error(J)),()=>u.run(()=>o.complete())))}(u));const ae=new Vr.x,ge=new Vr.x,Re=ae.pipe(function ft(...u){return f=>(0,ye.z)(f,(0,de.of)(...u))}(!0));Pu.set(f,{transition$:ae,complete:()=>{ge.next(),ge.complete()},context:b});const ht=function zh(u){const{transitionDelay:f,transitionDuration:o}=window.getComputedStyle(u);return 1e3*(parseFloat(f)+parseFloat(o))}(f);return u.runOutsideAngular(()=>{const Yt=qi(f,"transitionend").pipe(Bt(Re),(0,rs.h)(({target:Ut})=>Ut===f));(function el(...u){return 1===(u=Da(u)).length?(0,Ua.Xf)(u[0]):new ce.y(function Ps(u){return f=>{let o=[];for(let h=0;o&&!f.closed&&h<u.length;h++)o.push((0,Ua.Xf)(u[h]).subscribe((0,Be.x)(f,b=>{if(o){for(let S=0;S<o.length;S++)S!==h&&o[S].unsubscribe();o=null}f.next(b)})))}}(u))})((0,Gs.H)(ht+Bd).pipe(Bt(Re)),Yt,ge).pipe(Bt(Re)).subscribe(()=>{Pu.delete(f),u.run(()=>{J(),ae.next(),ae.complete()})})}),ae.asObservable()};let al=(()=>{class u{}return u.\u0275fac=function(o){return new(o||u)},u.\u0275mod=l.oAB({type:u}),u.\u0275inj=l.cJS({imports:[v.ez]}),u})(),du=(()=>{class u{}return u.\u0275fac=function(o){return new(o||u)},u.\u0275mod=l.oAB({type:u}),u.\u0275inj=l.cJS({imports:[v.ez]}),u})(),wi=(()=>{class u{}return u.\u0275fac=function(o){return new(o||u)},u.\u0275mod=l.oAB({type:u}),u.\u0275inj=l.cJS({}),u})(),_=(()=>{class u{}return u.\u0275fac=function(o){return new(o||u)},u.\u0275mod=l.oAB({type:u}),u.\u0275inj=l.cJS({imports:[v.ez]}),u})(),te=(()=>{class u{}return u.\u0275fac=function(o){return new(o||u)},u.\u0275mod=l.oAB({type:u}),u.\u0275inj=l.cJS({}),u})();var Er=(()=>{return(u=Er||(Er={}))[u.Tab=9]="Tab",u[u.Enter=13]="Enter",u[u.Escape=27]="Escape",u[u.Space=32]="Space",u[u.PageUp=33]="PageUp",u[u.PageDown=34]="PageDown",u[u.End=35]="End",u[u.Home=36]="Home",u[u.ArrowLeft=37]="ArrowLeft",u[u.ArrowUp=38]="ArrowUp",u[u.ArrowRight=39]="ArrowRight",u[u.ArrowDown=40]="ArrowDown",Er;var u})();typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const Jp=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function Jf(u){const f=Array.from(u.querySelectorAll(Jp)).filter(o=>-1!==o.tabIndex);return[f[0],f[f.length-1]]}new class Jg{getAllStyles(f){return window.getComputedStyle(f)}getStyle(f,o){return this.getAllStyles(f)[o]}isStaticPositioned(f){return"static"===(this.getStyle(f,"position")||"static")}offsetParent(f){let o=f.offsetParent||document.documentElement;for(;o&&o!==document.documentElement&&this.isStaticPositioned(o);)o=o.offsetParent;return o||document.documentElement}position(f,o=!0){let h,b={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(f,"position"))h=f.getBoundingClientRect(),h={top:h.top,bottom:h.bottom,left:h.left,right:h.right,height:h.height,width:h.width};else{const S=this.offsetParent(f);h=this.offset(f,!1),S!==document.documentElement&&(b=this.offset(S,!1)),b.top+=S.clientTop,b.left+=S.clientLeft}return h.top-=b.top,h.bottom-=b.top,h.left-=b.left,h.right-=b.left,o&&(h.top=Math.round(h.top),h.bottom=Math.round(h.bottom),h.left=Math.round(h.left),h.right=Math.round(h.right)),h}offset(f,o=!0){const h=f.getBoundingClientRect(),b_top=window.pageYOffset-document.documentElement.clientTop,b_left=window.pageXOffset-document.documentElement.clientLeft;let S={height:h.height||f.offsetHeight,width:h.width||f.offsetWidth,top:h.top+b_top,bottom:h.bottom+b_top,left:h.left+b_left,right:h.right+b_left};return o&&(S.height=Math.round(S.height),S.width=Math.round(S.width),S.top=Math.round(S.top),S.bottom=Math.round(S.bottom),S.left=Math.round(S.left),S.right=Math.round(S.right)),S}positionElements(f,o,h,b){const[S="top",J="center"]=h.split("-"),ae=b?this.offset(f,!1):this.position(f,!1),ge=this.getAllStyles(o),Re=parseFloat(ge.marginTop),ht=parseFloat(ge.marginBottom),Yt=parseFloat(ge.marginLeft),xt=parseFloat(ge.marginRight);let Ut=0,an=0;switch(S){case"top":Ut=ae.top-(o.offsetHeight+Re+ht);break;case"bottom":Ut=ae.top+ae.height;break;case"left":an=ae.left-(o.offsetWidth+Yt+xt);break;case"right":an=ae.left+ae.width}switch(J){case"top":Ut=ae.top;break;case"bottom":Ut=ae.top+ae.height-o.offsetHeight;break;case"left":an=ae.left;break;case"right":an=ae.left+ae.width-o.offsetWidth;break;case"center":"top"===S||"bottom"===S?an=ae.left+ae.width/2-o.offsetWidth/2:Ut=ae.top+ae.height/2-o.offsetHeight/2}o.style.transform=`translate(${Math.round(an)}px, ${Math.round(Ut)}px)`;const Fn=o.getBoundingClientRect(),ar=document.documentElement,Ar=window.innerHeight||ar.clientHeight,zr=window.innerWidth||ar.clientWidth;return Fn.left>=0&&Fn.top>=0&&Fn.right<=zr&&Fn.bottom<=Ar}},new Date(1882,10,12),new Date(2174,10,25);let bu=(()=>{class u{}return u.\u0275fac=function(o){return new(o||u)},u.\u0275mod=l.oAB({type:u}),u.\u0275inj=l.cJS({imports:[v.ez,he.u5]}),u})(),Ys=(()=>{class u{}return u.\u0275fac=function(o){return new(o||u)},u.\u0275mod=l.oAB({type:u}),u.\u0275inj=l.cJS({}),u})(),sg=(()=>{class u{constructor(o){this._ngbConfig=o,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(o){this._animation=o}}return u.\u0275fac=function(o){return new(o||u)(l.LFG(Ws))},u.\u0275prov=(0,l.Yz7)({factory:function(){return new u((0,l.LFG)(Ws))},token:u,providedIn:"root"}),u})();class Tc{constructor(f,o,h){this.nodes=f,this.viewRef=o,this.componentRef=h}}const am=()=>{};let ag=(()=>{class u{constructor(o){this._document=o}compensate(){const o=this._getWidth();return this._isPresent(o)?this._adjustBody(o):am}_adjustBody(o){const h=this._document.body,b=h.style.paddingRight,S=parseFloat(window.getComputedStyle(h)["padding-right"]);return h.style["padding-right"]=`${S+o}px`,()=>h.style["padding-right"]=b}_isPresent(o){const h=this._document.body.getBoundingClientRect();return window.innerWidth-(h.left+h.right)>=o-.1*o}_getWidth(){const o=this._document.createElement("div");o.className="modal-scrollbar-measure";const h=this._document.body;h.appendChild(o);const b=o.getBoundingClientRect().width-o.clientWidth;return h.removeChild(o),b}}return u.\u0275fac=function(o){return new(o||u)(l.LFG(v.K0))},u.\u0275prov=(0,l.Yz7)({factory:function(){return new u((0,l.LFG)(v.K0))},token:u,providedIn:"root"}),u})(),rf=(()=>{class u{constructor(o,h){this._el=o,this._zone=h}ngOnInit(){this._zone.onStable.asObservable().pipe((0,Pn.q)(1)).subscribe(()=>{_s(this._zone,this._el.nativeElement,(o,h)=>{h&&Zs(o),o.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return _s(this._zone,this._el.nativeElement,({classList:o})=>o.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return u.\u0275fac=function(o){return new(o||u)(l.Y36(l.SBq),l.Y36(l.R0b))},u.\u0275cmp=l.Xpm({type:u,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:6,hostBindings:function(o,h){2&o&&(l.Tol("modal-backdrop"+(h.backdropClass?" "+h.backdropClass:"")),l.ekj("show",!h.animation)("fade",h.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(o,h){},encapsulation:2}),u})();class lg{close(f){}dismiss(f){}}class yr{constructor(f,o,h,b){this._windowCmptRef=f,this._contentRef=o,this._backdropCmptRef=h,this._beforeDismiss=b,this._closed=new Vr.x,this._dismissed=new Vr.x,this._hidden=new Vr.x,f.instance.dismissEvent.subscribe(S=>{this.dismiss(S)}),this.result=new Promise((S,J)=>{this._resolve=S,this._reject=J}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Bt(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Bt(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(f){this._windowCmptRef&&(this._closed.next(f),this._resolve(f),this._removeModalElements())}_dismiss(f){this._dismissed.next(f),this._reject(f),this._removeModalElements()}dismiss(f){if(this._windowCmptRef)if(this._beforeDismiss){const o=this._beforeDismiss();o&&o.then?o.then(h=>{!1!==h&&this._dismiss(f)},()=>{}):!1!==o&&this._dismiss(f)}else this._dismiss(f)}_removeModalElements(){const f=this._windowCmptRef.instance.hide(),o=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,de.of)(void 0);f.subscribe(()=>{const{nativeElement:h}=this._windowCmptRef.location;h.parentNode.removeChild(h),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),o.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:h}=this._backdropCmptRef.location;h.parentNode.removeChild(h),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Q(f,o).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Hu=(()=>{return(u=Hu||(Hu={}))[u.BACKDROP_CLICK=0]="BACKDROP_CLICK",u[u.ESC=1]="ESC",Hu;var u})();let sf=(()=>{class u{constructor(o,h,b){this._document=o,this._elRef=h,this._zone=b,this._closed$=new Vr.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new l.vpe,this.shown=new Vr.x,this.hidden=new Vr.x}dismiss(o){this.dismissEvent.emit(o)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,Pn.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:o}=this._elRef,h={animation:this.animation,runningTransition:"stop"},J=Q(_s(this._zone,o,()=>o.classList.remove("show"),h),_s(this._zone,this._dialogEl.nativeElement,()=>{},h));return J.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),J}_show(){const o={animation:this.animation,runningTransition:"continue"};Q(_s(this._zone,this._elRef.nativeElement,(S,J)=>{J&&Zs(S),S.classList.add("show")},o),_s(this._zone,this._dialogEl.nativeElement,()=>{},o)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:o}=this._elRef;this._zone.runOutsideAngular(()=>{qi(o,"keydown").pipe(Bt(this._closed$),(0,rs.h)(b=>b.which===Er.Escape)).subscribe(b=>{this.keyboard?requestAnimationFrame(()=>{b.defaultPrevented||this._zone.run(()=>this.dismiss(Hu.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let h=!1;qi(this._dialogEl.nativeElement,"mousedown").pipe(Bt(this._closed$),(0,xi.b)(()=>h=!1),(0,Je.w)(()=>qi(o,"mouseup").pipe(Bt(this._closed$),(0,Pn.q)(1))),(0,rs.h)(({target:b})=>o===b)).subscribe(()=>{h=!0}),qi(o,"click").pipe(Bt(this._closed$)).subscribe(({target:b})=>{o===b&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!h&&this._zone.run(()=>this.dismiss(Hu.BACKDROP_CLICK))),h=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:o}=this._elRef;if(!o.contains(document.activeElement)){const h=o.querySelector("[ngbAutofocus]"),b=Jf(o)[0];(h||b||o).focus()}}_restoreFocus(){const o=this._document.body,h=this._elWithFocus;let b;b=h&&h.focus&&o.contains(h)?h:o,this._zone.runOutsideAngular(()=>{setTimeout(()=>b.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&_s(this._zone,this._elRef.nativeElement,({classList:o})=>(o.add("modal-static"),()=>o.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return u.\u0275fac=function(o){return new(o||u)(l.Y36(v.K0),l.Y36(l.SBq),l.Y36(l.R0b))},u.\u0275cmp=l.Xpm({type:u,selectors:[["ngb-modal-window"]],viewQuery:function(o,h){if(1&o&&l.Gf(Bl,7),2&o){let b;l.iGM(b=l.CRH())&&(h._dialogEl=b.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(o,h){2&o&&(l.uIk("aria-modal",!0)("aria-labelledby",h.ariaLabelledBy)("aria-describedby",h.ariaDescribedBy),l.Tol("modal d-block"+(h.windowClass?" "+h.windowClass:"")),l.ekj("fade",h.animation))},inputs:{backdrop:"backdrop",keyboard:"keyboard",animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",centered:"centered",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:vo,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(o,h){1&o&&(l.F$t(),l.TgZ(0,"div",0,1)(2,"div",2),l.Hsn(3),l.qZA()()),2&o&&l.Tol("modal-dialog"+(h.size?" modal-"+h.size:"")+(h.centered?" modal-dialog-centered":"")+(h.scrollable?" modal-dialog-scrollable":"")+(h.modalDialogClass?" "+h.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}"],encapsulation:2}),u})(),Sc=(()=>{class u{constructor(o,h,b,S,J,ae){this._applicationRef=o,this._injector=h,this._document=b,this._scrollBar=S,this._rendererFactory=J,this._ngZone=ae,this._activeWindowCmptHasChanged=new Vr.x,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new l.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const ge=this._windowCmpts[this._windowCmpts.length-1];((u,f,o,h=!1)=>{u.runOutsideAngular(()=>{const b=qi(f,"focusin").pipe(Bt(o),(0,Ke.U)(S=>S.target));qi(f,"keydown").pipe(Bt(o),(0,rs.h)(S=>S.which===Er.Tab),Ca(b)).subscribe(([S,J])=>{const[ae,ge]=Jf(f);(J===ae||J===f)&&S.shiftKey&&(ge.focus(),S.preventDefault()),J===ge&&!S.shiftKey&&(ae.focus(),S.preventDefault())}),h&&qi(f,"click").pipe(Bt(o),Ca(b),(0,Ke.U)(S=>S[1])).subscribe(S=>S.focus())})})(this._ngZone,ge.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(ge.location.nativeElement)}})}open(o,h,b,S){const J=S.container instanceof HTMLElement?S.container:jl(S.container)?this._document.querySelector(S.container):this._document.body,ae=this._rendererFactory.createRenderer(null,null),ge=this._scrollBar.compensate(),Re=()=>{this._modalRefs.length||(ae.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!J)throw new Error(`The specified modal container "${S.container||"body"}" was not found in the DOM.`);const ht=new lg,Yt=this._getContentRef(o,S.injector||h,b,ht,S);let xt=!1!==S.backdrop?this._attachBackdrop(o,J):void 0,Ut=this._attachWindowComponent(o,J,Yt),an=new yr(Ut,Yt,xt,S.beforeDismiss);return this._registerModalRef(an),this._registerWindowCmpt(Ut),an.result.then(ge,ge),an.result.then(Re,Re),ht.close=Fn=>{an.close(Fn)},ht.dismiss=Fn=>{an.dismiss(Fn)},this._applyWindowOptions(Ut.instance,S),1===this._modalRefs.length&&ae.addClass(this._document.body,"modal-open"),xt&&xt.instance&&(this._applyBackdropOptions(xt.instance,S),xt.changeDetectorRef.detectChanges()),Ut.changeDetectorRef.detectChanges(),an}get activeInstances(){return this._activeInstances}dismissAll(o){this._modalRefs.forEach(h=>h.dismiss(o))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(o,h){let S=o.resolveComponentFactory(rf).create(this._injector);return this._applicationRef.attachView(S.hostView),h.appendChild(S.location.nativeElement),S}_attachWindowComponent(o,h,b){let J=o.resolveComponentFactory(sf).create(this._injector,b.nodes);return this._applicationRef.attachView(J.hostView),h.appendChild(J.location.nativeElement),J}_applyWindowOptions(o,h){this._windowAttributes.forEach(b=>{jl(h[b])&&(o[b]=h[b])})}_applyBackdropOptions(o,h){this._backdropAttributes.forEach(b=>{jl(h[b])&&(o[b]=h[b])})}_getContentRef(o,h,b,S,J){return b?b instanceof l.Rgc?this._createFromTemplateRef(b,S):function Dl(u){return"string"==typeof u}(b)?this._createFromString(b):this._createFromComponent(o,h,b,S,J):new Tc([])}_createFromTemplateRef(o,h){const S=o.createEmbeddedView({$implicit:h,close(J){h.close(J)},dismiss(J){h.dismiss(J)}});return this._applicationRef.attachView(S),new Tc([S.rootNodes],S)}_createFromString(o){const h=this._document.createTextNode(`${o}`);return new Tc([[h]])}_createFromComponent(o,h,b,S,J){const ae=o.resolveComponentFactory(b),ge=l.zs3.create({providers:[{provide:lg,useValue:S}],parent:h}),Re=ae.create(ge),ht=Re.location.nativeElement;return J.scrollable&&ht.classList.add("component-host-scrollable"),this._applicationRef.attachView(Re.hostView),new Tc([[ht]],Re.hostView,Re)}_setAriaHidden(o){const h=o.parentElement;h&&o!==this._document.body&&(Array.from(h.children).forEach(b=>{b!==o&&"SCRIPT"!==b.nodeName&&(this._ariaHiddenValues.set(b,b.getAttribute("aria-hidden")),b.setAttribute("aria-hidden","true"))}),this._setAriaHidden(h))}_revertAriaHidden(){this._ariaHiddenValues.forEach((o,h)=>{o?h.setAttribute("aria-hidden",o):h.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(o){const h=()=>{const b=this._modalRefs.indexOf(o);b>-1&&(this._modalRefs.splice(b,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(o),this._activeInstances.emit(this._modalRefs),o.result.then(h,h)}_registerWindowCmpt(o){this._windowCmpts.push(o),this._activeWindowCmptHasChanged.next(),o.onDestroy(()=>{const h=this._windowCmpts.indexOf(o);h>-1&&(this._windowCmpts.splice(h,1),this._activeWindowCmptHasChanged.next())})}}return u.\u0275fac=function(o){return new(o||u)(l.LFG(l.z2F),l.LFG(l.zs3),l.LFG(v.K0),l.LFG(ag),l.LFG(l.FYo),l.LFG(l.R0b))},u.\u0275prov=(0,l.Yz7)({factory:function(){return new u((0,l.LFG)(l.z2F),(0,l.LFG)(l.gxx),(0,l.LFG)(v.K0),(0,l.LFG)(ag),(0,l.LFG)(l.FYo),(0,l.LFG)(l.R0b))},token:u,providedIn:"root"}),u})(),af=(()=>{class u{constructor(o,h,b,S){this._moduleCFR=o,this._injector=h,this._modalStack=b,this._config=S}open(o,h={}){const b=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),h);return this._modalStack.open(this._moduleCFR,this._injector,o,b)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(o){this._modalStack.dismissAll(o)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return u.\u0275fac=function(o){return new(o||u)(l.LFG(l._Vd),l.LFG(l.zs3),l.LFG(Sc),l.LFG(sg))},u.\u0275prov=(0,l.Yz7)({factory:function(){return new u((0,l.LFG)(l._Vd),(0,l.LFG)(l.gxx),(0,l.LFG)(Sc),(0,l.LFG)(sg))},token:u,providedIn:"root"}),u})(),lf=(()=>{class u{}return u.\u0275fac=function(o){return new(o||u)},u.\u0275mod=l.oAB({type:u}),u.\u0275inj=l.cJS({providers:[af]}),u})(),dp=(()=>{class u{}return u.\u0275fac=function(o){return new(o||u)},u.\u0275mod=l.oAB({type:u}),u.\u0275inj=l.cJS({imports:[v.ez]}),u})(),_f=(()=>{class u{}return u.\u0275fac=function(o){return new(o||u)},u.\u0275mod=l.oAB({type:u}),u.\u0275inj=l.cJS({imports:[v.ez]}),u})(),bf=(()=>{class u{}return u.\u0275fac=function(o){return new(o||u)},u.\u0275mod=l.oAB({type:u}),u.\u0275inj=l.cJS({imports:[v.ez]}),u})(),ju=(()=>{class u{}return u.\u0275fac=function(o){return new(o||u)},u.\u0275mod=l.oAB({type:u}),u.\u0275inj=l.cJS({imports:[v.ez]}),u})(),xc=(()=>{class u{}return u.\u0275fac=function(o){return new(o||u)},u.\u0275mod=l.oAB({type:u}),u.\u0275inj=l.cJS({imports:[v.ez]}),u})(),fd=(()=>{class u{}return u.\u0275fac=function(o){return new(o||u)},u.\u0275mod=l.oAB({type:u}),u.\u0275inj=l.cJS({imports:[v.ez]}),u})(),wp=(()=>{class u{}return u.\u0275fac=function(o){return new(o||u)},u.\u0275mod=l.oAB({type:u}),u.\u0275inj=l.cJS({imports:[v.ez]}),u})(),mh=(()=>{class u{}return u.\u0275fac=function(o){return new(o||u)},u.\u0275mod=l.oAB({type:u}),u.\u0275inj=l.cJS({}),u})();new l.OlP("live announcer delay",{providedIn:"root",factory:function Cf(){return 100}});let fm=(()=>{class u{}return u.\u0275fac=function(o){return new(o||u)},u.\u0275mod=l.oAB({type:u}),u.\u0275inj=l.cJS({imports:[v.ez]}),u})();const M_=[al,du,wi,_,te,bu,Ys,lf,dp,_f,bf,ju,xc,fd,wp,mh,fm];let pm=(()=>{class u{}return u.\u0275fac=function(o){return new(o||u)},u.\u0275mod=l.oAB({type:u}),u.\u0275inj=l.cJS({imports:[M_,al,du,wi,_,te,bu,Ys,lf,dp,_f,bf,ju,xc,fd,wp,mh,fm]}),u})(),gm=(()=>{class u{}return u.\u0275fac=function(o){return new(o||u)},u.\u0275mod=l.oAB({type:u}),u.\u0275inj=l.cJS({imports:[v.ez,gl,pm,he.UX,he.u5,Wr,Fa,du]}),u})()},3543:(tn,ze,B)=>{var v=B(1481),K=B(4650),x=B(2011);const l_firebase={projectId:"email-signature-9cbf1",appId:"1:426124768182:web:53a688307676f4b171c717",storageBucket:"email-signature-9cbf1.appspot.com",apiKey:"AIzaSyBfoC0w2boZqPUc9ajj5W8xzUI_wxBtbdg",authDomain:"email-signature-9cbf1.firebaseapp.com"};var Ee=B(1205),Ce=B(3101),he=B(4629);const Te=[{path:"account",loadChildren:()=>Promise.resolve().then(B.bind(B,1519)).then(Ue=>Ue.AccountModule)},{path:"email",loadChildren:()=>Promise.resolve().then(B.bind(B,3091)).then(Ue=>Ue.SignatureModule)}];let Pe=(()=>{class Ue{}return Ue.\u0275fac=function(Pt){return new(Pt||Ue)},Ue.\u0275mod=K.oAB({type:Ue}),Ue.\u0275inj=K.cJS({imports:[he.Bz.forRoot(Te),he.Bz]}),Ue})(),ce=(()=>{class Ue{constructor(){this.title="Email_Signature"}}return Ue.\u0275fac=function(Pt){return new(Pt||Ue)},Ue.\u0275cmp=K.Xpm({type:Ue,selectors:[["app-root"]],decls:1,vars:0,template:function(Pt,Ke){1&Pt&&K._UZ(0,"router-outlet")},dependencies:[he.lC]}),Ue})();var de=B(1519),we=B(3091);let _t=(()=>{class Ue{}return Ue.\u0275fac=function(Pt){return new(Pt||Ue)},Ue.\u0275mod=K.oAB({type:Ue,bootstrap:[ce]}),Ue.\u0275inj=K.cJS({imports:[v.b2,Pe,de.AccountModule,x.hO.initializeApp(l_firebase),Ee.ww,Ce.yb,we.SignatureModule]}),Ue})();(0,K.G48)(),v.q6().bootstrapModule(_t).catch(Ue=>console.error(Ue))},1135:(tn,ze,B)=>{B.d(ze,{X:()=>K});var v=B(7579);class K extends v.x{constructor(l){super(),this._value=l}get value(){return this.getValue()}_subscribe(l){const Ee=super._subscribe(l);return!Ee.closed&&l.next(this._value),Ee}getValue(){const{hasError:l,thrownError:Ee,_value:Ce}=this;if(l)throw Ee;return this._throwIfClosed(),Ce}next(l){super.next(this._value=l)}}},9751:(tn,ze,B)=>{B.d(ze,{y:()=>Te});var v=B(930),K=B(727),x=B(8822),l=B(9635),Ee=B(2416),Ce=B(576),he=B(2806);let Te=(()=>{class we{constructor(Ue){Ue&&(this._subscribe=Ue)}lift(Ue){const Be=new we;return Be.source=this,Be.operator=Ue,Be}subscribe(Ue,Be,Pt){const Ke=function de(we){return we&&we instanceof v.Lv||function ce(we){return we&&(0,Ce.m)(we.next)&&(0,Ce.m)(we.error)&&(0,Ce.m)(we.complete)}(we)&&(0,K.Nn)(we)}(Ue)?Ue:new v.Hp(Ue,Be,Pt);return(0,he.x)(()=>{const{operator:Je,source:Ae}=this;Ke.add(Je?Je.call(Ke,Ae):Ae?this._subscribe(Ke):this._trySubscribe(Ke))}),Ke}_trySubscribe(Ue){try{return this._subscribe(Ue)}catch(Be){Ue.error(Be)}}forEach(Ue,Be){return new(Be=Pe(Be))((Pt,Ke)=>{const Je=new v.Hp({next:Ae=>{try{Ue(Ae)}catch(Zt){Ke(Zt),Je.unsubscribe()}},error:Ke,complete:Pt});this.subscribe(Je)})}_subscribe(Ue){var Be;return null===(Be=this.source)||void 0===Be?void 0:Be.subscribe(Ue)}[x.L](){return this}pipe(...Ue){return(0,l.U)(Ue)(this)}toPromise(Ue){return new(Ue=Pe(Ue))((Be,Pt)=>{let Ke;this.subscribe(Je=>Ke=Je,Je=>Pt(Je),()=>Be(Ke))})}}return we.create=_t=>new we(_t),we})();function Pe(we){var _t;return null!==(_t=we??Ee.v.Promise)&&void 0!==_t?_t:Promise}},7579:(tn,ze,B)=>{B.d(ze,{x:()=>he});var v=B(9751),K=B(727);const l=(0,B(3888).d)(Pe=>function(){Pe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ee=B(8737),Ce=B(2806);let he=(()=>{class Pe extends v.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(de){const we=new Te(this,this);return we.operator=de,we}_throwIfClosed(){if(this.closed)throw new l}next(de){(0,Ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const we of this.currentObservers)we.next(de)}})}error(de){(0,Ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=de;const{observers:we}=this;for(;we.length;)we.shift().error(de)}})}complete(){(0,Ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:de}=this;for(;de.length;)de.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var de;return(null===(de=this.observers)||void 0===de?void 0:de.length)>0}_trySubscribe(de){return this._throwIfClosed(),super._trySubscribe(de)}_subscribe(de){return this._throwIfClosed(),this._checkFinalizedStatuses(de),this._innerSubscribe(de)}_innerSubscribe(de){const{hasError:we,isStopped:_t,observers:Ue}=this;return we||_t?K.Lc:(this.currentObservers=null,Ue.push(de),new K.w0(()=>{this.currentObservers=null,(0,Ee.P)(Ue,de)}))}_checkFinalizedStatuses(de){const{hasError:we,thrownError:_t,isStopped:Ue}=this;we?de.error(_t):Ue&&de.complete()}asObservable(){const de=new v.y;return de.source=this,de}}return Pe.create=(ce,de)=>new Te(ce,de),Pe})();class Te extends he{constructor(ce,de){super(),this.destination=ce,this.source=de}next(ce){var de,we;null===(we=null===(de=this.destination)||void 0===de?void 0:de.next)||void 0===we||we.call(de,ce)}error(ce){var de,we;null===(we=null===(de=this.destination)||void 0===de?void 0:de.error)||void 0===we||we.call(de,ce)}complete(){var ce,de;null===(de=null===(ce=this.destination)||void 0===ce?void 0:ce.complete)||void 0===de||de.call(ce)}_subscribe(ce){var de,we;return null!==(we=null===(de=this.source)||void 0===de?void 0:de.subscribe(ce))&&void 0!==we?we:K.Lc}}},930:(tn,ze,B)=>{B.d(ze,{Hp:()=>Pt,Lv:()=>we});var v=B(576),K=B(727),x=B(2416),l=B(7849),Ee=B(5032);const Ce=Pe("C",void 0,void 0);function Pe(ut,$e,Fe){return{kind:ut,value:$e,error:Fe}}var ce=B(3410),de=B(2806);class we extends K.w0{constructor($e){super(),this.isStopped=!1,$e?(this.destination=$e,(0,K.Nn)($e)&&$e.add(this)):this.destination=Zt}static create($e,Fe,Ft){return new Pt($e,Fe,Ft)}next($e){this.isStopped?Ae(function Te(ut){return Pe("N",ut,void 0)}($e),this):this._next($e)}error($e){this.isStopped?Ae(function he(ut){return Pe("E",void 0,ut)}($e),this):(this.isStopped=!0,this._error($e))}complete(){this.isStopped?Ae(Ce,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next($e){this.destination.next($e)}_error($e){try{this.destination.error($e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const _t=Function.prototype.bind;function Ue(ut,$e){return _t.call(ut,$e)}class Be{constructor($e){this.partialObserver=$e}next($e){const{partialObserver:Fe}=this;if(Fe.next)try{Fe.next($e)}catch(Ft){Ke(Ft)}}error($e){const{partialObserver:Fe}=this;if(Fe.error)try{Fe.error($e)}catch(Ft){Ke(Ft)}else Ke($e)}complete(){const{partialObserver:$e}=this;if($e.complete)try{$e.complete()}catch(Fe){Ke(Fe)}}}class Pt extends we{constructor($e,Fe,Ft){let Dt;if(super(),(0,v.m)($e)||!$e)Dt={next:$e??void 0,error:Fe??void 0,complete:Ft??void 0};else{let se;this&&x.v.useDeprecatedNextContext?(se=Object.create($e),se.unsubscribe=()=>this.unsubscribe(),Dt={next:$e.next&&Ue($e.next,se),error:$e.error&&Ue($e.error,se),complete:$e.complete&&Ue($e.complete,se)}):Dt=$e}this.destination=new Be(Dt)}}function Ke(ut){x.v.useDeprecatedSynchronousErrorHandling?(0,de.O)(ut):(0,l.h)(ut)}function Ae(ut,$e){const{onStoppedNotification:Fe}=x.v;Fe&&ce.z.setTimeout(()=>Fe(ut,$e))}const Zt={closed:!0,next:Ee.Z,error:function Je(ut){throw ut},complete:Ee.Z}},727:(tn,ze,B)=>{B.d(ze,{Lc:()=>Ce,w0:()=>Ee,Nn:()=>he});var v=B(576);const x=(0,B(3888).d)(Pe=>function(de){Pe(this),this.message=de?`${de.length} errors occurred during unsubscription:\n${de.map((we,_t)=>`${_t+1}) ${we.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=de});var l=B(8737);class Ee{constructor(ce){this.initialTeardown=ce,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ce;if(!this.closed){this.closed=!0;const{_parentage:de}=this;if(de)if(this._parentage=null,Array.isArray(de))for(const Ue of de)Ue.remove(this);else de.remove(this);const{initialTeardown:we}=this;if((0,v.m)(we))try{we()}catch(Ue){ce=Ue instanceof x?Ue.errors:[Ue]}const{_finalizers:_t}=this;if(_t){this._finalizers=null;for(const Ue of _t)try{Te(Ue)}catch(Be){ce=ce??[],Be instanceof x?ce=[...ce,...Be.errors]:ce.push(Be)}}if(ce)throw new x(ce)}}add(ce){var de;if(ce&&ce!==this)if(this.closed)Te(ce);else{if(ce instanceof Ee){if(ce.closed||ce._hasParent(this))return;ce._addParent(this)}(this._finalizers=null!==(de=this._finalizers)&&void 0!==de?de:[]).push(ce)}}_hasParent(ce){const{_parentage:de}=this;return de===ce||Array.isArray(de)&&de.includes(ce)}_addParent(ce){const{_parentage:de}=this;this._parentage=Array.isArray(de)?(de.push(ce),de):de?[de,ce]:ce}_removeParent(ce){const{_parentage:de}=this;de===ce?this._parentage=null:Array.isArray(de)&&(0,l.P)(de,ce)}remove(ce){const{_finalizers:de}=this;de&&(0,l.P)(de,ce),ce instanceof Ee&&ce._removeParent(this)}}Ee.EMPTY=(()=>{const Pe=new Ee;return Pe.closed=!0,Pe})();const Ce=Ee.EMPTY;function he(Pe){return Pe instanceof Ee||Pe&&"closed"in Pe&&(0,v.m)(Pe.remove)&&(0,v.m)(Pe.add)&&(0,v.m)(Pe.unsubscribe)}function Te(Pe){(0,v.m)(Pe)?Pe():Pe.unsubscribe()}},2416:(tn,ze,B)=>{B.d(ze,{v:()=>v});const v={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},9841:(tn,ze,B)=>{B.d(ze,{a:()=>ce});var v=B(9751),K=B(4742),x=B(8996),l=B(4671),Ee=B(3268),Ce=B(3269),he=B(1810),Te=B(5403),Pe=B(9672);function ce(..._t){const Ue=(0,Ce.yG)(_t),Be=(0,Ce.jO)(_t),{args:Pt,keys:Ke}=(0,K.D)(_t);if(0===Pt.length)return(0,x.D)([],Ue);const Je=new v.y(function de(_t,Ue,Be=l.y){return Pt=>{we(Ue,()=>{const{length:Ke}=_t,Je=new Array(Ke);let Ae=Ke,Zt=Ke;for(let ut=0;ut<Ke;ut++)we(Ue,()=>{const $e=(0,x.D)(_t[ut],Ue);let Fe=!1;$e.subscribe((0,Te.x)(Pt,Ft=>{Je[ut]=Ft,Fe||(Fe=!0,Zt--),Zt||Pt.next(Be(Je.slice()))},()=>{--Ae||Pt.complete()}))},Pt)},Pt)}}(Pt,Ue,Ke?Ae=>(0,he.n)(Ke,Ae):l.y));return Be?Je.pipe((0,Ee.Z)(Be)):Je}function we(_t,Ue,Be){_t?(0,Pe.f)(Be,_t,Ue):Ue()}},7272:(tn,ze,B)=>{B.d(ze,{z:()=>Ee});var v=B(8189),x=B(3269),l=B(8996);function Ee(...Ce){return function K(){return(0,v.J)(1)}()((0,l.D)(Ce,(0,x.yG)(Ce)))}},515:(tn,ze,B)=>{B.d(ze,{E:()=>K});const K=new(B(9751).y)(Ee=>Ee.complete())},8996:(tn,ze,B)=>{B.d(ze,{D:()=>$e});var v=B(8421),K=B(5363),x=B(9468),Ce=B(9751),Te=B(2202),Pe=B(576),ce=B(9672);function we(Fe,Ft){if(!Fe)throw new Error("Iterable cannot be null");return new Ce.y(Dt=>{(0,ce.f)(Dt,Ft,()=>{const se=Fe[Symbol.asyncIterator]();(0,ce.f)(Dt,Ft,()=>{se.next().then(et=>{et.done?Dt.complete():Dt.next(et.value)})},0,!0)})})}var _t=B(3670),Ue=B(8239),Be=B(1144),Pt=B(6495),Ke=B(2206),Je=B(4532),Ae=B(3260);function $e(Fe,Ft){return Ft?function ut(Fe,Ft){if(null!=Fe){if((0,_t.c)(Fe))return function l(Fe,Ft){return(0,v.Xf)(Fe).pipe((0,x.R)(Ft),(0,K.Q)(Ft))}(Fe,Ft);if((0,Be.z)(Fe))return function he(Fe,Ft){return new Ce.y(Dt=>{let se=0;return Ft.schedule(function(){se===Fe.length?Dt.complete():(Dt.next(Fe[se++]),Dt.closed||this.schedule())})})}(Fe,Ft);if((0,Ue.t)(Fe))return function Ee(Fe,Ft){return(0,v.Xf)(Fe).pipe((0,x.R)(Ft),(0,K.Q)(Ft))}(Fe,Ft);if((0,Ke.D)(Fe))return we(Fe,Ft);if((0,Pt.T)(Fe))return function de(Fe,Ft){return new Ce.y(Dt=>{let se;return(0,ce.f)(Dt,Ft,()=>{se=Fe[Te.h](),(0,ce.f)(Dt,Ft,()=>{let et,tt;try{({value:et,done:tt}=se.next())}catch(Ot){return void Dt.error(Ot)}tt?Dt.complete():Dt.next(et)},0,!0)}),()=>(0,Pe.m)(se?.return)&&se.return()})}(Fe,Ft);if((0,Ae.L)(Fe))return function Zt(Fe,Ft){return we((0,Ae.Q)(Fe),Ft)}(Fe,Ft)}throw(0,Je.z)(Fe)}(Fe,Ft):(0,v.Xf)(Fe)}},8421:(tn,ze,B)=>{B.d(ze,{Xf:()=>_t});var v=B(655),K=B(1144),x=B(8239),l=B(9751),Ee=B(3670),Ce=B(2206),he=B(4532),Te=B(6495),Pe=B(3260),ce=B(576),de=B(7849),we=B(8822);function _t(ut){if(ut instanceof l.y)return ut;if(null!=ut){if((0,Ee.c)(ut))return function Ue(ut){return new l.y($e=>{const Fe=ut[we.L]();if((0,ce.m)(Fe.subscribe))return Fe.subscribe($e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ut);if((0,K.z)(ut))return function Be(ut){return new l.y($e=>{for(let Fe=0;Fe<ut.length&&!$e.closed;Fe++)$e.next(ut[Fe]);$e.complete()})}(ut);if((0,x.t)(ut))return function Pt(ut){return new l.y($e=>{ut.then(Fe=>{$e.closed||($e.next(Fe),$e.complete())},Fe=>$e.error(Fe)).then(null,de.h)})}(ut);if((0,Ce.D)(ut))return Je(ut);if((0,Te.T)(ut))return function Ke(ut){return new l.y($e=>{for(const Fe of ut)if($e.next(Fe),$e.closed)return;$e.complete()})}(ut);if((0,Pe.L)(ut))return function Ae(ut){return Je((0,Pe.Q)(ut))}(ut)}throw(0,he.z)(ut)}function Je(ut){return new l.y($e=>{(function Zt(ut,$e){var Fe,Ft,Dt,se;return(0,v.mG)(this,void 0,void 0,function*(){try{for(Fe=(0,v.KL)(ut);!(Ft=yield Fe.next()).done;)if($e.next(Ft.value),$e.closed)return}catch(et){Dt={error:et}}finally{try{Ft&&!Ft.done&&(se=Fe.return)&&(yield se.call(Fe))}finally{if(Dt)throw Dt.error}}$e.complete()})})(ut,$e).catch(Fe=>$e.error(Fe))})}},6451:(tn,ze,B)=>{B.d(ze,{T:()=>Ce});var v=B(8189),K=B(8421),x=B(515),l=B(3269),Ee=B(8996);function Ce(...he){const Te=(0,l.yG)(he),Pe=(0,l._6)(he,1/0),ce=he;return ce.length?1===ce.length?(0,K.Xf)(ce[0]):(0,v.J)(Pe)((0,Ee.D)(ce,Te)):x.E}},9646:(tn,ze,B)=>{B.d(ze,{of:()=>x});var v=B(3269),K=B(8996);function x(...l){const Ee=(0,v.yG)(l);return(0,K.D)(l,Ee)}},5963:(tn,ze,B)=>{B.d(ze,{H:()=>Ee});var v=B(9751),K=B(4986),x=B(3532);function Ee(Ce=0,he,Te=K.P){let Pe=-1;return null!=he&&((0,x.K)(he)?Te=he:Pe=he),new v.y(ce=>{let de=function l(Ce){return Ce instanceof Date&&!isNaN(Ce)}(Ce)?+Ce-Te.now():Ce;de<0&&(de=0);let we=0;return Te.schedule(function(){ce.closed||(ce.next(we++),0<=Pe?this.schedule(void 0,Pe):ce.complete())},de)})}},5403:(tn,ze,B)=>{B.d(ze,{x:()=>K});var v=B(930);function K(l,Ee,Ce,he,Te){return new x(l,Ee,Ce,he,Te)}class x extends v.Lv{constructor(Ee,Ce,he,Te,Pe,ce){super(Ee),this.onFinalize=Pe,this.shouldUnsubscribe=ce,this._next=Ce?function(de){try{Ce(de)}catch(we){Ee.error(we)}}:super._next,this._error=Te?function(de){try{Te(de)}catch(we){Ee.error(we)}finally{this.unsubscribe()}}:super._error,this._complete=he?function(){try{he()}catch(de){Ee.error(de)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Ee;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ce}=this;super.unsubscribe(),!Ce&&(null===(Ee=this.onFinalize)||void 0===Ee||Ee.call(this))}}}},4351:(tn,ze,B)=>{B.d(ze,{b:()=>x});var v=B(5577),K=B(576);function x(l,Ee){return(0,K.m)(Ee)?(0,v.z)(l,Ee,1):(0,v.z)(l,1)}},6590:(tn,ze,B)=>{B.d(ze,{d:()=>x});var v=B(4482),K=B(5403);function x(l){return(0,v.e)((Ee,Ce)=>{let he=!1;Ee.subscribe((0,K.x)(Ce,Te=>{he=!0,Ce.next(Te)},()=>{he||Ce.next(l),Ce.complete()}))})}},1005:(tn,ze,B)=>{B.d(ze,{g:()=>we});var v=B(4986),K=B(7272),x=B(5698),l=B(4482),Ee=B(5403),Ce=B(5032),Te=B(9718),Pe=B(5577);function ce(_t,Ue){return Ue?Be=>(0,K.z)(Ue.pipe((0,x.q)(1),function he(){return(0,l.e)((_t,Ue)=>{_t.subscribe((0,Ee.x)(Ue,Ce.Z))})}()),Be.pipe(ce(_t))):(0,Pe.z)((Be,Pt)=>_t(Be,Pt).pipe((0,x.q)(1),(0,Te.h)(Be)))}var de=B(5963);function we(_t,Ue=v.z){const Be=(0,de.H)(_t,Ue);return ce(()=>Be)}},1884:(tn,ze,B)=>{B.d(ze,{x:()=>l});var v=B(4671),K=B(4482),x=B(5403);function l(Ce,he=v.y){return Ce=Ce??Ee,(0,K.e)((Te,Pe)=>{let ce,de=!0;Te.subscribe((0,x.x)(Pe,we=>{const _t=he(we);(de||!Ce(ce,_t))&&(de=!1,ce=_t,Pe.next(we))}))})}function Ee(Ce,he){return Ce===he}},9300:(tn,ze,B)=>{B.d(ze,{h:()=>x});var v=B(4482),K=B(5403);function x(l,Ee){return(0,v.e)((Ce,he)=>{let Te=0;Ce.subscribe((0,K.x)(he,Pe=>l.call(Ee,Pe,Te++)&&he.next(Pe)))})}},590:(tn,ze,B)=>{B.d(ze,{P:()=>he});var v=B(6805),K=B(9300),x=B(5698),l=B(6590),Ee=B(8068),Ce=B(4671);function he(Te,Pe){const ce=arguments.length>=2;return de=>de.pipe(Te?(0,K.h)((we,_t)=>Te(we,_t,de)):Ce.y,(0,x.q)(1),ce?(0,l.d)(Pe):(0,Ee.T)(()=>new v.K))}},4004:(tn,ze,B)=>{B.d(ze,{U:()=>x});var v=B(4482),K=B(5403);function x(l,Ee){return(0,v.e)((Ce,he)=>{let Te=0;Ce.subscribe((0,K.x)(he,Pe=>{he.next(l.call(Ee,Pe,Te++))}))})}},9718:(tn,ze,B)=>{B.d(ze,{h:()=>K});var v=B(4004);function K(x){return(0,v.U)(()=>x)}},8189:(tn,ze,B)=>{B.d(ze,{J:()=>x});var v=B(5577),K=B(4671);function x(l=1/0){return(0,v.z)(K.y,l)}},5577:(tn,ze,B)=>{B.d(ze,{z:()=>Te});var v=B(4004),K=B(8421),x=B(4482),l=B(9672),Ee=B(5403),he=B(576);function Te(Pe,ce,de=1/0){return(0,he.m)(ce)?Te((we,_t)=>(0,v.U)((Ue,Be)=>ce(we,Ue,_t,Be))((0,K.Xf)(Pe(we,_t))),de):("number"==typeof ce&&(de=ce),(0,x.e)((we,_t)=>function Ce(Pe,ce,de,we,_t,Ue,Be,Pt){const Ke=[];let Je=0,Ae=0,Zt=!1;const ut=()=>{Zt&&!Ke.length&&!Je&&ce.complete()},$e=Ft=>Je<we?Fe(Ft):Ke.push(Ft),Fe=Ft=>{Ue&&ce.next(Ft),Je++;let Dt=!1;(0,K.Xf)(de(Ft,Ae++)).subscribe((0,Ee.x)(ce,se=>{_t?.(se),Ue?$e(se):ce.next(se)},()=>{Dt=!0},void 0,()=>{if(Dt)try{for(Je--;Ke.length&&Je<we;){const se=Ke.shift();Be?(0,l.f)(ce,Be,()=>Fe(se)):Fe(se)}ut()}catch(se){ce.error(se)}}))};return Pe.subscribe((0,Ee.x)(ce,$e,()=>{Zt=!0,ut()})),()=>{Pt?.()}}(we,_t,Pe,de)))}},5363:(tn,ze,B)=>{B.d(ze,{Q:()=>l});var v=B(9672),K=B(4482),x=B(5403);function l(Ee,Ce=0){return(0,K.e)((he,Te)=>{he.subscribe((0,x.x)(Te,Pe=>(0,v.f)(Te,Ee,()=>Te.next(Pe),Ce),()=>(0,v.f)(Te,Ee,()=>Te.complete(),Ce),Pe=>(0,v.f)(Te,Ee,()=>Te.error(Pe),Ce)))})}},5026:(tn,ze,B)=>{B.d(ze,{R:()=>l});var v=B(4482),K=B(5403);function x(Ee,Ce,he,Te,Pe){return(ce,de)=>{let we=he,_t=Ce,Ue=0;ce.subscribe((0,K.x)(de,Be=>{const Pt=Ue++;_t=we?Ee(_t,Be,Pt):(we=!0,Be),Te&&de.next(_t)},Pe&&(()=>{we&&de.next(_t),de.complete()})))}}function l(Ee,Ce){return(0,v.e)(x(Ee,Ce,arguments.length>=2,!0))}},3099:(tn,ze,B)=>{B.d(ze,{B:()=>Ee});var v=B(8421),K=B(7579),x=B(930),l=B(4482);function Ee(he={}){const{connector:Te=(()=>new K.x),resetOnError:Pe=!0,resetOnComplete:ce=!0,resetOnRefCountZero:de=!0}=he;return we=>{let _t,Ue,Be,Pt=0,Ke=!1,Je=!1;const Ae=()=>{Ue?.unsubscribe(),Ue=void 0},Zt=()=>{Ae(),_t=Be=void 0,Ke=Je=!1},ut=()=>{const $e=_t;Zt(),$e?.unsubscribe()};return(0,l.e)(($e,Fe)=>{Pt++,!Je&&!Ke&&Ae();const Ft=Be=Be??Te();Fe.add(()=>{Pt--,0===Pt&&!Je&&!Ke&&(Ue=Ce(ut,de))}),Ft.subscribe(Fe),!_t&&Pt>0&&(_t=new x.Hp({next:Dt=>Ft.next(Dt),error:Dt=>{Je=!0,Ae(),Ue=Ce(Zt,Pe,Dt),Ft.error(Dt)},complete:()=>{Ke=!0,Ae(),Ue=Ce(Zt,ce),Ft.complete()}}),(0,v.Xf)($e).subscribe(_t))})(we)}}function Ce(he,Te,...Pe){if(!0===Te)return void he();if(!1===Te)return;const ce=new x.Hp({next:()=>{ce.unsubscribe(),he()}});return Te(...Pe).subscribe(ce)}},8675:(tn,ze,B)=>{B.d(ze,{O:()=>l});var v=B(7272),K=B(3269),x=B(4482);function l(...Ee){const Ce=(0,K.yG)(Ee);return(0,x.e)((he,Te)=>{(Ce?(0,v.z)(Ee,he,Ce):(0,v.z)(Ee,he)).subscribe(Te)})}},9468:(tn,ze,B)=>{B.d(ze,{R:()=>K});var v=B(4482);function K(x,l=0){return(0,v.e)((Ee,Ce)=>{Ce.add(x.schedule(()=>Ee.subscribe(Ce),l))})}},3900:(tn,ze,B)=>{B.d(ze,{w:()=>l});var v=B(8421),K=B(4482),x=B(5403);function l(Ee,Ce){return(0,K.e)((he,Te)=>{let Pe=null,ce=0,de=!1;const we=()=>de&&!Pe&&Te.complete();he.subscribe((0,x.x)(Te,_t=>{Pe?.unsubscribe();let Ue=0;const Be=ce++;(0,v.Xf)(Ee(_t,Be)).subscribe(Pe=(0,x.x)(Te,Pt=>Te.next(Ce?Ce(_t,Pt,Be,Ue++):Pt),()=>{Pe=null,we()}))},()=>{de=!0,we()}))})}},5698:(tn,ze,B)=>{B.d(ze,{q:()=>l});var v=B(515),K=B(4482),x=B(5403);function l(Ee){return Ee<=0?()=>v.E:(0,K.e)((Ce,he)=>{let Te=0;Ce.subscribe((0,x.x)(he,Pe=>{++Te<=Ee&&(he.next(Pe),Ee<=Te&&he.complete())}))})}},8505:(tn,ze,B)=>{B.d(ze,{b:()=>Ee});var v=B(576),K=B(4482),x=B(5403),l=B(4671);function Ee(Ce,he,Te){const Pe=(0,v.m)(Ce)||he||Te?{next:Ce,error:he,complete:Te}:Ce;return Pe?(0,K.e)((ce,de)=>{var we;null===(we=Pe.subscribe)||void 0===we||we.call(Pe);let _t=!0;ce.subscribe((0,x.x)(de,Ue=>{var Be;null===(Be=Pe.next)||void 0===Be||Be.call(Pe,Ue),de.next(Ue)},()=>{var Ue;_t=!1,null===(Ue=Pe.complete)||void 0===Ue||Ue.call(Pe),de.complete()},Ue=>{var Be;_t=!1,null===(Be=Pe.error)||void 0===Be||Be.call(Pe,Ue),de.error(Ue)},()=>{var Ue,Be;_t&&(null===(Ue=Pe.unsubscribe)||void 0===Ue||Ue.call(Pe)),null===(Be=Pe.finalize)||void 0===Be||Be.call(Pe)}))}):l.y}},8068:(tn,ze,B)=>{B.d(ze,{T:()=>l});var v=B(6805),K=B(4482),x=B(5403);function l(Ce=Ee){return(0,K.e)((he,Te)=>{let Pe=!1;he.subscribe((0,x.x)(Te,ce=>{Pe=!0,Te.next(ce)},()=>Pe?Te.complete():Te.error(Ce())))})}function Ee(){return new v.K}},4408:(tn,ze,B)=>{B.d(ze,{o:()=>Ee});var v=B(727);class K extends v.w0{constructor(he,Te){super()}schedule(he,Te=0){return this}}const x={setInterval(Ce,he,...Te){const{delegate:Pe}=x;return Pe?.setInterval?Pe.setInterval(Ce,he,...Te):setInterval(Ce,he,...Te)},clearInterval(Ce){const{delegate:he}=x;return(he?.clearInterval||clearInterval)(Ce)},delegate:void 0};var l=B(8737);class Ee extends K{constructor(he,Te){super(he,Te),this.scheduler=he,this.work=Te,this.pending=!1}schedule(he,Te=0){var Pe;if(this.closed)return this;this.state=he;const ce=this.id,de=this.scheduler;return null!=ce&&(this.id=this.recycleAsyncId(de,ce,Te)),this.pending=!0,this.delay=Te,this.id=null!==(Pe=this.id)&&void 0!==Pe?Pe:this.requestAsyncId(de,this.id,Te),this}requestAsyncId(he,Te,Pe=0){return x.setInterval(he.flush.bind(he,this),Pe)}recycleAsyncId(he,Te,Pe=0){if(null!=Pe&&this.delay===Pe&&!1===this.pending)return Te;null!=Te&&x.clearInterval(Te)}execute(he,Te){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Pe=this._execute(he,Te);if(Pe)return Pe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(he,Te){let ce,Pe=!1;try{this.work(he)}catch(de){Pe=!0,ce=de||new Error("Scheduled action threw falsy error")}if(Pe)return this.unsubscribe(),ce}unsubscribe(){if(!this.closed){const{id:he,scheduler:Te}=this,{actions:Pe}=Te;this.work=this.state=this.scheduler=null,this.pending=!1,(0,l.P)(Pe,this),null!=he&&(this.id=this.recycleAsyncId(Te,he,null)),this.delay=null,super.unsubscribe()}}}},7565:(tn,ze,B)=>{B.d(ze,{v:()=>x});var v=B(6063);class K{constructor(Ee,Ce=K.now){this.schedulerActionCtor=Ee,this.now=Ce}schedule(Ee,Ce=0,he){return new this.schedulerActionCtor(this,Ee).schedule(he,Ce)}}K.now=v.l.now;class x extends K{constructor(Ee,Ce=K.now){super(Ee,Ce),this.actions=[],this._active=!1}flush(Ee){const{actions:Ce}=this;if(this._active)return void Ce.push(Ee);let he;this._active=!0;do{if(he=Ee.execute(Ee.state,Ee.delay))break}while(Ee=Ce.shift());if(this._active=!1,he){for(;Ee=Ce.shift();)Ee.unsubscribe();throw he}}}},4986:(tn,ze,B)=>{B.d(ze,{P:()=>l,z:()=>x});var v=B(4408);const x=new(B(7565).v)(v.o),l=x},6063:(tn,ze,B)=>{B.d(ze,{l:()=>v});const v={now:()=>(v.delegate||Date).now(),delegate:void 0}},3410:(tn,ze,B)=>{B.d(ze,{z:()=>v});const v={setTimeout(K,x,...l){const{delegate:Ee}=v;return Ee?.setTimeout?Ee.setTimeout(K,x,...l):setTimeout(K,x,...l)},clearTimeout(K){const{delegate:x}=v;return(x?.clearTimeout||clearTimeout)(K)},delegate:void 0}},2202:(tn,ze,B)=>{B.d(ze,{h:()=>K});const K=function v(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(tn,ze,B)=>{B.d(ze,{L:()=>v});const v="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(tn,ze,B)=>{B.d(ze,{K:()=>K});const K=(0,B(3888).d)(x=>function(){x(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(tn,ze,B)=>{B.d(ze,{_6:()=>Ce,jO:()=>l,yG:()=>Ee});var v=B(576),K=B(3532);function x(he){return he[he.length-1]}function l(he){return(0,v.m)(x(he))?he.pop():void 0}function Ee(he){return(0,K.K)(x(he))?he.pop():void 0}function Ce(he,Te){return"number"==typeof x(he)?he.pop():Te}},4742:(tn,ze,B)=>{B.d(ze,{D:()=>Ee});const{isArray:v}=Array,{getPrototypeOf:K,prototype:x,keys:l}=Object;function Ee(he){if(1===he.length){const Te=he[0];if(v(Te))return{args:Te,keys:null};if(function Ce(he){return he&&"object"==typeof he&&K(he)===x}(Te)){const Pe=l(Te);return{args:Pe.map(ce=>Te[ce]),keys:Pe}}}return{args:he,keys:null}}},8737:(tn,ze,B)=>{function v(K,x){if(K){const l=K.indexOf(x);0<=l&&K.splice(l,1)}}B.d(ze,{P:()=>v})},3888:(tn,ze,B)=>{function v(K){const l=K(Ee=>{Error.call(Ee),Ee.stack=(new Error).stack});return l.prototype=Object.create(Error.prototype),l.prototype.constructor=l,l}B.d(ze,{d:()=>v})},1810:(tn,ze,B)=>{function v(K,x){return K.reduce((l,Ee,Ce)=>(l[Ee]=x[Ce],l),{})}B.d(ze,{n:()=>v})},2806:(tn,ze,B)=>{B.d(ze,{O:()=>l,x:()=>x});var v=B(2416);let K=null;function x(Ee){if(v.v.useDeprecatedSynchronousErrorHandling){const Ce=!K;if(Ce&&(K={errorThrown:!1,error:null}),Ee(),Ce){const{errorThrown:he,error:Te}=K;if(K=null,he)throw Te}}else Ee()}function l(Ee){v.v.useDeprecatedSynchronousErrorHandling&&K&&(K.errorThrown=!0,K.error=Ee)}},9672:(tn,ze,B)=>{function v(K,x,l,Ee=0,Ce=!1){const he=x.schedule(function(){l(),Ce?K.add(this.schedule(null,Ee)):this.unsubscribe()},Ee);if(K.add(he),!Ce)return he}B.d(ze,{f:()=>v})},4671:(tn,ze,B)=>{function v(K){return K}B.d(ze,{y:()=>v})},1144:(tn,ze,B)=>{B.d(ze,{z:()=>v});const v=K=>K&&"number"==typeof K.length&&"function"!=typeof K},2206:(tn,ze,B)=>{B.d(ze,{D:()=>K});var v=B(576);function K(x){return Symbol.asyncIterator&&(0,v.m)(x?.[Symbol.asyncIterator])}},576:(tn,ze,B)=>{function v(K){return"function"==typeof K}B.d(ze,{m:()=>v})},3670:(tn,ze,B)=>{B.d(ze,{c:()=>x});var v=B(8822),K=B(576);function x(l){return(0,K.m)(l[v.L])}},6495:(tn,ze,B)=>{B.d(ze,{T:()=>x});var v=B(2202),K=B(576);function x(l){return(0,K.m)(l?.[v.h])}},8239:(tn,ze,B)=>{B.d(ze,{t:()=>K});var v=B(576);function K(x){return(0,v.m)(x?.then)}},3260:(tn,ze,B)=>{B.d(ze,{L:()=>l,Q:()=>x});var v=B(655),K=B(576);function x(Ee){return(0,v.FC)(this,arguments,function*(){const he=Ee.getReader();try{for(;;){const{value:Te,done:Pe}=yield(0,v.qq)(he.read());if(Pe)return yield(0,v.qq)(void 0);yield yield(0,v.qq)(Te)}}finally{he.releaseLock()}})}function l(Ee){return(0,K.m)(Ee?.getReader)}},3532:(tn,ze,B)=>{B.d(ze,{K:()=>K});var v=B(576);function K(x){return x&&(0,v.m)(x.schedule)}},4482:(tn,ze,B)=>{B.d(ze,{A:()=>K,e:()=>x});var v=B(576);function K(l){return(0,v.m)(l?.lift)}function x(l){return Ee=>{if(K(Ee))return Ee.lift(function(Ce){try{return l(Ce,this)}catch(he){this.error(he)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(tn,ze,B)=>{B.d(ze,{Z:()=>l});var v=B(4004);const{isArray:K}=Array;function l(Ee){return(0,v.U)(Ce=>function x(Ee,Ce){return K(Ce)?Ee(...Ce):Ee(Ce)}(Ee,Ce))}},5032:(tn,ze,B)=>{function v(){}B.d(ze,{Z:()=>v})},9635:(tn,ze,B)=>{B.d(ze,{U:()=>x,z:()=>K});var v=B(4671);function K(...l){return x(l)}function x(l){return 0===l.length?v.y:1===l.length?l[0]:function(Ce){return l.reduce((he,Te)=>Te(he),Ce)}}},7849:(tn,ze,B)=>{B.d(ze,{h:()=>x});var v=B(2416),K=B(3410);function x(l){K.z.setTimeout(()=>{const{onUnhandledError:Ee}=v.v;if(!Ee)throw l;Ee(l)})}},4532:(tn,ze,B)=>{function v(K){return new TypeError(`You provided ${null!==K&&"object"==typeof K?"an invalid object":`'${K}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}B.d(ze,{z:()=>v})},655:(tn,ze,B)=>{function l(Ze,at){var Qe={};for(var ct in Ze)Object.prototype.hasOwnProperty.call(Ze,ct)&&at.indexOf(ct)<0&&(Qe[ct]=Ze[ct]);if(null!=Ze&&"function"==typeof Object.getOwnPropertySymbols){var pt=0;for(ct=Object.getOwnPropertySymbols(Ze);pt<ct.length;pt++)at.indexOf(ct[pt])<0&&Object.prototype.propertyIsEnumerable.call(Ze,ct[pt])&&(Qe[ct[pt]]=Ze[ct[pt]])}return Qe}function we(Ze,at,Qe,ct){return new(Qe||(Qe=Promise))(function(We,Jt){function Wt(An){try{Lt(ct.next(An))}catch(It){Jt(It)}}function pn(An){try{Lt(ct.throw(An))}catch(It){Jt(It)}}function Lt(An){An.done?We(An.value):function pt(We){return We instanceof Qe?We:new Qe(function(Jt){Jt(We)})}(An.value).then(Wt,pn)}Lt((ct=ct.apply(Ze,at||[])).next())})}function ut(Ze){return this instanceof ut?(this.v=Ze,this):new ut(Ze)}function $e(Ze,at,Qe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var pt,ct=Qe.apply(Ze,at||[]),We=[];return pt={},Jt("next"),Jt("throw"),Jt("return"),pt[Symbol.asyncIterator]=function(){return this},pt;function Jt(hn){ct[hn]&&(pt[hn]=function(Zn){return new Promise(function(Yn,hr){We.push([hn,Zn,Yn,hr])>1||Wt(hn,Zn)})})}function Wt(hn,Zn){try{!function pn(hn){hn.value instanceof ut?Promise.resolve(hn.value.v).then(Lt,An):It(We[0][2],hn)}(ct[hn](Zn))}catch(Yn){It(We[0][3],Yn)}}function Lt(hn){Wt("next",hn)}function An(hn){Wt("throw",hn)}function It(hn,Zn){hn(Zn),We.shift(),We.length&&Wt(We[0][0],We[0][1])}}function Ft(Ze){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Qe,at=Ze[Symbol.asyncIterator];return at?at.call(Ze):(Ze=function Pt(Ze){var at="function"==typeof Symbol&&Symbol.iterator,Qe=at&&Ze[at],ct=0;if(Qe)return Qe.call(Ze);if(Ze&&"number"==typeof Ze.length)return{next:function(){return Ze&&ct>=Ze.length&&(Ze=void 0),{value:Ze&&Ze[ct++],done:!Ze}}};throw new TypeError(at?"Object is not iterable.":"Symbol.iterator is not defined.")}(Ze),Qe={},ct("next"),ct("throw"),ct("return"),Qe[Symbol.asyncIterator]=function(){return this},Qe);function ct(We){Qe[We]=Ze[We]&&function(Jt){return new Promise(function(Wt,pn){!function pt(We,Jt,Wt,pn){Promise.resolve(pn).then(function(Lt){We({value:Lt,done:Wt})},Jt)}(Wt,pn,(Jt=Ze[We](Jt)).done,Jt.value)})}}}B.d(ze,{FC:()=>$e,KL:()=>Ft,_T:()=>l,mG:()=>we,qq:()=>ut})},6895:(tn,ze,B)=>{B.d(ze,{Do:()=>Zt,EM:()=>Ho,HT:()=>Ee,JF:()=>ra,K0:()=>he,Mn:()=>ct,Mx:()=>Cs,NF:()=>$o,O5:()=>Nr,PM:()=>Hr,S$:()=>Ke,Tn:()=>Ot,UT:()=>pt,V_:()=>ce,Ye:()=>ut,Zx:()=>vs,b0:()=>Ae,bD:()=>Ss,ez:()=>Ts,mk:()=>ur,ol:()=>Qe,p6:()=>dt,q:()=>x,sg:()=>es,tP:()=>fi,w_:()=>Ce,x:()=>tt});var v=B(4650);let K=null;function x(){return K}function Ee(k){K||(K=k)}class Ce{}const he=new v.OlP("DocumentToken");let Te=(()=>{class k{historyGo(L){throw new Error("Not implemented")}}return k.\u0275fac=function(L){return new(L||k)},k.\u0275prov=v.Yz7({token:k,factory:function(){return function Pe(){return(0,v.LFG)(de)}()},providedIn:"platform"}),k})();const ce=new v.OlP("Location Initialized");let de=(()=>{class k extends Te{constructor(L){super(),this._doc=L,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return x().getBaseHref(this._doc)}onPopState(L){const X=x().getGlobalEventTarget(this._doc,"window");return X.addEventListener("popstate",L,!1),()=>X.removeEventListener("popstate",L)}onHashChange(L){const X=x().getGlobalEventTarget(this._doc,"window");return X.addEventListener("hashchange",L,!1),()=>X.removeEventListener("hashchange",L)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(L){this.location.pathname=L}pushState(L,X,be){we()?this._history.pushState(L,X,be):this.location.hash=be}replaceState(L,X,be){we()?this._history.replaceState(L,X,be):this.location.hash=be}forward(){this._history.forward()}back(){this._history.back()}historyGo(L=0){this._history.go(L)}getState(){return this._history.state}}return k.\u0275fac=function(L){return new(L||k)(v.LFG(he))},k.\u0275prov=v.Yz7({token:k,factory:function(){return function _t(){return new de((0,v.LFG)(he))}()},providedIn:"platform"}),k})();function we(){return!!window.history.pushState}function Ue(k,Z){if(0==k.length)return Z;if(0==Z.length)return k;let L=0;return k.endsWith("/")&&L++,Z.startsWith("/")&&L++,2==L?k+Z.substring(1):1==L?k+Z:k+"/"+Z}function Be(k){const Z=k.match(/#|\?|$/),L=Z&&Z.index||k.length;return k.slice(0,L-("/"===k[L-1]?1:0))+k.slice(L)}function Pt(k){return k&&"?"!==k[0]?"?"+k:k}let Ke=(()=>{class k{historyGo(L){throw new Error("Not implemented")}}return k.\u0275fac=function(L){return new(L||k)},k.\u0275prov=v.Yz7({token:k,factory:function(){return(0,v.f3M)(Ae)},providedIn:"root"}),k})();const Je=new v.OlP("appBaseHref");let Ae=(()=>{class k extends Ke{constructor(L,X){super(),this._platformLocation=L,this._removeListenerFns=[],this._baseHref=X??this._platformLocation.getBaseHrefFromDOM()??(0,v.f3M)(he).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(L){this._removeListenerFns.push(this._platformLocation.onPopState(L),this._platformLocation.onHashChange(L))}getBaseHref(){return this._baseHref}prepareExternalUrl(L){return Ue(this._baseHref,L)}path(L=!1){const X=this._platformLocation.pathname+Pt(this._platformLocation.search),be=this._platformLocation.hash;return be&&L?`${X}${be}`:X}pushState(L,X,be,ot){const vt=this.prepareExternalUrl(be+Pt(ot));this._platformLocation.pushState(L,X,vt)}replaceState(L,X,be,ot){const vt=this.prepareExternalUrl(be+Pt(ot));this._platformLocation.replaceState(L,X,vt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(L=0){this._platformLocation.historyGo?.(L)}}return k.\u0275fac=function(L){return new(L||k)(v.LFG(Te),v.LFG(Je,8))},k.\u0275prov=v.Yz7({token:k,factory:k.\u0275fac,providedIn:"root"}),k})(),Zt=(()=>{class k extends Ke{constructor(L,X){super(),this._platformLocation=L,this._baseHref="",this._removeListenerFns=[],null!=X&&(this._baseHref=X)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(L){this._removeListenerFns.push(this._platformLocation.onPopState(L),this._platformLocation.onHashChange(L))}getBaseHref(){return this._baseHref}path(L=!1){let X=this._platformLocation.hash;return null==X&&(X="#"),X.length>0?X.substring(1):X}prepareExternalUrl(L){const X=Ue(this._baseHref,L);return X.length>0?"#"+X:X}pushState(L,X,be,ot){let vt=this.prepareExternalUrl(be+Pt(ot));0==vt.length&&(vt=this._platformLocation.pathname),this._platformLocation.pushState(L,X,vt)}replaceState(L,X,be,ot){let vt=this.prepareExternalUrl(be+Pt(ot));0==vt.length&&(vt=this._platformLocation.pathname),this._platformLocation.replaceState(L,X,vt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(L=0){this._platformLocation.historyGo?.(L)}}return k.\u0275fac=function(L){return new(L||k)(v.LFG(Te),v.LFG(Je,8))},k.\u0275prov=v.Yz7({token:k,factory:k.\u0275fac}),k})(),ut=(()=>{class k{constructor(L){this._subject=new v.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=L;const X=this._locationStrategy.getBaseHref();this._baseHref=Be(Ft(X)),this._locationStrategy.onPopState(be=>{this._subject.emit({url:this.path(!0),pop:!0,state:be.state,type:be.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(L=!1){return this.normalize(this._locationStrategy.path(L))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(L,X=""){return this.path()==this.normalize(L+Pt(X))}normalize(L){return k.stripTrailingSlash(function Fe(k,Z){return k&&Z.startsWith(k)?Z.substring(k.length):Z}(this._baseHref,Ft(L)))}prepareExternalUrl(L){return L&&"/"!==L[0]&&(L="/"+L),this._locationStrategy.prepareExternalUrl(L)}go(L,X="",be=null){this._locationStrategy.pushState(be,"",L,X),this._notifyUrlChangeListeners(this.prepareExternalUrl(L+Pt(X)),be)}replaceState(L,X="",be=null){this._locationStrategy.replaceState(be,"",L,X),this._notifyUrlChangeListeners(this.prepareExternalUrl(L+Pt(X)),be)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(L=0){this._locationStrategy.historyGo?.(L)}onUrlChange(L){return this._urlChangeListeners.push(L),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(X=>{this._notifyUrlChangeListeners(X.url,X.state)})),()=>{const X=this._urlChangeListeners.indexOf(L);this._urlChangeListeners.splice(X,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(L="",X){this._urlChangeListeners.forEach(be=>be(L,X))}subscribe(L,X,be){return this._subject.subscribe({next:L,error:X,complete:be})}}return k.normalizeQueryParams=Pt,k.joinWithSlash=Ue,k.stripTrailingSlash=Be,k.\u0275fac=function(L){return new(L||k)(v.LFG(Ke))},k.\u0275prov=v.Yz7({token:k,factory:function(){return function $e(){return new ut((0,v.LFG)(Ke))}()},providedIn:"root"}),k})();function Ft(k){return k.replace(/\/index.html$/,"")}var se=(()=>((se=se||{})[se.Decimal=0]="Decimal",se[se.Percent=1]="Percent",se[se.Currency=2]="Currency",se[se.Scientific=3]="Scientific",se))(),tt=(()=>((tt=tt||{})[tt.Format=0]="Format",tt[tt.Standalone=1]="Standalone",tt))(),Ot=(()=>((Ot=Ot||{})[Ot.Narrow=0]="Narrow",Ot[Ot.Abbreviated=1]="Abbreviated",Ot[Ot.Wide=2]="Wide",Ot[Ot.Short=3]="Short",Ot))(),kt=(()=>((kt=kt||{})[kt.Short=0]="Short",kt[kt.Medium=1]="Medium",kt[kt.Long=2]="Long",kt[kt.Full=3]="Full",kt))(),bt=(()=>((bt=bt||{})[bt.Decimal=0]="Decimal",bt[bt.Group=1]="Group",bt[bt.List=2]="List",bt[bt.PercentSign=3]="PercentSign",bt[bt.PlusSign=4]="PlusSign",bt[bt.MinusSign=5]="MinusSign",bt[bt.Exponential=6]="Exponential",bt[bt.SuperscriptingExponent=7]="SuperscriptingExponent",bt[bt.PerMille=8]="PerMille",bt[bt.Infinity=9]="Infinity",bt[bt.NaN=10]="NaN",bt[bt.TimeSeparator=11]="TimeSeparator",bt[bt.CurrencyDecimal=12]="CurrencyDecimal",bt[bt.CurrencyGroup=13]="CurrencyGroup",bt))();function Qe(k,Z,L){const X=(0,v.cg1)(k),ot=Tt([X[v.wAp.DayPeriodsFormat],X[v.wAp.DayPeriodsStandalone]],Z);return Tt(ot,L)}function ct(k,Z,L){const X=(0,v.cg1)(k),ot=Tt([X[v.wAp.DaysFormat],X[v.wAp.DaysStandalone]],Z);return Tt(ot,L)}function pt(k,Z,L){const X=(0,v.cg1)(k),ot=Tt([X[v.wAp.MonthsFormat],X[v.wAp.MonthsStandalone]],Z);return Tt(ot,L)}function pn(k,Z){return Tt((0,v.cg1)(k)[v.wAp.DateFormat],Z)}function Lt(k,Z){return Tt((0,v.cg1)(k)[v.wAp.TimeFormat],Z)}function An(k,Z){return Tt((0,v.cg1)(k)[v.wAp.DateTimeFormat],Z)}function It(k,Z){const L=(0,v.cg1)(k),X=L[v.wAp.NumberSymbols][Z];if(typeof X>"u"){if(Z===bt.CurrencyDecimal)return L[v.wAp.NumberSymbols][bt.Decimal];if(Z===bt.CurrencyGroup)return L[v.wAp.NumberSymbols][bt.Group]}return X}function kr(k){if(!k[v.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${k[v.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Tt(k,Z){for(let L=Z;L>-1;L--)if(typeof k[L]<"u")return k[L];throw new Error("Locale data API: locale data undefined")}function Vn(k){const[Z,L]=k.split(":");return{hours:+Z,minutes:+L}}const q=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,oe={},Ve=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Ct=(()=>((Ct=Ct||{})[Ct.Short=0]="Short",Ct[Ct.ShortGMT=1]="ShortGMT",Ct[Ct.Long=2]="Long",Ct[Ct.Extended=3]="Extended",Ct))(),Mt=(()=>((Mt=Mt||{})[Mt.FullYear=0]="FullYear",Mt[Mt.Month=1]="Month",Mt[Mt.Date=2]="Date",Mt[Mt.Hours=3]="Hours",Mt[Mt.Minutes=4]="Minutes",Mt[Mt.Seconds=5]="Seconds",Mt[Mt.FractionalSeconds=6]="FractionalSeconds",Mt[Mt.Day=7]="Day",Mt))(),Nt=(()=>((Nt=Nt||{})[Nt.DayPeriods=0]="DayPeriods",Nt[Nt.Days=1]="Days",Nt[Nt.Months=2]="Months",Nt[Nt.Eras=3]="Eras",Nt))();function dt(k,Z,L,X){let be=function je(k){if(mn(k))return k;if("number"==typeof k&&!isNaN(k))return new Date(k);if("string"==typeof k){if(k=k.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(k)){const[be,ot=1,vt=1]=k.split("-").map(Xt=>+Xt);return jt(be,ot-1,vt)}const L=parseFloat(k);if(!isNaN(k-L))return new Date(L);let X;if(X=k.match(q))return function qt(k){const Z=new Date(0);let L=0,X=0;const be=k[8]?Z.setUTCFullYear:Z.setFullYear,ot=k[8]?Z.setUTCHours:Z.setHours;k[9]&&(L=Number(k[9]+k[10]),X=Number(k[9]+k[11])),be.call(Z,Number(k[1]),Number(k[2])-1,Number(k[3]));const vt=Number(k[4]||0)-L,Xt=Number(k[5]||0)-X,kn=Number(k[6]||0),Jn=Math.floor(1e3*parseFloat("0."+(k[7]||0)));return ot.call(Z,vt,Xt,kn,Jn),Z}(X)}const Z=new Date(k);if(!mn(Z))throw new Error(`Unable to convert "${k}" into a date`);return Z}(k);Z=wn(L,Z)||Z;let Xt,vt=[];for(;Z;){if(Xt=Ve.exec(Z),!Xt){vt.push(Z);break}{vt=vt.concat(Xt.slice(1));const nr=vt.pop();if(!nr)break;Z=nr}}let kn=be.getTimezoneOffset();X&&(kn=fe(X,kn),be=function rt(k,Z,L){const X=L?-1:1,be=k.getTimezoneOffset();return function Se(k,Z){return(k=new Date(k.getTime())).setMinutes(k.getMinutes()+Z),k}(k,X*(fe(Z,be)-be))}(be,X,!0));let Jn="";return vt.forEach(nr=>{const qn=function ve(k){if(Dr[k])return Dr[k];let Z;switch(k){case"G":case"GG":case"GGG":Z=Qn(Nt.Eras,Ot.Abbreviated);break;case"GGGG":Z=Qn(Nt.Eras,Ot.Wide);break;case"GGGGG":Z=Qn(Nt.Eras,Ot.Narrow);break;case"y":Z=En(Mt.FullYear,1,0,!1,!0);break;case"yy":Z=En(Mt.FullYear,2,0,!0,!0);break;case"yyy":Z=En(Mt.FullYear,3,0,!1,!0);break;case"yyyy":Z=En(Mt.FullYear,4,0,!1,!0);break;case"Y":Z=In(1);break;case"YY":Z=In(2,!0);break;case"YYY":Z=In(3);break;case"YYYY":Z=In(4);break;case"M":case"L":Z=En(Mt.Month,1,1);break;case"MM":case"LL":Z=En(Mt.Month,2,1);break;case"MMM":Z=Qn(Nt.Months,Ot.Abbreviated);break;case"MMMM":Z=Qn(Nt.Months,Ot.Wide);break;case"MMMMM":Z=Qn(Nt.Months,Ot.Narrow);break;case"LLL":Z=Qn(Nt.Months,Ot.Abbreviated,tt.Standalone);break;case"LLLL":Z=Qn(Nt.Months,Ot.Wide,tt.Standalone);break;case"LLLLL":Z=Qn(Nt.Months,Ot.Narrow,tt.Standalone);break;case"w":Z=Sn(1);break;case"ww":Z=Sn(2);break;case"W":Z=Sn(1,!0);break;case"d":Z=En(Mt.Date,1);break;case"dd":Z=En(Mt.Date,2);break;case"c":case"cc":Z=En(Mt.Day,1);break;case"ccc":Z=Qn(Nt.Days,Ot.Abbreviated,tt.Standalone);break;case"cccc":Z=Qn(Nt.Days,Ot.Wide,tt.Standalone);break;case"ccccc":Z=Qn(Nt.Days,Ot.Narrow,tt.Standalone);break;case"cccccc":Z=Qn(Nt.Days,Ot.Short,tt.Standalone);break;case"E":case"EE":case"EEE":Z=Qn(Nt.Days,Ot.Abbreviated);break;case"EEEE":Z=Qn(Nt.Days,Ot.Wide);break;case"EEEEE":Z=Qn(Nt.Days,Ot.Narrow);break;case"EEEEEE":Z=Qn(Nt.Days,Ot.Short);break;case"a":case"aa":case"aaa":Z=Qn(Nt.DayPeriods,Ot.Abbreviated);break;case"aaaa":Z=Qn(Nt.DayPeriods,Ot.Wide);break;case"aaaaa":Z=Qn(Nt.DayPeriods,Ot.Narrow);break;case"b":case"bb":case"bbb":Z=Qn(Nt.DayPeriods,Ot.Abbreviated,tt.Standalone,!0);break;case"bbbb":Z=Qn(Nt.DayPeriods,Ot.Wide,tt.Standalone,!0);break;case"bbbbb":Z=Qn(Nt.DayPeriods,Ot.Narrow,tt.Standalone,!0);break;case"B":case"BB":case"BBB":Z=Qn(Nt.DayPeriods,Ot.Abbreviated,tt.Format,!0);break;case"BBBB":Z=Qn(Nt.DayPeriods,Ot.Wide,tt.Format,!0);break;case"BBBBB":Z=Qn(Nt.DayPeriods,Ot.Narrow,tt.Format,!0);break;case"h":Z=En(Mt.Hours,1,-12);break;case"hh":Z=En(Mt.Hours,2,-12);break;case"H":Z=En(Mt.Hours,1);break;case"HH":Z=En(Mt.Hours,2);break;case"m":Z=En(Mt.Minutes,1);break;case"mm":Z=En(Mt.Minutes,2);break;case"s":Z=En(Mt.Seconds,1);break;case"ss":Z=En(Mt.Seconds,2);break;case"S":Z=En(Mt.FractionalSeconds,1);break;case"SS":Z=En(Mt.FractionalSeconds,2);break;case"SSS":Z=En(Mt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":Z=Pr(Ct.Short);break;case"ZZZZZ":Z=Pr(Ct.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":Z=Pr(Ct.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":Z=Pr(Ct.Long);break;default:return null}return Dr[k]=Z,Z}(nr);Jn+=qn?qn(be,L,kn):"''"===nr?"'":nr.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Jn}function jt(k,Z,L){const X=new Date(0);return X.setFullYear(k,Z,L),X.setHours(0,0,0),X}function wn(k,Z){const L=function at(k){return(0,v.cg1)(k)[v.wAp.LocaleId]}(k);if(oe[L]=oe[L]||{},oe[L][Z])return oe[L][Z];let X="";switch(Z){case"shortDate":X=pn(k,kt.Short);break;case"mediumDate":X=pn(k,kt.Medium);break;case"longDate":X=pn(k,kt.Long);break;case"fullDate":X=pn(k,kt.Full);break;case"shortTime":X=Lt(k,kt.Short);break;case"mediumTime":X=Lt(k,kt.Medium);break;case"longTime":X=Lt(k,kt.Long);break;case"fullTime":X=Lt(k,kt.Full);break;case"short":const be=wn(k,"shortTime"),ot=wn(k,"shortDate");X=un(An(k,kt.Short),[be,ot]);break;case"medium":const vt=wn(k,"mediumTime"),Xt=wn(k,"mediumDate");X=un(An(k,kt.Medium),[vt,Xt]);break;case"long":const kn=wn(k,"longTime"),Jn=wn(k,"longDate");X=un(An(k,kt.Long),[kn,Jn]);break;case"full":const nr=wn(k,"fullTime"),qn=wn(k,"fullDate");X=un(An(k,kt.Full),[nr,qn])}return X&&(oe[L][Z]=X),X}function un(k,Z){return Z&&(k=k.replace(/\{([^}]+)}/g,function(L,X){return null!=Z&&X in Z?Z[X]:L})),k}function fn(k,Z,L="-",X,be){let ot="";(k<0||be&&k<=0)&&(be?k=1-k:(k=-k,ot=L));let vt=String(k);for(;vt.length<Z;)vt="0"+vt;return X&&(vt=vt.slice(vt.length-Z)),ot+vt}function En(k,Z,L=0,X=!1,be=!1){return function(ot,vt){let Xt=function Zr(k,Z){switch(k){case Mt.FullYear:return Z.getFullYear();case Mt.Month:return Z.getMonth();case Mt.Date:return Z.getDate();case Mt.Hours:return Z.getHours();case Mt.Minutes:return Z.getMinutes();case Mt.Seconds:return Z.getSeconds();case Mt.FractionalSeconds:return Z.getMilliseconds();case Mt.Day:return Z.getDay();default:throw new Error(`Unknown DateType value "${k}".`)}}(k,ot);if((L>0||Xt>-L)&&(Xt+=L),k===Mt.Hours)0===Xt&&-12===L&&(Xt=12);else if(k===Mt.FractionalSeconds)return function sr(k,Z){return fn(k,3).substring(0,Z)}(Xt,Z);const kn=It(vt,bt.MinusSign);return fn(Xt,Z,kn,X,be)}}function Qn(k,Z,L=tt.Format,X=!1){return function(be,ot){return function Mr(k,Z,L,X,be,ot){switch(L){case Nt.Months:return pt(Z,be,X)[k.getMonth()];case Nt.Days:return ct(Z,be,X)[k.getDay()];case Nt.DayPeriods:const vt=k.getHours(),Xt=k.getMinutes();if(ot){const Jn=function Kn(k){const Z=(0,v.cg1)(k);return kr(Z),(Z[v.wAp.ExtraData][2]||[]).map(X=>"string"==typeof X?Vn(X):[Vn(X[0]),Vn(X[1])])}(Z),nr=function mr(k,Z,L){const X=(0,v.cg1)(k);kr(X);const ot=Tt([X[v.wAp.ExtraData][0],X[v.wAp.ExtraData][1]],Z)||[];return Tt(ot,L)||[]}(Z,be,X),qn=Jn.findIndex(ui=>{if(Array.isArray(ui)){const[mt,br]=ui,Kr=vt>=mt.hours&&Xt>=mt.minutes,Rs=vt<br.hours||vt===br.hours&&Xt<br.minutes;if(mt.hours<br.hours){if(Kr&&Rs)return!0}else if(Kr||Rs)return!0}else if(ui.hours===vt&&ui.minutes===Xt)return!0;return!1});if(-1!==qn)return nr[qn]}return Qe(Z,be,X)[vt<12?0:1];case Nt.Eras:return function We(k,Z){return Tt((0,v.cg1)(k)[v.wAp.Eras],Z)}(Z,X)[k.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${L}`)}}(be,ot,k,Z,L,X)}}function Pr(k){return function(Z,L,X){const be=-1*X,ot=It(L,bt.MinusSign),vt=be>0?Math.floor(be/60):Math.ceil(be/60);switch(k){case Ct.Short:return(be>=0?"+":"")+fn(vt,2,ot)+fn(Math.abs(be%60),2,ot);case Ct.ShortGMT:return"GMT"+(be>=0?"+":"")+fn(vt,1,ot);case Ct.Long:return"GMT"+(be>=0?"+":"")+fn(vt,2,ot)+":"+fn(Math.abs(be%60),2,ot);case Ct.Extended:return 0===X?"Z":(be>=0?"+":"")+fn(vt,2,ot)+":"+fn(Math.abs(be%60),2,ot);default:throw new Error(`Unknown zone width "${k}"`)}}}function on(k){return jt(k.getFullYear(),k.getMonth(),k.getDate()+(4-k.getDay()))}function Sn(k,Z=!1){return function(L,X){let be;if(Z){const ot=new Date(L.getFullYear(),L.getMonth(),1).getDay()-1,vt=L.getDate();be=1+Math.floor((vt+ot)/7)}else{const ot=on(L),vt=function Rt(k){const Z=jt(k,0,1).getDay();return jt(k,0,1+(Z<=4?4:11)-Z)}(ot.getFullYear()),Xt=ot.getTime()-vt.getTime();be=1+Math.round(Xt/6048e5)}return fn(be,k,It(X,bt.MinusSign))}}function In(k,Z=!1){return function(L,X){return fn(on(L).getFullYear(),k,It(X,bt.MinusSign),Z)}}const Dr={};function fe(k,Z){k=k.replace(/:/g,"");const L=Date.parse("Jan 01, 1970 00:00:00 "+k)/6e4;return isNaN(L)?Z:L}function mn(k){return k instanceof Date&&!isNaN(k.valueOf())}const Gn=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Yr(k){const Z=parseInt(k);if(isNaN(Z))throw new Error("Invalid integer literal when parsing "+k);return Z}function Cs(k,Z){Z=encodeURIComponent(Z);for(const L of k.split(";")){const X=L.indexOf("="),[be,ot]=-1==X?[L,""]:[L.slice(0,X),L.slice(X+1)];if(be.trim()===Z)return decodeURIComponent(ot)}return null}let ur=(()=>{class k{constructor(L,X,be,ot){this._iterableDiffers=L,this._keyValueDiffers=X,this._ngEl=be,this._renderer=ot,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(L){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof L?L.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(L){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof L?L.split(/\s+/):L,this._rawClass&&((0,v.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const L=this._iterableDiffer.diff(this._rawClass);L&&this._applyIterableChanges(L)}else if(this._keyValueDiffer){const L=this._keyValueDiffer.diff(this._rawClass);L&&this._applyKeyValueChanges(L)}}_applyKeyValueChanges(L){L.forEachAddedItem(X=>this._toggleClass(X.key,X.currentValue)),L.forEachChangedItem(X=>this._toggleClass(X.key,X.currentValue)),L.forEachRemovedItem(X=>{X.previousValue&&this._toggleClass(X.key,!1)})}_applyIterableChanges(L){L.forEachAddedItem(X=>{if("string"!=typeof X.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,v.AaK)(X.item)}`);this._toggleClass(X.item,!0)}),L.forEachRemovedItem(X=>this._toggleClass(X.item,!1))}_applyClasses(L){L&&(Array.isArray(L)||L instanceof Set?L.forEach(X=>this._toggleClass(X,!0)):Object.keys(L).forEach(X=>this._toggleClass(X,!!L[X])))}_removeClasses(L){L&&(Array.isArray(L)||L instanceof Set?L.forEach(X=>this._toggleClass(X,!1)):Object.keys(L).forEach(X=>this._toggleClass(X,!1)))}_toggleClass(L,X){(L=L.trim())&&L.split(/\s+/g).forEach(be=>{X?this._renderer.addClass(this._ngEl.nativeElement,be):this._renderer.removeClass(this._ngEl.nativeElement,be)})}}return k.\u0275fac=function(L){return new(L||k)(v.Y36(v.ZZ4),v.Y36(v.aQg),v.Y36(v.SBq),v.Y36(v.Qsj))},k.\u0275dir=v.lG2({type:k,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),k})();class ds{constructor(Z,L,X,be){this.$implicit=Z,this.ngForOf=L,this.index=X,this.count=be}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let es=(()=>{class k{constructor(L,X,be){this._viewContainer=L,this._template=X,this._differs=be,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(L){this._ngForOf=L,this._ngForOfDirty=!0}set ngForTrackBy(L){this._trackByFn=L}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(L){L&&(this._template=L)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const L=this._ngForOf;!this._differ&&L&&(this._differ=this._differs.find(L).create(this.ngForTrackBy))}if(this._differ){const L=this._differ.diff(this._ngForOf);L&&this._applyChanges(L)}}_applyChanges(L){const X=this._viewContainer;L.forEachOperation((be,ot,vt)=>{if(null==be.previousIndex)X.createEmbeddedView(this._template,new ds(be.item,this._ngForOf,-1,-1),null===vt?void 0:vt);else if(null==vt)X.remove(null===ot?void 0:ot);else if(null!==ot){const Xt=X.get(ot);X.move(Xt,vt),hs(Xt,be)}});for(let be=0,ot=X.length;be<ot;be++){const Xt=X.get(be).context;Xt.index=be,Xt.count=ot,Xt.ngForOf=this._ngForOf}L.forEachIdentityChange(be=>{hs(X.get(be.currentIndex),be)})}static ngTemplateContextGuard(L,X){return!0}}return k.\u0275fac=function(L){return new(L||k)(v.Y36(v.s_b),v.Y36(v.Rgc),v.Y36(v.ZZ4))},k.\u0275dir=v.lG2({type:k,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),k})();function hs(k,Z){k.context.$implicit=Z.item}let Nr=(()=>{class k{constructor(L,X){this._viewContainer=L,this._context=new Is,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=X}set ngIf(L){this._context.$implicit=this._context.ngIf=L,this._updateView()}set ngIfThen(L){Cr("ngIfThen",L),this._thenTemplateRef=L,this._thenViewRef=null,this._updateView()}set ngIfElse(L){Cr("ngIfElse",L),this._elseTemplateRef=L,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(L,X){return!0}}return k.\u0275fac=function(L){return new(L||k)(v.Y36(v.s_b),v.Y36(v.Rgc))},k.\u0275dir=v.lG2({type:k,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),k})();class Is{constructor(){this.$implicit=null,this.ngIf=null}}function Cr(k,Z){if(Z&&!Z.createEmbeddedView)throw new Error(`${k} must be a TemplateRef, but received '${(0,v.AaK)(Z)}'.`)}let fi=(()=>{class k{constructor(L){this._viewContainerRef=L,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(L){if(L.ngTemplateOutlet||L.ngTemplateOutletInjector){const X=this._viewContainerRef;if(this._viewRef&&X.remove(X.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:be,ngTemplateOutletContext:ot,ngTemplateOutletInjector:vt}=this;this._viewRef=X.createEmbeddedView(be,ot,vt?{injector:vt}:void 0)}else this._viewRef=null}else this._viewRef&&L.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return k.\u0275fac=function(L){return new(L||k)(v.Y36(v.s_b))},k.\u0275dir=v.lG2({type:k,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[v.TTD]}),k})();let vs=(()=>{class k{constructor(L){this._locale=L}transform(L,X,be){if(!function Bo(k){return!(null==k||""===k||k!=k)}(L))return null;be=be||this._locale;try{return function Vi(k,Z,L){return function Un(k,Z,L,X,be,ot,vt=!1){let Xt="",kn=!1;if(isFinite(k)){let Jn=function Xi(k){let X,be,ot,vt,Xt,Z=Math.abs(k)+"",L=0;for((be=Z.indexOf("."))>-1&&(Z=Z.replace(".","")),(ot=Z.search(/e/i))>0?(be<0&&(be=ot),be+=+Z.slice(ot+1),Z=Z.substring(0,ot)):be<0&&(be=Z.length),ot=0;"0"===Z.charAt(ot);ot++);if(ot===(Xt=Z.length))X=[0],be=1;else{for(Xt--;"0"===Z.charAt(Xt);)Xt--;for(be-=ot,X=[],vt=0;ot<=Xt;ot++,vt++)X[vt]=Number(Z.charAt(ot))}return be>22&&(X=X.splice(0,21),L=be-1,be=1),{digits:X,exponent:L,integerLen:be}}(k);vt&&(Jn=function _i(k){if(0===k.digits[0])return k;const Z=k.digits.length-k.integerLen;return k.exponent?k.exponent+=2:(0===Z?k.digits.push(0,0):1===Z&&k.digits.push(0),k.integerLen+=2),k}(Jn));let nr=Z.minInt,qn=Z.minFrac,ui=Z.maxFrac;if(ot){const nn=ot.match(Gn);if(null===nn)throw new Error(`${ot} is not a valid digit info`);const Qa=nn[1],Vt=nn[3],it=nn[5];null!=Qa&&(nr=Yr(Qa)),null!=Vt&&(qn=Yr(Vt)),null!=it?ui=Yr(it):null!=Vt&&qn>ui&&(ui=qn)}!function Si(k,Z,L){if(Z>L)throw new Error(`The minimum number of digits after fraction (${Z}) is higher than the maximum (${L}).`);let X=k.digits,be=X.length-k.integerLen;const ot=Math.min(Math.max(Z,be),L);let vt=ot+k.integerLen,Xt=X[vt];if(vt>0){X.splice(Math.max(k.integerLen,vt));for(let qn=vt;qn<X.length;qn++)X[qn]=0}else{be=Math.max(0,be),k.integerLen=1,X.length=Math.max(1,vt=ot+1),X[0]=0;for(let qn=1;qn<vt;qn++)X[qn]=0}if(Xt>=5)if(vt-1<0){for(let qn=0;qn>vt;qn--)X.unshift(0),k.integerLen++;X.unshift(1),k.integerLen++}else X[vt-1]++;for(;be<Math.max(0,ot);be++)X.push(0);let kn=0!==ot;const Jn=Z+k.integerLen,nr=X.reduceRight(function(qn,ui,mt,br){return br[mt]=(ui+=qn)<10?ui:ui-10,kn&&(0===br[mt]&&mt>=Jn?br.pop():kn=!1),ui>=10?1:0},0);nr&&(X.unshift(nr),k.integerLen++)}(Jn,qn,ui);let mt=Jn.digits,br=Jn.integerLen;const Kr=Jn.exponent;let Rs=[];for(kn=mt.every(nn=>!nn);br<nr;br++)mt.unshift(0);for(;br<0;br++)mt.unshift(0);br>0?Rs=mt.splice(br,mt.length):(Rs=mt,mt=[0]);const dn=[];for(mt.length>=Z.lgSize&&dn.unshift(mt.splice(-Z.lgSize,mt.length).join(""));mt.length>Z.gSize;)dn.unshift(mt.splice(-Z.gSize,mt.length).join(""));mt.length&&dn.unshift(mt.join("")),Xt=dn.join(It(L,X)),Rs.length&&(Xt+=It(L,be)+Rs.join("")),Kr&&(Xt+=It(L,bt.Exponential)+"+"+Kr)}else Xt=It(L,bt.Infinity);return Xt=k<0&&!kn?Z.negPre+Xt+Z.negSuf:Z.posPre+Xt+Z.posSuf,Xt}(k,function vr(k,Z="-"){const L={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},X=k.split(";"),be=X[0],ot=X[1],vt=-1!==be.indexOf(".")?be.split("."):[be.substring(0,be.lastIndexOf("0")+1),be.substring(be.lastIndexOf("0")+1)],Xt=vt[0],kn=vt[1]||"";L.posPre=Xt.substring(0,Xt.indexOf("#"));for(let nr=0;nr<kn.length;nr++){const qn=kn.charAt(nr);"0"===qn?L.minFrac=L.maxFrac=nr+1:"#"===qn?L.maxFrac=nr+1:L.posSuf+=qn}const Jn=Xt.split(",");if(L.gSize=Jn[1]?Jn[1].length:0,L.lgSize=Jn[2]||Jn[1]?(Jn[2]||Jn[1]).length:0,ot){const nr=be.length-L.posPre.length-L.posSuf.length,qn=ot.indexOf("#");L.negPre=ot.substring(0,qn).replace(/'/g,""),L.negSuf=ot.slice(qn+nr).replace(/'/g,"")}else L.negPre=Z+L.posPre,L.negSuf=L.posSuf;return L}(function hn(k,Z){return(0,v.cg1)(k)[v.wAp.NumberFormats][Z]}(Z,se.Percent),It(Z,bt.MinusSign)),Z,bt.Group,bt.Decimal,L,!0).replace(new RegExp("%","g"),It(Z,bt.PercentSign))}(function fs(k){if("string"==typeof k&&!isNaN(Number(k)-parseFloat(k)))return Number(k);if("number"!=typeof k)throw new Error(`${k} is not a number`);return k}(L),be,X)}catch(ot){throw function Rr(k,Z){return new v.vHH(2100,!1)}()}}}return k.\u0275fac=function(L){return new(L||k)(v.Y36(v.soG,16))},k.\u0275pipe=v.Yjl({name:"percent",type:k,pure:!0,standalone:!0}),k})();let Ts=(()=>{class k{}return k.\u0275fac=function(L){return new(L||k)},k.\u0275mod=v.oAB({type:k}),k.\u0275inj=v.cJS({}),k})();const Ss="browser";function $o(k){return k===Ss}function Hr(k){return"server"===k}let Ho=(()=>{class k{}return k.\u0275prov=(0,v.Yz7)({token:k,providedIn:"root",factory:()=>new jr((0,v.LFG)(he),window)}),k})();class jr{constructor(Z,L){this.document=Z,this.window=L,this.offset=()=>[0,0]}setOffset(Z){this.offset=Array.isArray(Z)?()=>Z:Z}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(Z){this.supportsScrolling()&&this.window.scrollTo(Z[0],Z[1])}scrollToAnchor(Z){if(!this.supportsScrolling())return;const L=function pi(k,Z){const L=k.getElementById(Z)||k.getElementsByName(Z)[0];if(L)return L;if("function"==typeof k.createTreeWalker&&k.body&&(k.body.createShadowRoot||k.body.attachShadow)){const X=k.createTreeWalker(k.body,NodeFilter.SHOW_ELEMENT);let be=X.currentNode;for(;be;){const ot=be.shadowRoot;if(ot){const vt=ot.getElementById(Z)||ot.querySelector(`[name="${Z}"]`);if(vt)return vt}be=X.nextNode()}}return null}(this.document,Z);L&&(this.scrollToElement(L),L.focus())}setHistoryScrollRestoration(Z){if(this.supportScrollRestoration()){const L=this.window.history;L&&L.scrollRestoration&&(L.scrollRestoration=Z)}}scrollToElement(Z){const L=Z.getBoundingClientRect(),X=L.left+this.window.pageXOffset,be=L.top+this.window.pageYOffset,ot=this.offset();this.window.scrollTo(X-ot[0],be-ot[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const Z=Ci(this.window.history)||Ci(Object.getPrototypeOf(this.window.history));return!(!Z||!Z.writable&&!Z.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Ci(k){return Object.getOwnPropertyDescriptor(k,"scrollRestoration")}class ra{}},4650:(tn,ze,B)=>{B.d(ze,{$8M:()=>Fl,$Z:()=>hh,AFp:()=>rw,ALo:()=>Cb,AaK:()=>Te,Akn:()=>Nl,BQk:()=>Rg,CHM:()=>no,CRH:()=>Rb,CZH:()=>jy,CqO:()=>q_,D6c:()=>OD,DjV:()=>Uc,EJc:()=>Y1,EiD:()=>Yf,EpF:()=>Zm,F$t:()=>Wu,F4k:()=>W_,FYo:()=>ip,FiY:()=>Le,G48:()=>mD,Gf:()=>xb,GfV:()=>Tl,Gpc:()=>de,Gre:()=>Ed,Hsn:()=>yv,Ikx:()=>s_,JOm:()=>il,JVY:()=>Qt,KtG:()=>gs,L6k:()=>Cn,LAX:()=>Bn,LFG:()=>Yi,LSH:()=>Yp,Lbi:()=>Z1,Lck:()=>Hw,MAs:()=>G_,MGl:()=>Eh,MMx:()=>u0,NdJ:()=>qm,O4$:()=>ua,OlP:()=>dr,Oqu:()=>$g,PXZ:()=>cD,Q6J:()=>Pp,QGY:()=>Wm,QP$:()=>mn,Qsj:()=>rg,QtT:()=>rb,R0b:()=>Ku,RDi:()=>zd,Rgc:()=>g_,SBq:()=>ll,SDv:()=>nb,Sil:()=>J1,Suo:()=>kb,TTD:()=>vs,TgZ:()=>Li,Tol:()=>Lc,Udp:()=>Ff,VKq:()=>gb,W1O:()=>Lb,WLB:()=>mb,X6Q:()=>gD,XFs:()=>Tt,Xpm:()=>nt,Xts:()=>Xd,Y36:()=>ju,YKP:()=>ob,YNc:()=>Hm,Yjl:()=>Se,Yz7:()=>Lt,Z0I:()=>Zn,ZZ4:()=>O0,_Bn:()=>sb,_UZ:()=>z_,_Vd:()=>Yl,_c5:()=>kD,_uU:()=>i_,aQg:()=>P0,c2e:()=>W1,cJS:()=>It,cg1:()=>o_,dDg:()=>oD,dqk:()=>dt,eBb:()=>jn,eFA:()=>mw,ekj:()=>Vg,eoX:()=>fw,f3M:()=>ss,g9A:()=>sw,gxx:()=>ql,h0i:()=>Zg,hGG:()=>RD,hij:()=>Hp,iGM:()=>Nb,ifc:()=>Nt,ip1:()=>nw,jDz:()=>lb,kEZ:()=>_b,kL8:()=>by,kYT:()=>Dr,lG2:()=>fe,lcZ:()=>Eb,lqb:()=>cd,lri:()=>dw,mCW:()=>gc,n5z:()=>Wr,oAB:()=>In,oxw:()=>K_,pB0:()=>Oi,pQV:()=>n0,q3G:()=>qs,q4F:()=>yu,qLn:()=>ul,qOj:()=>Mm,qZA:()=>zm,qzn:()=>Ie,rWj:()=>hw,s9C:()=>Fc,sBO:()=>_D,sIi:()=>vh,s_b:()=>By,soG:()=>Gy,tb:()=>ow,tp0:()=>gn,uIk:()=>Lm,vHH:()=>Be,vpe:()=>Ad,wAp:()=>Xn,xp6:()=>Hu,ynx:()=>Fp,z2F:()=>zy,z3N:()=>te,zSh:()=>ud,zs3:()=>Ac});var v=B(7579),K=B(727),x=B(9751),l=B(6451),Ee=B(3099);function Ce(n){for(let r in n)if(n[r]===Ce)return r;throw Error("Could not find renamed property on target object.")}function he(n,r){for(const a in r)r.hasOwnProperty(a)&&!n.hasOwnProperty(a)&&(n[a]=r[a])}function Te(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Te).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const r=n.toString();if(null==r)return""+r;const a=r.indexOf("\n");return-1===a?r:r.substring(0,a)}function Pe(n,r){return null==n||""===n?null===r?"":r:null==r||""===r?n:n+" "+r}const ce=Ce({__forward_ref__:Ce});function de(n){return n.__forward_ref__=de,n.toString=function(){return Te(this())},n}function we(n){return _t(n)?n():n}function _t(n){return"function"==typeof n&&n.hasOwnProperty(ce)&&n.__forward_ref__===de}class Be extends Error{constructor(r,a){super(function Pt(n,r){return`NG0${Math.abs(n)}${r?": "+r.trim():""}`}(r,a)),this.code=r}}function Ke(n){return"string"==typeof n?n:null==n?"":String(n)}function $e(n,r){throw new Be(-201,!1)}function We(n,r,a,c){throw new Error(`ASSERTION ERROR: ${n}`+(null==c?"":` [Expected=> ${a} ${c} ${r} <=Actual]`))}function Lt(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function It(n){return{providers:n.providers||[],imports:n.imports||[]}}function hn(n){return Yn(n,kr)||Yn(n,mr)}function Zn(n){return null!==hn(n)}function Yn(n,r){return n.hasOwnProperty(r)?n[r]:null}function ir(n){return n&&(n.hasOwnProperty(Kn)||n.hasOwnProperty(_r))?n[Kn]:null}const kr=Ce({\u0275prov:Ce}),Kn=Ce({\u0275inj:Ce}),mr=Ce({ngInjectableDef:Ce}),_r=Ce({ngInjectorDef:Ce});var Tt=(()=>((Tt=Tt||{})[Tt.Default=0]="Default",Tt[Tt.Host=1]="Host",Tt[Tt.Self=2]="Self",Tt[Tt.SkipSelf=4]="SkipSelf",Tt[Tt.Optional=8]="Optional",Tt))();let Vn;function He(n){const r=Vn;return Vn=n,r}function ln(n,r,a){const c=hn(n);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:a&Tt.Optional?null:void 0!==r?r:void $e(Te(n))}function oe(n){return{toString:n}.toString()}var Ve=(()=>((Ve=Ve||{})[Ve.OnPush=0]="OnPush",Ve[Ve.Default=1]="Default",Ve))(),Nt=(()=>{return(n=Nt||(Nt={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Nt;var n})();const dt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),un={},fn=[],sr=Ce({\u0275cmp:Ce}),En=Ce({\u0275dir:Ce}),Zr=Ce({\u0275pipe:Ce}),Qn=Ce({\u0275mod:Ce}),Mr=Ce({\u0275fac:Ce}),Pr=Ce({__NG_ELEMENT_ID__:Ce});let rn=0;function nt(n){return oe(()=>{const a=!0===n.standalone,c={},p={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:c,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Ve.OnPush,directiveDefs:null,pipeDefs:null,standalone:a,dependencies:a&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||fn,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Nt.Emulated,id:"c"+rn++,styles:n.styles||fn,_:null,setInput:null,schemas:n.schemas||null,tView:null},y=n.dependencies,C=n.features;return p.inputs=ve(n.inputs,c),p.outputs=ve(n.outputs),C&&C.forEach(M=>M(p)),p.directiveDefs=y?()=>("function"==typeof y?y():y).map(on).filter(Sn):null,p.pipeDefs=y?()=>("function"==typeof y?y():y).map(qt).filter(Sn):null,p})}function on(n){return rt(n)||je(n)}function Sn(n){return null!==n}function In(n){return oe(()=>({type:n.type,bootstrap:n.bootstrap||fn,declarations:n.declarations||fn,imports:n.imports||fn,exports:n.exports||fn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Dr(n,r){return oe(()=>{const a=Gn(n,!0);a.declarations=r.declarations||fn,a.imports=r.imports||fn,a.exports=r.exports||fn})}function ve(n,r){if(null==n)return un;const a={};for(const c in n)if(n.hasOwnProperty(c)){let p=n[c],y=p;Array.isArray(p)&&(y=p[1],p=p[0]),a[p]=c,r&&(r[p]=y)}return a}const fe=nt;function Se(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function rt(n){return n[sr]||null}function je(n){return n[En]||null}function qt(n){return n[Zr]||null}function mn(n){const r=rt(n)||je(n)||qt(n);return null!==r&&r.standalone}function Gn(n,r){const a=n[Qn]||null;if(!a&&!0===r)throw new Error(`Type ${Te(n)} does not have '\u0275mod' property.`);return a}function Cr(n){return Array.isArray(n)&&"object"==typeof n[1]}function ni(n){return Array.isArray(n)&&!0===n[1]}function Us(n){return 0!=(8&n.flags)}function yi(n){return 2==(2&n.flags)}function ma(n){return 1==(1&n.flags)}function hi(n){return null!==n.template}function ta(n){return 0!=(256&n[2])}function Hi(n,r){return n.hasOwnProperty(Mr)?n[Mr]:null}class ji{constructor(r,a,c){this.previousValue=r,this.currentValue=a,this.firstChange=c}isFirstChange(){return this.firstChange}}function vs(){return Gi}function Gi(n){return n.type.prototype.ngOnChanges&&(n.setInput=fs),Bo}function Bo(){const n=To(this),r=n?.current;if(r){const a=n.previous;if(a===un)n.previous=r;else for(let c in r)a[c]=r[c];n.current=null,this.ngOnChanges(r)}}function fs(n,r,a,c){const p=To(n)||function Ts(n,r){return n[Qs]=r}(n,{previous:un,current:null}),y=p.current||(p.current={}),C=p.previous,M=this.declaredInputs[a],P=C[M];y[M]=new ji(P&&P.currentValue,r,C===un),n[c]=r}vs.ngInherit=!0;const Qs="__ngSimpleChanges__";function To(n){return n[Qs]||null}function ri(n){for(;Array.isArray(n);)n=n[0];return n}function Ci(n,r){return ri(r[n])}function pi(n,r){return ri(r[n.index])}function ra(n,r){return n.data[r]}function Bs(n,r){return n[r]}function ii(n,r){const a=r[n];return Cr(a)?a:a[0]}function jo(n){return 64==(64&n[2])}function vi(n,r){return null==r?null:n[r]}function Fr(n){n[18]=0}function Qr(n,r){n[5]+=r;let a=n,c=n[3];for(;null!==c&&(1===r&&1===a[5]||-1===r&&0===a[5]);)c[5]+=r,a=c,c=c[3]}const Nn={lFrame:ba(null),bindingsEnabled:!0};function zi(){return Nn.bindingsEnabled}function Et(){return Nn.lFrame.lView}function tr(){return Nn.lFrame.tView}function no(n){return Nn.lFrame.contextLView=n,n[8]}function gs(n){return Nn.lFrame.contextLView=null,n}function si(){let n=aa();for(;null!==n&&64===n.type;)n=n.parent;return n}function aa(){return Nn.lFrame.currentTNode}function Ra(){const n=Nn.lFrame,r=n.currentTNode;return n.isParent?r:r.parent}function Zi(n,r){const a=Nn.lFrame;a.currentTNode=n,a.isParent=r}function po(){return Nn.lFrame.isParent}function bs(){Nn.lFrame.isParent=!1}function O(){const n=Nn.lFrame;let r=n.bindingRootIndex;return-1===r&&(r=n.bindingRootIndex=n.tView.bindingStartIndex),r}function ee(){return Nn.lFrame.bindingIndex}function cn(){return Nn.lFrame.bindingIndex++}function or(n){const r=Nn.lFrame,a=r.bindingIndex;return r.bindingIndex=r.bindingIndex+n,a}function Ns(n){Nn.lFrame.inI18n=n}function go(n,r){const a=Nn.lFrame;a.bindingIndex=a.bindingRootIndex=n,xs(r)}function xs(n){Nn.lFrame.currentDirectiveIndex=n}function No(){return Nn.lFrame.currentQueryIndex}function Wi(n){Nn.lFrame.currentQueryIndex=n}function ya(n){const r=n[1];return 2===r.type?r.declTNode:1===r.type?n[6]:null}function Oa(n,r,a){if(a&Tt.SkipSelf){let p=r,y=n;for(;!(p=p.parent,null!==p||a&Tt.Host||(p=ya(y),null===p||(y=y[15],10&p.type))););if(null===p)return!1;r=p,n=y}const c=Nn.lFrame=va();return c.currentTNode=r,c.lView=n,!0}function $s(n){const r=va(),a=n[1];Nn.lFrame=r,r.currentTNode=a.firstChild,r.lView=n,r.tView=a,r.contextLView=n,r.bindingIndex=a.bindingStartIndex,r.inI18n=!1}function va(){const n=Nn.lFrame,r=null===n?null:n.child;return null===r?ba(n):r}function ba(n){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=r),r}function zo(){const n=Nn.lFrame;return Nn.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const la=zo;function ro(){const n=zo();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function gi(){return Nn.lFrame.selectedIndex}function ws(n){Nn.lFrame.selectedIndex=n}function Lr(){const n=Nn.lFrame;return ra(n.tView,n.selectedIndex)}function ua(){Nn.lFrame.currentNamespace="svg"}function rs(n,r){for(let a=r.directiveStart,c=r.directiveEnd;a<c;a++){const y=n.data[a].type.prototype,{ngAfterContentInit:C,ngAfterContentChecked:M,ngAfterViewInit:P,ngAfterViewChecked:G,ngOnDestroy:ne}=y;C&&(n.contentHooks||(n.contentHooks=[])).push(-a,C),M&&((n.contentHooks||(n.contentHooks=[])).push(a,M),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(a,M)),P&&(n.viewHooks||(n.viewHooks=[])).push(-a,P),G&&((n.viewHooks||(n.viewHooks=[])).push(a,G),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(a,G)),null!=ne&&(n.destroyHooks||(n.destroyHooks=[])).push(a,ne)}}function is(n,r,a){dl(n,r,3,a)}function La(n,r,a,c){(3&n[2])===a&&dl(n,r,a,c)}function ko(n,r){let a=n[2];(3&a)===r&&(a&=2047,a+=1,n[2]=a)}function dl(n,r,a,c){const y=c??-1,C=r.length-1;let M=0;for(let P=void 0!==c?65535&n[18]:0;P<C;P++)if("number"==typeof r[P+1]){if(M=r[P],null!=c&&M>=c)break}else r[P]<0&&(n[18]+=65536),(M<y||-1==y)&&(Tu(n,a,r,P),n[18]=(4294901760&n[18])+P+2),P++}function Tu(n,r,a,c){const p=a[c]<0,y=a[c+1],M=n[p?-a[c]:a[c]];if(p){if(n[2]>>11<n[18]>>16&&(3&n[2])===r){n[2]+=2048;try{y.call(M)}finally{}}}else try{y.call(M)}finally{}}class ms{constructor(r,a,c){this.factory=r,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=c}}function X(n,r,a){let c=0;for(;c<a.length;){const p=a[c];if("number"==typeof p){if(0!==p)break;c++;const y=a[c++],C=a[c++],M=a[c++];n.setAttribute(r,C,M,y)}else{const y=p,C=a[++c];ot(y)?n.setProperty(r,y,C):n.setAttribute(r,y,C),c++}}return c}function be(n){return 3===n||4===n||6===n}function ot(n){return 64===n.charCodeAt(0)}function vt(n,r){if(null!==r&&0!==r.length)if(null===n||0===n.length)n=r.slice();else{let a=-1;for(let c=0;c<r.length;c++){const p=r[c];"number"==typeof p?a=p:0===a||Xt(n,a,p,null,-1===a||2===a?r[++c]:null)}}return n}function Xt(n,r,a,c,p){let y=0,C=n.length;if(-1===r)C=-1;else for(;y<n.length;){const M=n[y++];if("number"==typeof M){if(M===r){C=-1;break}if(M>r){C=y-1;break}}}for(;y<n.length;){const M=n[y];if("number"==typeof M)break;if(M===a){if(null===c)return void(null!==p&&(n[y+1]=p));if(c===n[y+1])return void(n[y+2]=p)}y++,null!==c&&y++,null!==p&&y++}-1!==C&&(n.splice(C,0,r),y=C+1),n.splice(y++,0,a),null!==c&&n.splice(y++,0,c),null!==p&&n.splice(y++,0,p)}function kn(n){return-1!==n}function Jn(n){return 32767&n}function qn(n,r){let a=function nr(n){return n>>16}(n),c=r;for(;a>0;)c=c[15],a--;return c}let ui=!0;function mt(n){const r=ui;return ui=n,r}let dn=0;const nn={};function Vt(n,r){const a=St(n,r);if(-1!==a)return a;const c=r[1];c.firstCreatePass&&(n.injectorIndex=r.length,it(c.data,n),it(r,null),it(c.blueprint,null));const p=Ei(n,r),y=n.injectorIndex;if(kn(p)){const C=Jn(p),M=qn(p,r),P=M[1].data;for(let G=0;G<8;G++)r[y+G]=M[C+G]|P[C+G]}return r[y+8]=p,y}function it(n,r){n.push(0,0,0,0,0,0,0,0,r)}function St(n,r){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===r[n.injectorIndex+8]?-1:n.injectorIndex}function Ei(n,r){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let a=0,c=null,p=r;for(;null!==p;){if(c=wr(p),null===c)return-1;if(a++,p=p[15],-1!==c.injectorIndex)return c.injectorIndex|a<<16}return-1}function ca(n,r,a){!function Qa(n,r,a){let c;"string"==typeof a?c=a.charCodeAt(0)||0:a.hasOwnProperty(Pr)&&(c=a[Pr]),null==c&&(c=a[Pr]=dn++);const p=255&c;r.data[n+(p>>5)]|=1<<p}(n,r,a)}function Rl(n,r,a){if(a&Tt.Optional||void 0!==n)return n;$e()}function eu(n,r,a,c){if(a&Tt.Optional&&void 0===c&&(c=null),0==(a&(Tt.Self|Tt.Host))){const p=n[9],y=He(void 0);try{return p?p.get(r,c,a&Tt.Optional):ln(r,c,a&Tt.Optional)}finally{He(y)}}return Rl(c,0,a)}function fl(n,r,a,c=Tt.Default,p){if(null!==n){if(1024&r[2]){const C=function tu(n,r,a,c,p){let y=n,C=r;for(;null!==y&&null!==C&&1024&C[2]&&!(256&C[2]);){const M=Va(y,C,a,c|Tt.Self,nn);if(M!==nn)return M;let P=y.parent;if(!P){const G=C[21];if(G){const ne=G.get(a,nn,c);if(ne!==nn)return ne}P=wr(C),C=C[15]}y=P}return p}(n,r,a,c,nn);if(C!==nn)return C}const y=Va(n,r,a,c,nn);if(y!==nn)return y}return eu(r,a,c,p)}function Va(n,r,a,c,p){const y=function Ol(n){if("string"==typeof n)return n.charCodeAt(0)||0;const r=n.hasOwnProperty(Pr)?n[Pr]:void 0;return"number"==typeof r?r>=0?255&r:Pl:r}(a);if("function"==typeof y){if(!Oa(r,n,c))return c&Tt.Host?Rl(p,0,c):eu(r,a,c,p);try{const C=y(c);if(null!=C||c&Tt.Optional)return C;$e()}finally{la()}}else if("number"==typeof y){let C=null,M=St(n,r),P=-1,G=c&Tt.Host?r[16][6]:null;for((-1===M||c&Tt.SkipSelf)&&(P=-1===M?Ei(n,r):r[M+8],-1!==P&&zn(c,!1)?(C=r[1],M=Jn(P),r=qn(P,r)):M=-1);-1!==M;){const ne=r[1];if(ha(y,M,ne.data)){const ue=wa(M,r,a,C,c,G);if(ue!==nn)return ue}P=r[M+8],-1!==P&&zn(c,r[1].data[M+8]===G)&&ha(y,M,r)?(C=ne,M=Jn(P),r=qn(P,r)):M=-1}}return p}function wa(n,r,a,c,p,y){const C=r[1],M=C.data[n+8],ne=oi(M,C,a,null==c?yi(M)&&ui:c!=C&&0!=(3&M.type),p&Tt.Host&&y===M);return null!==ne?da(r,C,ne,M):nn}function oi(n,r,a,c,p){const y=n.providerIndexes,C=r.data,M=1048575&y,P=n.directiveStart,ne=y>>20,Ne=p?M+ne:n.directiveEnd;for(let Xe=c?M:M+ne;Xe<Ne;Xe++){const At=C[Xe];if(Xe<P&&a===At||Xe>=P&&At.type===a)return Xe}if(p){const Xe=C[P];if(Xe&&hi(Xe)&&Xe.type===a)return P}return null}function da(n,r,a,c){let p=n[a];const y=r.data;if(function hl(n){return n instanceof ms}(p)){const C=p;C.resolving&&function Ae(n,r){const a=r?`. Dependency path: ${r.join(" > ")} > ${n}`:"";throw new Be(-200,`Circular dependency in DI detected for ${n}${a}`)}(function Je(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Ke(n)}(y[a]));const M=mt(C.canSeeViewProviders);C.resolving=!0;const P=C.injectImpl?He(C.injectImpl):null;Oa(n,c,Tt.Default);try{p=n[a]=C.factory(void 0,y,n,c),r.firstCreatePass&&a>=c.directiveStart&&function Xl(n,r,a){const{ngOnChanges:c,ngOnInit:p,ngDoCheck:y}=r.type.prototype;if(c){const C=Gi(r);(a.preOrderHooks||(a.preOrderHooks=[])).push(n,C),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(n,C)}p&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-n,p),y&&((a.preOrderHooks||(a.preOrderHooks=[])).push(n,y),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(n,y))}(a,y[a],r)}finally{null!==P&&He(P),mt(M),C.resolving=!1,la()}}return p}function ha(n,r,a){return!!(a[r+(n>>5)]&1<<n)}function zn(n,r){return!(n&Tt.Self||n&Tt.Host&&r)}class Hs{constructor(r,a){this._tNode=r,this._lView=a}get(r,a,c){return fl(this._tNode,this._lView,r,c,a)}}function Pl(){return new Hs(si(),Et())}function Wr(n){return oe(()=>{const r=n.prototype.constructor,a=r[Mr]||xn(r),c=Object.prototype;let p=Object.getPrototypeOf(n.prototype).constructor;for(;p&&p!==c;){const y=p[Mr]||xn(p);if(y&&y!==a)return y;p=Object.getPrototypeOf(p)}return y=>new y})}function xn(n){return _t(n)?()=>{const r=xn(we(n));return r&&r()}:Hi(n)}function wr(n){const r=n[1],a=r.type;return 2===a?r.declTNode:1===a?n[6]:null}function Fl(n){return function Hc(n,r){if("class"===r)return n.classes;if("style"===r)return n.styles;const a=n.attrs;if(a){const c=a.length;let p=0;for(;p<c;){const y=a[p];if(be(y))break;if(0===y)p+=2;else if("number"==typeof y)for(p++;p<c&&"string"==typeof a[p];)p++;else{if(y===r)return a[p+1];p+=2}}}return null}(si(),n)}const en="__parameters__";function so(n,r,a){return oe(()=>{const c=function Os(n){return function(...a){if(n){const c=n(...a);for(const p in c)this[p]=c[p]}}}(r);function p(...y){if(this instanceof p)return c.apply(this,y),this;const C=new p(...y);return M.annotation=C,M;function M(P,G,ne){const ue=P.hasOwnProperty(en)?P[en]:Object.defineProperty(P,en,{value:[]})[en];for(;ue.length<=ne;)ue.push(null);return(ue[ne]=ue[ne]||[]).push(C),P}}return a&&(p.prototype=Object.create(a.prototype)),p.prototype.ngMetadataName=n,p.annotationCls=p,p})}class dr{constructor(r,a){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=Lt({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Ni(n,r){void 0===r&&(r=n);for(let a=0;a<n.length;a++){let c=n[a];Array.isArray(c)?(r===n&&(r=n.slice(0,a)),Ni(c,r)):r!==n&&r.push(c)}return r}function Gs(n,r){n.forEach(a=>Array.isArray(a)?Gs(a,r):r(a))}function Ll(n,r,a){r>=n.length?n.push(a):n.splice(r,0,a)}function Da(n,r){return r>=n.length-1?n.pop():n.splice(r,1)[0]}function el(n,r){const a=[];for(let c=0;c<n;c++)a.push(r);return a}function Q(n,r,a){let c=ye(n,r);return c>=0?n[1|c]=a:(c=~c,function A(n,r,a,c){let p=n.length;if(p==r)n.push(a,c);else if(1===p)n.push(c,n[0]),n[0]=a;else{for(p--,n.push(n[p-1],n[p]);p>r;)n[p]=n[p-2],p--;n[r]=a,n[r+1]=c}}(n,c,r,a)),c}function le(n,r){const a=ye(n,r);if(a>=0)return n[1|a]}function ye(n,r){return function Bt(n,r,a){let c=0,p=n.length>>a;for(;p!==c;){const y=c+(p-c>>1),C=n[y<<a];if(r===C)return y<<a;C>r?p=y:c=y+1}return~(p<<a)}(n,r,1)}const ml={},Ea="__NG_DI_FLAG__",_l="ngTempTokenPath",iu=/\n/gm,Xu="__source";let Po;function vo(n){const r=Po;return Po=n,r}function ec(n,r=Tt.Default){if(void 0===Po)throw new Be(-203,!1);return null===Po?ln(n,void 0,r):Po.get(n,r&Tt.Optional?null:void 0,r)}function Yi(n,r=Tt.Default){return(function Wn(){return Vn}()||ec)(we(n),r)}function ss(n,r=Tt.Default){return"number"!=typeof r&&(r=0|(r.optional&&8)|(r.host&&1)|(r.self&&2)|(r.skipSelf&&4)),Yi(n,r)}function Au(n){const r=[];for(let a=0;a<n.length;a++){const c=we(n[a]);if(Array.isArray(c)){if(0===c.length)throw new Be(900,!1);let p,y=Tt.Default;for(let C=0;C<c.length;C++){const M=c[C],P=H(M);"number"==typeof P?-1===P?p=M.token:y|=P:p=M}r.push(Yi(p,y))}else r.push(Yi(c))}return r}function F(n,r){return n[Ea]=r,n.prototype[Ea]=r,n}function H(n){return n[Ea]}const Le=F(so("Optional"),8),gn=F(so("SkipSelf"),4);var il=(()=>((il=il||{})[il.Important=1]="Important",il[il.DashCase=2]="DashCase",il))();const Mu=/^>|^->|<!--|-->|--!>|<!-$/g,Or=/(<|>)/;const Nu=new Map;let Rd=0;const Jc="__ngContext__";function wo(n,r){Cr(r)?(n[Jc]=r[20],function Od(n){Nu.set(n[20],n)}(r)):n[Jc]=r}let fa;function td(n,r){return fa(n,r)}function $l(n){const r=n[3];return ni(r)?r[3]:r}function lo(n){return ac(n[13])}function oc(n){return ac(n[4])}function ac(n){for(;null!==n&&!ni(n);)n=n[4];return n}function Hl(n,r,a,c,p){if(null!=c){let y,C=!1;ni(c)?y=c:Cr(c)&&(C=!0,c=c[0]);const M=ri(c);0===n&&null!==a?null==p?Zh(r,a,M):ja(r,a,M,p||null,!0):1===n&&null!==a?ja(r,a,M,p||null,!0):2===n?al(r,M,C):3===n&&r.destroyNode(M),null!=y&&function pa(n,r,a,c,p){const y=a[7];y!==ri(a)&&Hl(r,n,c,y,p);for(let M=10;M<a.length;M++){const P=a[M];hc(P[1],P,n,r,c,y)}}(r,n,y,a,p)}}function Ki(n,r){return n.createText(r)}function sl(n,r,a){n.setValue(r,a)}function lc(n,r){return n.createComment(function au(n){return n.replace(Mu,r=>r.replace(Or,"\u200b$1\u200b"))}(r))}function Dl(n,r,a){return n.createElement(r,a)}function Vd(n,r){const a=n[9],c=a.indexOf(r),p=r[3];512&r[2]&&(r[2]&=-513,Qr(p,-1)),a.splice(c,1)}function Zs(n,r){if(n.length<=10)return;const a=10+r,c=n[a];if(c){const p=c[17];null!==p&&p!==n&&Vd(p,c),r>0&&(n[a-1][4]=c[4]);const y=Da(n,10+r);!function ki(n,r){hc(n,r,r[11],2,null,null),r[0]=null,r[6]=null}(c[1],c);const C=y[19];null!==C&&C.detachView(y[1]),c[3]=null,c[4]=null,c[2]&=-65}return c}function Ud(n,r){if(!(128&r[2])){const a=r[11];a.destroyNode&&hc(n,r,a,3,null,null),function os(n){let r=n[13];if(!r)return Gl(n[1],n);for(;r;){let a=null;if(Cr(r))a=r[13];else{const c=r[10];c&&(a=c)}if(!a){for(;r&&!r[4]&&r!==n;)Cr(r)&&Gl(r[1],r),r=r[3];null===r&&(r=n),Cr(r)&&Gl(r[1],r),a=r&&r[4]}r=a}}(r)}}function Gl(n,r){if(!(128&r[2])){r[2]&=-65,r[2]|=128,function Ws(n,r){let a;if(null!=n&&null!=(a=n.destroyHooks))for(let c=0;c<a.length;c+=2){const p=r[a[c]];if(!(p instanceof ms)){const y=a[c+1];if(Array.isArray(y))for(let C=0;C<y.length;C+=2){const M=p[y[C]],P=y[C+1];try{P.call(M)}finally{}}else try{y.call(p)}finally{}}}}(n,r),function Gh(n,r){const a=n.cleanup,c=r[7];let p=-1;if(null!==a)for(let y=0;y<a.length-1;y+=2)if("string"==typeof a[y]){const C=a[y+1],M="function"==typeof C?C(r):ri(r[C]),P=c[p=a[y+2]],G=a[y+3];"boolean"==typeof G?M.removeEventListener(a[y],P,G):G>=0?c[p=G]():c[p=-G].unsubscribe(),y+=2}else{const C=c[p=a[y+1]];a[y].call(C)}if(null!==c){for(let y=p+1;y<c.length;y++)(0,c[y])();r[7]=null}}(n,r),1===r[1].type&&r[11].destroy();const a=r[17];if(null!==a&&ni(r[3])){a!==r[3]&&Vd(a,r);const c=r[19];null!==c&&c.detachView(n)}!function Yc(n){Nu.delete(n[20])}(r)}}function rr(n,r,a){return zh(n,r.parent,a)}function zh(n,r,a){let c=r;for(;null!==c&&40&c.type;)c=(r=c).parent;if(null===c)return a[0];if(2&c.flags){const p=n.data[c.directiveStart].encapsulation;if(p===Nt.None||p===Nt.Emulated)return null}return pi(c,a)}function ja(n,r,a,c,p){n.insertBefore(r,a,c,p)}function Zh(n,r,a){n.appendChild(r,a)}function Bd(n,r,a,c,p){null!==c?ja(n,r,a,c,p):Zh(n,r,a)}function uc(n,r){return n.parentNode(r)}function uu(n,r,a){return ol(n,r,a)}function zl(n,r,a){return 40&n.type?pi(n,a):null}let cu,Gd,Do,ol=zl;function Cl(n,r){ol=n,cu=r}function Ls(n,r,a,c){const p=rr(n,c,r),y=r[11],M=uu(c.parent||r[6],c,r);if(null!=p)if(Array.isArray(a))for(let P=0;P<a.length;P++)Bd(y,p,a[P],M,!1);else Bd(y,p,a,M,!1);void 0!==cu&&cu(y,c,r,a,p)}function Yo(n,r){if(null!==r){const a=r.type;if(3&a)return pi(r,n);if(4&a)return Hd(-1,n[r.index]);if(8&a){const c=r.child;if(null!==c)return Yo(n,c);{const p=n[r.index];return ni(p)?Hd(-1,p):ri(p)}}if(32&a)return td(r,n)()||ri(n[r.index]);{const c=cc(n,r);return null!==c?Array.isArray(c)?c[0]:Yo($l(n[16]),c):Yo(n,r.next)}}return null}function cc(n,r){return null!==r?n[16][6].projection[r.projection]:null}function Hd(n,r){const a=10+n+1;if(a<r.length){const c=r[a],p=c[1].firstChild;if(null!==p)return Yo(c,p)}return r[7]}function al(n,r,a){const c=uc(n,r);c&&function Pu(n,r,a,c){n.removeChild(r,a,c)}(n,c,r,a)}function dc(n,r,a,c,p,y,C){for(;null!=a;){const M=c[a.index],P=a.type;if(C&&0===r&&(M&&wo(ri(M),c),a.flags|=4),64!=(64&a.flags))if(8&P)dc(n,r,a.child,c,p,y,!1),Hl(r,n,p,M,y);else if(32&P){const G=td(a,c);let ne;for(;ne=G();)Hl(r,n,p,ne,y);Hl(r,n,p,M,y)}else 16&P?du(n,r,c,a,p,y):Hl(r,n,p,M,y);a=C?a.projectionNext:a.next}}function hc(n,r,a,c,p,y){dc(a,c,n.firstChild,r,p,y,!1)}function du(n,r,a,c,p,y){const C=a[16],P=C[6].projection[c.projection];if(Array.isArray(P))for(let G=0;G<P.length;G++)Hl(r,n,p,P[G],y);else dc(n,r,P,C[3],p,y,!0)}function Wh(n,r,a){n.setAttribute(r,"style",a)}function Zl(n,r,a){""===a?n.removeAttribute(r,"class"):n.setAttribute(r,"class",a)}function wi(n){return function rd(){if(void 0===Gd&&(Gd=null,dt.trustedTypes))try{Gd=dt.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Gd}()?.createHTML(n)||n}function zd(n){Do=n}class fu{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class D extends fu{getTypeName(){return"HTML"}}class g extends fu{getTypeName(){return"Style"}}class _ extends fu{getTypeName(){return"Script"}}class I extends fu{getTypeName(){return"URL"}}class z extends fu{getTypeName(){return"ResourceURL"}}function te(n){return n instanceof fu?n.changingThisBreaksApplicationSecurity:n}function Ie(n,r){const a=function gt(n){return n instanceof fu&&n.getTypeName()||null}(n);if(null!=a&&a!==r){if("ResourceURL"===a&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===r}function Qt(n){return new D(n)}function Cn(n){return new g(n)}function jn(n){return new _(n)}function Bn(n){return new I(n)}function Oi(n){return new z(n)}function Ko(n){const r=new Kh(n);return function Fu(){try{return!!(new window.DOMParser).parseFromString(wi(""),"text/html")}catch{return!1}}()?new pc(r):r}class pc{constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{const a=(new window.DOMParser).parseFromString(wi(r),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(r):(a.removeChild(a.firstChild),a)}catch{return null}}}class Kh{constructor(r){if(this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const a=this.inertDocument.createElement("html");this.inertDocument.appendChild(a);const c=this.inertDocument.createElement("body");a.appendChild(c)}}getInertBodyElement(r){const a=this.inertDocument.createElement("template");if("content"in a)return a.innerHTML=wi(r),a;const c=this.inertDocument.createElement("body");return c.innerHTML=wi(r),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(c),c}stripCustomNsAttrs(r){const a=r.attributes;for(let p=a.length-1;0<p;p--){const C=a.item(p).name;("xmlns:ns1"===C||0===C.indexOf("ns1:"))&&r.removeAttribute(C)}let c=r.firstChild;for(;c;)c.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(c),c=c.nextSibling}}const sd=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function gc(n){return(n=String(n)).match(sd)?n:"unsafe:"+n}function Co(n){const r={};for(const a of n.split(","))r[a]=!0;return r}function pu(...n){const r={};for(const a of n)for(const c in a)a.hasOwnProperty(c)&&(r[c]=!0);return r}const Wd=Co("area,br,col,hr,img,wbr"),Pi=Co("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),mc=Co("rp,rt"),qd=pu(Wd,pu(Pi,Co("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),pu(mc,Co("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),pu(mc,Pi)),od=Co("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),qf=pu(od,Co("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Co("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Jh=Co("script,style,template");class Yg{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(r){let a=r.firstChild,c=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?c=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,c&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let p=this.checkClobberedElement(a,a.nextSibling);if(p){a=p;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(r){const a=r.nodeName.toLowerCase();if(!qd.hasOwnProperty(a))return this.sanitizedSomething=!0,!Jh.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const c=r.attributes;for(let p=0;p<c.length;p++){const y=c.item(p),C=y.name,M=C.toLowerCase();if(!qf.hasOwnProperty(M)){this.sanitizedSomething=!0;continue}let P=y.value;od[M]&&(P=gc(P)),this.buf.push(" ",C,'="',Er(P),'"')}return this.buf.push(">"),!0}endElement(r){const a=r.nodeName.toLowerCase();qd.hasOwnProperty(a)&&!Wd.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(r){this.buf.push(Er(r))}checkClobberedElement(r,a){if(a&&(r.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${r.outerHTML}`);return a}}const Kg=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ad=/([^\#-~ |!])/g;function Er(n){return n.replace(/&/g,"&amp;").replace(Kg,function(r){return"&#"+(1024*(r.charCodeAt(0)-55296)+(r.charCodeAt(1)-56320)+65536)+";"}).replace(ad,function(r){return"&#"+r.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Qh;function Yf(n,r){let a=null;try{Qh=Qh||Ko(n);let c=r?String(r):"";a=Qh.getInertBodyElement(c);let p=5,y=c;do{if(0===p)throw new Error("Failed to sanitize html because the input is unstable");p--,c=y,y=a.innerHTML,a=Qh.getInertBodyElement(c)}while(c!==y);return wi((new Yg).sanitizeChildren(Yd(a)||a))}finally{if(a){const c=Yd(a)||a;for(;c.firstChild;)c.removeChild(c.firstChild)}}}function Yd(n){return"content"in n&&function Kd(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var qs=(()=>((qs=qs||{})[qs.NONE=0]="NONE",qs[qs.HTML=1]="HTML",qs[qs.STYLE=2]="STYLE",qs[qs.SCRIPT=3]="SCRIPT",qs[qs.URL=4]="URL",qs[qs.RESOURCE_URL=5]="RESOURCE_URL",qs))();function Yp(n){const r=function Qd(){const n=Et();return n&&n[12]}();return r?r.sanitize(qs.URL,n)||"":Ie(n,"URL")?te(n):gc(Ke(n))}const Xd=new dr("ENVIRONMENT_INITIALIZER"),ql=new dr("INJECTOR",-1),Bu=new dr("INJECTOR_DEF_TYPES");class mu{get(r,a=ml){if(a===ml){const c=new Error(`NullInjectorError: No provider for ${Te(r)}!`);throw c.name="NullInjectorError",c}return a}}function _c(...n){return{\u0275providers:yc(0,n)}}function yc(n,...r){const a=[],c=new Set;let p;return Gs(r,y=>{const C=y;eh(C,a,[],c)&&(p||(p=[]),p.push(C))}),void 0!==p&&Qp(p,a),a}function Qp(n,r){for(let a=0;a<n.length;a++){const{providers:p}=n[a];Gs(p,y=>{r.push(y)})}}function eh(n,r,a,c){if(!(n=we(n)))return!1;let p=null,y=ir(n);const C=!y&&rt(n);if(y||C){if(C&&!C.standalone)return!1;p=n}else{const P=n.ngModule;if(y=ir(P),!y)return!1;p=P}const M=c.has(p);if(C){if(M)return!1;if(c.add(p),C.dependencies){const P="function"==typeof C.dependencies?C.dependencies():C.dependencies;for(const G of P)eh(G,r,a,c)}}else{if(!y)return!1;{if(null!=y.imports&&!M){let G;c.add(p);try{Gs(y.imports,ne=>{eh(ne,r,a,c)&&(G||(G=[]),G.push(ne))})}finally{}void 0!==G&&Qp(G,r)}if(!M){const G=Hi(p)||(()=>new p);r.push({provide:p,useFactory:G,deps:fn},{provide:Bu,useValue:p,multi:!0},{provide:Xd,useValue:()=>Yi(p),multi:!0})}const P=y.providers;null==P||M||Gs(P,ne=>{r.push(ne)})}}return p!==n&&void 0!==n.providers}const Qg=Ce({provide:String,useValue:Ce});function Qf(n){return null!==n&&"object"==typeof n&&Qg in n}function vc(n){return"function"==typeof n}const ud=new dr("Set Injector scope."),_u={},y_={};let ep;function tp(){return void 0===ep&&(ep=new mu),ep}class cd{}class em extends cd{constructor(r,a,c,p){super(),this.parent=a,this.source=c,this.scopes=p,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ta(r,C=>this.processProvider(C)),this.records.set(ql,th(void 0,this)),p.has("environment")&&this.records.set(cd,th(void 0,this));const y=this.records.get(ud);null!=y&&"string"==typeof y.value&&this.scopes.add(y.value),this.injectorDefTypes=new Set(this.get(Bu.multi,fn,Tt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();for(const r of this._onDestroyHooks)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(r){this._onDestroyHooks.push(r)}runInContext(r){this.assertNotDestroyed();const a=vo(this),c=He(void 0);try{return r()}finally{vo(a),He(c)}}get(r,a=ml,c=Tt.Default){this.assertNotDestroyed();const p=vo(this),y=He(void 0);try{if(!(c&Tt.SkipSelf)){let M=this.records.get(r);if(void 0===M){const P=function Xh(n){return"function"==typeof n||"object"==typeof n&&n instanceof dr}(r)&&hn(r);M=P&&this.injectableDefInScope(P)?th(bc(r),_u):null,this.records.set(r,M)}if(null!=M)return this.hydrate(r,M)}return(c&Tt.Self?tp():this.parent).get(r,a=c&Tt.Optional&&a===ml?null:a)}catch(C){if("NullInjectorError"===C.name){if((C[_l]=C[_l]||[]).unshift(Te(r)),p)throw C;return function Y(n,r,a,c){const p=n[_l];throw r[Xu]&&p.unshift(r[Xu]),n.message=function _e(n,r,a,c=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let p=Te(r);if(Array.isArray(r))p=r.map(Te).join(" -> ");else if("object"==typeof r){let y=[];for(let C in r)if(r.hasOwnProperty(C)){let M=r[C];y.push(C+":"+("string"==typeof M?JSON.stringify(M):Te(M)))}p=`{${y.join(", ")}}`}return`${a}${c?"("+c+")":""}[${p}]: ${n.replace(iu,"\n  ")}`}("\n"+n.message,p,a,c),n.ngTokenPath=p,n[_l]=null,n}(C,r,"R3InjectorError",this.source)}throw C}finally{He(y),vo(p)}}resolveInjectorInitializers(){const r=vo(this),a=He(void 0);try{const c=this.get(Xd.multi,fn,Tt.Self);for(const p of c)p()}finally{vo(r),He(a)}}toString(){const r=[],a=this.records;for(const c of a.keys())r.push(Te(c));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Be(205,!1)}processProvider(r){let a=vc(r=we(r))?r:we(r&&r.provide);const c=function wc(n){return Qf(n)?th(void 0,n.useValue):th(tg(n),_u)}(r);if(vc(r)||!0!==r.multi)this.records.get(a);else{let p=this.records.get(a);p||(p=th(void 0,_u,!0),p.factory=()=>Au(p.multi),this.records.set(a,p)),a=r,p.multi.push(r)}this.records.set(a,c)}hydrate(r,a){return a.value===_u&&(a.value=y_,a.value=a.factory()),"object"==typeof a.value&&a.value&&function v_(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(r){if(!r.providedIn)return!1;const a=we(r.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}}function bc(n){const r=hn(n),a=null!==r?r.factory:Hi(n);if(null!==a)return a;if(n instanceof dr)throw new Be(204,!1);if(n instanceof Function)return function dd(n){const r=n.length;if(r>0)throw el(r,"?"),new Be(204,!1);const a=function hr(n){const r=n&&(n[kr]||n[mr]);if(r){const a=function lr(n){if(n.hasOwnProperty("name"))return n.name;const r=(""+n).match(/^function\s*([^\s(]+)/);return null===r?"":r[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),r}return null}(n);return null!==a?()=>a.factory(n):()=>new n}(n);throw new Be(204,!1)}function tg(n,r,a){let c;if(vc(n)){const p=we(n);return Hi(p)||bc(p)}if(Qf(n))c=()=>we(n.useValue);else if(function eg(n){return!(!n||!n.useFactory)}(n))c=()=>n.useFactory(...Au(n.deps||[]));else if(function Xg(n){return!(!n||!n.useExisting)}(n))c=()=>Yi(we(n.useExisting));else{const p=we(n&&(n.useClass||n.provide));if(!function tm(n){return!!n.deps}(n))return Hi(p)||bc(p);c=()=>new p(...Au(n.deps))}return c}function th(n,r,a=!1){return{factory:n,value:r,multi:a?[]:void 0}}function ng(n){return!!n.\u0275providers}function Ta(n,r){for(const a of n)Array.isArray(a)?Ta(a,r):ng(a)?Ta(a.\u0275providers,r):r(a)}class hd{}class rp{resolveComponentFactory(r){throw function np(n){const r=Error(`No component factory found for ${Te(n)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=n,r}(r)}}let Yl=(()=>{class n{}return n.NULL=new rp,n})();function w_(){return Il(si(),Et())}function Il(n,r){return new ll(pi(n,r))}let ll=(()=>{class n{constructor(a){this.nativeElement=a}}return n.__NG_ELEMENT_ID__=w_,n})();function nh(n){return n instanceof ll?n.nativeElement:n}class ip{}let rg=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function Sa(){const n=Et(),a=ii(si().index,n);return(Cr(a)?a:n)[11]}(),n})(),Cc=(()=>{class n{}return n.\u0275prov=Lt({token:n,providedIn:"root",factory:()=>null}),n})();class Tl{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const yu=new Tl("14.3.0"),Ec={};function Kl(n){return n.ngOriginalError}class ul{constructor(){this._console=console}handleError(r){const a=this._findOriginalError(r);this._console.error("ERROR",r),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(r){let a=r&&Kl(r);for(;a&&Kl(a);)a=Kl(a);return a||null}}function $u(n){return n instanceof Function?n():n}function bu(n,r,a){let c=n.length;for(;;){const p=n.indexOf(r,a);if(-1===p)return p;if(0===p||n.charCodeAt(p-1)<=32){const y=r.length;if(p+y===c||n.charCodeAt(p+y)<=32)return p}a=p+1}}const nf="ng-template";function op(n,r,a){let c=0;for(;c<n.length;){let p=n[c++];if(a&&"class"===p){if(p=n[c],-1!==bu(p.toLowerCase(),r,0))return!0}else if(1===p){for(;c<n.length&&"string"==typeof(p=n[c++]);)if(p.toLowerCase()===r)return!0;return!1}}return!1}function ap(n){return 4===n.type&&n.value!==nf}function sh(n,r,a){return r===(4!==n.type||a?n.value:nf)}function om(n,r,a){let c=4;const p=n.attrs||[],y=function Tc(n){for(let r=0;r<n.length;r++)if(be(n[r]))return r;return n.length}(p);let C=!1;for(let M=0;M<r.length;M++){const P=r[M];if("number"!=typeof P){if(!C)if(4&c){if(c=2|1&c,""!==P&&!sh(n,P,a)||""===P&&1===r.length){if(Aa(c))return!1;C=!0}}else{const G=8&c?P:r[++M];if(8&c&&null!==n.attrs){if(!op(n.attrs,G,a)){if(Aa(c))return!1;C=!0}continue}const ue=ig(8&c?"class":P,p,ap(n),a);if(-1===ue){if(Aa(c))return!1;C=!0;continue}if(""!==G){let Ne;Ne=ue>y?"":p[ue+1].toLowerCase();const Xe=8&c?Ne:null;if(Xe&&-1!==bu(Xe,G,0)||2&c&&G!==Ne){if(Aa(c))return!1;C=!0}}}}else{if(!C&&!Aa(c)&&!Aa(P))return!1;if(C&&Aa(P))continue;C=!1,c=P|1&c}}return Aa(c)||C}function Aa(n){return 0==(1&n)}function ig(n,r,a,c){if(null===r)return-1;let p=0;if(c||!a){let y=!1;for(;p<r.length;){const C=r[p];if(C===n)return p;if(3===C||6===C)y=!0;else{if(1===C||2===C){let M=r[++p];for(;"string"==typeof M;)M=r[++p];continue}if(4===C)break;if(0===C){p+=4;continue}}p+=y?1:2}return-1}return function lp(n,r){let a=n.indexOf(4);if(a>-1)for(a++;a<n.length;){const c=n[a];if("number"==typeof c)return-1;if(c===r)return a;a++}return-1}(r,n)}function Ys(n,r,a=!1){for(let c=0;c<r.length;c++)if(om(n,r[c],a))return!0;return!1}function am(n,r){e:for(let a=0;a<r.length;a++){const c=r[a];if(n.length===c.length){for(let p=0;p<n.length;p++)if(n[p]!==c[p])continue e;return!0}}return!1}function og(n,r){return n?":not("+r.trim()+")":r}function ag(n){let r=n[0],a=1,c=2,p="",y=!1;for(;a<n.length;){let C=n[a];if("string"==typeof C)if(2&c){const M=n[++a];p+="["+C+(M.length>0?'="'+M+'"':"")+"]"}else 8&c?p+="."+C:4&c&&(p+=" "+C);else""!==p&&!Aa(C)&&(r+=og(y,p),p=""),c=C,y=y||!Aa(c);a++}return""!==p&&(r+=og(y,p)),r}const yr={};function Hu(n){sf(tr(),Et(),gi()+n,!1)}function sf(n,r,a,c){if(!c)if(3==(3&r[2])){const y=n.preOrderCheckHooks;null!==y&&is(r,y,a)}else{const y=n.preOrderHooks;null!==y&&La(r,y,0,a)}ws(a)}function df(n,r=null,a=null,c){const p=hf(n,r,a,c);return p.resolveInjectorInitializers(),p}function hf(n,r=null,a=null,c,p=new Set){const y=[a||fn,_c(n)];return c=c||("object"==typeof n?void 0:Te(n)),new em(y,r||tp(),c||null,p)}let Ac=(()=>{class n{static create(a,c){if(Array.isArray(a))return df({name:""},c,a,"");{const p=a.name??"";return df({name:p},a.parent,a.providers,p)}}}return n.THROW_IF_NOT_FOUND=ml,n.NULL=new mu,n.\u0275prov=Lt({token:n,providedIn:"any",factory:()=>Yi(ql)}),n.__NG_ELEMENT_ID__=-1,n})();function ju(n,r=Tt.Default){const a=Et();return null===a?Yi(n,r):fl(si(),a,we(n),r)}function hh(){throw new Error("invalid")}function xc(n,r){return n<<17|r<<2}function Za(n){return n>>17&32767}function wf(n){return 2|n}function wu(n){return(131068&n)>>2}function ph(n,r){return-131069&n|r<<2}function yp(n){return 1|n}function ar(n,r){const a=n.contentQueries;if(null!==a)for(let c=0;c<a.length;c+=2){const p=a[c],y=a[c+1];if(-1!==y){const C=n.data[y];Wi(p),C.contentQueries(2,r[y],y)}}}function Ji(n,r,a,c,p,y,C,M,P,G,ne){const ue=r.blueprint.slice();return ue[0]=p,ue[2]=76|c,(null!==ne||n&&1024&n[2])&&(ue[2]|=1024),Fr(ue),ue[3]=ue[15]=n,ue[8]=a,ue[10]=C||n&&n[10],ue[11]=M||n&&n[11],ue[12]=P||n&&n[12]||null,ue[9]=G||n&&n[9]||null,ue[6]=y,ue[20]=function qc(){return Rd++}(),ue[21]=ne,ue[16]=2==r.type?n[16]:ue,ue}function Ii(n,r,a,c,p){let y=n.data[r];if(null===y)y=ga(n,r,a,c,p),function Ms(){return Nn.lFrame.inI18n}()&&(y.flags|=64);else if(64&y.type){y.type=a,y.value=c,y.attrs=p;const C=Ra();y.injectorIndex=null===C?-1:C.injectorIndex}return Zi(y,!0),y}function ga(n,r,a,c,p){const y=aa(),C=po(),P=n.data[r]=function R_(n,r,a,c,p,y){return{type:a,index:c,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:p,attrs:y,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,C?y:y&&y.parent,a,r,c,p);return null===n.firstChild&&(n.firstChild=P),null!==y&&(C?null==y.child&&null!==P.parent&&(y.child=P):null===y.next&&(y.next=P)),P}function Qo(n,r,a,c){if(0===a)return-1;const p=r.length;for(let y=0;y<a;y++)r.push(c),n.blueprint.push(c),n.data.push(null);return p}function Jl(n,r,a){$s(r);try{const c=n.viewQuery;null!==c&&Np(1,c,a);const p=n.template;null!==p&&If(n,r,p,1,a),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&ar(n,r),n.staticViewQueries&&Np(2,n.viewQuery,a);const y=n.components;null!==y&&function zr(n,r){for(let a=0;a<r.length;a++)av(n,r[a])}(r,y)}catch(c){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),c}finally{r[2]&=-5,ro()}}function uo(n,r,a,c){const p=r[2];if(128!=(128&p)){$s(r);try{Fr(r),function qe(n){return Nn.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==a&&If(n,r,a,2,c);const C=3==(3&p);if(C){const G=n.preOrderCheckHooks;null!==G&&is(r,G,null)}else{const G=n.preOrderHooks;null!==G&&La(r,G,0,null),ko(r,0)}if(function Cm(n){for(let r=lo(n);null!==r;r=oc(r)){if(!r[2])continue;const a=r[9];for(let c=0;c<a.length;c++){const p=a[c],y=p[3];0==(512&p[2])&&Qr(y,1),p[2]|=512}}}(r),function ov(n){for(let r=lo(n);null!==r;r=oc(r))for(let a=10;a<r.length;a++){const c=r[a],p=c[1];jo(c)&&uo(p,c,p.template,c[8])}}(r),null!==n.contentQueries&&ar(n,r),C){const G=n.contentCheckHooks;null!==G&&is(r,G)}else{const G=n.contentHooks;null!==G&&La(r,G,1),ko(r,1)}!function Fn(n,r){const a=n.hostBindingOpCodes;if(null!==a)try{for(let c=0;c<a.length;c++){const p=a[c];if(p<0)ws(~p);else{const y=p,C=a[++c],M=a[++c];go(C,y),M(2,r[y])}}}finally{ws(-1)}}(n,r);const M=n.components;null!==M&&function Ar(n,r){for(let a=0;a<r.length;a++)Oc(n,r[a])}(r,M);const P=n.viewQuery;if(null!==P&&Np(2,P,c),C){const G=n.viewCheckHooks;null!==G&&is(r,G)}else{const G=n.viewHooks;null!==G&&La(r,G,2),ko(r,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),r[2]&=-41,512&r[2]&&(r[2]&=-513,Qr(r[3],-1))}finally{ro()}}}function If(n,r,a,c,p){const y=gi(),C=2&c;try{ws(-1),C&&r.length>22&&sf(n,r,22,!1),a(c,p)}finally{ws(y)}}function N_(n,r,a){if(Us(r)){const p=r.directiveEnd;for(let y=r.directiveStart;y<p;y++){const C=n.data[y];C.contentQueries&&C.contentQueries(1,a[y],y)}}}function Ip(n,r,a){!zi()||(function V_(n,r,a,c){const p=a.directiveStart,y=a.directiveEnd;n.firstCreatePass||Vt(a,r),wo(c,r);const C=a.initialInputs;for(let M=p;M<y;M++){const P=n.data[M],G=hi(P);G&&iv(r,a,P);const ne=da(r,n,M,a);wo(ne,r),null!==C&&Dm(0,M-p,ne,P,0,C),G&&(ii(a.index,r)[8]=ne)}}(n,r,a,pi(a,r)),128==(128&a.flags)&&function vm(n,r,a){const c=a.directiveStart,p=a.directiveEnd,y=a.index,C=function mo(){return Nn.lFrame.currentDirectiveIndex}();try{ws(y);for(let M=c;M<p;M++){const P=n.data[M],G=r[M];xs(M),(null!==P.hostBindings||0!==P.hostVars||null!==P.hostAttrs)&&bm(P,G)}}finally{ws(-1),xs(C)}}(n,r,a))}function Tp(n,r,a=pi){const c=r.localNames;if(null!==c){let p=r.index+1;for(let y=0;y<c.length;y+=2){const C=c[y+1],M=-1===C?a(r,n):n[C];n[p++]=M}}}function x_(n){const r=n.tView;return null===r||r.incompleteFirstPass?n.tView=_g(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):r}function _g(n,r,a,c,p,y,C,M,P,G){const ne=22+c,ue=ne+p,Ne=function Qy(n,r){const a=[];for(let c=0;c<r;c++)a.push(c<n?null:yr);return a}(ne,ue),Xe="function"==typeof G?G():G;return Ne[1]={type:n,blueprint:Ne,template:a,queries:null,viewQuery:M,declTNode:r,data:Ne.slice().fill(null,ne),bindingStartIndex:ne,expandoStartIndex:ue,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof y?y():y,pipeRegistry:"function"==typeof C?C():C,firstChild:null,schemas:P,consts:Xe,incompleteFirstPass:!1}}function mm(n,r,a,c){const p=Cg(r);null===a?p.push(c):(p.push(a),n.firstCreatePass&&B_(n).push(c,p.length-1))}function O_(n,r,a){for(let c in n)if(n.hasOwnProperty(c)){const p=n[c];(a=null===a?{}:a).hasOwnProperty(c)?a[c].push(r,p):a[c]=[r,p]}return a}function P_(n,r){const c=r.directiveEnd,p=n.data,y=r.attrs,C=[];let M=null,P=null;for(let G=r.directiveStart;G<c;G++){const ne=p[G],ue=ne.inputs,Ne=null===y||ap(r)?null:Tf(ue,y);C.push(Ne),M=O_(ue,G,M),P=O_(ne.outputs,G,P)}null!==M&&(M.hasOwnProperty("class")&&(r.flags|=16),M.hasOwnProperty("style")&&(r.flags|=32)),r.initialInputs=C,r.inputs=M,r.outputs=P}function Al(n,r,a,c,p,y,C,M){const P=pi(r,a);let ne,G=r.inputs;!M&&null!=G&&(ne=G[c])?(xp(n,a,ne,c,p),yi(r)&&yg(a,r.index)):3&r.type&&(c=function ev(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(c),p=null!=C?C(p,r.value||"",c):p,y.setProperty(P,c,p))}function yg(n,r){const a=ii(r,n);16&a[2]||(a[2]|=32)}function Sp(n,r,a,c){let p=!1;if(zi()){const y=function nv(n,r,a){const c=n.directiveRegistry;let p=null;if(c)for(let y=0;y<c.length;y++){const C=c[y];Ys(a,C.selectors,!1)&&(p||(p=[]),ca(Vt(a,r),n,C.type),hi(C)?(vg(n,a),p.unshift(C)):p.push(C))}return p}(n,r,a),C=null===c?null:{"":-1};if(null!==y){p=!0,U_(a,n.data.length,y.length);for(let ne=0;ne<y.length;ne++){const ue=y[ne];ue.providersResolver&&ue.providersResolver(ue)}let M=!1,P=!1,G=Qo(n,r,y.length,null);for(let ne=0;ne<y.length;ne++){const ue=y[ne];a.mergedAttrs=vt(a.mergedAttrs,ue.hostAttrs),bg(n,a,r,G,ue),wm(G,ue,C),null!==ue.contentQueries&&(a.flags|=8),(null!==ue.hostBindings||null!==ue.hostAttrs||0!==ue.hostVars)&&(a.flags|=128);const Ne=ue.type.prototype;!M&&(Ne.ngOnChanges||Ne.ngOnInit||Ne.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(a.index),M=!0),!P&&(Ne.ngOnChanges||Ne.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(a.index),P=!0),G++}P_(n,a)}C&&function rv(n,r,a){if(r){const c=n.localNames=[];for(let p=0;p<r.length;p+=2){const y=a[r[p+1]];if(null==y)throw new Be(-301,!1);c.push(r[p],y)}}}(a,c,C)}return a.mergedAttrs=vt(a.mergedAttrs,a.attrs),p}function L_(n,r,a,c,p,y){const C=y.hostBindings;if(C){let M=n.hostBindingOpCodes;null===M&&(M=n.hostBindingOpCodes=[]);const P=~r.index;(function ym(n){let r=n.length;for(;r>0;){const a=n[--r];if("number"==typeof a&&a<0)return a}return 0})(M)!=P&&M.push(P),M.push(c,p,C)}}function bm(n,r){null!==n.hostBindings&&n.hostBindings(1,r)}function vg(n,r){r.flags|=2,(n.components||(n.components=[])).push(r.index)}function wm(n,r,a){if(a){if(r.exportAs)for(let c=0;c<r.exportAs.length;c++)a[r.exportAs[c]]=n;hi(r)&&(a[""]=n)}}function U_(n,r,a){n.flags|=1,n.directiveStart=r,n.directiveEnd=r+a,n.providerIndexes=r}function bg(n,r,a,c,p){n.data[c]=p;const y=p.factory||(p.factory=Hi(p.type)),C=new ms(y,hi(p),ju);n.blueprint[c]=C,a[c]=C,L_(n,r,0,c,Qo(n,a,p.hostVars,yr),p)}function iv(n,r,a){const c=pi(r,n),p=x_(a),y=n[10],C=Dg(n,Ji(n,p,null,a.onPush?32:16,c,r,y,y.createRenderer(c,a),null,null,null));n[r.index]=C}function Ap(n,r,a,c,p,y,C){if(null==y)n.removeAttribute(r,p,a);else{const M=null==C?Ke(y):C(y,c||"",p);n.setAttribute(r,p,M,a)}}function Dm(n,r,a,c,p,y){const C=y[r];if(null!==C){const M=c.setInput;for(let P=0;P<C.length;){const G=C[P++],ne=C[P++],ue=C[P++];null!==M?c.setInput(a,ue,G,ne):a[ne]=ue}}}function Tf(n,r){let a=null,c=0;for(;c<r.length;){const p=r[c];if(0!==p)if(5!==p){if("number"==typeof p)break;n.hasOwnProperty(p)&&(null===a&&(a=[]),a.push(p,n[p],r[c+1])),c+=2}else c+=2;else c+=4}return a}function wg(n,r,a,c){return new Array(n,!0,!1,r,null,0,c,a,null,null)}function Oc(n,r){const a=ii(r,n);if(jo(a)){const c=a[1];48&a[2]?uo(c,a,c.template,a[8]):a[5]>0&&Mp(a)}}function Mp(n){for(let c=lo(n);null!==c;c=oc(c))for(let p=10;p<c.length;p++){const y=c[p];if(jo(y))if(512&y[2]){const C=y[1];uo(C,y,C.template,y[8])}else y[5]>0&&Mp(y)}const a=n[1].components;if(null!==a)for(let c=0;c<a.length;c++){const p=ii(a[c],n);jo(p)&&p[5]>0&&Mp(p)}}function av(n,r){const a=ii(r,n),c=a[1];(function Em(n,r){for(let a=r.length;a<n.blueprint.length;a++)r.push(n.blueprint[a])})(c,a),Jl(c,a,a[8])}function Dg(n,r){return n[13]?n[14][4]=r:n[13]=r,n[14]=r,r}function Im(n){for(;n;){n[2]|=32;const r=$l(n);if(ta(n)&&!r)return n;n=r}return null}function Sf(n,r,a,c=!0){const p=r[10];p.begin&&p.begin();try{uo(n,r,n.template,a)}catch(C){throw c&&Tm(r,C),C}finally{p.end&&p.end()}}function Np(n,r,a){Wi(0),r(n,a)}function Cg(n){return n[7]||(n[7]=[])}function B_(n){return n.cleanup||(n.cleanup=[])}function Tm(n,r){const a=n[9],c=a?a.get(ul,null):null;c&&c.handleError(r)}function xp(n,r,a,c,p){for(let y=0;y<a.length;){const C=a[y++],M=a[y++],P=r[C],G=n.data[C];null!==G.setInput?G.setInput(P,p,c,M):P[M]=p}}function Ig(n,r,a){let c=a?n.styles:null,p=a?n.classes:null,y=0;if(null!==r)for(let C=0;C<r.length;C++){const M=r[C];"number"==typeof M?y=M:1==y?p=Pe(p,M):2==y&&(c=Pe(c,M+": "+r[++C]+";"))}a?n.styles=c:n.stylesWithoutHost=c,a?n.classes=p:n.classesWithoutHost=p}function Tg(n,r,a,c,p=!1){for(;null!==a;){const y=r[a.index];if(null!==y&&c.push(ri(y)),ni(y))for(let M=10;M<y.length;M++){const P=y[M],G=P[1].firstChild;null!==G&&Tg(P[1],P,G,c)}const C=a.type;if(8&C)Tg(n,r,a.child,c);else if(32&C){const M=td(a,r);let P;for(;P=M();)c.push(P)}else if(16&C){const M=cc(r,a);if(Array.isArray(M))c.push(...M);else{const P=$l(r[16]);Tg(P[1],P,M,c,!0)}}a=p?a.projectionNext:a.next}return c}class yh{constructor(r,a){this._lView=r,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const r=this._lView,a=r[1];return Tg(a,r,a.firstChild,[])}get context(){return this._lView[8]}set context(r){this._lView[8]=r}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[3];if(ni(r)){const a=r[8],c=a?a.indexOf(this):-1;c>-1&&(Zs(r,c),Da(a,c))}this._attachedToViewContainer=!1}Ud(this._lView[1],this._lView)}onDestroy(r){mm(this._lView[1],this._lView,null,r)}markForCheck(){Im(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Sf(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Be(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function jl(n,r){hc(n,r,r[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new Be(902,!1);this._appRef=r}}class lv extends yh{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;Sf(r[1],r,r[8],!1)}checkNoChanges(){}get context(){return null}}class kp extends Yl{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const a=rt(r);return new md(a,this.ngModule)}}function Sg(n){const r=[];for(let a in n)n.hasOwnProperty(a)&&r.push({propName:n[a],templateName:a});return r}class uv{constructor(r,a){this.injector=r,this.parentInjector=a}get(r,a,c){const p=this.injector.get(r,Ec,c);return p!==Ec||a===Ec?p:this.parentInjector.get(r,a,c)}}class md extends hd{constructor(r,a){super(),this.componentDef=r,this.ngModule=a,this.componentType=r.type,this.selector=function rf(n){return n.map(ag).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return Sg(this.componentDef.inputs)}get outputs(){return Sg(this.componentDef.outputs)}create(r,a,c,p){let y=(p=p||this.ngModule)instanceof cd?p:p?.injector;y&&null!==this.componentDef.getStandaloneInjector&&(y=this.componentDef.getStandaloneInjector(y)||y);const C=y?new uv(r,y):r,M=C.get(ip,null);if(null===M)throw new Be(407,!1);const P=C.get(Cc,null),G=M.createRenderer(null,this.componentDef),ne=this.componentDef.selectors[0][0]||"div",ue=c?function k_(n,r,a){return n.selectRootElement(r,a===Nt.ShadowDom)}(G,c,this.componentDef.encapsulation):Dl(G,ne,function Sm(n){const r=n.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(ne)),Ne=this.componentDef.onPush?288:272,Xe=_g(0,null,null,1,0,null,null,null,null,null),At=Ji(null,Xe,null,Ne,null,null,M,G,P,C,null);let sn,vn;$s(At);try{const On=function Ag(n,r,a,c,p,y){const C=a[1];a[22]=n;const P=Ii(C,22,2,"#host",null),G=P.mergedAttrs=r.hostAttrs;null!==G&&(Ig(P,G,!0),null!==n&&(X(p,n,G),null!==P.classes&&Zl(p,n,P.classes),null!==P.styles&&Wh(p,n,P.styles)));const ne=c.createRenderer(n,r),ue=Ji(a,x_(r),null,r.onPush?32:16,a[22],P,c,ne,y||null,null,null);return C.firstCreatePass&&(ca(Vt(P,a),C,r.type),vg(C,P),U_(P,a.length,1)),Dg(a,ue),a[22]=ue}(ue,this.componentDef,At,M,G);if(ue)if(c)X(G,ue,["ng-version",yu.full]);else{const{attrs:er,classes:Ht}=function lg(n){const r=[],a=[];let c=1,p=2;for(;c<n.length;){let y=n[c];if("string"==typeof y)2===p?""!==y&&r.push(y,n[++c]):8===p&&a.push(y);else{if(!Aa(p))break;p=y}c++}return{attrs:r,classes:a}}(this.componentDef.selectors[0]);er&&X(G,ue,er),Ht&&Ht.length>0&&Zl(G,ue,Ht.join(" "))}if(vn=ra(Xe,22),void 0!==a){const er=vn.projection=[];for(let Ht=0;Ht<this.ngContentSelectors.length;Ht++){const gr=a[Ht];er.push(null!=gr?Array.from(gr):null)}}sn=function hv(n,r,a,c){const p=a[1],y=function tv(n,r,a){const c=si();n.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),bg(n,c,r,Qo(n,r,1,null),a),P_(n,c));const p=da(r,n,c.directiveStart,c);wo(p,r);const y=pi(c,r);return y&&wo(y,r),p}(p,a,r);if(n[8]=a[8]=y,null!==c)for(const M of c)M(y,r);if(r.contentQueries){const M=si();r.contentQueries(1,y,M.directiveStart)}const C=si();return!p.firstCreatePass||null===r.hostBindings&&null===r.hostAttrs||(ws(C.index),L_(a[1],C,0,C.directiveStart,C.directiveEnd,r),bm(r,y)),y}(On,this.componentDef,At,[fv]),Jl(Xe,At,null)}finally{ro()}return new Af(this.componentType,sn,Il(vn,At),At,vn)}}class Af extends class Fi{}{constructor(r,a,c,p,y){super(),this.location=c,this._rootLView=p,this._tNode=y,this.instance=a,this.hostView=this.changeDetectorRef=new lv(p),this.componentType=r}setInput(r,a){const c=this._tNode.inputs;let p;if(null!==c&&(p=c[r])){const y=this._rootLView;xp(y[1],y,p,r,a),yg(y,this._tNode.index)}}get injector(){return new Hs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function fv(){const n=si();rs(Et()[1],n)}function Mm(n){let r=function $_(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),a=!0;const c=[n];for(;r;){let p;if(hi(n))p=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new Be(903,!1);p=r.\u0275dir}if(p){if(a){c.push(p);const C=n;C.inputs=Rp(n.inputs),C.declaredInputs=Rp(n.declaredInputs),C.outputs=Rp(n.outputs);const M=p.hostBindings;M&&H_(n,M);const P=p.viewQuery,G=p.contentQueries;if(P&&Nm(n,P),G&&xm(n,G),he(n.inputs,p.inputs),he(n.declaredInputs,p.declaredInputs),he(n.outputs,p.outputs),hi(p)&&p.data.animation){const ne=n.data;ne.animation=(ne.animation||[]).concat(p.data.animation)}}const y=p.features;if(y)for(let C=0;C<y.length;C++){const M=y[C];M&&M.ngInherit&&M(n),M===Mm&&(a=!1)}}r=Object.getPrototypeOf(r)}!function Mg(n){let r=0,a=null;for(let c=n.length-1;c>=0;c--){const p=n[c];p.hostVars=r+=p.hostVars,p.hostAttrs=vt(p.hostAttrs,a=vt(a,p.hostAttrs))}}(c)}function Rp(n){return n===un?{}:n===fn?[]:n}function Nm(n,r){const a=n.viewQuery;n.viewQuery=a?(c,p)=>{r(c,p),a(c,p)}:r}function xm(n,r){const a=n.contentQueries;n.contentQueries=a?(c,p,y)=>{r(c,p,y),a(c,p,y)}:r}function H_(n,r){const a=n.hostBindings;n.hostBindings=a?(c,p)=>{r(c,p),a(c,p)}:r}let Mf=null;function _d(){if(!Mf){const n=dt.Symbol;if(n&&n.iterator)Mf=n.iterator;else{const r=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<r.length;++a){const c=r[a];"entries"!==c&&"size"!==c&&Map.prototype[c]===Map.prototype.entries&&(Mf=c)}}}return Mf}function vh(n){return!!yd(n)&&(Array.isArray(n)||!(n instanceof Map)&&_d()in n)}function yd(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function zu(n,r,a){return n[r]=a}function Ma(n,r,a){return!Object.is(n[r],a)&&(n[r]=a,!0)}function vd(n,r,a,c){const p=Ma(n,r,a);return Ma(n,r+1,c)||p}function Lm(n,r,a,c){const p=Et();return Ma(p,cn(),r)&&(tr(),function Ql(n,r,a,c,p,y){const C=pi(n,r);Ap(r[11],C,y,n.value,a,c,p)}(Lr(),p,n,r,a,c)),Lm}function xf(n,r,a,c){return Ma(n,cn(),a)?r+Ke(a)+c:yr}function bd(n,r,a,c,p,y,C,M,P,G){const ue=function Ml(n,r,a,c,p,y){const C=vd(n,r,a,c);return vd(n,r+2,p,y)||C}(n,ee(),a,p,C,P);return or(4),ue?r+Ke(a)+c+Ke(p)+y+Ke(C)+M+Ke(P)+G:yr}function Hm(n,r,a,c,p,y,C,M){const P=Et(),G=tr(),ne=n+22,ue=G.firstCreatePass?function kg(n,r,a,c,p,y,C,M,P){const G=r.consts,ne=Ii(r,n,4,C||null,vi(G,M));Sp(r,a,ne,vi(G,P)),rs(r,ne);const ue=ne.tViews=_g(2,ne,c,p,y,r.directiveRegistry,r.pipeRegistry,null,r.schemas,G);return null!==r.queries&&(r.queries.template(r,ne),ue.queries=r.queries.embeddedTView(ne)),ne}(ne,G,P,r,a,c,p,y,C):G.data[ne];Zi(ue,!1);const Ne=P[11].createComment("");Ls(G,P,Ne,ue),wo(Ne,P),Dg(P,P[ne]=wg(Ne,P,Ne,ue)),ma(ue)&&Ip(G,P,ue),null!=C&&Tp(P,ue,M)}function G_(n){return Bs(function Gr(){return Nn.lFrame.contextLView}(),22+n)}function Pp(n,r,a){const c=Et();return Ma(c,cn(),r)&&Al(tr(),Lr(),c,n,r,c[11],a,!1),Pp}function Gm(n,r,a,c,p){const C=p?"class":"style";xp(n,a,r.inputs[C],C,c)}function Li(n,r,a,c){const p=Et(),y=tr(),C=22+n,M=p[11],P=p[C]=Dl(M,r,function Ja(){return Nn.lFrame.currentNamespace}()),G=y.firstCreatePass?function gv(n,r,a,c,p,y,C){const M=r.consts,G=Ii(r,n,2,p,vi(M,y));return Sp(r,a,G,vi(M,C)),null!==G.attrs&&Ig(G,G.attrs,!1),null!==G.mergedAttrs&&Ig(G,G.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,G),G}(C,y,p,0,r,a,c):y.data[C];Zi(G,!0);const ne=G.mergedAttrs;null!==ne&&X(M,P,ne);const ue=G.classes;null!==ue&&Zl(M,P,ue);const Ne=G.styles;return null!==Ne&&Wh(M,P,Ne),64!=(64&G.flags)&&Ls(y,p,P,G),0===function Ao(){return Nn.lFrame.elementDepthCount}()&&wo(P,p),function Xs(){Nn.lFrame.elementDepthCount++}(),ma(G)&&(Ip(y,p,G),N_(y,G,p)),null!==c&&Tp(p,G),Li}function zm(){let n=si();po()?bs():(n=n.parent,Zi(n,!1));const r=n;!function oa(){Nn.lFrame.elementDepthCount--}();const a=tr();return a.firstCreatePass&&(rs(a,n),Us(n)&&a.queries.elementEnd(n)),null!=r.classesWithoutHost&&function ks(n){return 0!=(16&n.flags)}(r)&&Gm(a,r,Et(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function k(n){return 0!=(32&n.flags)}(r)&&Gm(a,r,Et(),r.stylesWithoutHost,!1),zm}function z_(n,r,a,c){return Li(n,r,a,c),zm(),z_}function Fp(n,r,a){const c=Et(),p=tr(),y=n+22,C=p.firstCreatePass?function co(n,r,a,c,p){const y=r.consts,C=vi(y,c),M=Ii(r,n,8,"ng-container",C);return null!==C&&Ig(M,C,!0),Sp(r,a,M,vi(y,p)),null!==r.queries&&r.queries.elementStart(r,M),M}(y,p,c,r,a):p.data[y];Zi(C,!0);const M=c[y]=c[11].createComment("");return Ls(p,c,M,C),wo(M,c),ma(C)&&(Ip(p,c,C),N_(p,C,c)),null!=a&&Tp(c,C),Fp}function Rg(){let n=si();const r=tr();return po()?bs():(n=n.parent,Zi(n,!1)),r.firstCreatePass&&(rs(r,n),Us(n)&&r.queries.elementEnd(n)),Rg}function Zm(){return Et()}function Wm(n){return!!n&&"function"==typeof n.then}function W_(n){return!!n&&"function"==typeof n.subscribe}const q_=W_;function qm(n,r,a,c){const p=Et(),y=tr(),C=si();return function Y_(n,r,a,c,p,y,C,M){const P=ma(c),ne=n.firstCreatePass&&B_(n),ue=r[8],Ne=Cg(r);let Xe=!0;if(3&c.type||M){const vn=pi(c,r),On=M?M(vn):vn,er=Ne.length,Ht=M?Ti=>M(ri(Ti[c.index])):c.index;let gr=null;if(!M&&P&&(gr=function _v(n,r,a,c){const p=n.cleanup;if(null!=p)for(let y=0;y<p.length-1;y+=2){const C=p[y];if(C===a&&p[y+1]===c){const M=r[7],P=p[y+2];return M.length>P?M[P]:null}"string"==typeof C&&(y+=2)}return null}(n,r,p,c.index)),null!==gr)(gr.__ngLastListenerFn__||gr).__ngNextListenerFn__=y,gr.__ngLastListenerFn__=y,Xe=!1;else{y=Of(c,r,ue,y,!1);const Ti=a.listen(On,p,y);Ne.push(y,Ti),ne&&ne.push(p,Ht,er,er+1)}}else y=Of(c,r,ue,y,!1);const At=c.outputs;let sn;if(Xe&&null!==At&&(sn=At[p])){const vn=sn.length;if(vn)for(let On=0;On<vn;On+=2){const Ks=r[sn[On]][sn[On+1]].subscribe(y),Wp=Ne.length;Ne.push(y,Ks),ne&&ne.push(p,c.index,Wp,-(Wp+1))}}}(y,p,p[11],C,n,r,0,c),qm}function Ym(n,r,a,c){try{return!1!==a(c)}catch(p){return Tm(n,p),!1}}function Of(n,r,a,c,p){return function y(C){if(C===Function)return c;Im(2&n.flags?ii(n.index,r):r);let P=Ym(r,0,c,C),G=y.__ngNextListenerFn__;for(;G;)P=Ym(r,0,G,C)&&P,G=G.__ngNextListenerFn__;return p&&!1===P&&(C.preventDefault(),C.returnValue=!1),P}}function K_(n=1){return function xo(n){return(Nn.lFrame.contextLView=function Pa(n,r){for(;n>0;)r=r[15],n--;return r}(n,Nn.lFrame.contextLView))[8]}(n)}function Zu(n,r){let a=null;const c=function sg(n){const r=n.attrs;if(null!=r){const a=r.indexOf(5);if(0==(1&a))return r[a+1]}return null}(n);for(let p=0;p<r.length;p++){const y=r[p];if("*"!==y){if(null===c?Ys(n,y,!0):am(c,y))return p}else a=p}return a}function Wu(n){const r=Et()[16][6];if(!r.projection){const c=r.projection=el(n?n.length:1,null),p=c.slice();let y=r.child;for(;null!==y;){const C=n?Zu(y,n):0;null!==C&&(p[C]?p[C].projectionNext=y:c[C]=y,p[C]=y),y=y.next}}}function yv(n,r=0,a){const c=Et(),p=tr(),y=Ii(p,22+n,16,null,a||null);null===y.projection&&(y.projection=r),bs(),64!=(64&y.flags)&&function Ri(n,r,a){du(r[11],0,r,a,rr(n,a,r),uu(a.parent||r[6],a,r))}(p,c,y)}function Fc(n,r,a){return Eh(n,"",r,"",a),Fc}function Eh(n,r,a,c,p){const y=Et(),C=xf(y,r,a,c);return C!==yr&&Al(tr(),Lr(),y,n,C,y[11],p,!1),Eh}function ty(n,r,a,c,p){const y=n[a+1],C=null===r;let M=c?Za(y):wu(y),P=!1;for(;0!==M&&(!1===P||C);){const ne=n[M+1];vv(n[M],r)&&(P=!0,n[M+1]=c?yp(ne):wf(ne)),M=c?Za(ne):wu(ne)}P&&(n[a+1]=c?wf(y):yp(y))}function vv(n,r){return null===n||null==r||(Array.isArray(n)?n[1]:n)===r||!(!Array.isArray(n)||"string"!=typeof r)&&ye(n,r)>=0}const Vo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Pg(n){return n.substring(Vo.key,Vo.keyEnd)}function Xm(n){return n.substring(Vo.value,Vo.valueEnd)}function Dd(n,r){const a=Vo.textEnd;return a===r?-1:(r=Vo.keyEnd=function bv(n,r,a){for(;r<a&&n.charCodeAt(r)>32;)r++;return r}(n,Vo.key=r,a),qu(n,r,a))}function e_(n,r){const a=Vo.textEnd;let c=Vo.key=qu(n,r,a);return a===c?-1:(c=Vo.keyEnd=function Lg(n,r,a){let c;for(;r<a&&(45===(c=n.charCodeAt(r))||95===c||(-33&c)>=65&&(-33&c)<=90||c>=48&&c<=57);)r++;return r}(n,c,a),c=Up(n,c,a),c=Vo.value=qu(n,c,a),c=Vo.valueEnd=function iy(n,r,a){let c=-1,p=-1,y=-1,C=r,M=C;for(;C<a;){const P=n.charCodeAt(C++);if(59===P)return M;34===P||39===P?M=C=Pf(n,P,C,a):r===C-4&&85===y&&82===p&&76===c&&40===P?M=C=Pf(n,41,C,a):P>32&&(M=C),y=p,p=c,c=-33&P}return M}(n,c,a),Up(n,c,a))}function Fg(n){Vo.key=0,Vo.keyEnd=0,Vo.value=0,Vo.valueEnd=0,Vo.textEnd=n.length}function qu(n,r,a){for(;r<a&&n.charCodeAt(r)<=32;)r++;return r}function Up(n,r,a,c){return(r=qu(n,r,a))<a&&r++,r}function Pf(n,r,a,c){let p=-1,y=a;for(;y<c;){const C=n.charCodeAt(y++);if(C==r&&92!==p)return y;p=92==C&&92===p?0:C}throw new Error}function Ff(n,r,a){return Eu(n,r,a,!1),Ff}function Vg(n,r){return Eu(n,r,null,!0),Vg}function Nl(n){Na(sy,Bp,n,!1)}function Bp(n,r){for(let a=function ry(n){return Fg(n),e_(n,qu(n,0,Vo.textEnd))}(r);a>=0;a=e_(r,a))sy(n,Pg(r),Xm(r))}function Lc(n){Na(Q,cl,n,!0)}function cl(n,r){for(let a=function ny(n){return Fg(n),Dd(n,qu(n,0,Vo.textEnd))}(r);a>=0;a=Dd(r,a))Q(n,Pg(r),!0)}function Eu(n,r,a,c){const p=Et(),y=tr(),C=or(2);y.firstUpdatePass&&Dv(y,n,C,c),r!==yr&&Ma(p,C,r)&&oy(y,y.data[gi()],p,p[11],n,p[C+1]=function ly(n,r){return null==n||("string"==typeof r?n+=r:"object"==typeof n&&(n=Te(te(n)))),n}(r,a),c,C)}function Na(n,r,a,c){const p=tr(),y=or(2);p.firstUpdatePass&&Dv(p,null,y,c);const C=Et();if(a!==yr&&Ma(C,y,a)){const M=p.data[gi()];if(r_(M,c)&&!wv(p,y)){let P=c?M.classesWithoutHost:M.stylesWithoutHost;null!==P&&(a=Pe(P,a||"")),Gm(p,M,C,a,c)}else!function Bg(n,r,a,c,p,y,C,M){p===yr&&(p=fn);let P=0,G=0,ne=0<p.length?p[0]:null,ue=0<y.length?y[0]:null;for(;null!==ne||null!==ue;){const Ne=P<p.length?p[P+1]:void 0,Xe=G<y.length?y[G+1]:void 0;let sn,At=null;ne===ue?(P+=2,G+=2,Ne!==Xe&&(At=ue,sn=Xe)):null===ue||null!==ne&&ne<ue?(P+=2,At=ne):(G+=2,At=ue,sn=Xe),null!==At&&oy(n,r,a,c,At,sn,C,M),ne=P<p.length?p[P]:null,ue=G<y.length?y[G]:null}}(p,M,C,C[11],C[y+1],C[y+1]=function Iv(n,r,a){if(null==a||""===a)return fn;const c=[],p=te(a);if(Array.isArray(p))for(let y=0;y<p.length;y++)n(c,p[y],!0);else if("object"==typeof p)for(const y in p)p.hasOwnProperty(y)&&n(c,y,p[y]);else"string"==typeof p&&r(c,p);return c}(n,r,a),c,y)}}function wv(n,r){return r>=n.expandoStartIndex}function Dv(n,r,a,c){const p=n.data;if(null===p[a+1]){const y=p[gi()],C=wv(n,a);r_(y,c)&&null===r&&!C&&(r=!1),r=function t_(n,r,a,c){const p=function Mo(n){const r=Nn.lFrame.currentDirectiveIndex;return-1===r?null:n[r]}(n);let y=c?r.residualClasses:r.residualStyles;if(null===p)0===(c?r.classBindings:r.styleBindings)&&(a=Cd(a=n_(null,n,r,a,c),r.attrs,c),y=null);else{const C=r.directiveStylingLast;if(-1===C||n[C]!==p)if(a=n_(p,n,r,a,c),null===y){let P=function Cv(n,r,a){const c=a?r.classBindings:r.styleBindings;if(0!==wu(c))return n[Za(c)]}(n,r,c);void 0!==P&&Array.isArray(P)&&(P=n_(null,n,r,P[1],c),P=Cd(P,r.attrs,c),function Ug(n,r,a,c){n[Za(a?r.classBindings:r.styleBindings)]=c}(n,r,c,P))}else y=function Ev(n,r,a){let c;const p=r.directiveEnd;for(let y=1+r.directiveStylingLast;y<p;y++)c=Cd(c,n[y].hostAttrs,a);return Cd(c,r.attrs,a)}(n,r,c)}return void 0!==y&&(c?r.residualClasses=y:r.residualStyles=y),a}(p,y,r,c),function ey(n,r,a,c,p,y){let C=y?r.classBindings:r.styleBindings,M=Za(C),P=wu(C);n[c]=a;let ne,G=!1;if(Array.isArray(a)){const ue=a;ne=ue[1],(null===ne||ye(ue,ne)>0)&&(G=!0)}else ne=a;if(p)if(0!==P){const Ne=Za(n[M+1]);n[c+1]=xc(Ne,M),0!==Ne&&(n[Ne+1]=ph(n[Ne+1],c)),n[M+1]=function cm(n,r){return 131071&n|r<<17}(n[M+1],c)}else n[c+1]=xc(M,0),0!==M&&(n[M+1]=ph(n[M+1],c)),M=c;else n[c+1]=xc(P,0),0===M?M=c:n[P+1]=ph(n[P+1],c),P=c;G&&(n[c+1]=wf(n[c+1])),ty(n,ne,c,!0),ty(n,ne,c,!1),function Qm(n,r,a,c,p){const y=p?n.residualClasses:n.residualStyles;null!=y&&"string"==typeof r&&ye(y,r)>=0&&(a[c+1]=yp(a[c+1]))}(r,ne,n,c,y),C=xc(M,P),y?r.classBindings=C:r.styleBindings=C}(p,y,r,a,C,c)}}function n_(n,r,a,c,p){let y=null;const C=a.directiveEnd;let M=a.directiveStylingLast;for(-1===M?M=a.directiveStart:M++;M<C&&(y=r[M],c=Cd(c,y.hostAttrs,p),y!==n);)M++;return null!==n&&(a.directiveStylingLast=M),c}function Cd(n,r,a){const c=a?1:2;let p=-1;if(null!==r)for(let y=0;y<r.length;y++){const C=r[y];"number"==typeof C?p=C:p===c&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Q(n,C,!!a||r[++y]))}return void 0===n?null:n}function sy(n,r,a){Q(n,r,te(a))}function oy(n,r,a,c,p,y,C,M){if(!(3&r.type))return;const P=n.data,G=P[M+1];$p(function _p(n){return 1==(1&n)}(G)?ay(P,r,a,p,wu(G),C):void 0)||($p(y)||function gg(n){return 2==(2&n)}(G)&&(y=ay(P,null,a,p,M,C)),function jd(n,r,a,c,p){if(r)p?n.addClass(a,c):n.removeClass(a,c);else{let y=-1===c.indexOf("-")?void 0:il.DashCase;null==p?n.removeStyle(a,c,y):("string"==typeof p&&p.endsWith("!important")&&(p=p.slice(0,-10),y|=il.Important),n.setStyle(a,c,p,y))}}(c,C,Ci(gi(),a),p,y))}function ay(n,r,a,c,p,y){const C=null===r;let M;for(;p>0;){const P=n[p],G=Array.isArray(P),ne=G?P[1]:P,ue=null===ne;let Ne=a[p+1];Ne===yr&&(Ne=ue?fn:void 0);let Xe=ue?le(Ne,c):ne===c?Ne:void 0;if(G&&!$p(Xe)&&(Xe=le(P,c)),$p(Xe)&&(M=Xe,C))return M;const At=n[p+1];p=C?Za(At):wu(At)}if(null!==r){let P=y?r.residualClasses:r.residualStyles;null!=P&&(M=le(P,c))}return M}function $p(n){return void 0!==n}function r_(n,r){return 0!=(n.flags&(r?16:32))}function i_(n,r=""){const a=Et(),c=tr(),p=n+22,y=c.firstCreatePass?Ii(c,p,1,r,null):c.data[p],C=a[p]=Ki(a[11],r);Ls(c,a,C,y),Zi(y,!1)}function $g(n){return Hp("",n,""),$g}function Hp(n,r,a){const c=Et(),p=xf(c,n,r,a);return p!==yr&&function Gu(n,r,a){const c=Ci(r,n);sl(n[11],c,a)}(c,gi(),p),Hp}function Ed(n,r,a){Na(Q,cl,xf(Et(),n,r,a),!0)}function Uc(n,r,a,c,p,y,C,M,P){Na(Q,cl,bd(Et(),n,r,a,c,p,y,C,M,P),!0)}function s_(n,r,a){const c=Et();return Ma(c,cn(),r)&&Al(tr(),Lr(),c,n,r,c[11],a,!0),s_}const Th=void 0;var Hv=["en",[["a","p"],["AM","PM"],Th],[["AM","PM"],Th,Th],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Th,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Th,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Th,"{1} 'at' {0}",Th],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function q0(n){const a=Math.floor(Math.abs(n)),c=n.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===c?1:5}];let Sh={};function o_(n){const r=function jv(n){return n.toLowerCase().replace(/_/g,"-")}(n);let a=wy(r);if(a)return a;const c=r.split("-")[0];if(a=wy(c),a)return a;if("en"===c)return Hv;throw new Be(701,!1)}function by(n){return o_(n)[Xn.PluralCase]}function wy(n){return n in Sh||(Sh[n]=dt.ng&&dt.ng.common&&dt.ng.common.locales&&dt.ng.common.locales[n]),Sh[n]}var Xn=(()=>((Xn=Xn||{})[Xn.LocaleId=0]="LocaleId",Xn[Xn.DayPeriodsFormat=1]="DayPeriodsFormat",Xn[Xn.DayPeriodsStandalone=2]="DayPeriodsStandalone",Xn[Xn.DaysFormat=3]="DaysFormat",Xn[Xn.DaysStandalone=4]="DaysStandalone",Xn[Xn.MonthsFormat=5]="MonthsFormat",Xn[Xn.MonthsStandalone=6]="MonthsStandalone",Xn[Xn.Eras=7]="Eras",Xn[Xn.FirstDayOfWeek=8]="FirstDayOfWeek",Xn[Xn.WeekendRange=9]="WeekendRange",Xn[Xn.DateFormat=10]="DateFormat",Xn[Xn.TimeFormat=11]="TimeFormat",Xn[Xn.DateTimeFormat=12]="DateTimeFormat",Xn[Xn.NumberSymbols=13]="NumberSymbols",Xn[Xn.NumberFormats=14]="NumberFormats",Xn[Xn.CurrencyCode=15]="CurrencyCode",Xn[Xn.CurrencySymbol=16]="CurrencySymbol",Xn[Xn.CurrencyName=17]="CurrencyName",Xn[Xn.Currencies=18]="Currencies",Xn[Xn.Directionality=19]="Directionality",Xn[Xn.PluralCase=20]="PluralCase",Xn[Xn.ExtraData=21]="ExtraData",Xn))();const J0=["zero","one","two","few","many"],Mh="en-US",Gg={marker:"element"},Lf={marker:"ICU"};var Vs=(()=>((Vs=Vs||{})[Vs.SHIFT=2]="SHIFT",Vs[Vs.APPEND_EAGERLY=1]="APPEND_EAGERLY",Vs[Vs.COMMENT=2]="COMMENT",Vs))();let Vf=Mh;function zg(n){(function pt(n,r){null==n&&We(r,n,null,"!=")})(n,"Expected localeId to be defined"),"string"==typeof n&&(Vf=n.toLowerCase().replace(/_/g,"-"))}function Dy(n,r,a){const c=r.insertBeforeIndex,p=Array.isArray(c)?c[0]:c;return null===p?zl(n,0,a):ri(a[p])}function a_(n,r,a,c,p){const y=r.insertBeforeIndex;if(Array.isArray(y)){let C=c,M=null;if(3&r.type||(M=C,C=p),null!==C&&0==(2&r.flags))for(let P=1;P<y.length;P++)ja(n,C,a[y[P]],M,!1)}}function zp(n,r){if(n.push(r),n.length>1)for(let a=n.length-2;a>=0;a--){const c=n[a];Cy(c)||Ey(c,r)&&null===Iy(c)&&Nh(c,r.index)}}function Cy(n){return!(64&n.type)}function Ey(n,r){return Cy(r)||n.index>r.index}function Iy(n){const r=n.insertBeforeIndex;return Array.isArray(r)?r[0]:r}function Nh(n,r){const a=n.insertBeforeIndex;Array.isArray(a)?a[0]=r:(Cl(Dy,a_),n.insertBeforeIndex=r)}function xa(n,r){const a=n.data[r];return null===a||"string"==typeof a?null:a.hasOwnProperty("currentCaseLViewIndex")?a:a.value}function Sy(n,r,a){const c=ga(n,a,64,null,null);return zp(r,c),c}function Td(n,r){const a=r[n.currentCaseLViewIndex];return null===a?a:a<0?~a:a}function Uf(n){return n>>>17}function ka(n){return(131070&n)>>>1}let Yu=0,Iu=0;function My(n,r,a,c){const p=a[11];let C,y=null;for(let M=0;M<r.length;M++){const P=r[M];if("string"==typeof P){const G=r[++M];null===a[G]&&(a[G]=Ki(p,P))}else if("number"==typeof P)switch(1&P){case 0:const G=Uf(P);let ne,ue;if(null===y&&(y=G,C=uc(p,c)),G===y?(ne=c,ue=C):(ne=null,ue=ri(a[G])),null!==ue){const sn=ka(P);ja(p,ue,a[sn],ne,!1);const On=xa(n,sn);if(null!==On&&"object"==typeof On){const er=Td(On,a);null!==er&&My(n,On.create[er],a,a[On.anchorIdx])}}break;case 1:const Xe=r[++M],At=r[++M];Ap(p,Ci(P>>>1,a),null,null,Xe,At,null)}else switch(P){case Lf:const G=r[++M],ne=r[++M];null===a[ne]&&wo(a[ne]=lc(p,G),a);break;case Gg:const ue=r[++M],Ne=r[++M];null===a[Ne]&&wo(a[Ne]=Dl(p,ue,null),a)}}}function Ny(n,r,a,c,p){for(let y=0;y<a.length;y++){const C=a[y],M=a[++y];if(C&p){let P="";for(let G=y+1;G<=y+M;G++){const ne=a[G];if("string"==typeof ne)P+=ne;else if("number"==typeof ne)if(ne<0)P+=Ke(r[c-ne]);else{const ue=ne>>>2;switch(3&ne){case 1:const Ne=a[++G],Xe=a[++G],At=n.data[ue];"string"==typeof At?Ap(r[11],r[ue],null,At,Ne,P,Xe):Al(n,At,r,Ne,P,r[11],Xe,!1);break;case 0:const sn=r[ue];null!==sn&&sl(r[11],sn,P);break;case 2:qv(n,xa(n,ue),r,P);break;case 3:Bc(n,xa(n,ue),c,r)}}}}else{const P=a[y+1];if(P>0&&3==(3&P)){const ne=xa(n,P>>>2);r[ne.currentCaseLViewIndex]<0&&Bc(n,ne,c,r)}}y+=M}}function Bc(n,r,a,c){let p=c[r.currentCaseLViewIndex];if(null!==p){let y=Yu;p<0&&(p=c[r.currentCaseLViewIndex]=~p,y=-1),Ny(n,c,r.update[p],a,y)}}function qv(n,r,a,c){const p=function Yv(n,r){let a=n.cases.indexOf(r);if(-1===a)switch(n.type){case 1:{const c=function Q0(n,r){const a=by(r)(parseInt(n,10)),c=J0[a];return void 0!==c?c:"other"}(r,function Zv(){return Vf}());a=n.cases.indexOf(c),-1===a&&"other"!==c&&(a=n.cases.indexOf("other"));break}case 0:a=n.cases.indexOf("other")}return-1===a?null:a}(r,c);if(Td(r,a)!==p&&(xy(n,r,a),a[r.currentCaseLViewIndex]=null===p?null:~p,null!==p)){const C=a[r.anchorIdx];C&&My(n,r.create[p],a,C)}}function xy(n,r,a){let c=Td(r,a);if(null!==c){const p=r.remove[c];for(let y=0;y<p.length;y++){const C=p[y];if(C>0){const M=Ci(C,a);null!==M&&al(a[11],M)}else xy(n,xa(n,~C),a)}}}function ky(){const n=[];let a,c,r=-1;function y(M,P){r=0;const G=Td(M,P);c=null!==G?M.remove[G]:fn}function C(){if(r<c.length){const M=c[r++];return M>0?a[M]:(n.push(r,c),y(a[1].data[~M],a),C())}return 0===n.length?null:(c=n.pop(),r=n.pop(),C())}return function p(M,P){for(a=P;n.length;)n.pop();return y(M.value,P),C}}const Bf=/\ufffd(\d+):?\d*\ufffd/gi,Py=/\ufffd(\d+)\ufffd/,d_=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Qv=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,Fy=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,Ly=/\uE500/g;function h_(n,r,a,c,p,y,C){const M=Qo(n,c,1,null);let P=M<<Vs.SHIFT,G=Ra();r===G&&(G=null),null===G&&(P|=Vs.APPEND_EAGERLY),C&&(P|=Vs.COMMENT,function Ru(n){void 0===fa&&(fa=n())}(ky)),p.push(P,null===y?"":y);const ne=ga(n,M,C?32:1,null===y?"":y,null);zp(a,ne);const ue=ne.index;return Zi(ne,!1),null!==G&&r!==G&&function Ty(n,r){let a=n.insertBeforeIndex;null===a?(Cl(Dy,a_),a=n.insertBeforeIndex=[null,r]):(function et(n,r,a){n!=r&&We(a,n,r,"==")}(Array.isArray(a),!0,"Expecting array here"),a.push(r))}(G,ue),ne}function Vy(n,r,a,c,p,y,C){const M=C.match(Bf),P=h_(n,r,a,y,c,M?null:C,!1);M&&i(p,C,P.index,null,0,null)}function i(n,r,a,c,p,y){const C=n.length,M=C+1;n.push(null,null);const P=C+2,G=r.split(Bf);let ne=0;for(let ue=0;ue<G.length;ue++){const Ne=G[ue];if(1&ue){const Xe=p+parseInt(Ne,10);n.push(-1-Xe),ne|=t(Xe)}else""!==Ne&&n.push(Ne)}return n.push(a<<2|(c?1:0)),c&&n.push(c,y),n[C]=ne,n[M]=n.length-P,ne}function t(n){return 1<<Math.min(n,31)}function d(n){let r,y,a="",c=0,p=!1;for(;null!==(r=Qv.exec(n));)p?r[0]===`\ufffd/*${y}\ufffd`&&(c=r.index,p=!1):(a+=n.substring(c,r.index+r[0].length),y=r[1],p=!0);return a+=n.slice(c),a}function w(n,r,a,c,p,y){let C=0;const M={type:p.type,currentCaseLViewIndex:Qo(n,r,1,null),anchorIdx:y,cases:[],create:[],remove:[],update:[]};(function wt(n,r,a){n.push(t(r.mainBinding),2,-1-r.mainBinding,a<<2|2)})(a,p,y),function Wa(n,r,a){const c=n.data[r];null===c?n.data[r]=a:c.value=a}(n,y,M);const P=p.values;for(let G=0;G<P.length;G++){const ne=P[G],ue=[];for(let Ne=0;Ne<ne.length;Ne++){const Xe=ne[Ne];if("string"!=typeof Xe){const At=ue.push(Xe)-1;ne[Ne]=`\x3c!--\ufffd${At}\ufffd--\x3e`}}C=W(n,M,r,a,c,p.cases[G],ne.join(""),ue)|C}C&&function Kt(n,r,a){n.push(r,1,a<<2|3)}(a,C,y)}function N(n){const r=[],a=[];let c=1,p=0;const y=$(n=n.replace(d_,function(C,M,P){return c="select"===P?0:1,p=parseInt(M.slice(1),10),""}));for(let C=0;C<y.length;){let M=y[C++].trim();1===c&&(M=M.replace(/\s*(?:=)?(\w+)\s*/,"$1")),M.length&&r.push(M);const P=$(y[C++]);r.length>a.length&&a.push(P)}return{type:c,mainBinding:p,cases:r,values:a}}function $(n){if(!n)return[];let r=0;const a=[],c=[],p=/[{}]/g;let y;for(p.lastIndex=0;y=p.exec(n);){const M=y.index;if("}"==y[0]){if(a.pop(),0==a.length){const P=n.substring(r,M);d_.test(P)?c.push(N(P)):c.push(P),r=M+1}}else{if(0==a.length){const P=n.substring(r,M);c.push(P),r=M+1}a.push("{")}}const C=n.substring(r);return c.push(C),c}function W(n,r,a,c,p,y,C,M){const P=[],G=[],ne=[];r.cases.push(y),r.create.push(P),r.remove.push(G),r.update.push(ne);const Ne=Ko(function Wl(){return void 0!==Do?Do:typeof document<"u"?document:void 0}()).getInertBodyElement(C),Xe=Yd(Ne)||Ne;return Xe?re(n,r,a,c,P,G,ne,Xe,p,M,0):0}function re(n,r,a,c,p,y,C,M,P,G,ne){let ue=0,Ne=M.firstChild;for(;Ne;){const Xe=Qo(n,a,1,null);switch(Ne.nodeType){case Node.ELEMENT_NODE:const At=Ne,sn=At.tagName.toLowerCase();if(qd.hasOwnProperty(sn)){yn(p,Gg,sn,P,Xe),n.data[Xe]=sn;const Ht=At.attributes;for(let gr=0;gr<Ht.length;gr++){const Ti=Ht.item(gr),Ks=Ti.name.toLowerCase();Ti.value.match(Bf)?qf.hasOwnProperty(Ks)&&i(C,Ti.value,Xe,Ti.name,0,od[Ks]?gc:null):Ln(p,Xe,Ti)}ue=re(n,r,a,c,p,y,C,Ne,Xe,G,ne+1)|ue,De(y,Xe,ne)}break;case Node.TEXT_NODE:const vn=Ne.textContent||"",On=vn.match(Bf);yn(p,null,On?"":vn,P,Xe),De(y,Xe,ne),On&&(ue=i(C,vn,Xe,null,0,null)|ue);break;case Node.COMMENT_NODE:const er=Py.exec(Ne.textContent||"");if(er){const gr=G[parseInt(er[1],10)];yn(p,Lf,"",P,Xe),w(n,a,c,P,gr,Xe),Ye(y,Xe,ne)}}Ne=Ne.nextSibling}return ue}function De(n,r,a){0===a&&n.push(r)}function Ye(n,r,a){0===a&&(n.push(~r),n.push(r))}function yn(n,r,a,c,p){null!==r&&n.push(r),n.push(a,p,function l_(n,r,a){return n|r<<17|a<<1}(0,c,p))}function Ln(n,r,a){n.push(r<<1|1,a.name,a.value)}function eb(n,r,a=-1){const c=tr(),p=Et(),y=22+n,C=vi(c.consts,r),M=Ra();c.firstCreatePass&&function e0(n,r,a,c,p,y){const C=Ra(),M=[],P=[],G=[[]];p=function m(n,r){if(function s(n){return-1===n}(r))return d(n);{const a=n.indexOf(`:${r}\ufffd`)+2+r.toString().length,c=n.search(new RegExp(`\ufffd\\/\\*\\d+:${r}\ufffd`));return d(n.substring(a,c))}}(p,y);const ne=function Xv(n){return n.replace(Ly," ")}(p).split(Fy);for(let ue=0;ue<ne.length;ue++){let Ne=ne[ue];if(0==(1&ue)){const Xe=$(Ne);for(let At=0;At<Xe.length;At++){let sn=Xe[At];if(0==(1&At)){const vn=sn;""!==vn&&Vy(n,C,G[0],M,P,a,vn)}else{const vn=sn;if("object"!=typeof vn)throw new Error(`Unable to parse ICU expression in "${p}" message.`);w(n,a,P,r,vn,h_(n,C,G[0],a,M,"",!0).index)}}}else{const Xe=47===Ne.charCodeAt(0),sn=(Ne.charCodeAt(Xe?1:0),22+Number.parseInt(Ne.substring(Xe?2:1)));if(Xe)G.shift(),Zi(Ra(),!1);else{const vn=Sy(n,G[0],sn);G.unshift([]),Zi(vn,!0)}}}n.data[c]={create:M,update:P}}(c,null===M?0:M.index,p,y,C,a);const P=c.data[y],ne=zh(c,M===p[6]?null:M,p);(function Wv(n,r,a,c){const p=n[11];for(let y=0;y<r.length;y++){const C=r[y++],M=r[y],P=(C&Vs.COMMENT)===Vs.COMMENT,G=(C&Vs.APPEND_EAGERLY)===Vs.APPEND_EAGERLY,ne=C>>>Vs.SHIFT;let ue=n[ne];null===ue&&(ue=n[ne]=P?p.createComment(M):Ki(p,M)),G&&null!==a&&ja(p,a,ue,c,!1)}})(p,P.create,ne,M&&8&M.type?p[M.index]:null),Ns(!0)}function nb(n,r,a){eb(n,r,a),function tb(){Ns(!1)}()}function n0(n){return function u_(n){n&&(Yu|=1<<Math.min(Iu,31)),Iu++}(Ma(Et(),cn(),n)),n0}function rb(n){!function xh(n,r,a){if(Iu>0){const c=n.data[a];Ny(n,r,Array.isArray(c)?c:c.update,ee()-Iu-1,Yu)}Yu=0,Iu=0}(tr(),Et(),n+22)}function r0(n,r,a,c,p){if(n=we(n),Array.isArray(n))for(let y=0;y<n.length;y++)r0(n[y],r,a,c,p);else{const y=tr(),C=Et();let M=vc(n)?n:we(n.provide),P=tg(n);const G=si(),ne=1048575&G.providerIndexes,ue=G.directiveStart,Ne=G.providerIndexes>>20;if(vc(n)||!n.multi){const Xe=new ms(P,p,ju),At=o0(M,r,p?ne:ne+Ne,ue);-1===At?(ca(Vt(G,C),y,M),s0(y,n,r.length),r.push(M),G.directiveStart++,G.directiveEnd++,p&&(G.providerIndexes+=1048576),a.push(Xe),C.push(Xe)):(a[At]=Xe,C[At]=Xe)}else{const Xe=o0(M,r,ne+Ne,ue),At=o0(M,r,ne,ne+Ne),sn=Xe>=0&&a[Xe],vn=At>=0&&a[At];if(p&&!vn||!p&&!sn){ca(Vt(G,C),y,M);const On=function $w(n,r,a,c,p){const y=new ms(n,a,ju);return y.multi=[],y.index=r,y.componentProviders=0,ib(y,p,c&&!a),y}(p?Bw:Uw,a.length,p,c,P);!p&&vn&&(a[At].providerFactory=On),s0(y,n,r.length,0),r.push(M),G.directiveStart++,G.directiveEnd++,p&&(G.providerIndexes+=1048576),a.push(On),C.push(On)}else s0(y,n,Xe>-1?Xe:At,ib(a[p?At:Xe],P,!p&&c));!p&&c&&vn&&a[At].componentProviders++}}}function s0(n,r,a,c){const p=vc(r),y=function Xf(n){return!!n.useClass}(r);if(p||y){const P=(y?we(r.useClass):r).prototype.ngOnDestroy;if(P){const G=n.destroyHooks||(n.destroyHooks=[]);if(!p&&r.multi){const ne=G.indexOf(a);-1===ne?G.push(a,[c,P]):G[ne+1].push(c,P)}else G.push(a,P)}}}function ib(n,r,a){return a&&n.componentProviders++,n.multi.push(r)-1}function o0(n,r,a,c){for(let p=a;p<c;p++)if(r[p]===n)return p;return-1}function Uw(n,r,a,c){return a0(this.multi,[])}function Bw(n,r,a,c){const p=this.multi;let y;if(this.providerFactory){const C=this.providerFactory.componentProviders,M=da(a,a[1],this.providerFactory.index,c);y=M.slice(0,C),a0(p,y);for(let P=C;P<M.length;P++)y.push(M[P])}else y=[],a0(p,y);return y}function a0(n,r){for(let a=0;a<n.length;a++)r.push((0,n[a])());return r}function sb(n,r=[]){return a=>{a.providersResolver=(c,p)=>function Vw(n,r,a){const c=tr();if(c.firstCreatePass){const p=hi(n);r0(a,c.data,c.blueprint,p,!0),r0(r,c.data,c.blueprint,p,!1)}}(c,p?p(n):n,r)}}class Zg{}class ob{}function Hw(n,r){return new ab(n,r??null)}class ab extends Zg{constructor(r,a){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new kp(this);const c=Gn(r);this._bootstrapComponents=$u(c.bootstrap),this._r3Injector=hf(r,a,[{provide:Zg,useValue:this},{provide:Yl,useValue:this.componentFactoryResolver}],Te(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class l0 extends ob{constructor(r){super(),this.moduleType=r}create(r){return new ab(this.moduleType,r)}}class jw extends Zg{constructor(r,a,c){super(),this.componentFactoryResolver=new kp(this),this.instance=null;const p=new em([...r,{provide:Zg,useValue:this},{provide:Yl,useValue:this.componentFactoryResolver}],a||tp(),c,new Set(["environment"]));this.injector=p,p.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function u0(n,r,a=null){return new jw(n,r,a).injector}let Gw=(()=>{class n{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a.id)){const c=yc(0,a.type),p=c.length>0?u0([c],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a.id,p)}return this.cachedInjectors.get(a.id)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=Lt({token:n,providedIn:"environment",factory:()=>new n(Yi(cd))}),n})();function lb(n){n.getStandaloneInjector=r=>r.get(Gw).getOrCreateStandaloneInjector(n)}function gb(n,r,a,c){return yb(Et(),O(),n,r,a,c)}function mb(n,r,a,c,p){return function vb(n,r,a,c,p,y,C){const M=r+a;return vd(n,M,p,y)?zu(n,M+2,C?c.call(C,p,y):c(p,y)):f_(n,M+2)}(Et(),O(),n,r,a,c,p)}function _b(n,r,a,c,p,y){return function bb(n,r,a,c,p,y,C,M){const P=r+a;return function xg(n,r,a,c,p){const y=vd(n,r,a,c);return Ma(n,r+2,p)||y}(n,P,p,y,C)?zu(n,P+3,M?c.call(M,p,y,C):c(p,y,C)):f_(n,P+3)}(Et(),O(),n,r,a,c,p,y)}function f_(n,r){const a=n[r];return a===yr?void 0:a}function yb(n,r,a,c,p,y){const C=r+a;return Ma(n,C,p)?zu(n,C+1,y?c.call(y,p):c(p)):f_(n,C+1)}function Cb(n,r){const a=tr();let c;const p=n+22;a.firstCreatePass?(c=function a1(n,r){if(r)for(let a=r.length-1;a>=0;a--){const c=r[a];if(n===c.name)return c}}(r,a.pipeRegistry),a.data[p]=c,c.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(p,c.onDestroy)):c=a.data[p];const y=c.factory||(c.factory=Hi(c.type)),C=He(ju);try{const M=mt(!1),P=y();return mt(M),function jm(n,r,a,c){a>=n.data.length&&(n.data[a]=null,n.blueprint[a]=null),r[a]=c}(a,Et(),p,P),P}finally{He(C)}}function Eb(n,r,a){const c=n+22,p=Et(),y=Bs(p,c);return function p_(n,r){return n[1].data[r].pure}(p,c)?yb(p,O(),r,y.transform,a,y):y.transform(a)}function d0(n){return r=>{setTimeout(n,void 0,r)}}const Ad=class h1 extends v.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,a,c){let p=r,y=a||(()=>null),C=c;if(r&&"object"==typeof r){const P=r;p=P.next?.bind(P),y=P.error?.bind(P),C=P.complete?.bind(P)}this.__isAsync&&(y=d0(y),p&&(p=d0(p)),C&&(C=d0(C)));const M=super.subscribe({next:p,error:y,complete:C});return r instanceof K.w0&&r.add(M),M}};function f1(){return this._results[_d()]()}class h0{constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=_d(),c=h0.prototype;c[a]||(c[a]=f1)}get changes(){return this._changes||(this._changes=new Ad)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,a){return this._results.reduce(r,a)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,a){const c=this;c.dirty=!1;const p=Ni(r);(this._changesDetected=!function jc(n,r,a){if(n.length!==r.length)return!1;for(let c=0;c<n.length;c++){let p=n[c],y=r[c];if(a&&(p=a(p),y=a(y)),y!==p)return!1}return!0}(c._results,p,a))&&(c._results=p,c.length=p.length,c.last=p[this.length-1],c.first=p[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let g_=(()=>{class n{}return n.__NG_ELEMENT_ID__=m1,n})();const p1=g_,g1=class extends p1{constructor(r,a,c){super(),this._declarationLView=r,this._declarationTContainer=a,this.elementRef=c}createEmbeddedView(r,a){const c=this._declarationTContainer.tViews,p=Ji(this._declarationLView,c,r,16,null,c.declTNode,null,null,null,null,a||null);p[17]=this._declarationLView[this._declarationTContainer.index];const C=this._declarationLView[19];return null!==C&&(p[19]=C.createEmbeddedView(c)),Jl(c,p,r),new yh(p)}};function m1(){return Uy(si(),Et())}function Uy(n,r){return 4&n.type?new g1(r,n,Il(n,r)):null}let By=(()=>{class n{}return n.__NG_ELEMENT_ID__=_1,n})();function _1(){return Sb(si(),Et())}const y1=By,Ib=class extends y1{constructor(r,a,c){super(),this._lContainer=r,this._hostTNode=a,this._hostLView=c}get element(){return Il(this._hostTNode,this._hostLView)}get injector(){return new Hs(this._hostTNode,this._hostLView)}get parentInjector(){const r=Ei(this._hostTNode,this._hostLView);if(kn(r)){const a=qn(r,this._hostLView),c=Jn(r);return new Hs(a[1].data[c+8],a)}return new Hs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const a=Tb(this._lContainer);return null!==a&&a[r]||null}get length(){return this._lContainer.length-10}createEmbeddedView(r,a,c){let p,y;"number"==typeof c?p=c:null!=c&&(p=c.index,y=c.injector);const C=r.createEmbeddedView(a||{},y);return this.insert(C,p),C}createComponent(r,a,c,p,y){const C=r&&!function Zo(n){return"function"==typeof n}(r);let M;if(C)M=a;else{const ue=a||{};M=ue.index,c=ue.injector,p=ue.projectableNodes,y=ue.environmentInjector||ue.ngModuleRef}const P=C?r:new md(rt(r)),G=c||this.parentInjector;if(!y&&null==P.ngModule){const Ne=(C?G:this.parentInjector).get(cd,null);Ne&&(y=Ne)}const ne=P.create(G,p,void 0,y);return this.insert(ne.hostView,M),ne}insert(r,a){const c=r._lView,p=c[1];if(function sa(n){return ni(n[3])}(c)){const ne=this.indexOf(r);if(-1!==ne)this.detach(ne);else{const ue=c[3],Ne=new Ib(ue,ue[6],ue[3]);Ne.detach(Ne.indexOf(r))}}const y=this._adjustIndex(a),C=this._lContainer;!function jh(n,r,a,c){const p=10+c,y=a.length;c>0&&(a[p-1][4]=r),c<y-10?(r[4]=a[p],Ll(a,10+c,r)):(a.push(r),r[4]=null),r[3]=a;const C=r[17];null!==C&&a!==C&&function Ou(n,r){const a=n[9];r[16]!==r[3][3][16]&&(n[2]=!0),null===a?n[9]=[r]:a.push(r)}(C,r);const M=r[19];null!==M&&M.insertView(n),r[2]|=64}(p,c,C,y);const M=Hd(y,C),P=c[11],G=uc(P,C[7]);return null!==G&&function ai(n,r,a,c,p,y){c[0]=p,c[6]=r,hc(n,c,a,1,p,y)}(p,C[6],P,c,G,M),r.attachToViewContainerRef(),Ll(f0(C),y,r),r}move(r,a){return this.insert(r,a)}indexOf(r){const a=Tb(this._lContainer);return null!==a?a.indexOf(r):-1}remove(r){const a=this._adjustIndex(r,-1),c=Zs(this._lContainer,a);c&&(Da(f0(this._lContainer),a),Ud(c[1],c))}detach(r){const a=this._adjustIndex(r,-1),c=Zs(this._lContainer,a);return c&&null!=Da(f0(this._lContainer),a)?new yh(c):null}_adjustIndex(r,a=0){return r??this.length+a}};function Tb(n){return n[8]}function f0(n){return n[8]||(n[8]=[])}function Sb(n,r){let a;const c=r[n.index];if(ni(c))a=c;else{let p;if(8&n.type)p=ri(c);else{const y=r[11];p=y.createComment("");const C=pi(n,r);ja(y,uc(y,C),p,function $d(n,r){return n.nextSibling(r)}(y,C),!1)}r[n.index]=a=wg(c,r,p,n),Dg(r,a)}return new Ib(a,n,r)}class p0{constructor(r){this.queryList=r,this.matches=null}clone(){return new p0(this.queryList)}setDirty(){this.queryList.setDirty()}}class g0{constructor(r=[]){this.queries=r}createEmbeddedView(r){const a=r.queries;if(null!==a){const c=null!==r.contentQueries?r.contentQueries[0]:a.length,p=[];for(let y=0;y<c;y++){const C=a.getByIndex(y);p.push(this.queries[C.indexInDeclarationView].clone())}return new g0(p)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let a=0;a<this.queries.length;a++)null!==Fb(r,a).matches&&this.queries[a].setDirty()}}class Ab{constructor(r,a,c=null){this.predicate=r,this.flags=a,this.read=c}}class m0{constructor(r=[]){this.queries=r}elementStart(r,a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(r,a)}elementEnd(r){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(r)}embeddedTView(r){let a=null;for(let c=0;c<this.length;c++){const p=null!==a?a.length:0,y=this.getByIndex(c).embeddedTView(r,p);y&&(y.indexInDeclarationView=c,null!==a?a.push(y):a=[y])}return null!==a?new m0(a):null}template(r,a){for(let c=0;c<this.queries.length;c++)this.queries[c].template(r,a)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class _0{constructor(r,a=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(r,a){this.isApplyingToNode(a)&&this.matchTNode(r,a)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,a){this.elementStart(r,a)}embeddedTView(r,a){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,a),new _0(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let c=r.parent;for(;null!==c&&8&c.type&&c.index!==a;)c=c.parent;return a===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(r,a){const c=this.metadata.predicate;if(Array.isArray(c))for(let p=0;p<c.length;p++){const y=c[p];this.matchTNodeWithReadOption(r,a,w1(a,y)),this.matchTNodeWithReadOption(r,a,oi(a,r,y,!1,!1))}else c===g_?4&a.type&&this.matchTNodeWithReadOption(r,a,-1):this.matchTNodeWithReadOption(r,a,oi(a,r,c,!1,!1))}matchTNodeWithReadOption(r,a,c){if(null!==c){const p=this.metadata.read;if(null!==p)if(p===ll||p===By||p===g_&&4&a.type)this.addMatch(a.index,-2);else{const y=oi(a,r,p,!1,!1);null!==y&&this.addMatch(a.index,y)}else this.addMatch(a.index,c)}}addMatch(r,a){null===this.matches?this.matches=[r,a]:this.matches.push(r,a)}}function w1(n,r){const a=n.localNames;if(null!==a)for(let c=0;c<a.length;c+=2)if(a[c]===r)return a[c+1];return null}function C1(n,r,a,c){return-1===a?function D1(n,r){return 11&n.type?Il(n,r):4&n.type?Uy(n,r):null}(r,n):-2===a?function E1(n,r,a){return a===ll?Il(r,n):a===g_?Uy(r,n):a===By?Sb(r,n):void 0}(n,r,c):da(n,n[1],a,r)}function Mb(n,r,a,c){const p=r[19].queries[c];if(null===p.matches){const y=n.data,C=a.matches,M=[];for(let P=0;P<C.length;P+=2){const G=C[P];M.push(G<0?null:C1(r,y[G],C[P+1],a.metadata.read))}p.matches=M}return p.matches}function y0(n,r,a,c){const p=n.queries.getByIndex(a),y=p.matches;if(null!==y){const C=Mb(n,r,p,a);for(let M=0;M<y.length;M+=2){const P=y[M];if(P>0)c.push(C[M/2]);else{const G=y[M+1],ne=r[-P];for(let ue=10;ue<ne.length;ue++){const Ne=ne[ue];Ne[17]===Ne[3]&&y0(Ne[1],Ne,G,c)}if(null!==ne[9]){const ue=ne[9];for(let Ne=0;Ne<ue.length;Ne++){const Xe=ue[Ne];y0(Xe[1],Xe,G,c)}}}}}return c}function Nb(n){const r=Et(),a=tr(),c=No();Wi(c+1);const p=Fb(a,c);if(n.dirty&&function ia(n){return 4==(4&n[2])}(r)===(2==(2&p.metadata.flags))){if(null===p.matches)n.reset([]);else{const y=p.crossesNgTemplate?y0(a,r,c,[]):Mb(a,r,p,c);n.reset(y,nh),n.notifyOnChanges()}return!0}return!1}function xb(n,r,a){const c=tr();c.firstCreatePass&&(Pb(c,new Ab(n,r,a),-1),2==(2&r)&&(c.staticViewQueries=!0)),Ob(c,Et(),r)}function kb(n,r,a,c){const p=tr();if(p.firstCreatePass){const y=si();Pb(p,new Ab(r,a,c),y.index),function T1(n,r){const a=n.contentQueries||(n.contentQueries=[]);r!==(a.length?a[a.length-1]:-1)&&a.push(n.queries.length-1,r)}(p,n),2==(2&a)&&(p.staticContentQueries=!0)}Ob(p,Et(),a)}function Rb(){return function I1(n,r){return n[19].queries[r].queryList}(Et(),No())}function Ob(n,r,a){const c=new h0(4==(4&a));mm(n,r,c,c.destroy),null===r[19]&&(r[19]=new g0),r[19].queries.push(new p0(c))}function Pb(n,r,a){null===n.queries&&(n.queries=new m0),n.queries.track(new _0(r,a))}function Fb(n,r){return n.queries.getByIndex(r)}function Lb(n,r){return Uy(n,r)}function Hy(...n){}const nw=new dr("Application Initializer");let jy=(()=>{class n{constructor(a){this.appInits=a,this.resolve=Hy,this.reject=Hy,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,p)=>{this.resolve=c,this.reject=p})}runInitializers(){if(this.initialized)return;const a=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let p=0;p<this.appInits.length;p++){const y=this.appInits[p]();if(Wm(y))a.push(y);else if(q_(y)){const C=new Promise((M,P)=>{y.subscribe({complete:M,error:P})});a.push(C)}}Promise.all(a).then(()=>{c()}).catch(p=>{this.reject(p)}),0===a.length&&c(),this.initialized=!0}}return n.\u0275fac=function(a){return new(a||n)(Yi(nw,8))},n.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const rw=new dr("AppId",{providedIn:"root",factory:function iw(){return`${C0()}${C0()}${C0()}`}});function C0(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const sw=new dr("Platform Initializer"),Z1=new dr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),ow=new dr("appBootstrapListener");let W1=(()=>{class n{log(a){console.log(a)}warn(a){console.warn(a)}}return n.\u0275fac=function(a){return new(a||n)},n.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Gy=new dr("LocaleId",{providedIn:"root",factory:()=>ss(Gy,Tt.Optional|Tt.SkipSelf)||function q1(){return typeof $localize<"u"&&$localize.locale||Mh}()}),Y1=new dr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class K1{constructor(r,a){this.ngModuleFactory=r,this.componentFactories=a}}let J1=(()=>{class n{compileModuleSync(a){return new l0(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const c=this.compileModuleSync(a),y=$u(Gn(a).declarations).reduce((C,M)=>{const P=rt(M);return P&&C.push(new md(P)),C},[]);return new K1(c,y)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return n.\u0275fac=function(a){return new(a||n)},n.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const eD=(()=>Promise.resolve(0))();function E0(n){typeof Zone>"u"?eD.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Ku{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ad(!1),this.onMicrotaskEmpty=new Ad(!1),this.onStable=new Ad(!1),this.onError=new Ad(!1),typeof Zone>"u")throw new Be(908,!1);Zone.assertZonePatched();const p=this;if(p._nesting=0,p._outer=p._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const y=Zone.AsyncStackTaggingZoneSpec;p._inner=p._inner.fork(new y("Angular"))}Zone.TaskTrackingZoneSpec&&(p._inner=p._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(p._inner=p._inner.fork(Zone.longStackTraceZoneSpec)),p.shouldCoalesceEventChangeDetection=!c&&a,p.shouldCoalesceRunChangeDetection=c,p.lastRequestAnimationFrameId=-1,p.nativeRequestAnimationFrame=function tD(){let n=dt.requestAnimationFrame,r=dt.cancelAnimationFrame;if(typeof Zone<"u"&&n&&r){const a=n[Zone.__symbol__("OriginalDelegate")];a&&(n=a);const c=r[Zone.__symbol__("OriginalDelegate")];c&&(r=c)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function iD(n){const r=()=>{!function rD(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(dt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,T0(n),n.isCheckStableRunning=!0,I0(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),T0(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,c,p,y,C,M)=>{try{return uw(n),a.invokeTask(p,y,C,M)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===y.type||n.shouldCoalesceRunChangeDetection)&&r(),cw(n)}},onInvoke:(a,c,p,y,C,M,P)=>{try{return uw(n),a.invoke(p,y,C,M,P)}finally{n.shouldCoalesceRunChangeDetection&&r(),cw(n)}},onHasTask:(a,c,p,y)=>{a.hasTask(p,y),c===p&&("microTask"==y.change?(n._hasPendingMicrotasks=y.microTask,T0(n),I0(n)):"macroTask"==y.change&&(n.hasPendingMacrotasks=y.macroTask))},onHandleError:(a,c,p,y)=>(a.handleError(p,y),n.runOutsideAngular(()=>n.onError.emit(y)),!1)})}(p)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ku.isInAngularZone())throw new Be(909,!1)}static assertNotInAngularZone(){if(Ku.isInAngularZone())throw new Be(909,!1)}run(r,a,c){return this._inner.run(r,a,c)}runTask(r,a,c,p){const y=this._inner,C=y.scheduleEventTask("NgZoneEvent: "+p,r,nD,Hy,Hy);try{return y.runTask(C,a,c)}finally{y.cancelTask(C)}}runGuarded(r,a,c){return this._inner.runGuarded(r,a,c)}runOutsideAngular(r){return this._outer.run(r)}}const nD={};function I0(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function T0(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function uw(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function cw(n){n._nesting--,I0(n)}class sD{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ad,this.onMicrotaskEmpty=new Ad,this.onStable=new Ad,this.onError=new Ad}run(r,a,c){return r.apply(a,c)}runGuarded(r,a,c){return r.apply(a,c)}runOutsideAngular(r){return r()}runTask(r,a,c,p){return r.apply(a,c)}}const dw=new dr(""),hw=new dr("");let S0,oD=(()=>{class n{constructor(a,c,p){this._ngZone=a,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,S0||(function aD(n){S0=n}(p),p.addToWindow(c)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ku.assertNotInAngularZone(),E0(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())E0(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(a)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,c,p){let y=-1;c&&c>0&&(y=setTimeout(()=>{this._callbacks=this._callbacks.filter(C=>C.timeoutId!==y),a(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:a,timeoutId:y,updateCb:p})}whenStable(a,c,p){if(p&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,c,p),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,c,p){return[]}}return n.\u0275fac=function(a){return new(a||n)(Yi(Ku),Yi(fw),Yi(hw))},n.\u0275prov=Lt({token:n,factory:n.\u0275fac}),n})(),fw=(()=>{class n{constructor(){this._applications=new Map}registerApplication(a,c){this._applications.set(a,c)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,c=!0){return S0?.findTestabilityInTree(this,a,c)??null}}return n.\u0275fac=function(a){return new(a||n)},n.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),Hf=null;const pw=new dr("AllowMultipleToken"),A0=new dr("PlatformDestroyListeners");class cD{constructor(r,a){this.name=r,this.token=a}}function mw(n,r,a=[]){const c=`Platform: ${r}`,p=new dr(c);return(y=[])=>{let C=M0();if(!C||C.injector.get(pw,!1)){const M=[...a,...y,{provide:p,useValue:!0}];n?n(M):function dD(n){if(Hf&&!Hf.get(pw,!1))throw new Be(400,!1);Hf=n;const r=n.get(yw);(function gw(n){const r=n.get(sw,null);r&&r.forEach(a=>a())})(n)}(function _w(n=[],r){return Ac.create({name:r,providers:[{provide:ud,useValue:"platform"},{provide:A0,useValue:new Set([()=>Hf=null])},...n]})}(M,c))}return function fD(n){const r=M0();if(!r)throw new Be(401,!1);return r}()}}function M0(){return Hf?.get(yw)??null}let yw=(()=>{class n{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,c){const p=function bw(n,r){let a;return a="noop"===n?new sD:("zone.js"===n?void 0:n)||new Ku(r),a}(c?.ngZone,function vw(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(c)),y=[{provide:Ku,useValue:p}];return p.run(()=>{const C=Ac.create({providers:y,parent:this.injector,name:a.moduleType.name}),M=a.create(C),P=M.injector.get(ul,null);if(!P)throw new Be(402,!1);return p.runOutsideAngular(()=>{const G=p.onError.subscribe({next:ne=>{P.handleError(ne)}});M.onDestroy(()=>{Zy(this._modules,M),G.unsubscribe()})}),function ww(n,r,a){try{const c=a();return Wm(c)?c.catch(p=>{throw r.runOutsideAngular(()=>n.handleError(p)),p}):c}catch(c){throw r.runOutsideAngular(()=>n.handleError(c)),c}}(P,p,()=>{const G=M.injector.get(jy);return G.runInitializers(),G.donePromise.then(()=>(zg(M.injector.get(Gy,Mh)||Mh),this._moduleDoBootstrap(M),M))})})}bootstrapModule(a,c=[]){const p=Dw({},c);return function lD(n,r,a){const c=new l0(a);return Promise.resolve(c)}(0,0,a).then(y=>this.bootstrapModuleFactory(y,p))}_moduleDoBootstrap(a){const c=a.injector.get(zy);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(p=>c.bootstrap(p));else{if(!a.instance.ngDoBootstrap)throw new Be(403,!1);a.instance.ngDoBootstrap(c)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Be(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const a=this._injector.get(A0,null);a&&(a.forEach(c=>c()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(a){return new(a||n)(Yi(Ac))},n.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function Dw(n,r){return Array.isArray(r)?r.reduce(Dw,n):{...n,...r}}let zy=(()=>{class n{constructor(a,c,p){this._zone=a,this._injector=c,this._exceptionHandler=p,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const y=new x.y(M=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{M.next(this._stable),M.complete()})}),C=new x.y(M=>{let P;this._zone.runOutsideAngular(()=>{P=this._zone.onStable.subscribe(()=>{Ku.assertNotInAngularZone(),E0(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,M.next(!0))})})});const G=this._zone.onUnstable.subscribe(()=>{Ku.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{M.next(!1)}))});return()=>{P.unsubscribe(),G.unsubscribe()}});this.isStable=(0,l.T)(y,C.pipe((0,Ee.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,c){const p=a instanceof hd;if(!this._injector.get(jy).done)throw!p&&mn(a),new Be(405,false);let C;C=p?a:this._injector.get(Yl).resolveComponentFactory(a),this.componentTypes.push(C.componentType);const M=function uD(n){return n.isBoundToModule}(C)?void 0:this._injector.get(Zg),G=C.create(Ac.NULL,[],c||C.selector,M),ne=G.location.nativeElement,ue=G.injector.get(dw,null);return ue?.registerApplication(ne),G.onDestroy(()=>{this.detachView(G.hostView),Zy(this.components,G),ue?.unregisterApplication(ne)}),this._loadComponent(G),G}tick(){if(this._runningTick)throw new Be(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const c=a;this._views.push(c),c.attachToAppRef(this)}detachView(a){const c=a;Zy(this._views,c),c.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(ow,[]).concat(this._bootstrapListeners).forEach(p=>p(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>Zy(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new Be(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(a){return new(a||n)(Yi(Ku),Yi(cd),Yi(ul))},n.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Zy(n,r){const a=n.indexOf(r);a>-1&&n.splice(a,1)}let Ew=!0,Iw=!1;function gD(){return Iw=!0,Ew}function mD(){if(Iw)throw new Error("Cannot enable prod mode after platform setup.");Ew=!1}let _D=(()=>{class n{}return n.__NG_ELEMENT_ID__=yD,n})();function yD(n){return function vD(n,r,a){if(yi(n)&&!a){const c=ii(n.index,r);return new yh(c,c)}return 47&n.type?new yh(r[16],r):null}(si(),Et(),16==(16&n))}class Mw{constructor(){}supports(r){return vh(r)}create(r){return new ID(r)}}const ED=(n,r)=>r;class ID{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||ED}forEachItem(r){let a;for(a=this._itHead;null!==a;a=a._next)r(a)}forEachOperation(r){let a=this._itHead,c=this._removalsHead,p=0,y=null;for(;a||c;){const C=!c||a&&a.currentIndex<xw(c,p,y)?a:c,M=xw(C,p,y),P=C.currentIndex;if(C===c)p--,c=c._nextRemoved;else if(a=a._next,null==C.previousIndex)p++;else{y||(y=[]);const G=M-p,ne=P-p;if(G!=ne){for(let Ne=0;Ne<G;Ne++){const Xe=Ne<y.length?y[Ne]:y[Ne]=0,At=Xe+Ne;ne<=At&&At<G&&(y[Ne]=Xe+1)}y[C.previousIndex]=ne-G}}M!==P&&r(C,M,P)}}forEachPreviousItem(r){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)r(a)}forEachAddedItem(r){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)r(a)}forEachMovedItem(r){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)r(a)}forEachRemovedItem(r){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)r(a)}forEachIdentityChange(r){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)r(a)}diff(r){if(null==r&&(r=[]),!vh(r))throw new Be(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let p,y,C,a=this._itHead,c=!1;if(Array.isArray(r)){this.length=r.length;for(let M=0;M<this.length;M++)y=r[M],C=this._trackByFn(M,y),null!==a&&Object.is(a.trackById,C)?(c&&(a=this._verifyReinsertion(a,y,C,M)),Object.is(a.item,y)||this._addIdentityChange(a,y)):(a=this._mismatch(a,y,C,M),c=!0),a=a._next}else p=0,function j_(n,r){if(Array.isArray(n))for(let a=0;a<n.length;a++)r(n[a]);else{const a=n[_d()]();let c;for(;!(c=a.next()).done;)r(c.value)}}(r,M=>{C=this._trackByFn(p,M),null!==a&&Object.is(a.trackById,C)?(c&&(a=this._verifyReinsertion(a,M,C,p)),Object.is(a.item,M)||this._addIdentityChange(a,M)):(a=this._mismatch(a,M,C,p),c=!0),a=a._next,p++}),this.length=p;return this._truncate(a),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,a,c,p){let y;return null===r?y=this._itTail:(y=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(r.item,a)||this._addIdentityChange(r,a),this._reinsertAfter(r,y,p)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(c,p))?(Object.is(r.item,a)||this._addIdentityChange(r,a),this._moveAfter(r,y,p)):r=this._addAfter(new TD(a,c),y,p),r}_verifyReinsertion(r,a,c,p){let y=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==y?r=this._reinsertAfter(y,r._prev,p):r.currentIndex!=p&&(r.currentIndex=p,this._addToMoves(r,p)),r}_truncate(r){for(;null!==r;){const a=r._next;this._addToRemovals(this._unlink(r)),r=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,a,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const p=r._prevRemoved,y=r._nextRemoved;return null===p?this._removalsHead=y:p._nextRemoved=y,null===y?this._removalsTail=p:y._prevRemoved=p,this._insertAfter(r,a,c),this._addToMoves(r,c),r}_moveAfter(r,a,c){return this._unlink(r),this._insertAfter(r,a,c),this._addToMoves(r,c),r}_addAfter(r,a,c){return this._insertAfter(r,a,c),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,a,c){const p=null===a?this._itHead:a._next;return r._next=p,r._prev=a,null===p?this._itTail=r:p._prev=r,null===a?this._itHead=r:a._next=r,null===this._linkedRecords&&(this._linkedRecords=new Nw),this._linkedRecords.put(r),r.currentIndex=c,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const a=r._prev,c=r._next;return null===a?this._itHead=c:a._next=c,null===c?this._itTail=a:c._prev=a,r}_addToMoves(r,a){return r.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Nw),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,a){return r.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class TD{constructor(r,a){this.item=r,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class SD{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,a){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===a||a<=c.currentIndex)&&Object.is(c.trackById,r))return c;return null}remove(r){const a=r._prevDup,c=r._nextDup;return null===a?this._head=c:a._nextDup=c,null===c?this._tail=a:c._prevDup=a,null===this._head}}class Nw{constructor(){this.map=new Map}put(r){const a=r.trackById;let c=this.map.get(a);c||(c=new SD,this.map.set(a,c)),c.add(r)}get(r,a){const p=this.map.get(r);return p?p.get(r,a):null}remove(r){const a=r.trackById;return this.map.get(a).remove(r)&&this.map.delete(a),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function xw(n,r,a){const c=n.previousIndex;if(null===c)return c;let p=0;return a&&c<a.length&&(p=a[c]),c+r+p}class kw{constructor(){}supports(r){return r instanceof Map||yd(r)}create(){return new AD}}class AD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let a;for(a=this._mapHead;null!==a;a=a._next)r(a)}forEachPreviousItem(r){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)r(a)}forEachChangedItem(r){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)r(a)}forEachAddedItem(r){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)r(a)}forEachRemovedItem(r){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)r(a)}diff(r){if(r){if(!(r instanceof Map||yd(r)))throw new Be(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(r,(c,p)=>{if(a&&a.key===p)this._maybeAddToChanges(a,c),this._appendAfter=a,a=a._next;else{const y=this._getOrCreateRecordForKey(p,c);a=this._insertBeforeOrAppend(a,y)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let c=a;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,a){if(r){const c=r._prev;return a._next=r,a._prev=c,r._prev=a,c&&(c._next=a),r===this._mapHead&&(this._mapHead=a),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(r,a){if(this._records.has(r)){const p=this._records.get(r);this._maybeAddToChanges(p,a);const y=p._prev,C=p._next;return y&&(y._next=C),C&&(C._prev=y),p._next=null,p._prev=null,p}const c=new MD(r);return this._records.set(r,c),c.currentValue=a,this._addToAdditions(c),c}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,a){Object.is(a,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=a,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,a){r instanceof Map?r.forEach(a):Object.keys(r).forEach(c=>a(r[c],c))}}class MD{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Rw(){return new O0([new Mw])}let O0=(()=>{class n{constructor(a){this.factories=a}static create(a,c){if(null!=c){const p=c.factories.slice();a=a.concat(p)}return new n(a)}static extend(a){return{provide:n,useFactory:c=>n.create(a,c||Rw()),deps:[[n,new gn,new Le]]}}find(a){const c=this.factories.find(p=>p.supports(a));if(null!=c)return c;throw new Be(901,!1)}}return n.\u0275prov=Lt({token:n,providedIn:"root",factory:Rw}),n})();function Ow(){return new P0([new kw])}let P0=(()=>{class n{constructor(a){this.factories=a}static create(a,c){if(c){const p=c.factories.slice();a=a.concat(p)}return new n(a)}static extend(a){return{provide:n,useFactory:c=>n.create(a,c||Ow()),deps:[[n,new gn,new Le]]}}find(a){const c=this.factories.find(p=>p.supports(a));if(c)return c;throw new Be(901,!1)}}return n.\u0275prov=Lt({token:n,providedIn:"root",factory:Ow}),n})();const kD=mw(null,"core",[]);let RD=(()=>{class n{constructor(a){}}return n.\u0275fac=function(a){return new(a||n)(Yi(zy))},n.\u0275mod=In({type:n}),n.\u0275inj=It({}),n})();function OD(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}},433:(tn,ze,B)=>{B.d(ze,{Fj:()=>ut,qu:()=>po,NI:()=>yi,u:()=>Ts,cw:()=>pe,sg:()=>ji,u5:()=>no,Cf:()=>Dt,JU:()=>Be,JJ:()=>Ve,JL:()=>Ct,YN:()=>$o,wV:()=>Rn,eT:()=>Eo,UX:()=>gs,EJ:()=>As,kI:()=>tt,_Y:()=>zt,Kr:()=>jr});var v=B(4650),K=B(6895),x=B(8996),l=B(9751),Ee=B(4742),Ce=B(8421),he=B(3269),Te=B(5403),Pe=B(3268),ce=B(1810),we=B(4004);let _t=(()=>{class j{constructor(O,ee){this._renderer=O,this._elementRef=ee,this.onChange=qe=>{},this.onTouched=()=>{}}setProperty(O,ee){this._renderer.setProperty(this._elementRef.nativeElement,O,ee)}registerOnTouched(O){this.onTouched=O}registerOnChange(O){this.onChange=O}setDisabledState(O){this.setProperty("disabled",O)}}return j.\u0275fac=function(O){return new(O||j)(v.Y36(v.Qsj),v.Y36(v.SBq))},j.\u0275dir=v.lG2({type:j}),j})(),Ue=(()=>{class j extends _t{}return j.\u0275fac=function(){let V;return function(ee){return(V||(V=v.n5z(j)))(ee||j)}}(),j.\u0275dir=v.lG2({type:j,features:[v.qOj]}),j})();const Be=new v.OlP("NgValueAccessor"),Je={provide:Be,useExisting:(0,v.Gpc)(()=>ut),multi:!0},Zt=new v.OlP("CompositionEventMode");let ut=(()=>{class j extends _t{constructor(O,ee,qe){super(O,ee),this._compositionMode=qe,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Ae(){const j=(0,K.q)()?(0,K.q)().getUserAgent():"";return/android (\d+)/.test(j.toLowerCase())}())}writeValue(O){this.setProperty("value",O??"")}_handleInput(O){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(O)}_compositionStart(){this._composing=!0}_compositionEnd(O){this._composing=!1,this._compositionMode&&this.onChange(O)}}return j.\u0275fac=function(O){return new(O||j)(v.Y36(v.Qsj),v.Y36(v.SBq),v.Y36(Zt,8))},j.\u0275dir=v.lG2({type:j,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(O,ee){1&O&&v.NdJ("input",function(cn){return ee._handleInput(cn.target.value)})("blur",function(){return ee.onTouched()})("compositionstart",function(){return ee._compositionStart()})("compositionend",function(cn){return ee._compositionEnd(cn.target.value)})},features:[v._Bn([Je]),v.qOj]}),j})();function Fe(j){return null==j||("string"==typeof j||Array.isArray(j))&&0===j.length}function Ft(j){return null!=j&&"number"==typeof j.length}const Dt=new v.OlP("NgValidators"),se=new v.OlP("NgAsyncValidators"),et=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class tt{static min(V){return function Ot(j){return V=>{if(Fe(V.value)||Fe(j))return null;const O=parseFloat(V.value);return!isNaN(O)&&O<j?{min:{min:j,actual:V.value}}:null}}(V)}static max(V){return function kt(j){return V=>{if(Fe(V.value)||Fe(j))return null;const O=parseFloat(V.value);return!isNaN(O)&&O>j?{max:{max:j,actual:V.value}}:null}}(V)}static required(V){return function bt(j){return Fe(j.value)?{required:!0}:null}(V)}static requiredTrue(V){return function Ze(j){return!0===j.value?null:{required:!0}}(V)}static email(V){return function at(j){return Fe(j.value)||et.test(j.value)?null:{email:!0}}(V)}static minLength(V){return function Qe(j){return V=>Fe(V.value)||!Ft(V.value)?null:V.value.length<j?{minlength:{requiredLength:j,actualLength:V.value.length}}:null}(V)}static maxLength(V){return function ct(j){return V=>Ft(V.value)&&V.value.length>j?{maxlength:{requiredLength:j,actualLength:V.value.length}}:null}(V)}static pattern(V){return function pt(j){if(!j)return We;let V,O;return"string"==typeof j?(O="","^"!==j.charAt(0)&&(O+="^"),O+=j,"$"!==j.charAt(j.length-1)&&(O+="$"),V=new RegExp(O)):(O=j.toString(),V=j),ee=>{if(Fe(ee.value))return null;const qe=ee.value;return V.test(qe)?null:{pattern:{requiredPattern:O,actualValue:qe}}}}(V)}static nullValidator(V){return null}static compose(V){return hn(V)}static composeAsync(V){return Yn(V)}}function We(j){return null}function Jt(j){return null!=j}function Wt(j){return(0,v.QGY)(j)?(0,x.D)(j):j}function pn(j){let V={};return j.forEach(O=>{V=null!=O?{...V,...O}:V}),0===Object.keys(V).length?null:V}function Lt(j,V){return V.map(O=>O(j))}function It(j){return j.map(V=>function An(j){return!j.validate}(V)?V:O=>V.validate(O))}function hn(j){if(!j)return null;const V=j.filter(Jt);return 0==V.length?null:function(O){return pn(Lt(O,V))}}function Zn(j){return null!=j?hn(It(j)):null}function Yn(j){if(!j)return null;const V=j.filter(Jt);return 0==V.length?null:function(O){return function de(...j){const V=(0,he.jO)(j),{args:O,keys:ee}=(0,Ee.D)(j),qe=new l.y(cn=>{const{length:or}=O;if(!or)return void cn.complete();const Ms=new Array(or);let Ns=or,go=or;for(let mo=0;mo<or;mo++){let xs=!1;(0,Ce.Xf)(O[mo]).subscribe((0,Te.x)(cn,Mo=>{xs||(xs=!0,go--),Ms[mo]=Mo},()=>Ns--,void 0,()=>{(!Ns||!xs)&&(go||cn.next(ee?(0,ce.n)(ee,Ms):Ms),cn.complete())}))}});return V?qe.pipe((0,Pe.Z)(V)):qe}(Lt(O,V).map(Wt)).pipe((0,we.U)(pn))}}function hr(j){return null!=j?Yn(It(j)):null}function lr(j,V){return null===j?[V]:Array.isArray(j)?[...j,V]:[j,V]}function ir(j){return j._rawValidators}function kr(j){return j._rawAsyncValidators}function Kn(j){return j?Array.isArray(j)?j:[j]:[]}function mr(j,V){return Array.isArray(j)?j.includes(V):j===V}function _r(j,V){const O=Kn(V);return Kn(j).forEach(qe=>{mr(O,qe)||O.push(qe)}),O}function Tt(j,V){return Kn(V).filter(O=>!mr(j,O))}class Vn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(V){this._rawValidators=V||[],this._composedValidatorFn=Zn(this._rawValidators)}_setAsyncValidators(V){this._rawAsyncValidators=V||[],this._composedAsyncValidatorFn=hr(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(V){this._onDestroyCallbacks.push(V)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(V=>V()),this._onDestroyCallbacks=[]}reset(V){this.control&&this.control.reset(V)}hasError(V,O){return!!this.control&&this.control.hasError(V,O)}getError(V,O){return this.control?this.control.getError(V,O):null}}class Wn extends Vn{get formDirective(){return null}get path(){return null}}class He extends Vn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ln{constructor(V){this._cd=V}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Ve=(()=>{class j extends ln{constructor(O){super(O)}}return j.\u0275fac=function(O){return new(O||j)(v.Y36(He,2))},j.\u0275dir=v.lG2({type:j,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(O,ee){2&O&&v.ekj("ng-untouched",ee.isUntouched)("ng-touched",ee.isTouched)("ng-pristine",ee.isPristine)("ng-dirty",ee.isDirty)("ng-valid",ee.isValid)("ng-invalid",ee.isInvalid)("ng-pending",ee.isPending)},features:[v.qOj]}),j})(),Ct=(()=>{class j extends ln{constructor(O){super(O)}}return j.\u0275fac=function(O){return new(O||j)(v.Y36(Wn,10))},j.\u0275dir=v.lG2({type:j,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(O,ee){2&O&&v.ekj("ng-untouched",ee.isUntouched)("ng-touched",ee.isTouched)("ng-pristine",ee.isPristine)("ng-dirty",ee.isDirty)("ng-valid",ee.isValid)("ng-invalid",ee.isInvalid)("ng-pending",ee.isPending)("ng-submitted",ee.isSubmitted)},features:[v.qOj]}),j})();const In="VALID",Dr="INVALID",ve="PENDING",fe="DISABLED";function Se(j){return(mn(j)?j.validators:j)||null}function rt(j){return Array.isArray(j)?Zn(j):j||null}function je(j,V){return(mn(V)?V.asyncValidators:j)||null}function qt(j){return Array.isArray(j)?hr(j):j||null}function mn(j){return null!=j&&!Array.isArray(j)&&"object"==typeof j}function Gn(j,V,O){const ee=j.controls;if(!(V?Object.keys(ee):ee).length)throw new v.vHH(1e3,"");if(!ee[O])throw new v.vHH(1001,"")}function fr(j,V,O){j._forEachChild((ee,qe)=>{if(void 0===O[qe])throw new v.vHH(1002,"")})}class me{constructor(V,O){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=V,this._rawAsyncValidators=O,this._composedValidatorFn=rt(this._rawValidators),this._composedAsyncValidatorFn=qt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(V){this._rawValidators=this._composedValidatorFn=V}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(V){this._rawAsyncValidators=this._composedAsyncValidatorFn=V}get parent(){return this._parent}get valid(){return this.status===In}get invalid(){return this.status===Dr}get pending(){return this.status==ve}get disabled(){return this.status===fe}get enabled(){return this.status!==fe}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(V){this._rawValidators=V,this._composedValidatorFn=rt(V)}setAsyncValidators(V){this._rawAsyncValidators=V,this._composedAsyncValidatorFn=qt(V)}addValidators(V){this.setValidators(_r(V,this._rawValidators))}addAsyncValidators(V){this.setAsyncValidators(_r(V,this._rawAsyncValidators))}removeValidators(V){this.setValidators(Tt(V,this._rawValidators))}removeAsyncValidators(V){this.setAsyncValidators(Tt(V,this._rawAsyncValidators))}hasValidator(V){return mr(this._rawValidators,V)}hasAsyncValidator(V){return mr(this._rawAsyncValidators,V)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(V={}){this.touched=!0,this._parent&&!V.onlySelf&&this._parent.markAsTouched(V)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(V=>V.markAllAsTouched())}markAsUntouched(V={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(O=>{O.markAsUntouched({onlySelf:!0})}),this._parent&&!V.onlySelf&&this._parent._updateTouched(V)}markAsDirty(V={}){this.pristine=!1,this._parent&&!V.onlySelf&&this._parent.markAsDirty(V)}markAsPristine(V={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(O=>{O.markAsPristine({onlySelf:!0})}),this._parent&&!V.onlySelf&&this._parent._updatePristine(V)}markAsPending(V={}){this.status=ve,!1!==V.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!V.onlySelf&&this._parent.markAsPending(V)}disable(V={}){const O=this._parentMarkedDirty(V.onlySelf);this.status=fe,this.errors=null,this._forEachChild(ee=>{ee.disable({...V,onlySelf:!0})}),this._updateValue(),!1!==V.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...V,skipPristineCheck:O}),this._onDisabledChange.forEach(ee=>ee(!0))}enable(V={}){const O=this._parentMarkedDirty(V.onlySelf);this.status=In,this._forEachChild(ee=>{ee.enable({...V,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:V.emitEvent}),this._updateAncestors({...V,skipPristineCheck:O}),this._onDisabledChange.forEach(ee=>ee(!1))}_updateAncestors(V){this._parent&&!V.onlySelf&&(this._parent.updateValueAndValidity(V),V.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(V){this._parent=V}getRawValue(){return this.value}updateValueAndValidity(V={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===In||this.status===ve)&&this._runAsyncValidator(V.emitEvent)),!1!==V.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!V.onlySelf&&this._parent.updateValueAndValidity(V)}_updateTreeValidity(V={emitEvent:!0}){this._forEachChild(O=>O._updateTreeValidity(V)),this.updateValueAndValidity({onlySelf:!0,emitEvent:V.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?fe:In}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(V){if(this.asyncValidator){this.status=ve,this._hasOwnPendingAsyncValidator=!0;const O=Wt(this.asyncValidator(this));this._asyncValidationSubscription=O.subscribe(ee=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(ee,{emitEvent:V})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(V,O={}){this.errors=V,this._updateControlsErrors(!1!==O.emitEvent)}get(V){let O=V;return null==O||(Array.isArray(O)||(O=O.split(".")),0===O.length)?null:O.reduce((ee,qe)=>ee&&ee._find(qe),this)}getError(V,O){const ee=O?this.get(O):this;return ee&&ee.errors?ee.errors[V]:null}hasError(V,O){return!!this.getError(V,O)}get root(){let V=this;for(;V._parent;)V=V._parent;return V}_updateControlsErrors(V){this.status=this._calculateStatus(),V&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(V)}_initObservables(){this.valueChanges=new v.vpe,this.statusChanges=new v.vpe}_calculateStatus(){return this._allControlsDisabled()?fe:this.errors?Dr:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ve)?ve:this._anyControlsHaveStatus(Dr)?Dr:In}_anyControlsHaveStatus(V){return this._anyControls(O=>O.status===V)}_anyControlsDirty(){return this._anyControls(V=>V.dirty)}_anyControlsTouched(){return this._anyControls(V=>V.touched)}_updatePristine(V={}){this.pristine=!this._anyControlsDirty(),this._parent&&!V.onlySelf&&this._parent._updatePristine(V)}_updateTouched(V={}){this.touched=this._anyControlsTouched(),this._parent&&!V.onlySelf&&this._parent._updateTouched(V)}_registerOnCollectionChange(V){this._onCollectionChange=V}_setUpdateStrategy(V){mn(V)&&null!=V.updateOn&&(this._updateOn=V.updateOn)}_parentMarkedDirty(V){return!V&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(V){return null}}class pe extends me{constructor(V,O,ee){super(Se(O),je(ee,O)),this.controls=V,this._initObservables(),this._setUpdateStrategy(O),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(V,O){return this.controls[V]?this.controls[V]:(this.controls[V]=O,O.setParent(this),O._registerOnCollectionChange(this._onCollectionChange),O)}addControl(V,O,ee={}){this.registerControl(V,O),this.updateValueAndValidity({emitEvent:ee.emitEvent}),this._onCollectionChange()}removeControl(V,O={}){this.controls[V]&&this.controls[V]._registerOnCollectionChange(()=>{}),delete this.controls[V],this.updateValueAndValidity({emitEvent:O.emitEvent}),this._onCollectionChange()}setControl(V,O,ee={}){this.controls[V]&&this.controls[V]._registerOnCollectionChange(()=>{}),delete this.controls[V],O&&this.registerControl(V,O),this.updateValueAndValidity({emitEvent:ee.emitEvent}),this._onCollectionChange()}contains(V){return this.controls.hasOwnProperty(V)&&this.controls[V].enabled}setValue(V,O={}){fr(this,0,V),Object.keys(V).forEach(ee=>{Gn(this,!0,ee),this.controls[ee].setValue(V[ee],{onlySelf:!0,emitEvent:O.emitEvent})}),this.updateValueAndValidity(O)}patchValue(V,O={}){null!=V&&(Object.keys(V).forEach(ee=>{const qe=this.controls[ee];qe&&qe.patchValue(V[ee],{onlySelf:!0,emitEvent:O.emitEvent})}),this.updateValueAndValidity(O))}reset(V={},O={}){this._forEachChild((ee,qe)=>{ee.reset(V[qe],{onlySelf:!0,emitEvent:O.emitEvent})}),this._updatePristine(O),this._updateTouched(O),this.updateValueAndValidity(O)}getRawValue(){return this._reduceChildren({},(V,O,ee)=>(V[ee]=O.getRawValue(),V))}_syncPendingControls(){let V=this._reduceChildren(!1,(O,ee)=>!!ee._syncPendingControls()||O);return V&&this.updateValueAndValidity({onlySelf:!0}),V}_forEachChild(V){Object.keys(this.controls).forEach(O=>{const ee=this.controls[O];ee&&V(ee,O)})}_setUpControls(){this._forEachChild(V=>{V.setParent(this),V._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(V){for(const[O,ee]of Object.entries(this.controls))if(this.contains(O)&&V(ee))return!0;return!1}_reduceValue(){return this._reduceChildren({},(O,ee,qe)=>((ee.enabled||this.disabled)&&(O[qe]=ee.value),O))}_reduceChildren(V,O){let ee=V;return this._forEachChild((qe,cn)=>{ee=O(ee,qe,cn)}),ee}_allControlsDisabled(){for(const V of Object.keys(this.controls))if(this.controls[V].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(V){return this.controls.hasOwnProperty(V)?this.controls[V]:null}}class st extends pe{}function Un(j,V){vr(j,V),V.valueAccessor.writeValue(j.value),j.disabled&&V.valueAccessor.setDisabledState?.(!0),function Xi(j,V){V.valueAccessor.registerOnChange(O=>{j._pendingValue=O,j._pendingChange=!0,j._pendingDirty=!0,"change"===j.updateOn&&Yr(j,V)})}(j,V),function li(j,V){const O=(ee,qe)=>{V.valueAccessor.writeValue(ee),qe&&V.viewToModelUpdate(ee)};j.registerOnChange(O),V._registerOnDestroy(()=>{j._unregisterOnChange(O)})}(j,V),function Si(j,V){V.valueAccessor.registerOnTouched(()=>{j._pendingTouched=!0,"blur"===j.updateOn&&j._pendingChange&&Yr(j,V),"submit"!==j.updateOn&&j.markAsTouched()})}(j,V),function $n(j,V){if(V.valueAccessor.setDisabledState){const O=ee=>{V.valueAccessor.setDisabledState(ee)};j.registerOnDisabledChange(O),V._registerOnDestroy(()=>{j._unregisterOnDisabledChange(O)})}}(j,V)}function Br(j,V,O=!0){const ee=()=>{};V.valueAccessor&&(V.valueAccessor.registerOnChange(ee),V.valueAccessor.registerOnTouched(ee)),_i(j,V),j&&(V._invokeOnDestroyCallbacks(),j._registerOnCollectionChange(()=>{}))}function Vi(j,V){j.forEach(O=>{O.registerOnValidatorChange&&O.registerOnValidatorChange(V)})}function vr(j,V){const O=ir(j);null!==V.validator?j.setValidators(lr(O,V.validator)):"function"==typeof O&&j.setValidators([O]);const ee=kr(j);null!==V.asyncValidator?j.setAsyncValidators(lr(ee,V.asyncValidator)):"function"==typeof ee&&j.setAsyncValidators([ee]);const qe=()=>j.updateValueAndValidity();Vi(V._rawValidators,qe),Vi(V._rawAsyncValidators,qe)}function _i(j,V){let O=!1;if(null!==j){if(null!==V.validator){const qe=ir(j);if(Array.isArray(qe)&&qe.length>0){const cn=qe.filter(or=>or!==V.validator);cn.length!==qe.length&&(O=!0,j.setValidators(cn))}}if(null!==V.asyncValidator){const qe=kr(j);if(Array.isArray(qe)&&qe.length>0){const cn=qe.filter(or=>or!==V.asyncValidator);cn.length!==qe.length&&(O=!0,j.setAsyncValidators(cn))}}}const ee=()=>{};return Vi(V._rawValidators,ee),Vi(V._rawAsyncValidators,ee),O}function Yr(j,V){j._pendingDirty&&j.markAsDirty(),j.setValue(j._pendingValue,{emitModelToViewChange:!1}),V.viewToModelUpdate(j._pendingValue),j._pendingChange=!1}function ni(j,V){const O=j.indexOf(V);O>-1&&j.splice(O,1)}function Us(j){return"object"==typeof j&&null!==j&&2===Object.keys(j).length&&"value"in j&&"disabled"in j}const yi=class extends me{constructor(V=null,O,ee){super(Se(O),je(ee,O)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(V),this._setUpdateStrategy(O),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),mn(O)&&(O.nonNullable||O.initialValueIsDefault)&&(this.defaultValue=Us(V)?V.value:V)}setValue(V,O={}){this.value=this._pendingValue=V,this._onChange.length&&!1!==O.emitModelToViewChange&&this._onChange.forEach(ee=>ee(this.value,!1!==O.emitViewToModelChange)),this.updateValueAndValidity(O)}patchValue(V,O={}){this.setValue(V,O)}reset(V=this.defaultValue,O={}){this._applyFormState(V),this.markAsPristine(O),this.markAsUntouched(O),this.setValue(this.value,O),this._pendingChange=!1}_updateValue(){}_anyControls(V){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(V){this._onChange.push(V)}_unregisterOnChange(V){ni(this._onChange,V)}registerOnDisabledChange(V){this._onDisabledChange.push(V)}_unregisterOnDisabledChange(V){ni(this._onDisabledChange,V)}_forEachChild(V){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(V){Us(V)?(this.value=this._pendingValue=V.value,V.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=V}};let zt=(()=>{class j{}return j.\u0275fac=function(O){return new(O||j)},j.\u0275dir=v.lG2({type:j,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),j})();const Tn={provide:Be,useExisting:(0,v.Gpc)(()=>Rn),multi:!0};let Rn=(()=>{class j extends Ue{writeValue(O){this.setProperty("value",O??"")}registerOnChange(O){this.onChange=ee=>{O(""==ee?null:parseFloat(ee))}}}return j.\u0275fac=function(){let V;return function(ee){return(V||(V=v.n5z(j)))(ee||j)}}(),j.\u0275dir=v.lG2({type:j,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(O,ee){1&O&&v.NdJ("input",function(cn){return ee.onChange(cn.target.value)})("blur",function(){return ee.onTouched()})},features:[v._Bn([Tn]),v.qOj]}),j})(),Di=(()=>{class j{}return j.\u0275fac=function(O){return new(O||j)},j.\u0275mod=v.oAB({type:j}),j.\u0275inj=v.cJS({}),j})();const $i={provide:Be,useExisting:(0,v.Gpc)(()=>Eo),multi:!0};let Eo=(()=>{class j extends Ue{writeValue(O){this.setProperty("value",parseFloat(O))}registerOnChange(O){this.onChange=ee=>{O(""==ee?null:parseFloat(ee))}}}return j.\u0275fac=function(){let V;return function(ee){return(V||(V=v.n5z(j)))(ee||j)}}(),j.\u0275dir=v.lG2({type:j,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(O,ee){1&O&&v.NdJ("change",function(cn){return ee.onChange(cn.target.value)})("input",function(cn){return ee.onChange(cn.target.value)})("blur",function(){return ee.onTouched()})},features:[v._Bn([$i]),v.qOj]}),j})();const Io=new v.OlP("NgModelWithFormControlWarning"),Hi={provide:Wn,useExisting:(0,v.Gpc)(()=>ji)};let ji=(()=>{class j extends Wn{constructor(O,ee){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new v.vpe,this._setValidators(O),this._setAsyncValidators(ee)}ngOnChanges(O){this._checkFormPresent(),O.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(_i(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(O){const ee=this.form.get(O.path);return Un(ee,O),ee.updateValueAndValidity({emitEvent:!1}),this.directives.push(O),ee}getControl(O){return this.form.get(O.path)}removeControl(O){Br(O.control||null,O,!1),function hs(j,V){const O=j.indexOf(V);O>-1&&j.splice(O,1)}(this.directives,O)}addFormGroup(O){this._setUpFormContainer(O)}removeFormGroup(O){this._cleanUpFormContainer(O)}getFormGroup(O){return this.form.get(O.path)}addFormArray(O){this._setUpFormContainer(O)}removeFormArray(O){this._cleanUpFormContainer(O)}getFormArray(O){return this.form.get(O.path)}updateModel(O,ee){this.form.get(O.path).setValue(ee)}onSubmit(O){return this.submitted=!0,function ds(j,V){j._syncPendingControls(),V.forEach(O=>{const ee=O.control;"submit"===ee.updateOn&&ee._pendingChange&&(O.viewToModelUpdate(ee._pendingValue),ee._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(O),"dialog"===O?.target?.method}onReset(){this.resetForm()}resetForm(O){this.form.reset(O),this.submitted=!1}_updateDomValue(){this.directives.forEach(O=>{const ee=O.control,qe=this.form.get(O.path);ee!==qe&&(Br(ee||null,O),(j=>j instanceof yi)(qe)&&(Un(qe,O),O.control=qe))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(O){const ee=this.form.get(O.path);(function $r(j,V){vr(j,V)})(ee,O),ee.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(O){if(this.form){const ee=this.form.get(O.path);ee&&function di(j,V){return _i(j,V)}(ee,O)&&ee.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){vr(this.form,this),this._oldForm&&_i(this._oldForm,this)}_checkFormPresent(){}}return j.\u0275fac=function(O){return new(O||j)(v.Y36(Dt,10),v.Y36(se,10))},j.\u0275dir=v.lG2({type:j,selectors:[["","formGroup",""]],hostBindings:function(O,ee){1&O&&v.NdJ("submit",function(cn){return ee.onSubmit(cn)})("reset",function(){return ee.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[v._Bn([Hi]),v.qOj,v.TTD]}),j})();const To={provide:He,useExisting:(0,v.Gpc)(()=>Ts)};let Ts=(()=>{class j extends He{constructor(O,ee,qe,cn,or){super(),this._ngModelWarningConfig=or,this._added=!1,this.update=new v.vpe,this._ngModelWarningSent=!1,this._parent=O,this._setValidators(ee),this._setAsyncValidators(qe),this.valueAccessor=function es(j,V){if(!V)return null;let O,ee,qe;return Array.isArray(V),V.forEach(cn=>{cn.constructor===ut?O=cn:function cs(j){return Object.getPrototypeOf(j.constructor)===Ue}(cn)?ee=cn:qe=cn}),qe||ee||O||null}(0,cn)}set isDisabled(O){}ngOnChanges(O){this._added||this._setUpControl(),function us(j,V){if(!j.hasOwnProperty("model"))return!1;const O=j.model;return!!O.isFirstChange()||!Object.is(V,O.currentValue)}(O,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(O){this.viewModel=O,this.update.emit(O)}get path(){return function Mn(j,V){return[...V.path,j]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return j._ngModelWarningSentOnce=!1,j.\u0275fac=function(O){return new(O||j)(v.Y36(Wn,13),v.Y36(Dt,10),v.Y36(se,10),v.Y36(Be,10),v.Y36(Io,8))},j.\u0275dir=v.lG2({type:j,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[v._Bn([To]),v.qOj,v.TTD]}),j})();const Ss={provide:Be,useExisting:(0,v.Gpc)(()=>As),multi:!0};function ts(j,V){return null==j?`${V}`:(V&&"object"==typeof V&&(V="Object"),`${j}: ${V}`.slice(0,50))}let As=(()=>{class j extends Ue{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(O){this._compareWith=O}writeValue(O){this.value=O;const qe=ts(this._getOptionId(O),O);this.setProperty("value",qe)}registerOnChange(O){this.onChange=ee=>{this.value=this._getOptionValue(ee),O(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(O){for(const ee of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(ee),O))return ee;return null}_getOptionValue(O){const ee=function Mi(j){return j.split(":")[0]}(O);return this._optionMap.has(ee)?this._optionMap.get(ee):O}}return j.\u0275fac=function(){let V;return function(ee){return(V||(V=v.n5z(j)))(ee||j)}}(),j.\u0275dir=v.lG2({type:j,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(O,ee){1&O&&v.NdJ("change",function(cn){return ee.onChange(cn.target.value)})("blur",function(){return ee.onTouched()})},inputs:{compareWith:"compareWith"},features:[v._Bn([Ss]),v.qOj]}),j})(),$o=(()=>{class j{constructor(O,ee,qe){this._element=O,this._renderer=ee,this._select=qe,this._select&&(this.id=this._select._registerOption())}set ngValue(O){null!=this._select&&(this._select._optionMap.set(this.id,O),this._setElementValue(ts(this.id,O)),this._select.writeValue(this._select.value))}set value(O){this._setElementValue(O),this._select&&this._select.writeValue(this._select.value)}_setElementValue(O){this._renderer.setProperty(this._element.nativeElement,"value",O)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return j.\u0275fac=function(O){return new(O||j)(v.Y36(v.SBq),v.Y36(v.Qsj),v.Y36(As,9))},j.\u0275dir=v.lG2({type:j,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),j})();const Hr={provide:Be,useExisting:(0,v.Gpc)(()=>Ho),multi:!0};function ns(j,V){return null==j?`${V}`:("string"==typeof V&&(V=`'${V}'`),V&&"object"==typeof V&&(V="Object"),`${j}: ${V}`.slice(0,50))}let Ho=(()=>{class j extends Ue{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(O){this._compareWith=O}writeValue(O){let ee;if(this.value=O,Array.isArray(O)){const qe=O.map(cn=>this._getOptionId(cn));ee=(cn,or)=>{cn._setSelected(qe.indexOf(or.toString())>-1)}}else ee=(qe,cn)=>{qe._setSelected(!1)};this._optionMap.forEach(ee)}registerOnChange(O){this.onChange=ee=>{const qe=[],cn=ee.selectedOptions;if(void 0!==cn){const or=cn;for(let Ms=0;Ms<or.length;Ms++){const go=this._getOptionValue(or[Ms].value);qe.push(go)}}else{const or=ee.options;for(let Ms=0;Ms<or.length;Ms++){const Ns=or[Ms];if(Ns.selected){const go=this._getOptionValue(Ns.value);qe.push(go)}}}this.value=qe,O(qe)}}_registerOption(O){const ee=(this._idCounter++).toString();return this._optionMap.set(ee,O),ee}_getOptionId(O){for(const ee of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(ee)._value,O))return ee;return null}_getOptionValue(O){const ee=function So(j){return j.split(":")[0]}(O);return this._optionMap.has(ee)?this._optionMap.get(ee)._value:O}}return j.\u0275fac=function(){let V;return function(ee){return(V||(V=v.n5z(j)))(ee||j)}}(),j.\u0275dir=v.lG2({type:j,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(O,ee){1&O&&v.NdJ("change",function(cn){return ee.onChange(cn.target)})("blur",function(){return ee.onTouched()})},inputs:{compareWith:"compareWith"},features:[v._Bn([Hr]),v.qOj]}),j})(),jr=(()=>{class j{constructor(O,ee,qe){this._element=O,this._renderer=ee,this._select=qe,this._select&&(this.id=this._select._registerOption(this))}set ngValue(O){null!=this._select&&(this._value=O,this._setElementValue(ns(this.id,O)),this._select.writeValue(this._select.value))}set value(O){this._select?(this._value=O,this._setElementValue(ns(this.id,O)),this._select.writeValue(this._select.value)):this._setElementValue(O)}_setElementValue(O){this._renderer.setProperty(this._element.nativeElement,"value",O)}_setSelected(O){this._renderer.setProperty(this._element.nativeElement,"selected",O)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return j.\u0275fac=function(O){return new(O||j)(v.Y36(v.SBq),v.Y36(v.Qsj),v.Y36(Ho,9))},j.\u0275dir=v.lG2({type:j,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),j})(),tr=(()=>{class j{}return j.\u0275fac=function(O){return new(O||j)},j.\u0275mod=v.oAB({type:j}),j.\u0275inj=v.cJS({imports:[Di]}),j})(),no=(()=>{class j{}return j.\u0275fac=function(O){return new(O||j)},j.\u0275mod=v.oAB({type:j}),j.\u0275inj=v.cJS({imports:[tr]}),j})(),gs=(()=>{class j{static withConfig(O){return{ngModule:j,providers:[{provide:Io,useValue:O.warnOnNgModelWithFormControl}]}}}return j.\u0275fac=function(O){return new(O||j)},j.\u0275mod=v.oAB({type:j}),j.\u0275inj=v.cJS({imports:[tr]}),j})();class si extends me{constructor(V,O,ee){super(Se(O),je(ee,O)),this.controls=V,this._initObservables(),this._setUpdateStrategy(O),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(V){return this.controls[this._adjustIndex(V)]}push(V,O={}){this.controls.push(V),this._registerControl(V),this.updateValueAndValidity({emitEvent:O.emitEvent}),this._onCollectionChange()}insert(V,O,ee={}){this.controls.splice(V,0,O),this._registerControl(O),this.updateValueAndValidity({emitEvent:ee.emitEvent})}removeAt(V,O={}){let ee=this._adjustIndex(V);ee<0&&(ee=0),this.controls[ee]&&this.controls[ee]._registerOnCollectionChange(()=>{}),this.controls.splice(ee,1),this.updateValueAndValidity({emitEvent:O.emitEvent})}setControl(V,O,ee={}){let qe=this._adjustIndex(V);qe<0&&(qe=0),this.controls[qe]&&this.controls[qe]._registerOnCollectionChange(()=>{}),this.controls.splice(qe,1),O&&(this.controls.splice(qe,0,O),this._registerControl(O)),this.updateValueAndValidity({emitEvent:ee.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(V,O={}){fr(this,0,V),V.forEach((ee,qe)=>{Gn(this,!1,qe),this.at(qe).setValue(ee,{onlySelf:!0,emitEvent:O.emitEvent})}),this.updateValueAndValidity(O)}patchValue(V,O={}){null!=V&&(V.forEach((ee,qe)=>{this.at(qe)&&this.at(qe).patchValue(ee,{onlySelf:!0,emitEvent:O.emitEvent})}),this.updateValueAndValidity(O))}reset(V=[],O={}){this._forEachChild((ee,qe)=>{ee.reset(V[qe],{onlySelf:!0,emitEvent:O.emitEvent})}),this._updatePristine(O),this._updateTouched(O),this.updateValueAndValidity(O)}getRawValue(){return this.controls.map(V=>V.getRawValue())}clear(V={}){this.controls.length<1||(this._forEachChild(O=>O._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:V.emitEvent}))}_adjustIndex(V){return V<0?V+this.length:V}_syncPendingControls(){let V=this.controls.reduce((O,ee)=>!!ee._syncPendingControls()||O,!1);return V&&this.updateValueAndValidity({onlySelf:!0}),V}_forEachChild(V){this.controls.forEach((O,ee)=>{V(O,ee)})}_updateValue(){this.value=this.controls.filter(V=>V.enabled||this.disabled).map(V=>V.value)}_anyControls(V){return this.controls.some(O=>O.enabled&&V(O))}_setUpControls(){this._forEachChild(V=>this._registerControl(V))}_allControlsDisabled(){for(const V of this.controls)if(V.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(V){V.setParent(this),V._registerOnCollectionChange(this._onCollectionChange)}_find(V){return this.at(V)??null}}function Zi(j){return!!j&&(void 0!==j.asyncValidators||void 0!==j.validators||void 0!==j.updateOn)}let po=(()=>{class j{constructor(){this.useNonNullable=!1}get nonNullable(){const O=new j;return O.useNonNullable=!0,O}group(O,ee=null){const qe=this._reduceControls(O);let cn={};return Zi(ee)?cn=ee:null!==ee&&(cn.validators=ee.validator,cn.asyncValidators=ee.asyncValidator),new pe(qe,cn)}record(O,ee=null){const qe=this._reduceControls(O);return new st(qe,ee)}control(O,ee,qe){let cn={};return this.useNonNullable?(Zi(ee)?cn=ee:(cn.validators=ee,cn.asyncValidators=qe),new yi(O,{...cn,nonNullable:!0})):new yi(O,ee,qe)}array(O,ee,qe){const cn=O.map(or=>this._createControl(or));return new si(cn,ee,qe)}_reduceControls(O){const ee={};return Object.keys(O).forEach(qe=>{ee[qe]=this._createControl(O[qe])}),ee}_createControl(O){return O instanceof yi||O instanceof me?O:Array.isArray(O)?this.control(O[0],O.length>1?O[1]:null,O.length>2?O[2]:null):this.control(O)}}return j.\u0275fac=function(O){return new(O||j)},j.\u0275prov=v.Yz7({token:j,factory:j.\u0275fac,providedIn:gs}),j})()},1481:(tn,ze,B)=>{B.d(ze,{Dx:()=>Ve,H7:()=>qt,b2:()=>Wn,q6:()=>mr});var v=B(6895),K=B(4650);class x extends v.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class l extends x{static makeCurrent(){(0,v.HT)(new l)}onAndCancel(pe,ie,Me){return pe.addEventListener(ie,Me,!1),()=>{pe.removeEventListener(ie,Me,!1)}}dispatchEvent(pe,ie){pe.dispatchEvent(ie)}remove(pe){pe.parentNode&&pe.parentNode.removeChild(pe)}createElement(pe,ie){return(ie=ie||this.getDefaultDocument()).createElement(pe)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(pe){return pe.nodeType===Node.ELEMENT_NODE}isShadowRoot(pe){return pe instanceof DocumentFragment}getGlobalEventTarget(pe,ie){return"window"===ie?window:"document"===ie?pe:"body"===ie?pe.body:null}getBaseHref(pe){const ie=function Ce(){return Ee=Ee||document.querySelector("base"),Ee?Ee.getAttribute("href"):null}();return null==ie?null:function Te(me){he=he||document.createElement("a"),he.setAttribute("href",me);const pe=he.pathname;return"/"===pe.charAt(0)?pe:`/${pe}`}(ie)}resetBaseElement(){Ee=null}getUserAgent(){return window.navigator.userAgent}getCookie(pe){return(0,v.Mx)(document.cookie,pe)}}let he,Ee=null;const Pe=new K.OlP("TRANSITION_ID"),de=[{provide:K.ip1,useFactory:function ce(me,pe,ie){return()=>{ie.get(K.CZH).donePromise.then(()=>{const Me=(0,v.q)(),st=pe.querySelectorAll(`style[ng-transition="${me}"]`);for(let Gt=0;Gt<st.length;Gt++)Me.remove(st[Gt])})}},deps:[Pe,v.K0,K.zs3],multi:!0}];let _t=(()=>{class me{build(){return new XMLHttpRequest}}return me.\u0275fac=function(ie){return new(ie||me)},me.\u0275prov=K.Yz7({token:me,factory:me.\u0275fac}),me})();const Ue=new K.OlP("EventManagerPlugins");let Be=(()=>{class me{constructor(ie,Me){this._zone=Me,this._eventNameToPlugin=new Map,ie.forEach(st=>st.manager=this),this._plugins=ie.slice().reverse()}addEventListener(ie,Me,st){return this._findPluginFor(Me).addEventListener(ie,Me,st)}addGlobalEventListener(ie,Me,st){return this._findPluginFor(Me).addGlobalEventListener(ie,Me,st)}getZone(){return this._zone}_findPluginFor(ie){const Me=this._eventNameToPlugin.get(ie);if(Me)return Me;const st=this._plugins;for(let Gt=0;Gt<st.length;Gt++){const Mn=st[Gt];if(Mn.supports(ie))return this._eventNameToPlugin.set(ie,Mn),Mn}throw new Error(`No event manager plugin found for event ${ie}`)}}return me.\u0275fac=function(ie){return new(ie||me)(K.LFG(Ue),K.LFG(K.R0b))},me.\u0275prov=K.Yz7({token:me,factory:me.\u0275fac}),me})();class Pt{constructor(pe){this._doc=pe}addGlobalEventListener(pe,ie,Me){const st=(0,v.q)().getGlobalEventTarget(this._doc,pe);if(!st)throw new Error(`Unsupported event target ${st} for event ${ie}`);return this.addEventListener(st,ie,Me)}}let Ke=(()=>{class me{constructor(){this._stylesSet=new Set}addStyles(ie){const Me=new Set;ie.forEach(st=>{this._stylesSet.has(st)||(this._stylesSet.add(st),Me.add(st))}),this.onStylesAdded(Me)}onStylesAdded(ie){}getAllStyles(){return Array.from(this._stylesSet)}}return me.\u0275fac=function(ie){return new(ie||me)},me.\u0275prov=K.Yz7({token:me,factory:me.\u0275fac}),me})(),Je=(()=>{class me extends Ke{constructor(ie){super(),this._doc=ie,this._hostNodes=new Map,this._hostNodes.set(ie.head,[])}_addStylesToHost(ie,Me,st){ie.forEach(Gt=>{const Mn=this._doc.createElement("style");Mn.textContent=Gt,st.push(Me.appendChild(Mn))})}addHost(ie){const Me=[];this._addStylesToHost(this._stylesSet,ie,Me),this._hostNodes.set(ie,Me)}removeHost(ie){const Me=this._hostNodes.get(ie);Me&&Me.forEach(Ae),this._hostNodes.delete(ie)}onStylesAdded(ie){this._hostNodes.forEach((Me,st)=>{this._addStylesToHost(ie,st,Me)})}ngOnDestroy(){this._hostNodes.forEach(ie=>ie.forEach(Ae))}}return me.\u0275fac=function(ie){return new(ie||me)(K.LFG(v.K0))},me.\u0275prov=K.Yz7({token:me,factory:me.\u0275fac}),me})();function Ae(me){(0,v.q)().remove(me)}const Zt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ut=/%COMP%/g;function tt(me,pe,ie){for(let Me=0;Me<pe.length;Me++){let st=pe[Me];Array.isArray(st)?tt(me,st,ie):(st=st.replace(ut,me),ie.push(st))}return ie}function Ot(me){return pe=>{if("__ngUnwrap__"===pe)return me;!1===me(pe)&&(pe.preventDefault(),pe.returnValue=!1)}}let bt=(()=>{class me{constructor(ie,Me,st){this.eventManager=ie,this.sharedStylesHost=Me,this.appId=st,this.rendererByCompId=new Map,this.defaultRenderer=new Ze(ie)}createRenderer(ie,Me){if(!ie||!Me)return this.defaultRenderer;switch(Me.encapsulation){case K.ifc.Emulated:{let st=this.rendererByCompId.get(Me.id);return st||(st=new pt(this.eventManager,this.sharedStylesHost,Me,this.appId),this.rendererByCompId.set(Me.id,st)),st.applyToHost(ie),st}case 1:case K.ifc.ShadowDom:return new We(this.eventManager,this.sharedStylesHost,ie,Me);default:if(!this.rendererByCompId.has(Me.id)){const st=tt(Me.id,Me.styles,[]);this.sharedStylesHost.addStyles(st),this.rendererByCompId.set(Me.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return me.\u0275fac=function(ie){return new(ie||me)(K.LFG(Be),K.LFG(Je),K.LFG(K.AFp))},me.\u0275prov=K.Yz7({token:me,factory:me.\u0275fac}),me})();class Ze{constructor(pe){this.eventManager=pe,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(pe,ie){return ie?document.createElementNS(Zt[ie]||ie,pe):document.createElement(pe)}createComment(pe){return document.createComment(pe)}createText(pe){return document.createTextNode(pe)}appendChild(pe,ie){(ct(pe)?pe.content:pe).appendChild(ie)}insertBefore(pe,ie,Me){pe&&(ct(pe)?pe.content:pe).insertBefore(ie,Me)}removeChild(pe,ie){pe&&pe.removeChild(ie)}selectRootElement(pe,ie){let Me="string"==typeof pe?document.querySelector(pe):pe;if(!Me)throw new Error(`The selector "${pe}" did not match any elements`);return ie||(Me.textContent=""),Me}parentNode(pe){return pe.parentNode}nextSibling(pe){return pe.nextSibling}setAttribute(pe,ie,Me,st){if(st){ie=st+":"+ie;const Gt=Zt[st];Gt?pe.setAttributeNS(Gt,ie,Me):pe.setAttribute(ie,Me)}else pe.setAttribute(ie,Me)}removeAttribute(pe,ie,Me){if(Me){const st=Zt[Me];st?pe.removeAttributeNS(st,ie):pe.removeAttribute(`${Me}:${ie}`)}else pe.removeAttribute(ie)}addClass(pe,ie){pe.classList.add(ie)}removeClass(pe,ie){pe.classList.remove(ie)}setStyle(pe,ie,Me,st){st&(K.JOm.DashCase|K.JOm.Important)?pe.style.setProperty(ie,Me,st&K.JOm.Important?"important":""):pe.style[ie]=Me}removeStyle(pe,ie,Me){Me&K.JOm.DashCase?pe.style.removeProperty(ie):pe.style[ie]=""}setProperty(pe,ie,Me){pe[ie]=Me}setValue(pe,ie){pe.nodeValue=ie}listen(pe,ie,Me){return"string"==typeof pe?this.eventManager.addGlobalEventListener(pe,ie,Ot(Me)):this.eventManager.addEventListener(pe,ie,Ot(Me))}}function ct(me){return"TEMPLATE"===me.tagName&&void 0!==me.content}class pt extends Ze{constructor(pe,ie,Me,st){super(pe),this.component=Me;const Gt=tt(st+"-"+Me.id,Me.styles,[]);ie.addStyles(Gt),this.contentAttr=function se(me){return"_ngcontent-%COMP%".replace(ut,me)}(st+"-"+Me.id),this.hostAttr=function et(me){return"_nghost-%COMP%".replace(ut,me)}(st+"-"+Me.id)}applyToHost(pe){super.setAttribute(pe,this.hostAttr,"")}createElement(pe,ie){const Me=super.createElement(pe,ie);return super.setAttribute(Me,this.contentAttr,""),Me}}class We extends Ze{constructor(pe,ie,Me,st){super(pe),this.sharedStylesHost=ie,this.hostEl=Me,this.shadowRoot=Me.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Gt=tt(st.id,st.styles,[]);for(let Mn=0;Mn<Gt.length;Mn++){const Un=document.createElement("style");Un.textContent=Gt[Mn],this.shadowRoot.appendChild(Un)}}nodeOrShadowRoot(pe){return pe===this.hostEl?this.shadowRoot:pe}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(pe,ie){return super.appendChild(this.nodeOrShadowRoot(pe),ie)}insertBefore(pe,ie,Me){return super.insertBefore(this.nodeOrShadowRoot(pe),ie,Me)}removeChild(pe,ie){return super.removeChild(this.nodeOrShadowRoot(pe),ie)}parentNode(pe){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(pe)))}}let Jt=(()=>{class me extends Pt{constructor(ie){super(ie)}supports(ie){return!0}addEventListener(ie,Me,st){return ie.addEventListener(Me,st,!1),()=>this.removeEventListener(ie,Me,st)}removeEventListener(ie,Me,st){return ie.removeEventListener(Me,st)}}return me.\u0275fac=function(ie){return new(ie||me)(K.LFG(v.K0))},me.\u0275prov=K.Yz7({token:me,factory:me.\u0275fac}),me})();const Wt=["alt","control","meta","shift"],pn={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Lt={alt:me=>me.altKey,control:me=>me.ctrlKey,meta:me=>me.metaKey,shift:me=>me.shiftKey};let An=(()=>{class me extends Pt{constructor(ie){super(ie)}supports(ie){return null!=me.parseEventName(ie)}addEventListener(ie,Me,st){const Gt=me.parseEventName(Me),Mn=me.eventCallback(Gt.fullKey,st,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,v.q)().onAndCancel(ie,Gt.domEventName,Mn))}static parseEventName(ie){const Me=ie.toLowerCase().split("."),st=Me.shift();if(0===Me.length||"keydown"!==st&&"keyup"!==st)return null;const Gt=me._normalizeKey(Me.pop());let Mn="",Un=Me.indexOf("code");if(Un>-1&&(Me.splice(Un,1),Mn="code."),Wt.forEach(Vi=>{const $n=Me.indexOf(Vi);$n>-1&&(Me.splice($n,1),Mn+=Vi+".")}),Mn+=Gt,0!=Me.length||0===Gt.length)return null;const Br={};return Br.domEventName=st,Br.fullKey=Mn,Br}static matchEventFullKeyCode(ie,Me){let st=pn[ie.key]||ie.key,Gt="";return Me.indexOf("code.")>-1&&(st=ie.code,Gt="code."),!(null==st||!st)&&(st=st.toLowerCase()," "===st?st="space":"."===st&&(st="dot"),Wt.forEach(Mn=>{Mn!==st&&(0,Lt[Mn])(ie)&&(Gt+=Mn+".")}),Gt+=st,Gt===Me)}static eventCallback(ie,Me,st){return Gt=>{me.matchEventFullKeyCode(Gt,ie)&&st.runGuarded(()=>Me(Gt))}}static _normalizeKey(ie){return"esc"===ie?"escape":ie}}return me.\u0275fac=function(ie){return new(ie||me)(K.LFG(v.K0))},me.\u0275prov=K.Yz7({token:me,factory:me.\u0275fac}),me})();const mr=(0,K.eFA)(K._c5,"browser",[{provide:K.Lbi,useValue:v.bD},{provide:K.g9A,useValue:function lr(){l.makeCurrent()},multi:!0},{provide:v.K0,useFactory:function kr(){return(0,K.RDi)(document),document},deps:[]}]),_r=new K.OlP(""),Tt=[{provide:K.rWj,useClass:class we{addToWindow(pe){K.dqk.getAngularTestability=(Me,st=!0)=>{const Gt=pe.findTestabilityInTree(Me,st);if(null==Gt)throw new Error("Could not find testability for element.");return Gt},K.dqk.getAllAngularTestabilities=()=>pe.getAllTestabilities(),K.dqk.getAllAngularRootElements=()=>pe.getAllRootElements(),K.dqk.frameworkStabilizers||(K.dqk.frameworkStabilizers=[]),K.dqk.frameworkStabilizers.push(Me=>{const st=K.dqk.getAllAngularTestabilities();let Gt=st.length,Mn=!1;const Un=function(Br){Mn=Mn||Br,Gt--,0==Gt&&Me(Mn)};st.forEach(function(Br){Br.whenStable(Un)})})}findTestabilityInTree(pe,ie,Me){return null==ie?null:pe.getTestability(ie)??(Me?(0,v.q)().isShadowRoot(ie)?this.findTestabilityInTree(pe,ie.host,!0):this.findTestabilityInTree(pe,ie.parentElement,!0):null)}},deps:[]},{provide:K.lri,useClass:K.dDg,deps:[K.R0b,K.eoX,K.rWj]},{provide:K.dDg,useClass:K.dDg,deps:[K.R0b,K.eoX,K.rWj]}],Vn=[{provide:K.zSh,useValue:"root"},{provide:K.qLn,useFactory:function ir(){return new K.qLn},deps:[]},{provide:Ue,useClass:Jt,multi:!0,deps:[v.K0,K.R0b,K.Lbi]},{provide:Ue,useClass:An,multi:!0,deps:[v.K0]},{provide:bt,useClass:bt,deps:[Be,Je,K.AFp]},{provide:K.FYo,useExisting:bt},{provide:Ke,useExisting:Je},{provide:Je,useClass:Je,deps:[v.K0]},{provide:Be,useClass:Be,deps:[Ue,K.R0b]},{provide:v.JF,useClass:_t,deps:[]},[]];let Wn=(()=>{class me{constructor(ie){}static withServerTransition(ie){return{ngModule:me,providers:[{provide:K.AFp,useValue:ie.appId},{provide:Pe,useExisting:K.AFp},de]}}}return me.\u0275fac=function(ie){return new(ie||me)(K.LFG(_r,12))},me.\u0275mod=K.oAB({type:me}),me.\u0275inj=K.cJS({providers:[...Vn,...Tt],imports:[v.ez,K.hGG]}),me})(),Ve=(()=>{class me{constructor(ie){this._doc=ie}getTitle(){return this._doc.title}setTitle(ie){this._doc.title=ie||""}}return me.\u0275fac=function(ie){return new(ie||me)(K.LFG(v.K0))},me.\u0275prov=K.Yz7({token:me,factory:function(ie){let Me=null;return Me=ie?new ie:function oe(){return new Ve((0,K.LFG)(v.K0))}(),Me},providedIn:"root"}),me})();typeof window<"u"&&window;let qt=(()=>{class me{}return me.\u0275fac=function(ie){return new(ie||me)},me.\u0275prov=K.Yz7({token:me,factory:function(ie){let Me=null;return Me=ie?new(ie||me):K.LFG(Gn),Me},providedIn:"root"}),me})(),Gn=(()=>{class me extends qt{constructor(ie){super(),this._doc=ie}sanitize(ie,Me){if(null==Me)return null;switch(ie){case K.q3G.NONE:return Me;case K.q3G.HTML:return(0,K.qzn)(Me,"HTML")?(0,K.z3N)(Me):(0,K.EiD)(this._doc,String(Me)).toString();case K.q3G.STYLE:return(0,K.qzn)(Me,"Style")?(0,K.z3N)(Me):Me;case K.q3G.SCRIPT:if((0,K.qzn)(Me,"Script"))return(0,K.z3N)(Me);throw new Error("unsafe value used in a script context");case K.q3G.URL:return(0,K.qzn)(Me,"URL")?(0,K.z3N)(Me):(0,K.mCW)(String(Me));case K.q3G.RESOURCE_URL:if((0,K.qzn)(Me,"ResourceURL"))return(0,K.z3N)(Me);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${ie} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(ie){return(0,K.JVY)(ie)}bypassSecurityTrustStyle(ie){return(0,K.L6k)(ie)}bypassSecurityTrustScript(ie){return(0,K.eBb)(ie)}bypassSecurityTrustUrl(ie){return(0,K.LAX)(ie)}bypassSecurityTrustResourceUrl(ie){return(0,K.pB0)(ie)}}return me.\u0275fac=function(ie){return new(ie||me)(K.LFG(v.K0))},me.\u0275prov=K.Yz7({token:me,factory:function(ie){let Me=null;return Me=ie?new ie:function mn(me){return new Gn(me.get(v.K0))}(K.LFG(K.zs3)),Me},providedIn:"root"}),me})()},4629:(tn,ze,B)=>{B.d(ze,{F0:()=>oi,yS:()=>zn,Bz:()=>Zo,lC:()=>So});var v=B(4650),K=B(8996),x=B(9646),l=B(1135),Ee=B(6805),Ce=B(9841),he=B(7272),Te=B(9751),Pe=B(8421);function ce(T){return new Te.y(A=>{(0,Pe.Xf)(T()).subscribe(A)})}var de=B(9635),we=B(576);function _t(T,A){const E=(0,we.m)(T)?T:()=>T,R=U=>U.error(E());return new Te.y(A?U=>A.schedule(R,0,U):R)}var Ue=B(515),Be=B(727),Pt=B(4482),Ke=B(5403);function Je(){return(0,Pt.e)((T,A)=>{let E=null;T._refCount++;const R=(0,Ke.x)(A,void 0,void 0,void 0,()=>{if(!T||T._refCount<=0||0<--T._refCount)return void(E=null);const U=T._connection,Q=E;E=null,U&&(!Q||U===Q)&&U.unsubscribe(),A.unsubscribe()});T.subscribe(R),R.closed||(E=T.connect())})}class Ae extends Te.y{constructor(A,E){super(),this.source=A,this.subjectFactory=E,this._subject=null,this._refCount=0,this._connection=null,(0,Pt.A)(A)&&(this.lift=A.lift)}_subscribe(A){return this.getSubject().subscribe(A)}getSubject(){const A=this._subject;return(!A||A.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:A}=this;this._subject=this._connection=null,A?.unsubscribe()}connect(){let A=this._connection;if(!A){A=this._connection=new Be.w0;const E=this.getSubject();A.add(this.source.subscribe((0,Ke.x)(E,void 0,()=>{this._teardown(),E.complete()},R=>{this._teardown(),E.error(R)},()=>this._teardown()))),A.closed&&(this._connection=null,A=Be.w0.EMPTY)}return A}refCount(){return Je()(this)}}var Zt=B(7579),ut=B(6895),$e=B(4004),Fe=B(3900),Ft=B(5698),Dt=B(8675),se=B(9300),et=B(5577),tt=B(590),Ot=B(4351),kt=B(8505);function bt(T){return(0,Pt.e)((A,E)=>{let Q,R=null,U=!1;R=A.subscribe((0,Ke.x)(E,void 0,void 0,le=>{Q=(0,Pe.Xf)(T(le,bt(T)(A))),R?(R.unsubscribe(),R=null,Q.subscribe(E)):U=!0})),U&&(R.unsubscribe(),R=null,Q.subscribe(E))})}var Ze=B(5026);function at(T){return T<=0?()=>Ue.E:(0,Pt.e)((A,E)=>{let R=[];A.subscribe((0,Ke.x)(E,U=>{R.push(U),T<R.length&&R.shift()},()=>{for(const U of R)E.next(U);E.complete()},void 0,()=>{R=null}))})}var Qe=B(8068),ct=B(6590),pt=B(4671);function We(T,A){const E=arguments.length>=2;return R=>R.pipe(T?(0,se.h)((U,Q)=>T(U,Q,R)):pt.y,at(1),E?(0,ct.d)(A):(0,Qe.T)(()=>new Ee.K))}var Wt=B(9718);function pn(T){return(0,Pt.e)((A,E)=>{try{A.subscribe(E)}finally{E.add(T)}})}var Lt=B(8189),An=B(1481);const It="primary",hn=Symbol("RouteTitle");class Zn{constructor(A){this.params=A||{}}has(A){return Object.prototype.hasOwnProperty.call(this.params,A)}get(A){if(this.has(A)){const E=this.params[A];return Array.isArray(E)?E[0]:E}return null}getAll(A){if(this.has(A)){const E=this.params[A];return Array.isArray(E)?E:[E]}return[]}get keys(){return Object.keys(this.params)}}function Yn(T){return new Zn(T)}function hr(T,A,E){const R=E.path.split("/");if(R.length>T.length||"full"===E.pathMatch&&(A.hasChildren()||R.length<T.length))return null;const U={};for(let Q=0;Q<R.length;Q++){const le=R[Q],ye=T[Q];if(le.startsWith(":"))U[le.substring(1)]=ye;else if(le!==ye.path)return null}return{consumed:T.slice(0,R.length),posParams:U}}function ir(T,A){const E=T?Object.keys(T):void 0,R=A?Object.keys(A):void 0;if(!E||!R||E.length!=R.length)return!1;let U;for(let Q=0;Q<E.length;Q++)if(U=E[Q],!kr(T[U],A[U]))return!1;return!0}function kr(T,A){if(Array.isArray(T)&&Array.isArray(A)){if(T.length!==A.length)return!1;const E=[...T].sort(),R=[...A].sort();return E.every((U,Q)=>R[Q]===U)}return T===A}function Kn(T){return Array.prototype.concat.apply([],T)}function mr(T){return T.length>0?T[T.length-1]:null}function Tt(T,A){for(const E in T)T.hasOwnProperty(E)&&A(T[E],E)}function Vn(T){return(0,v.CqO)(T)?T:(0,v.QGY)(T)?(0,K.D)(Promise.resolve(T)):(0,x.of)(T)}const ln={exact:function Ct(T,A,E){if(!En(T.segments,A.segments)||!jt(T.segments,A.segments,E)||T.numberOfChildren!==A.numberOfChildren)return!1;for(const R in A.children)if(!T.children[R]||!Ct(T.children[R],A.children[R],E))return!1;return!0},subset:Nt},q={exact:function Ve(T,A){return ir(T,A)},subset:function Mt(T,A){return Object.keys(A).length<=Object.keys(T).length&&Object.keys(A).every(E=>kr(T[E],A[E]))},ignored:()=>!0};function oe(T,A,E){return ln[E.paths](T.root,A.root,E.matrixParams)&&q[E.queryParams](T.queryParams,A.queryParams)&&!("exact"===E.fragment&&T.fragment!==A.fragment)}function Nt(T,A,E){return dt(T,A,A.segments,E)}function dt(T,A,E,R){if(T.segments.length>E.length){const U=T.segments.slice(0,E.length);return!(!En(U,E)||A.hasChildren()||!jt(U,E,R))}if(T.segments.length===E.length){if(!En(T.segments,E)||!jt(T.segments,E,R))return!1;for(const U in A.children)if(!T.children[U]||!Nt(T.children[U],A.children[U],R))return!1;return!0}{const U=E.slice(0,T.segments.length),Q=E.slice(T.segments.length);return!!(En(T.segments,U)&&jt(T.segments,U,R)&&T.children[It])&&dt(T.children[It],A,Q,R)}}function jt(T,A,E){return A.every((R,U)=>q[E](T[U].parameters,R.parameters))}class wn{constructor(A,E,R){this.root=A,this.queryParams=E,this.fragment=R}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Yn(this.queryParams)),this._queryParamMap}toString(){return Pr.serialize(this)}}class un{constructor(A,E){this.segments=A,this.children=E,this.parent=null,Tt(E,(R,U)=>R.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return rn(this)}}class fn{constructor(A,E){this.path=A,this.parameters=E}get parameterMap(){return this._parameterMap||(this._parameterMap=Yn(this.parameters)),this._parameterMap}toString(){return fe(this)}}function En(T,A){return T.length===A.length&&T.every((E,R)=>E.path===A[R].path)}let Qn=(()=>{class T{}return T.\u0275fac=function(E){return new(E||T)},T.\u0275prov=v.Yz7({token:T,factory:function(){return new Mr},providedIn:"root"}),T})();class Mr{parse(A){const E=new pe(A);return new wn(E.parseRootSegment(),E.parseQueryParams(),E.parseFragment())}serialize(A){const E=`/${nt(A.root,!0)}`,R=function rt(T){const A=Object.keys(T).map(E=>{const R=T[E];return Array.isArray(R)?R.map(U=>`${on(E)}=${on(U)}`).join("&"):`${on(E)}=${on(R)}`}).filter(E=>!!E);return A.length?`?${A.join("&")}`:""}(A.queryParams);return`${E}${R}${"string"==typeof A.fragment?`#${function Sn(T){return encodeURI(T)}(A.fragment)}`:""}`}}const Pr=new Mr;function rn(T){return T.segments.map(A=>fe(A)).join("/")}function nt(T,A){if(!T.hasChildren())return rn(T);if(A){const E=T.children[It]?nt(T.children[It],!1):"",R=[];return Tt(T.children,(U,Q)=>{Q!==It&&R.push(`${Q}:${nt(U,!1)}`)}),R.length>0?`${E}(${R.join("//")})`:E}{const E=function Zr(T,A){let E=[];return Tt(T.children,(R,U)=>{U===It&&(E=E.concat(A(R,U)))}),Tt(T.children,(R,U)=>{U!==It&&(E=E.concat(A(R,U)))}),E}(T,(R,U)=>U===It?[nt(T.children[It],!1)]:[`${U}:${nt(R,!1)}`]);return 1===Object.keys(T.children).length&&null!=T.children[It]?`${rn(T)}/${E[0]}`:`${rn(T)}/(${E.join("//")})`}}function Rt(T){return encodeURIComponent(T).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function on(T){return Rt(T).replace(/%3B/gi,";")}function In(T){return Rt(T).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Dr(T){return decodeURIComponent(T)}function ve(T){return Dr(T.replace(/\+/g,"%20"))}function fe(T){return`${In(T.path)}${function Se(T){return Object.keys(T).map(A=>`;${In(A)}=${In(T[A])}`).join("")}(T.parameters)}`}const je=/^[^\/()?;=#]+/;function qt(T){const A=T.match(je);return A?A[0]:""}const mn=/^[^=?&#]+/,fr=/^[^&#]+/;class pe{constructor(A){this.url=A,this.remaining=A}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new un([],{}):new un([],this.parseChildren())}parseQueryParams(){const A={};if(this.consumeOptional("?"))do{this.parseQueryParam(A)}while(this.consumeOptional("&"));return A}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const A=[];for(this.peekStartsWith("(")||A.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),A.push(this.parseSegment());let E={};this.peekStartsWith("/(")&&(this.capture("/"),E=this.parseParens(!0));let R={};return this.peekStartsWith("(")&&(R=this.parseParens(!1)),(A.length>0||Object.keys(E).length>0)&&(R[It]=new un(A,E)),R}parseSegment(){const A=qt(this.remaining);if(""===A&&this.peekStartsWith(";"))throw new v.vHH(4009,!1);return this.capture(A),new fn(Dr(A),this.parseMatrixParams())}parseMatrixParams(){const A={};for(;this.consumeOptional(";");)this.parseParam(A);return A}parseParam(A){const E=qt(this.remaining);if(!E)return;this.capture(E);let R="";if(this.consumeOptional("=")){const U=qt(this.remaining);U&&(R=U,this.capture(R))}A[Dr(E)]=Dr(R)}parseQueryParam(A){const E=function Gn(T){const A=T.match(mn);return A?A[0]:""}(this.remaining);if(!E)return;this.capture(E);let R="";if(this.consumeOptional("=")){const le=function me(T){const A=T.match(fr);return A?A[0]:""}(this.remaining);le&&(R=le,this.capture(R))}const U=ve(E),Q=ve(R);if(A.hasOwnProperty(U)){let le=A[U];Array.isArray(le)||(le=[le],A[U]=le),le.push(Q)}else A[U]=Q}parseParens(A){const E={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const R=qt(this.remaining),U=this.remaining[R.length];if("/"!==U&&")"!==U&&";"!==U)throw new v.vHH(4010,!1);let Q;R.indexOf(":")>-1?(Q=R.slice(0,R.indexOf(":")),this.capture(Q),this.capture(":")):A&&(Q=It);const le=this.parseChildren();E[Q]=1===Object.keys(le).length?le[It]:new un([],le),this.consumeOptional("//")}return E}peekStartsWith(A){return this.remaining.startsWith(A)}consumeOptional(A){return!!this.peekStartsWith(A)&&(this.remaining=this.remaining.substring(A.length),!0)}capture(A){if(!this.consumeOptional(A))throw new v.vHH(4011,!1)}}function ie(T){return T.segments.length>0?new un([],{[It]:T}):T}function Me(T){const A={};for(const R of Object.keys(T.children)){const Q=Me(T.children[R]);(Q.segments.length>0||Q.hasChildren())&&(A[R]=Q)}return function st(T){if(1===T.numberOfChildren&&T.children[It]){const A=T.children[It];return new un(T.segments.concat(A.segments),A.children)}return T}(new un(T.segments,A))}function Gt(T){return T instanceof wn}function $n(T,A,E,R,U){if(0===E.length)return Xi(A.root,A.root,A.root,R,U);const Q=function li(T){if("string"==typeof T[0]&&1===T.length&&"/"===T[0])return new Yr(!0,0,T);let A=0,E=!1;const R=T.reduce((U,Q,le)=>{if("object"==typeof Q&&null!=Q){if(Q.outlets){const ye={};return Tt(Q.outlets,(ft,Bt)=>{ye[Bt]="string"==typeof ft?ft.split("/"):ft}),[...U,{outlets:ye}]}if(Q.segmentPath)return[...U,Q.segmentPath]}return"string"!=typeof Q?[...U,Q]:0===le?(Q.split("/").forEach((ye,ft)=>{0==ft&&"."===ye||(0==ft&&""===ye?E=!0:".."===ye?A++:""!=ye&&U.push(ye))}),U):[...U,Q]},[]);return new Yr(E,A,R)}(E);return Q.toRoot()?Xi(A.root,A.root,new un([],{}),R,U):function le(ft){const Bt=function ti(T,A,E,R){if(T.isAbsolute)return new $r(A.root,!0,0);if(-1===R)return new $r(E,E===A.root,0);return function Cs(T,A,E){let R=T,U=A,Q=E;for(;Q>U;){if(Q-=U,R=R.parent,!R)throw new v.vHH(4005,!1);U=R.segments.length}return new $r(R,!1,U-Q)}(E,R+(vr(T.commands[0])?0:1),T.numberOfDoubleDots)}(Q,A,T.snapshot?._urlSegment,ft),Pn=Bt.processChildren?us(Bt.segmentGroup,Bt.index,Q.commands):Es(Bt.segmentGroup,Bt.index,Q.commands);return Xi(A.root,Bt.segmentGroup,Pn,R,U)}(T.snapshot?._lastPathIndex)}function vr(T){return"object"==typeof T&&null!=T&&!T.outlets&&!T.segmentPath}function _i(T){return"object"==typeof T&&null!=T&&T.outlets}function Xi(T,A,E,R,U){let le,Q={};R&&Tt(R,(ft,Bt)=>{Q[Bt]=Array.isArray(ft)?ft.map(Pn=>`${Pn}`):`${ft}`}),le=T===A?E:Si(T,A,E);const ye=ie(Me(le));return new wn(ye,Q,U)}function Si(T,A,E){const R={};return Tt(T.children,(U,Q)=>{R[Q]=U===A?E:Si(U,A,E)}),new un(T.segments,R)}class Yr{constructor(A,E,R){if(this.isAbsolute=A,this.numberOfDoubleDots=E,this.commands=R,A&&R.length>0&&vr(R[0]))throw new v.vHH(4003,!1);const U=R.find(_i);if(U&&U!==mr(R))throw new v.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class $r{constructor(A,E,R){this.segmentGroup=A,this.processChildren=E,this.index=R}}function Es(T,A,E){if(T||(T=new un([],{})),0===T.segments.length&&T.hasChildren())return us(T,A,E);const R=function cs(T,A,E){let R=0,U=A;const Q={match:!1,pathIndex:0,commandIndex:0};for(;U<T.segments.length;){if(R>=E.length)return Q;const le=T.segments[U],ye=E[R];if(_i(ye))break;const ft=`${ye}`,Bt=R<E.length-1?E[R+1]:null;if(U>0&&void 0===ft)break;if(ft&&Bt&&"object"==typeof Bt&&void 0===Bt.outlets){if(!Ui(ft,Bt,le))return Q;R+=2}else{if(!Ui(ft,{},le))return Q;R++}U++}return{match:!0,pathIndex:U,commandIndex:R}}(T,A,E),U=E.slice(R.commandIndex);if(R.match&&R.pathIndex<T.segments.length){const Q=new un(T.segments.slice(0,R.pathIndex),{});return Q.children[It]=new un(T.segments.slice(R.pathIndex),T.children),us(Q,0,U)}return R.match&&0===U.length?new un(T.segments,{}):R.match&&!T.hasChildren()?ds(T,A,E):R.match?us(T,0,U):ds(T,A,E)}function us(T,A,E){if(0===E.length)return new un(T.segments,{});{const R=function ur(T){return _i(T[0])?T[0].outlets:{[It]:T}}(E),U={};return Tt(R,(Q,le)=>{"string"==typeof Q&&(Q=[Q]),null!==Q&&(U[le]=Es(T.children[le],A,Q))}),Tt(T.children,(Q,le)=>{void 0===R[le]&&(U[le]=Q)}),new un(T.segments,U)}}function ds(T,A,E){const R=T.segments.slice(0,A);let U=0;for(;U<E.length;){const Q=E[U];if(_i(Q)){const ft=es(Q.outlets);return new un(R,ft)}if(0===U&&vr(E[0])){R.push(new fn(T.segments[A].path,hs(E[0]))),U++;continue}const le=_i(Q)?Q.outlets[It]:`${Q}`,ye=U<E.length-1?E[U+1]:null;le&&ye&&vr(ye)?(R.push(new fn(le,hs(ye))),U+=2):(R.push(new fn(le,{})),U++)}return new un(R,{})}function es(T){const A={};return Tt(T,(E,R)=>{"string"==typeof E&&(E=[E]),null!==E&&(A[R]=ds(new un([],{}),0,E))}),A}function hs(T){const A={};return Tt(T,(E,R)=>A[R]=`${E}`),A}function Ui(T,A,E){return T==E.path&&ir(A,E.parameters)}class Nr{constructor(A,E){this.id=A,this.url=E}}class Is extends Nr{constructor(A,E,R="imperative",U=null){super(A,E),this.type=0,this.navigationTrigger=R,this.restoredState=U}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Cr extends Nr{constructor(A,E,R){super(A,E),this.urlAfterRedirects=R,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ni extends Nr{constructor(A,E,R,U){super(A,E),this.reason=R,this.code=U,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Us extends Nr{constructor(A,E,R,U){super(A,E),this.error=R,this.target=U,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class yi extends Nr{constructor(A,E,R,U){super(A,E),this.urlAfterRedirects=R,this.state=U,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ma extends Nr{constructor(A,E,R,U){super(A,E),this.urlAfterRedirects=R,this.state=U,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hi extends Nr{constructor(A,E,R,U,Q){super(A,E),this.urlAfterRedirects=R,this.state=U,this.shouldActivate=Q,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ta extends Nr{constructor(A,E,R,U){super(A,E),this.urlAfterRedirects=R,this.state=U,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Uo extends Nr{constructor(A,E,R,U){super(A,E),this.urlAfterRedirects=R,this.state=U,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ai{constructor(A){this.route=A,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class fi{constructor(A){this.route=A,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class _a{constructor(A){this.snapshot=A,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Rr{constructor(A){this.snapshot=A,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Oe{constructor(A){this.snapshot=A,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xe{constructor(A){this.snapshot=A,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ge{constructor(A,E,R){this.routerEvent=A,this.position=E,this.anchor=R,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class zt{constructor(A){this._root=A}get root(){return this._root.value}parent(A){const E=this.pathFromRoot(A);return E.length>1?E[E.length-2]:null}children(A){const E=Tn(A,this._root);return E?E.children.map(R=>R.value):[]}firstChild(A){const E=Tn(A,this._root);return E&&E.children.length>0?E.children[0].value:null}siblings(A){const E=Rn(A,this._root);return E.length<2?[]:E[E.length-2].children.map(U=>U.value).filter(U=>U!==A)}pathFromRoot(A){return Rn(A,this._root).map(E=>E.value)}}function Tn(T,A){if(T===A.value)return A;for(const E of A.children){const R=Tn(T,E);if(R)return R}return null}function Rn(T,A){if(T===A.value)return[A];for(const E of A.children){const R=Rn(T,E);if(R.length)return R.unshift(A),R}return[]}class Sr{constructor(A,E){this.value=A,this.children=E}toString(){return`TreeNode(${this.value})`}}function cr(T){const A={};return T&&T.children.forEach(E=>A[E.value.outlet]=E),A}class Di extends zt{constructor(A,E){super(A),this.snapshot=E,Hi(this,A)}toString(){return this.snapshot.toString()}}function ho(T,A){const E=function Bi(T,A){const le=new Js([],{},{},"",{},It,A,null,T.root,-1,{});return new na("",new Sr(le,[]))}(T,A),R=new l.X([new fn("",{})]),U=new l.X({}),Q=new l.X({}),le=new l.X({}),ye=new l.X(""),ft=new $i(R,U,le,ye,Q,It,A,E.root);return ft.snapshot=E.root,new Di(new Sr(ft,[]),E)}class $i{constructor(A,E,R,U,Q,le,ye,ft){this.url=A,this.params=E,this.queryParams=R,this.fragment=U,this.data=Q,this.outlet=le,this.component=ye,this.title=this.data?.pipe((0,$e.U)(Bt=>Bt[hn]))??(0,x.of)(void 0),this._futureSnapshot=ft}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,$e.U)(A=>Yn(A)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,$e.U)(A=>Yn(A)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Eo(T,A="emptyOnly"){const E=T.pathFromRoot;let R=0;if("always"!==A)for(R=E.length-1;R>=1;){const U=E[R],Q=E[R-1];if(U.routeConfig&&""===U.routeConfig.path)R--;else{if(Q.component)break;R--}}return function Io(T){return T.reduce((A,E)=>({params:{...A.params,...E.params},data:{...A.data,...E.data},resolve:{...E.data,...A.resolve,...E.routeConfig?.data,...E._resolvedData}}),{params:{},data:{},resolve:{}})}(E.slice(R))}class Js{constructor(A,E,R,U,Q,le,ye,ft,Bt,Pn,_n,Tr){this.url=A,this.params=E,this.queryParams=R,this.fragment=U,this.data=Q,this.outlet=le,this.component=ye,this.title=this.data?.[hn],this.routeConfig=ft,this._urlSegment=Bt,this._lastPathIndex=Pn,this._correctedLastPathIndex=Tr??Pn,this._resolve=_n}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Yn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Yn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(R=>R.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class na extends zt{constructor(A,E){super(E),this.url=A,Hi(this,E)}toString(){return ji(this._root)}}function Hi(T,A){A.value._routerState=T,A.children.forEach(E=>Hi(T,E))}function ji(T){const A=T.children.length>0?` { ${T.children.map(ji).join(", ")} } `:"";return`${T.value}${A}`}function vs(T){if(T.snapshot){const A=T.snapshot,E=T._futureSnapshot;T.snapshot=E,ir(A.queryParams,E.queryParams)||T.queryParams.next(E.queryParams),A.fragment!==E.fragment&&T.fragment.next(E.fragment),ir(A.params,E.params)||T.params.next(E.params),function lr(T,A){if(T.length!==A.length)return!1;for(let E=0;E<T.length;++E)if(!ir(T[E],A[E]))return!1;return!0}(A.url,E.url)||T.url.next(E.url),ir(A.data,E.data)||T.data.next(E.data)}else T.snapshot=T._futureSnapshot,T.data.next(T._futureSnapshot.data)}function Gi(T,A){const E=ir(T.params,A.params)&&function sr(T,A){return En(T,A)&&T.every((E,R)=>ir(E.parameters,A[R].parameters))}(T.url,A.url);return E&&!(!T.parent!=!A.parent)&&(!T.parent||Gi(T.parent,A.parent))}function fs(T,A,E){if(E&&T.shouldReuseRoute(A.value,E.value.snapshot)){const R=E.value;R._futureSnapshot=A.value;const U=function Qs(T,A,E){return A.children.map(R=>{for(const U of E.children)if(T.shouldReuseRoute(R.value,U.value.snapshot))return fs(T,R,U);return fs(T,R)})}(T,A,E);return new Sr(R,U)}{if(T.shouldAttach(A.value)){const Q=T.retrieve(A.value);if(null!==Q){const le=Q.route;return le.value._futureSnapshot=A.value,le.children=A.children.map(ye=>fs(T,ye)),le}}const R=function To(T){return new $i(new l.X(T.url),new l.X(T.params),new l.X(T.queryParams),new l.X(T.fragment),new l.X(T.data),T.outlet,T.component,T)}(A.value),U=A.children.map(Q=>fs(T,Q));return new Sr(R,U)}}const Ts="ngNavigationCancelingError";function Ss(T,A){const{redirectTo:E,navigationBehaviorOptions:R}=Gt(A)?{redirectTo:A,navigationBehaviorOptions:void 0}:A,U=ts(!1,0,A);return U.url=E,U.navigationBehaviorOptions=R,U}function ts(T,A,E){const R=new Error("NavigationCancelingError: "+(T||""));return R[Ts]=!0,R.cancellationCode=A,E&&(R.url=E),R}function Mi(T){return As(T)&&Gt(T.url)}function As(T){return T&&T[Ts]}class $o{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Hr,this.attachRef=null}}let Hr=(()=>{class T{constructor(){this.contexts=new Map}onChildOutletCreated(E,R){const U=this.getOrCreateContext(E);U.outlet=R,this.contexts.set(E,U)}onChildOutletDestroyed(E){const R=this.getContext(E);R&&(R.outlet=null,R.attachRef=null)}onOutletDeactivated(){const E=this.contexts;return this.contexts=new Map,E}onOutletReAttached(E){this.contexts=E}getOrCreateContext(E){let R=this.getContext(E);return R||(R=new $o,this.contexts.set(E,R)),R}getContext(E){return this.contexts.get(E)||null}}return T.\u0275fac=function(E){return new(E||T)},T.\u0275prov=v.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();const ns=!1;let So=(()=>{class T{constructor(E,R,U,Q,le){this.parentContexts=E,this.location=R,this.changeDetector=Q,this.environmentInjector=le,this.activated=null,this._activatedRoute=null,this.activateEvents=new v.vpe,this.deactivateEvents=new v.vpe,this.attachEvents=new v.vpe,this.detachEvents=new v.vpe,this.name=U||It,E.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const E=this.parentContexts.getContext(this.name);E&&E.route&&(E.attachRef?this.attach(E.attachRef,E.route):this.activateWith(E.route,E.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new v.vHH(4012,ns);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new v.vHH(4012,ns);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new v.vHH(4012,ns);this.location.detach();const E=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(E.instance),E}attach(E,R){this.activated=E,this._activatedRoute=R,this.location.insert(E.hostView),this.attachEvents.emit(E.instance)}deactivate(){if(this.activated){const E=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(E)}}activateWith(E,R){if(this.isActivated)throw new v.vHH(4013,ns);this._activatedRoute=E;const U=this.location,le=E._futureSnapshot.component,ye=this.parentContexts.getOrCreateContext(this.name).children,ft=new ri(E,ye,U.injector);if(R&&function Ho(T){return!!T.resolveComponentFactory}(R)){const Bt=R.resolveComponentFactory(le);this.activated=U.createComponent(Bt,U.length,ft)}else this.activated=U.createComponent(le,{index:U.length,injector:ft,environmentInjector:R??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return T.\u0275fac=function(E){return new(E||T)(v.Y36(Hr),v.Y36(v.s_b),v.$8M("name"),v.Y36(v.sBO),v.Y36(v.lqb))},T.\u0275dir=v.lG2({type:T,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),T})();class ri{constructor(A,E,R){this.route=A,this.childContexts=E,this.parent=R}get(A,E){return A===$i?this.route:A===Hr?this.childContexts:this.parent.get(A,E)}}let jr=(()=>{class T{}return T.\u0275fac=function(E){return new(E||T)},T.\u0275cmp=v.Xpm({type:T,selectors:[["ng-component"]],standalone:!0,features:[v.jDz],decls:1,vars:0,template:function(E,R){1&E&&v._UZ(0,"router-outlet")},dependencies:[So],encapsulation:2}),T})();function Ci(T,A){return T.providers&&!T._injector&&(T._injector=(0,v.MMx)(T.providers,A,`Route: ${T.path}`)),T._injector??A}function vi(T){const A=T.children&&T.children.map(vi),E=A?{...T,children:A}:{...T};return!E.component&&!E.loadComponent&&(A||E.loadChildren)&&E.outlet&&E.outlet!==It&&(E.component=jr),E}function Fr(T){return T.outlet||It}function Qr(T,A){const E=T.filter(R=>Fr(R)===A);return E.push(...T.filter(R=>Fr(R)!==A)),E}function Nn(T){if(!T)return null;if(T.routeConfig?._injector)return T.routeConfig._injector;for(let A=T.parent;A;A=A.parent){const E=A.routeConfig;if(E?._loadedInjector)return E._loadedInjector;if(E?._injector)return E._injector}return null}class fo{constructor(A,E,R,U){this.routeReuseStrategy=A,this.futureState=E,this.currState=R,this.forwardEvent=U}activate(A){const E=this.futureState._root,R=this.currState?this.currState._root:null;this.deactivateChildRoutes(E,R,A),vs(this.futureState.root),this.activateChildRoutes(E,R,A)}deactivateChildRoutes(A,E,R){const U=cr(E);A.children.forEach(Q=>{const le=Q.value.outlet;this.deactivateRoutes(Q,U[le],R),delete U[le]}),Tt(U,(Q,le)=>{this.deactivateRouteAndItsChildren(Q,R)})}deactivateRoutes(A,E,R){const U=A.value,Q=E?E.value:null;if(U===Q)if(U.component){const le=R.getContext(U.outlet);le&&this.deactivateChildRoutes(A,E,le.children)}else this.deactivateChildRoutes(A,E,R);else Q&&this.deactivateRouteAndItsChildren(E,R)}deactivateRouteAndItsChildren(A,E){A.value.component&&this.routeReuseStrategy.shouldDetach(A.value.snapshot)?this.detachAndStoreRouteSubtree(A,E):this.deactivateRouteAndOutlet(A,E)}detachAndStoreRouteSubtree(A,E){const R=E.getContext(A.value.outlet),U=R&&A.value.component?R.children:E,Q=cr(A);for(const le of Object.keys(Q))this.deactivateRouteAndItsChildren(Q[le],U);if(R&&R.outlet){const le=R.outlet.detach(),ye=R.children.onOutletDeactivated();this.routeReuseStrategy.store(A.value.snapshot,{componentRef:le,route:A,contexts:ye})}}deactivateRouteAndOutlet(A,E){const R=E.getContext(A.value.outlet),U=R&&A.value.component?R.children:E,Q=cr(A);for(const le of Object.keys(Q))this.deactivateRouteAndItsChildren(Q[le],U);R&&R.outlet&&(R.outlet.deactivate(),R.children.onOutletDeactivated(),R.attachRef=null,R.resolver=null,R.route=null)}activateChildRoutes(A,E,R){const U=cr(E);A.children.forEach(Q=>{this.activateRoutes(Q,U[Q.value.outlet],R),this.forwardEvent(new xe(Q.value.snapshot))}),A.children.length&&this.forwardEvent(new Rr(A.value.snapshot))}activateRoutes(A,E,R){const U=A.value,Q=E?E.value:null;if(vs(U),U===Q)if(U.component){const le=R.getOrCreateContext(U.outlet);this.activateChildRoutes(A,E,le.children)}else this.activateChildRoutes(A,E,R);else if(U.component){const le=R.getOrCreateContext(U.outlet);if(this.routeReuseStrategy.shouldAttach(U.snapshot)){const ye=this.routeReuseStrategy.retrieve(U.snapshot);this.routeReuseStrategy.store(U.snapshot,null),le.children.onOutletReAttached(ye.contexts),le.attachRef=ye.componentRef,le.route=ye.route.value,le.outlet&&le.outlet.attach(ye.componentRef,ye.route.value),vs(ye.route.value),this.activateChildRoutes(A,null,le.children)}else{const ye=Nn(U.snapshot),ft=ye?.get(v._Vd)??null;le.attachRef=null,le.route=U,le.resolver=ft,le.injector=ye,le.outlet&&le.outlet.activateWith(U,le.injector),this.activateChildRoutes(A,null,le.children)}}else this.activateChildRoutes(A,null,R)}}class Ao{constructor(A){this.path=A,this.route=this.path[this.path.length-1]}}class Xs{constructor(A,E){this.component=A,this.route=E}}function oa(T,A,E){const R=T._root;return to(R,A?A._root:null,E,[R.value])}function eo(T,A){const E=Symbol(),R=A.get(T,E);return R===E?"function"!=typeof T||(0,v.Z0I)(T)?A.get(T):T:R}function to(T,A,E,R,U={canDeactivateChecks:[],canActivateChecks:[]}){const Q=cr(A);return T.children.forEach(le=>{(function Et(T,A,E,R,U={canDeactivateChecks:[],canActivateChecks:[]}){const Q=T.value,le=A?A.value:null,ye=E?E.getContext(T.value.outlet):null;if(le&&Q.routeConfig===le.routeConfig){const ft=function tr(T,A,E){if("function"==typeof E)return E(T,A);switch(E){case"pathParamsChange":return!En(T.url,A.url);case"pathParamsOrQueryParamsChange":return!En(T.url,A.url)||!ir(T.queryParams,A.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Gi(T,A)||!ir(T.queryParams,A.queryParams);default:return!Gi(T,A)}}(le,Q,Q.routeConfig.runGuardsAndResolvers);ft?U.canActivateChecks.push(new Ao(R)):(Q.data=le.data,Q._resolvedData=le._resolvedData),to(T,A,Q.component?ye?ye.children:null:E,R,U),ft&&ye&&ye.outlet&&ye.outlet.isActivated&&U.canDeactivateChecks.push(new Xs(ye.outlet.component,le))}else le&&no(A,ye,U),U.canActivateChecks.push(new Ao(R)),to(T,null,Q.component?ye?ye.children:null:E,R,U)})(le,Q[le.value.outlet],E,R.concat([le.value]),U),delete Q[le.value.outlet]}),Tt(Q,(le,ye)=>no(le,E.getContext(ye),U)),U}function no(T,A,E){const R=cr(T),U=T.value;Tt(R,(Q,le)=>{no(Q,U.component?A?A.children.getContext(le):null:A,E)}),E.canDeactivateChecks.push(new Xs(U.component&&A&&A.outlet&&A.outlet.isActivated?A.outlet.component:null,U))}function gs(T){return"function"==typeof T}function j(T){return T instanceof Ee.K||"EmptyError"===T?.name}const V=Symbol("INITIAL_VALUE");function O(){return(0,Fe.w)(T=>(0,Ce.a)(T.map(A=>A.pipe((0,Ft.q)(1),(0,Dt.O)(V)))).pipe((0,$e.U)(A=>{for(const E of A)if(!0!==E){if(E===V)return V;if(!1===E||E instanceof wn)return E}return!0}),(0,se.h)(A=>A!==V),(0,Ft.q)(1)))}function Mo(T){return(0,de.z)((0,kt.b)(A=>{if(Gt(A))throw Ss(0,A)}),(0,$e.U)(A=>!0===A))}const Wi={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ya(T,A,E,R,U){const Q=Oa(T,A,E);return Q.matched?function No(T,A,E,R){const U=A.canMatch;if(!U||0===U.length)return(0,x.of)(!0);const Q=U.map(le=>{const ye=eo(le,T);return Vn(function bs(T){return T&&gs(T.canMatch)}(ye)?ye.canMatch(A,E):T.runInContext(()=>ye(A,E)))});return(0,x.of)(Q).pipe(O(),Mo())}(R=Ci(A,R),A,E).pipe((0,$e.U)(le=>!0===le?Q:{...Wi})):(0,x.of)(Q)}function Oa(T,A,E){if(""===A.path)return"full"===A.pathMatch&&(T.hasChildren()||E.length>0)?{...Wi}:{matched:!0,consumedSegments:[],remainingSegments:E,parameters:{},positionalParamSegments:{}};const U=(A.matcher||hr)(E,T,A);if(!U)return{...Wi};const Q={};Tt(U.posParams,(ye,ft)=>{Q[ft]=ye.path});const le=U.consumed.length>0?{...Q,...U.consumed[U.consumed.length-1].parameters}:Q;return{matched:!0,consumedSegments:U.consumed,remainingSegments:E.slice(U.consumed.length),parameters:le,positionalParamSegments:U.posParams??{}}}function $s(T,A,E,R,U="corrected"){if(E.length>0&&function zo(T,A,E){return E.some(R=>ro(T,A,R)&&Fr(R)!==It)}(T,E,R)){const le=new un(A,function ba(T,A,E,R){const U={};U[It]=R,R._sourceSegment=T,R._segmentIndexShift=A.length;for(const Q of E)if(""===Q.path&&Fr(Q)!==It){const le=new un([],{});le._sourceSegment=T,le._segmentIndexShift=A.length,U[Fr(Q)]=le}return U}(T,A,R,new un(E,T.children)));return le._sourceSegment=T,le._segmentIndexShift=A.length,{segmentGroup:le,slicedSegments:[]}}if(0===E.length&&function la(T,A,E){return E.some(R=>ro(T,A,R))}(T,E,R)){const le=new un(T.segments,function va(T,A,E,R,U,Q){const le={};for(const ye of R)if(ro(T,E,ye)&&!U[Fr(ye)]){const ft=new un([],{});ft._sourceSegment=T,ft._segmentIndexShift="legacy"===Q?T.segments.length:A.length,le[Fr(ye)]=ft}return{...U,...le}}(T,A,E,R,T.children,U));return le._sourceSegment=T,le._segmentIndexShift=A.length,{segmentGroup:le,slicedSegments:E}}const Q=new un(T.segments,T.children);return Q._sourceSegment=T,Q._segmentIndexShift=A.length,{segmentGroup:Q,slicedSegments:E}}function ro(T,A,E){return(!(T.hasChildren()||A.length>0)||"full"!==E.pathMatch)&&""===E.path}function xo(T,A,E,R){return!!(Fr(T)===R||R!==It&&ro(A,E,T))&&("**"===T.path||Oa(A,T,E).matched)}function Pa(T,A,E){return 0===A.length&&!T.children[E]}const gi=!1;class ws{constructor(A){this.segmentGroup=A||null}}class Lr{constructor(A){this.urlTree=A}}function ua(T){return _t(new ws(T))}function Fa(T){return _t(new Lr(T))}class Xl{constructor(A,E,R,U,Q){this.injector=A,this.configLoader=E,this.urlSerializer=R,this.urlTree=U,this.config=Q,this.allowRedirects=!0}apply(){const A=$s(this.urlTree.root,[],[],this.config).segmentGroup,E=new un(A.segments,A.children);return this.expandSegmentGroup(this.injector,this.config,E,It).pipe((0,$e.U)(Q=>this.createUrlTree(Me(Q),this.urlTree.queryParams,this.urlTree.fragment))).pipe(bt(Q=>{if(Q instanceof Lr)return this.allowRedirects=!1,this.match(Q.urlTree);throw Q instanceof ws?this.noMatchError(Q):Q}))}match(A){return this.expandSegmentGroup(this.injector,this.config,A.root,It).pipe((0,$e.U)(U=>this.createUrlTree(Me(U),A.queryParams,A.fragment))).pipe(bt(U=>{throw U instanceof ws?this.noMatchError(U):U}))}noMatchError(A){return new v.vHH(4002,gi)}createUrlTree(A,E,R){const U=ie(A);return new wn(U,E,R)}expandSegmentGroup(A,E,R,U){return 0===R.segments.length&&R.hasChildren()?this.expandChildren(A,E,R).pipe((0,$e.U)(Q=>new un([],Q))):this.expandSegment(A,R,E,R.segments,U,!0)}expandChildren(A,E,R){const U=[];for(const Q of Object.keys(R.children))"primary"===Q?U.unshift(Q):U.push(Q);return(0,K.D)(U).pipe((0,Ot.b)(Q=>{const le=R.children[Q],ye=Qr(E,Q);return this.expandSegmentGroup(A,ye,le,Q).pipe((0,$e.U)(ft=>({segment:ft,outlet:Q})))}),(0,Ze.R)((Q,le)=>(Q[le.outlet]=le.segment,Q),{}),We())}expandSegment(A,E,R,U,Q,le){return(0,K.D)(R).pipe((0,Ot.b)(ye=>this.expandSegmentAgainstRoute(A,E,R,ye,U,Q,le).pipe(bt(Bt=>{if(Bt instanceof ws)return(0,x.of)(null);throw Bt}))),(0,tt.P)(ye=>!!ye),bt((ye,ft)=>{if(j(ye))return Pa(E,U,Q)?(0,x.of)(new un([],{})):ua(E);throw ye}))}expandSegmentAgainstRoute(A,E,R,U,Q,le,ye){return xo(U,E,Q,le)?void 0===U.redirectTo?this.matchSegmentAgainstRoute(A,E,U,Q,le):ye&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(A,E,R,U,Q,le):ua(E):ua(E)}expandSegmentAgainstRouteUsingRedirect(A,E,R,U,Q,le){return"**"===U.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(A,R,U,le):this.expandRegularSegmentAgainstRouteUsingRedirect(A,E,R,U,Q,le)}expandWildCardWithParamsAgainstRouteUsingRedirect(A,E,R,U){const Q=this.applyRedirectCommands([],R.redirectTo,{});return R.redirectTo.startsWith("/")?Fa(Q):this.lineralizeSegments(R,Q).pipe((0,et.z)(le=>{const ye=new un(le,{});return this.expandSegment(A,ye,E,le,U,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(A,E,R,U,Q,le){const{matched:ye,consumedSegments:ft,remainingSegments:Bt,positionalParamSegments:Pn}=Oa(E,U,Q);if(!ye)return ua(E);const _n=this.applyRedirectCommands(ft,U.redirectTo,Pn);return U.redirectTo.startsWith("/")?Fa(_n):this.lineralizeSegments(U,_n).pipe((0,et.z)(Tr=>this.expandSegment(A,E,R,Tr.concat(Bt),le,!1)))}matchSegmentAgainstRoute(A,E,R,U,Q){return"**"===R.path?(A=Ci(R,A),R.loadChildren?(R._loadedRoutes?(0,x.of)({routes:R._loadedRoutes,injector:R._loadedInjector}):this.configLoader.loadChildren(A,R)).pipe((0,$e.U)(ye=>(R._loadedRoutes=ye.routes,R._loadedInjector=ye.injector,new un(U,{})))):(0,x.of)(new un(U,{}))):ya(E,R,U,A).pipe((0,Fe.w)(({matched:le,consumedSegments:ye,remainingSegments:ft})=>le?this.getChildConfig(A=R._injector??A,R,U).pipe((0,et.z)(Pn=>{const _n=Pn.injector??A,Tr=Pn.routes,{segmentGroup:xi,slicedSegments:Oo}=$s(E,ye,ft,Tr),Ca=new un(xi.segments,xi.children);if(0===Oo.length&&Ca.hasChildren())return this.expandChildren(_n,Tr,Ca).pipe((0,$e.U)(ml=>new un(ye,ml)));if(0===Tr.length&&0===Oo.length)return(0,x.of)(new un(ye,{}));const Fs=Fr(R)===Q;return this.expandSegment(_n,Ca,Tr,Oo,Fs?It:Q,!0).pipe((0,$e.U)(tl=>new un(ye.concat(tl.segments),tl.children)))})):ua(E)))}getChildConfig(A,E,R){return E.children?(0,x.of)({routes:E.children,injector:A}):E.loadChildren?void 0!==E._loadedRoutes?(0,x.of)({routes:E._loadedRoutes,injector:E._loadedInjector}):function xs(T,A,E,R){const U=A.canLoad;if(void 0===U||0===U.length)return(0,x.of)(!0);const Q=U.map(le=>{const ye=eo(le,T);return Vn(function aa(T){return T&&gs(T.canLoad)}(ye)?ye.canLoad(A,E):T.runInContext(()=>ye(A,E)))});return(0,x.of)(Q).pipe(O(),Mo())}(A,E,R).pipe((0,et.z)(U=>U?this.configLoader.loadChildren(A,E).pipe((0,kt.b)(Q=>{E._loadedRoutes=Q.routes,E._loadedInjector=Q.injector})):function Ka(T){return _t(ts(gi,3))}())):(0,x.of)({routes:[],injector:A})}lineralizeSegments(A,E){let R=[],U=E.root;for(;;){if(R=R.concat(U.segments),0===U.numberOfChildren)return(0,x.of)(R);if(U.numberOfChildren>1||!U.children[It])return _t(new v.vHH(4e3,gi));U=U.children[It]}}applyRedirectCommands(A,E,R){return this.applyRedirectCreateUrlTree(E,this.urlSerializer.parse(E),A,R)}applyRedirectCreateUrlTree(A,E,R,U){const Q=this.createSegmentGroup(A,E.root,R,U);return new wn(Q,this.createQueryParams(E.queryParams,this.urlTree.queryParams),E.fragment)}createQueryParams(A,E){const R={};return Tt(A,(U,Q)=>{if("string"==typeof U&&U.startsWith(":")){const ye=U.substring(1);R[Q]=E[ye]}else R[Q]=U}),R}createSegmentGroup(A,E,R,U){const Q=this.createSegments(A,E.segments,R,U);let le={};return Tt(E.children,(ye,ft)=>{le[ft]=this.createSegmentGroup(A,ye,R,U)}),new un(Q,le)}createSegments(A,E,R,U){return E.map(Q=>Q.path.startsWith(":")?this.findPosParam(A,Q,U):this.findOrReturn(Q,R))}findPosParam(A,E,R){const U=R[E.path.substring(1)];if(!U)throw new v.vHH(4001,gi);return U}findOrReturn(A,E){let R=0;for(const U of E){if(U.path===A.path)return E.splice(R),U;R++}return A}}class La{}class Tu{constructor(A,E,R,U,Q,le,ye,ft){this.injector=A,this.rootComponentType=E,this.config=R,this.urlTree=U,this.url=Q,this.paramsInheritanceStrategy=le,this.relativeLinkResolution=ye,this.urlSerializer=ft}recognize(){const A=$s(this.urlTree.root,[],[],this.config.filter(E=>void 0===E.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,A,It).pipe((0,$e.U)(E=>{if(null===E)return null;const R=new Js([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},It,this.rootComponentType,null,this.urlTree.root,-1,{}),U=new Sr(R,E),Q=new na(this.url,U);return this.inheritParamsAndData(Q._root),Q}))}inheritParamsAndData(A){const E=A.value,R=Eo(E,this.paramsInheritanceStrategy);E.params=Object.freeze(R.params),E.data=Object.freeze(R.data),A.children.forEach(U=>this.inheritParamsAndData(U))}processSegmentGroup(A,E,R,U){return 0===R.segments.length&&R.hasChildren()?this.processChildren(A,E,R):this.processSegment(A,E,R,R.segments,U)}processChildren(A,E,R){return(0,K.D)(Object.keys(R.children)).pipe((0,Ot.b)(U=>{const Q=R.children[U],le=Qr(E,U);return this.processSegmentGroup(A,le,Q,U)}),(0,Ze.R)((U,Q)=>U&&Q?(U.push(...Q),U):null),function Jt(T,A=!1){return(0,Pt.e)((E,R)=>{let U=0;E.subscribe((0,Ke.x)(R,Q=>{const le=T(Q,U++);(le||A)&&R.next(Q),!le&&R.complete()}))})}(U=>null!==U),(0,ct.d)(null),We(),(0,$e.U)(U=>{if(null===U)return null;const Q=io(U);return function Ro(T){T.sort((A,E)=>A.value.outlet===It?-1:E.value.outlet===It?1:A.value.outlet.localeCompare(E.value.outlet))}(Q),Q}))}processSegment(A,E,R,U,Q){return(0,K.D)(E).pipe((0,Ot.b)(le=>this.processSegmentAgainstRoute(le._injector??A,le,R,U,Q)),(0,tt.P)(le=>!!le),bt(le=>{if(j(le))return Pa(R,U,Q)?(0,x.of)([]):(0,x.of)(null);throw le}))}processSegmentAgainstRoute(A,E,R,U,Q){if(E.redirectTo||!xo(E,R,U,Q))return(0,x.of)(null);let le;if("**"===E.path){const ye=U.length>0?mr(U).parameters:{},ft=ks(R)+U.length,Bt=new Js(U,ye,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Z(E),Fr(E),E.component??E._loadedComponent??null,E,_o(R),ft,L(E),ft);le=(0,x.of)({snapshot:Bt,consumedSegments:[],remainingSegments:[]})}else le=ya(R,E,U,A).pipe((0,$e.U)(({matched:ye,consumedSegments:ft,remainingSegments:Bt,parameters:Pn})=>{if(!ye)return null;const _n=ks(R)+ft.length;return{snapshot:new Js(ft,Pn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Z(E),Fr(E),E.component??E._loadedComponent??null,E,_o(R),_n,L(E),_n),consumedSegments:ft,remainingSegments:Bt}}));return le.pipe((0,Fe.w)(ye=>{if(null===ye)return(0,x.of)(null);const{snapshot:ft,consumedSegments:Bt,remainingSegments:Pn}=ye;A=E._injector??A;const _n=E._loadedInjector??A,Tr=function ms(T){return T.children?T.children:T.loadChildren?T._loadedRoutes:[]}(E),{segmentGroup:xi,slicedSegments:Oo}=$s(R,Bt,Pn,Tr.filter(Fs=>void 0===Fs.redirectTo),this.relativeLinkResolution);if(0===Oo.length&&xi.hasChildren())return this.processChildren(_n,Tr,xi).pipe((0,$e.U)(Fs=>null===Fs?null:[new Sr(ft,Fs)]));if(0===Tr.length&&0===Oo.length)return(0,x.of)([new Sr(ft,[])]);const Ca=Fr(E)===Q;return this.processSegment(_n,Tr,xi,Oo,Ca?It:Q).pipe((0,$e.U)(Fs=>null===Fs?null:[new Sr(ft,Fs)]))}))}}function hl(T){const A=T.value.routeConfig;return A&&""===A.path&&void 0===A.redirectTo}function io(T){const A=[],E=new Set;for(const R of T){if(!hl(R)){A.push(R);continue}const U=A.find(Q=>R.value.routeConfig===Q.value.routeConfig);void 0!==U?(U.children.push(...R.children),E.add(U)):A.push(R)}for(const R of E){const U=io(R.children);A.push(new Sr(R.value,U))}return A.filter(R=>!E.has(R))}function _o(T){let A=T;for(;A._sourceSegment;)A=A._sourceSegment;return A}function ks(T){let A=T,E=A._segmentIndexShift??0;for(;A._sourceSegment;)A=A._sourceSegment,E+=A._segmentIndexShift??0;return E-1}function Z(T){return T.data||{}}function L(T){return T.resolve||{}}function Jn(T){return"string"==typeof T.title||null===T.title}function nr(T){return(0,Fe.w)(A=>{const E=T(A);return E?(0,K.D)(E).pipe((0,$e.U)(()=>A)):(0,x.of)(A)})}let qn=(()=>{class T{buildTitle(E){let R,U=E.root;for(;void 0!==U;)R=this.getResolvedTitleForRoute(U)??R,U=U.children.find(Q=>Q.outlet===It);return R}getResolvedTitleForRoute(E){return E.data[hn]}}return T.\u0275fac=function(E){return new(E||T)},T.\u0275prov=v.Yz7({token:T,factory:function(){return(0,v.f3M)(ui)},providedIn:"root"}),T})(),ui=(()=>{class T extends qn{constructor(E){super(),this.title=E}updateTitle(E){const R=this.buildTitle(E);void 0!==R&&this.title.setTitle(R)}}return T.\u0275fac=function(E){return new(E||T)(v.LFG(An.Dx))},T.\u0275prov=v.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();class br{}class Rs extends class Kr{shouldDetach(A){return!1}store(A,E){}shouldAttach(A){return!1}retrieve(A){return null}shouldReuseRoute(A,E){return A.routeConfig===E.routeConfig}}{}const nn=new v.OlP("",{providedIn:"root",factory:()=>({})}),Vt=new v.OlP("ROUTES");let it=(()=>{class T{constructor(E,R){this.injector=E,this.compiler=R,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(E){if(this.componentLoaders.get(E))return this.componentLoaders.get(E);if(E._loadedComponent)return(0,x.of)(E._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(E);const R=Vn(E.loadComponent()).pipe((0,kt.b)(Q=>{this.onLoadEndListener&&this.onLoadEndListener(E),E._loadedComponent=Q}),pn(()=>{this.componentLoaders.delete(E)})),U=new Ae(R,()=>new Zt.x).pipe(Je());return this.componentLoaders.set(E,U),U}loadChildren(E,R){if(this.childrenLoaders.get(R))return this.childrenLoaders.get(R);if(R._loadedRoutes)return(0,x.of)({routes:R._loadedRoutes,injector:R._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(R);const Q=this.loadModuleFactoryOrRoutes(R.loadChildren).pipe((0,$e.U)(ye=>{this.onLoadEndListener&&this.onLoadEndListener(R);let ft,Bt,Pn=!1;Array.isArray(ye)?Bt=ye:(ft=ye.create(E).injector,Bt=Kn(ft.get(Vt,[],v.XFs.Self|v.XFs.Optional)));return{routes:Bt.map(vi),injector:ft}}),pn(()=>{this.childrenLoaders.delete(R)})),le=new Ae(Q,()=>new Zt.x).pipe(Je());return this.childrenLoaders.set(R,le),le}loadModuleFactoryOrRoutes(E){return Vn(E()).pipe((0,et.z)(R=>R instanceof v.YKP||Array.isArray(R)?(0,x.of)(R):(0,K.D)(this.compiler.compileModuleAsync(R))))}}return T.\u0275fac=function(E){return new(E||T)(v.LFG(v.zs3),v.LFG(v.Sil))},T.\u0275prov=v.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();class St{}class Ei{shouldProcessUrl(A){return!0}extract(A){return A}merge(A,E){return A}}function Hc(T){throw T}function Rl(T,A,E){return A.parse("/")}const eu={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},fl={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function wa(){const T=(0,v.f3M)(Qn),A=(0,v.f3M)(Hr),E=(0,v.f3M)(ut.Ye),R=(0,v.f3M)(v.zs3),U=(0,v.f3M)(v.Sil),Q=(0,v.f3M)(Vt,{optional:!0})??[],le=(0,v.f3M)(nn,{optional:!0})??{},ye=(0,v.f3M)(ui),ft=(0,v.f3M)(qn,{optional:!0}),Bt=(0,v.f3M)(St,{optional:!0}),Pn=(0,v.f3M)(br,{optional:!0}),_n=new oi(null,T,A,E,R,U,Kn(Q));return Bt&&(_n.urlHandlingStrategy=Bt),Pn&&(_n.routeReuseStrategy=Pn),_n.titleStrategy=ft??ye,function Va(T,A){T.errorHandler&&(A.errorHandler=T.errorHandler),T.malformedUriErrorHandler&&(A.malformedUriErrorHandler=T.malformedUriErrorHandler),T.onSameUrlNavigation&&(A.onSameUrlNavigation=T.onSameUrlNavigation),T.paramsInheritanceStrategy&&(A.paramsInheritanceStrategy=T.paramsInheritanceStrategy),T.relativeLinkResolution&&(A.relativeLinkResolution=T.relativeLinkResolution),T.urlUpdateStrategy&&(A.urlUpdateStrategy=T.urlUpdateStrategy),T.canceledNavigationResolution&&(A.canceledNavigationResolution=T.canceledNavigationResolution)}(le,_n),_n}let oi=(()=>{class T{constructor(E,R,U,Q,le,ye,ft){this.rootComponentType=E,this.urlSerializer=R,this.rootContexts=U,this.location=Q,this.config=ft,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Zt.x,this.errorHandler=Hc,this.malformedUriErrorHandler=Rl,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,x.of)(void 0),this.urlHandlingStrategy=new Ei,this.routeReuseStrategy=new Rs,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=le.get(it),this.configLoader.onLoadEndListener=Tr=>this.triggerEvent(new fi(Tr)),this.configLoader.onLoadStartListener=Tr=>this.triggerEvent(new Ai(Tr)),this.ngModule=le.get(v.h0i),this.console=le.get(v.c2e);const _n=le.get(v.R0b);this.isNgZoneEnabled=_n instanceof v.R0b&&v.R0b.isInAngularZone(),this.resetConfig(ft),this.currentUrlTree=function He(){return new wn(new un([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=ho(this.currentUrlTree,this.rootComponentType),this.transitions=new l.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(E){const R=this.events;return E.pipe((0,se.h)(U=>0!==U.id),(0,$e.U)(U=>({...U,extractedUrl:this.urlHandlingStrategy.extract(U.rawUrl)})),(0,Fe.w)(U=>{let Q=!1,le=!1;return(0,x.of)(U).pipe((0,kt.b)(ye=>{this.currentNavigation={id:ye.id,initialUrl:ye.rawUrl,extractedUrl:ye.extractedUrl,trigger:ye.source,extras:ye.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Fe.w)(ye=>{const ft=this.browserUrlTree.toString(),Bt=!this.navigated||ye.extractedUrl.toString()!==ft||ft!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||Bt)&&this.urlHandlingStrategy.shouldProcessUrl(ye.rawUrl))return Ol(ye.source)&&(this.browserUrlTree=ye.extractedUrl),(0,x.of)(ye).pipe((0,Fe.w)(_n=>{const Tr=this.transitions.getValue();return R.next(new Is(_n.id,this.serializeUrl(_n.extractedUrl),_n.source,_n.restoredState)),Tr!==this.transitions.getValue()?Ue.E:Promise.resolve(_n)}),function rs(T,A,E,R){return(0,Fe.w)(U=>function Ja(T,A,E,R,U){return new Xl(T,A,E,R,U).apply()}(T,A,E,U.extractedUrl,R).pipe((0,$e.U)(Q=>({...U,urlAfterRedirects:Q}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,kt.b)(_n=>{this.currentNavigation={...this.currentNavigation,finalUrl:_n.urlAfterRedirects},U.urlAfterRedirects=_n.urlAfterRedirects}),function X(T,A,E,R,U,Q){return(0,et.z)(le=>function dl(T,A,E,R,U,Q,le="emptyOnly",ye="legacy"){return new Tu(T,A,E,R,U,le,ye,Q).recognize().pipe((0,Fe.w)(ft=>null===ft?function ko(T){return new Te.y(A=>A.error(T))}(new La):(0,x.of)(ft)))}(T,A,E,le.urlAfterRedirects,R.serialize(le.urlAfterRedirects),R,U,Q).pipe((0,$e.U)(ye=>({...le,targetSnapshot:ye}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,kt.b)(_n=>{if(U.targetSnapshot=_n.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!_n.extras.skipLocationChange){const xi=this.urlHandlingStrategy.merge(_n.urlAfterRedirects,_n.rawUrl);this.setBrowserUrl(xi,_n)}this.browserUrlTree=_n.urlAfterRedirects}const Tr=new yi(_n.id,this.serializeUrl(_n.extractedUrl),this.serializeUrl(_n.urlAfterRedirects),_n.targetSnapshot);R.next(Tr)}));if(Bt&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Tr,extractedUrl:xi,source:Oo,restoredState:Ca,extras:Fs}=ye,Vl=new Is(Tr,this.serializeUrl(xi),Oo,Ca);R.next(Vl);const tl=ho(xi,this.rootComponentType).snapshot;return U={...ye,targetSnapshot:tl,urlAfterRedirects:xi,extras:{...Fs,skipLocationChange:!1,replaceUrl:!1}},(0,x.of)(U)}return this.rawUrlTree=ye.rawUrl,ye.resolve(null),Ue.E}),(0,kt.b)(ye=>{const ft=new ma(ye.id,this.serializeUrl(ye.extractedUrl),this.serializeUrl(ye.urlAfterRedirects),ye.targetSnapshot);this.triggerEvent(ft)}),(0,$e.U)(ye=>U={...ye,guards:oa(ye.targetSnapshot,ye.currentSnapshot,this.rootContexts)}),function ee(T,A){return(0,et.z)(E=>{const{targetSnapshot:R,currentSnapshot:U,guards:{canActivateChecks:Q,canDeactivateChecks:le}}=E;return 0===le.length&&0===Q.length?(0,x.of)({...E,guardsResult:!0}):function qe(T,A,E,R){return(0,K.D)(T).pipe((0,et.z)(U=>function mo(T,A,E,R,U){const Q=A&&A.routeConfig?A.routeConfig.canDeactivate:null;if(!Q||0===Q.length)return(0,x.of)(!0);const le=Q.map(ye=>{const ft=Nn(A)??U,Bt=eo(ye,ft);return Vn(function po(T){return T&&gs(T.canDeactivate)}(Bt)?Bt.canDeactivate(T,A,E,R):ft.runInContext(()=>Bt(T,A,E,R))).pipe((0,tt.P)())});return(0,x.of)(le).pipe(O())}(U.component,U.route,E,A,R)),(0,tt.P)(U=>!0!==U,!0))}(le,R,U,T).pipe((0,et.z)(ye=>ye&&function si(T){return"boolean"==typeof T}(ye)?function cn(T,A,E,R){return(0,K.D)(A).pipe((0,Ot.b)(U=>(0,he.z)(function Ms(T,A){return null!==T&&A&&A(new _a(T)),(0,x.of)(!0)}(U.route.parent,R),function or(T,A){return null!==T&&A&&A(new Oe(T)),(0,x.of)(!0)}(U.route,R),function go(T,A,E){const R=A[A.length-1],Q=A.slice(0,A.length-1).reverse().map(le=>function zi(T){const A=T.routeConfig?T.routeConfig.canActivateChild:null;return A&&0!==A.length?{node:T,guards:A}:null}(le)).filter(le=>null!==le).map(le=>ce(()=>{const ye=le.guards.map(ft=>{const Bt=Nn(le.node)??E,Pn=eo(ft,Bt);return Vn(function Zi(T){return T&&gs(T.canActivateChild)}(Pn)?Pn.canActivateChild(R,T):Bt.runInContext(()=>Pn(R,T))).pipe((0,tt.P)())});return(0,x.of)(ye).pipe(O())}));return(0,x.of)(Q).pipe(O())}(T,U.path,E),function Ns(T,A,E){const R=A.routeConfig?A.routeConfig.canActivate:null;if(!R||0===R.length)return(0,x.of)(!0);const U=R.map(Q=>ce(()=>{const le=Nn(A)??E,ye=eo(Q,le);return Vn(function Ra(T){return T&&gs(T.canActivate)}(ye)?ye.canActivate(A,T):le.runInContext(()=>ye(A,T))).pipe((0,tt.P)())}));return(0,x.of)(U).pipe(O())}(T,U.route,E))),(0,tt.P)(U=>!0!==U,!0))}(R,Q,T,A):(0,x.of)(ye)),(0,$e.U)(ye=>({...E,guardsResult:ye})))})}(this.ngModule.injector,ye=>this.triggerEvent(ye)),(0,kt.b)(ye=>{if(U.guardsResult=ye.guardsResult,Gt(ye.guardsResult))throw Ss(0,ye.guardsResult);const ft=new hi(ye.id,this.serializeUrl(ye.extractedUrl),this.serializeUrl(ye.urlAfterRedirects),ye.targetSnapshot,!!ye.guardsResult);this.triggerEvent(ft)}),(0,se.h)(ye=>!!ye.guardsResult||(this.restoreHistory(ye),this.cancelNavigationTransition(ye,"",3),!1)),nr(ye=>{if(ye.guards.canActivateChecks.length)return(0,x.of)(ye).pipe((0,kt.b)(ft=>{const Bt=new ta(ft.id,this.serializeUrl(ft.extractedUrl),this.serializeUrl(ft.urlAfterRedirects),ft.targetSnapshot);this.triggerEvent(Bt)}),(0,Fe.w)(ft=>{let Bt=!1;return(0,x.of)(ft).pipe(function be(T,A){return(0,et.z)(E=>{const{targetSnapshot:R,guards:{canActivateChecks:U}}=E;if(!U.length)return(0,x.of)(E);let Q=0;return(0,K.D)(U).pipe((0,Ot.b)(le=>function ot(T,A,E,R){const U=T.routeConfig,Q=T._resolve;return void 0!==U?.title&&!Jn(U)&&(Q[hn]=U.title),function vt(T,A,E,R){const U=function Xt(T){return[...Object.keys(T),...Object.getOwnPropertySymbols(T)]}(T);if(0===U.length)return(0,x.of)({});const Q={};return(0,K.D)(U).pipe((0,et.z)(le=>function kn(T,A,E,R){const U=Nn(A)??R,Q=eo(T,U);return Vn(Q.resolve?Q.resolve(A,E):U.runInContext(()=>Q(A,E)))}(T[le],A,E,R).pipe((0,tt.P)(),(0,kt.b)(ye=>{Q[le]=ye}))),at(1),(0,Wt.h)(Q),bt(le=>j(le)?Ue.E:_t(le)))}(Q,T,A,R).pipe((0,$e.U)(le=>(T._resolvedData=le,T.data=Eo(T,E).resolve,U&&Jn(U)&&(T.data[hn]=U.title),null)))}(le.route,R,T,A)),(0,kt.b)(()=>Q++),at(1),(0,et.z)(le=>Q===U.length?(0,x.of)(E):Ue.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,kt.b)({next:()=>Bt=!0,complete:()=>{Bt||(this.restoreHistory(ft),this.cancelNavigationTransition(ft,"",2))}}))}),(0,kt.b)(ft=>{const Bt=new Uo(ft.id,this.serializeUrl(ft.extractedUrl),this.serializeUrl(ft.urlAfterRedirects),ft.targetSnapshot);this.triggerEvent(Bt)}))}),nr(ye=>{const ft=Bt=>{const Pn=[];Bt.routeConfig?.loadComponent&&!Bt.routeConfig._loadedComponent&&Pn.push(this.configLoader.loadComponent(Bt.routeConfig).pipe((0,kt.b)(_n=>{Bt.component=_n}),(0,$e.U)(()=>{})));for(const _n of Bt.children)Pn.push(...ft(_n));return Pn};return(0,Ce.a)(ft(ye.targetSnapshot.root)).pipe((0,ct.d)(),(0,Ft.q)(1))}),nr(()=>this.afterPreactivation()),(0,$e.U)(ye=>{const ft=function Bo(T,A,E){const R=fs(T,A._root,E?E._root:void 0);return new Di(R,A)}(this.routeReuseStrategy,ye.targetSnapshot,ye.currentRouterState);return U={...ye,targetRouterState:ft}}),(0,kt.b)(ye=>{this.currentUrlTree=ye.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(ye.urlAfterRedirects,ye.rawUrl),this.routerState=ye.targetRouterState,"deferred"===this.urlUpdateStrategy&&(ye.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,ye),this.browserUrlTree=ye.urlAfterRedirects)}),((T,A,E)=>(0,$e.U)(R=>(new fo(A,R.targetRouterState,R.currentRouterState,E).activate(T),R)))(this.rootContexts,this.routeReuseStrategy,ye=>this.triggerEvent(ye)),(0,kt.b)({next(){Q=!0},complete(){Q=!0}}),pn(()=>{Q||le||this.cancelNavigationTransition(U,"",1),this.currentNavigation?.id===U.id&&(this.currentNavigation=null)}),bt(ye=>{if(le=!0,As(ye)){Mi(ye)||(this.navigated=!0,this.restoreHistory(U,!0));const ft=new ni(U.id,this.serializeUrl(U.extractedUrl),ye.message,ye.cancellationCode);if(R.next(ft),Mi(ye)){const Bt=this.urlHandlingStrategy.merge(ye.url,this.rawUrlTree),Pn={skipLocationChange:U.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Ol(U.source)};this.scheduleNavigation(Bt,"imperative",null,Pn,{resolve:U.resolve,reject:U.reject,promise:U.promise})}else U.resolve(!1)}else{this.restoreHistory(U,!0);const ft=new Us(U.id,this.serializeUrl(U.extractedUrl),ye,U.targetSnapshot??void 0);R.next(ft);try{U.resolve(this.errorHandler(ye))}catch(Bt){U.reject(Bt)}}return Ue.E}))}))}resetRootComponentType(E){this.rootComponentType=E,this.routerState.root.component=this.rootComponentType}setTransition(E){this.transitions.next({...this.transitions.value,...E})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(E=>{const R="popstate"===E.type?"popstate":"hashchange";"popstate"===R&&setTimeout(()=>{const U={replaceUrl:!0},Q=E.state?.navigationId?E.state:null;if(Q){const ye={...Q};delete ye.navigationId,delete ye.\u0275routerPageId,0!==Object.keys(ye).length&&(U.state=ye)}const le=this.parseUrl(E.url);this.scheduleNavigation(le,R,Q,U)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(E){this.events.next(E)}resetConfig(E){this.config=E.map(vi),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(E,R={}){const{relativeTo:U,queryParams:Q,fragment:le,queryParamsHandling:ye,preserveFragment:ft}=R,Bt=U||this.routerState.root,Pn=ft?this.currentUrlTree.fragment:le;let _n=null;switch(ye){case"merge":_n={...this.currentUrlTree.queryParams,...Q};break;case"preserve":_n=this.currentUrlTree.queryParams;break;default:_n=Q||null}return null!==_n&&(_n=this.removeEmptyProps(_n)),$n(Bt,this.currentUrlTree,E,_n,Pn??null)}navigateByUrl(E,R={skipLocationChange:!1}){const U=Gt(E)?E:this.parseUrl(E),Q=this.urlHandlingStrategy.merge(U,this.rawUrlTree);return this.scheduleNavigation(Q,"imperative",null,R)}navigate(E,R={skipLocationChange:!1}){return function da(T){for(let A=0;A<T.length;A++){if(null==T[A])throw new v.vHH(4008,false)}}(E),this.navigateByUrl(this.createUrlTree(E,R),R)}serializeUrl(E){return this.urlSerializer.serialize(E)}parseUrl(E){let R;try{R=this.urlSerializer.parse(E)}catch(U){R=this.malformedUriErrorHandler(U,this.urlSerializer,E)}return R}isActive(E,R){let U;if(U=!0===R?{...eu}:!1===R?{...fl}:R,Gt(E))return oe(this.currentUrlTree,E,U);const Q=this.parseUrl(E);return oe(this.currentUrlTree,Q,U)}removeEmptyProps(E){return Object.keys(E).reduce((R,U)=>{const Q=E[U];return null!=Q&&(R[U]=Q),R},{})}processNavigations(){this.navigations.subscribe(E=>{this.navigated=!0,this.lastSuccessfulId=E.id,this.currentPageId=E.targetPageId,this.events.next(new Cr(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),E.resolve(!0)},E=>{this.console.warn(`Unhandled Navigation Error: ${E}`)})}scheduleNavigation(E,R,U,Q,le){if(this.disposed)return Promise.resolve(!1);let ye,ft,Bt;le?(ye=le.resolve,ft=le.reject,Bt=le.promise):Bt=new Promise((Tr,xi)=>{ye=Tr,ft=xi});const Pn=++this.navigationId;let _n;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(U=this.location.getState()),_n=U&&U.\u0275routerPageId?U.\u0275routerPageId:Q.replaceUrl||Q.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):_n=0,this.setTransition({id:Pn,targetPageId:_n,source:R,restoredState:U,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:E,extras:Q,resolve:ye,reject:ft,promise:Bt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Bt.catch(Tr=>Promise.reject(Tr))}setBrowserUrl(E,R){const U=this.urlSerializer.serialize(E),Q={...R.extras.state,...this.generateNgRouterState(R.id,R.targetPageId)};this.location.isCurrentPathEqualTo(U)||R.extras.replaceUrl?this.location.replaceState(U,"",Q):this.location.go(U,"",Q)}restoreHistory(E,R=!1){if("computed"===this.canceledNavigationResolution){const U=this.currentPageId-E.targetPageId;"popstate"!==E.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===U?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===U&&(this.resetState(E),this.browserUrlTree=E.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(U)}else"replace"===this.canceledNavigationResolution&&(R&&this.resetState(E),this.resetUrlToCurrentUrlTree())}resetState(E){this.routerState=E.currentRouterState,this.currentUrlTree=E.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,E.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(E,R,U){const Q=new ni(E.id,this.serializeUrl(E.extractedUrl),R,U);this.triggerEvent(Q),E.resolve(!1)}generateNgRouterState(E,R){return"computed"===this.canceledNavigationResolution?{navigationId:E,\u0275routerPageId:R}:{navigationId:E}}}return T.\u0275fac=function(E){v.$Z()},T.\u0275prov=v.Yz7({token:T,factory:function(){return wa()},providedIn:"root"}),T})();function Ol(T){return"imperative"!==T}let zn=(()=>{class T{constructor(E,R,U){this.router=E,this.route=R,this.locationStrategy=U,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new Zt.x,this.subscription=E.events.subscribe(Q=>{Q instanceof Cr&&this.updateTargetUrlAndHref()})}set preserveFragment(E){this._preserveFragment=(0,v.D6c)(E)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(E){this._skipLocationChange=(0,v.D6c)(E)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(E){this._replaceUrl=(0,v.D6c)(E)}get replaceUrl(){return this._replaceUrl}set routerLink(E){this.commands=null!=E?Array.isArray(E)?E:[E]:null}ngOnChanges(E){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(E,R,U,Q,le){return!!(0!==E||R||U||Q||le||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return T.\u0275fac=function(E){return new(E||T)(v.Y36(oi),v.Y36($i),v.Y36(ut.S$))},T.\u0275dir=v.lG2({type:T,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(E,R){1&E&&v.NdJ("click",function(Q){return R.onClick(Q.button,Q.ctrlKey,Q.shiftKey,Q.altKey,Q.metaKey)}),2&E&&v.uIk("target",R.target)("href",R.href,v.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[v.TTD]}),T})();class Wr{}let wr=(()=>{class T{constructor(E,R,U,Q,le){this.router=E,this.injector=U,this.preloadingStrategy=Q,this.loader=le}setUpPreloading(){this.subscription=this.router.events.pipe((0,se.h)(E=>E instanceof Cr),(0,Ot.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(E,R){const U=[];for(const Q of R){Q.providers&&!Q._injector&&(Q._injector=(0,v.MMx)(Q.providers,E,`Route: ${Q.path}`));const le=Q._injector??E,ye=Q._loadedInjector??le;Q.loadChildren&&!Q._loadedRoutes&&void 0===Q.canLoad||Q.loadComponent&&!Q._loadedComponent?U.push(this.preloadConfig(le,Q)):(Q.children||Q._loadedRoutes)&&U.push(this.processRoutes(ye,Q.children??Q._loadedRoutes))}return(0,K.D)(U).pipe((0,Lt.J)())}preloadConfig(E,R){return this.preloadingStrategy.preload(R,()=>{let U;U=R.loadChildren&&void 0===R.canLoad?this.loader.loadChildren(E,R):(0,x.of)(null);const Q=U.pipe((0,et.z)(le=>null===le?(0,x.of)(void 0):(R._loadedRoutes=le.routes,R._loadedInjector=le.injector,this.processRoutes(le.injector??E,le.routes))));if(R.loadComponent&&!R._loadedComponent){const le=this.loader.loadComponent(R);return(0,K.D)([Q,le]).pipe((0,Lt.J)())}return Q})}}return T.\u0275fac=function(E){return new(E||T)(v.LFG(oi),v.LFG(v.Sil),v.LFG(v.lqb),v.LFG(Wr),v.LFG(it))},T.\u0275prov=v.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();const Fl=new v.OlP("");let Ir=(()=>{class T{constructor(E,R,U={}){this.router=E,this.viewportScroller=R,this.options=U,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},U.scrollPositionRestoration=U.scrollPositionRestoration||"disabled",U.anchorScrolling=U.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(E=>{E instanceof Is?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=E.navigationTrigger,this.restoredId=E.restoredState?E.restoredState.navigationId:0):E instanceof Cr&&(this.lastId=E.id,this.scheduleScrollEvent(E,this.router.parseUrl(E.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(E=>{E instanceof Ge&&(E.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(E.position):E.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(E.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(E,R){this.router.triggerEvent(new Ge(E,"popstate"===this.lastSource?this.store[this.restoredId]:null,R))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return T.\u0275fac=function(E){v.$Z()},T.\u0275prov=v.Yz7({token:T,factory:T.\u0275fac}),T})();function Os(T,A){return{\u0275kind:T,\u0275providers:A}}function so(T){return[{provide:Vt,multi:!0,useValue:T}]}function pl(){const T=(0,v.f3M)(v.zs3);return A=>{const E=T.get(v.z2F);if(A!==E.components[0])return;const R=T.get(oi),U=T.get(dr);1===T.get(gl)&&R.initialNavigation(),T.get(Su,null,v.XFs.Optional)?.setUpPreloading(),T.get(Fl,null,v.XFs.Optional)?.init(),R.resetRootComponentType(E.componentTypes[0]),U.closed||(U.next(),U.unsubscribe())}}const dr=new v.OlP("",{factory:()=>new Zt.x}),gl=new v.OlP("",{providedIn:"root",factory:()=>1});const Su=new v.OlP("");function Qu(T){return Os(0,[{provide:Su,useExisting:wr},{provide:Wr,useExisting:T}])}const ru=new v.OlP("ROUTER_FORROOT_GUARD"),Jr=[ut.Ye,{provide:Qn,useClass:Mr},{provide:oi,useFactory:wa},Hr,{provide:$i,useFactory:function Xa(T){return T.routerState.root},deps:[oi]},it];function qi(){return new v.PXZ("Router",oi)}let Zo=(()=>{class T{constructor(E){}static forRoot(E,R){return{ngModule:T,providers:[Jr,[],so(E),{provide:ru,useFactory:Gs,deps:[[oi,new v.FiY,new v.tp0]]},{provide:nn,useValue:R||{}},R?.useHash?{provide:ut.S$,useClass:ut.Do}:{provide:ut.S$,useClass:ut.b0},{provide:Fl,useFactory:()=>{const T=(0,v.f3M)(oi),A=(0,v.f3M)(ut.EM),E=(0,v.f3M)(nn);return E.scrollOffset&&A.setOffset(E.scrollOffset),new Ir(T,A,E)}},R?.preloadingStrategy?Qu(R.preloadingStrategy).\u0275providers:[],{provide:v.PXZ,multi:!0,useFactory:qi},R?.initialNavigation?Ll(R):[],[{provide:Da,useFactory:pl},{provide:v.tb,multi:!0,useExisting:Da}]]}}static forChild(E){return{ngModule:T,providers:[so(E)]}}}return T.\u0275fac=function(E){return new(E||T)(v.LFG(ru,8))},T.\u0275mod=v.oAB({type:T}),T.\u0275inj=v.cJS({imports:[jr]}),T})();function Gs(T){return"guarded"}function Ll(T){return["disabled"===T.initialNavigation?Os(3,[{provide:v.ip1,multi:!0,useFactory:()=>{const A=(0,v.f3M)(oi);return()=>{A.setUpLocationChangeListener()}}},{provide:gl,useValue:2}]).\u0275providers:[],"enabledBlocking"===T.initialNavigation?Os(2,[{provide:gl,useValue:0},{provide:v.ip1,multi:!0,deps:[v.zs3],useFactory:A=>{const E=A.get(ut.V_,Promise.resolve());let R=!1;return()=>E.then(()=>new Promise(Q=>{const le=A.get(oi),ye=A.get(dr);(function U(Q){A.get(oi).events.pipe((0,se.h)(ye=>ye instanceof Cr||ye instanceof ni||ye instanceof Us),(0,$e.U)(ye=>ye instanceof Cr||ye instanceof ni&&(0===ye.code||1===ye.code)&&null),(0,se.h)(ye=>null!==ye),(0,Ft.q)(1)).subscribe(()=>{Q()})})(()=>{Q(!0),R=!0}),le.afterPreactivation=()=>(Q(!0),R||ye.closed?(0,x.of)(void 0):ye),le.initialNavigation()}))}}]).\u0275providers:[]]}const Da=new v.OlP("")},3942:(tn,ze,B)=>{B.d(ze,{Z:()=>Be});var v=B(2090),K=B(4859),x=B(9681),l=B(1877);class Ee{constructor(Ke,Je){this._delegate=Ke,this.firebase=Je,(0,x._addComponent)(Ke,new K.wA("app-compat",()=>this,"PUBLIC")),this.container=Ke.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ke){this._delegate.automaticDataCollectionEnabled=Ke}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ke=>{this._delegate.checkDestroyed(),Ke()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,x.deleteApp)(this._delegate)))}_getService(Ke,Je=x._DEFAULT_ENTRY_NAME){var Ae;this._delegate.checkDestroyed();const Zt=this._delegate.container.getProvider(Ke);return!Zt.isInitialized()&&"EXPLICIT"===(null===(Ae=Zt.getComponent())||void 0===Ae?void 0:Ae.instantiationMode)&&Zt.initialize(),Zt.getImmediate({identifier:Je})}_removeServiceInstance(Ke,Je=x._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ke).clearInstance(Je)}_addComponent(Ke){(0,x._addComponent)(this._delegate,Ke)}_addOrOverwriteComponent(Ke){(0,x._addOrOverwriteComponent)(this._delegate,Ke)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const he=new v.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ce=function Pe(){const Pt=function Te(Pt){const Ke={},Je={__esModule:!0,initializeApp:function ut(Dt,se={}){const et=x.initializeApp(Dt,se);if((0,v.r3)(Ke,et.name))return Ke[et.name];const tt=new Pt(et,Je);return Ke[et.name]=tt,tt},app:Zt,registerVersion:x.registerVersion,setLogLevel:x.setLogLevel,onLog:x.onLog,apps:null,SDK_VERSION:x.SDK_VERSION,INTERNAL:{registerComponent:function Fe(Dt){const se=Dt.name,et=se.replace("-compat","");if(x._registerComponent(Dt)&&"PUBLIC"===Dt.type){const tt=(Ot=Zt())=>{if("function"!=typeof Ot[et])throw he.create("invalid-app-argument",{appName:se});return Ot[et]()};void 0!==Dt.serviceProps&&(0,v.ZB)(tt,Dt.serviceProps),Je[et]=tt,Pt.prototype[et]=function(...Ot){return this._getService.bind(this,se).apply(this,Dt.multipleInstances?Ot:[])}}return"PUBLIC"===Dt.type?Je[et]:null},removeApp:function Ae(Dt){delete Ke[Dt]},useAsService:function Ft(Dt,se){return"serverAuth"===se?null:se},modularAPIs:x}};function Zt(Dt){if(!(0,v.r3)(Ke,Dt=Dt||x._DEFAULT_ENTRY_NAME))throw he.create("no-app",{appName:Dt});return Ke[Dt]}return Je.default=Je,Object.defineProperty(Je,"apps",{get:function $e(){return Object.keys(Ke).map(Dt=>Ke[Dt])}}),Zt.App=Pt,Je}(Ee);return Pt.INTERNAL=Object.assign(Object.assign({},Pt.INTERNAL),{createFirebaseNamespace:Pe,extendNamespace:function Ke(Je){(0,v.ZB)(Pt,Je)},createSubscribe:v.ne,ErrorFactory:v.LL,deepExtend:v.ZB}),Pt}(),de=new l.Yd("@firebase/app-compat");if((0,v.jU)()&&void 0!==self.firebase){de.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Pt=self.firebase.SDK_VERSION;Pt&&Pt.indexOf("LITE")>=0&&de.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Be=ce;!function Ue(Pt){(0,x.registerVersion)("@firebase/app-compat","0.2.6",Pt)}()},9681:(tn,ze,B)=>{B.r(ze),B.d(ze,{FirebaseError:()=>l.ZR,SDK_VERSION:()=>ir,_DEFAULT_ENTRY_NAME:()=>pt,_addComponent:()=>pn,_addOrOverwriteComponent:()=>Lt,_apps:()=>Jt,_clearComponents:()=>Zn,_components:()=>Wt,_getProvider:()=>It,_registerComponent:()=>An,_removeServiceInstance:()=>hn,deleteApp:()=>_r,getApp:()=>Kn,getApps:()=>mr,initializeApp:()=>kr,onLog:()=>Wn,registerVersion:()=>Vn,setLogLevel:()=>He});var v=B(5861),K=B(4859),x=B(1877),l=B(2090),Ee=B(8766);class Ce{constructor(nt){this.container=nt}getPlatformInfoString(){return this.container.getProviders().map(Rt=>{if(function he(rn){return"VERSION"===rn.getComponent()?.type}(Rt)){const on=Rt.getImmediate();return`${on.library}/${on.version}`}return null}).filter(Rt=>Rt).join(" ")}}const Te="@firebase/app",ce=new x.Yd("@firebase/app"),pt="[DEFAULT]",We={[Te]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Jt=new Map,Wt=new Map;function pn(rn,nt){try{rn.container.addComponent(nt)}catch(Rt){ce.debug(`Component ${nt.name} failed to register with FirebaseApp ${rn.name}`,Rt)}}function Lt(rn,nt){rn.container.addOrOverwriteComponent(nt)}function An(rn){const nt=rn.name;if(Wt.has(nt))return ce.debug(`There were multiple attempts to register component ${nt}.`),!1;Wt.set(nt,rn);for(const Rt of Jt.values())pn(Rt,rn);return!0}function It(rn,nt){const Rt=rn.container.getProvider("heartbeat").getImmediate({optional:!0});return Rt&&Rt.triggerHeartbeat(),rn.container.getProvider(nt)}function hn(rn,nt,Rt=pt){It(rn,nt).clearInstance(Rt)}function Zn(){Wt.clear()}const hr=new l.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class lr{constructor(nt,Rt,on){this._isDeleted=!1,this._options=Object.assign({},nt),this._config=Object.assign({},Rt),this._name=Rt.name,this._automaticDataCollectionEnabled=Rt.automaticDataCollectionEnabled,this._container=on,this.container.addComponent(new K.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(nt){this.checkDestroyed(),this._automaticDataCollectionEnabled=nt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(nt){this._isDeleted=nt}checkDestroyed(){if(this.isDeleted)throw hr.create("app-deleted",{appName:this._name})}}const ir="9.19.0";function kr(rn,nt={}){let Rt=rn;"object"!=typeof nt&&(nt={name:nt});const on=Object.assign({name:pt,automaticDataCollectionEnabled:!1},nt),Sn=on.name;if("string"!=typeof Sn||!Sn)throw hr.create("bad-app-name",{appName:String(Sn)});if(Rt||(Rt=(0,l.aH)()),!Rt)throw hr.create("no-options");const In=Jt.get(Sn);if(In){if((0,l.vZ)(Rt,In.options)&&(0,l.vZ)(on,In.config))return In;throw hr.create("duplicate-app",{appName:Sn})}const Dr=new K.H0(Sn);for(const fe of Wt.values())Dr.addComponent(fe);const ve=new lr(Rt,on,Dr);return Jt.set(Sn,ve),ve}function Kn(rn=pt){const nt=Jt.get(rn);if(!nt&&rn===pt)return kr();if(!nt)throw hr.create("no-app",{appName:rn});return nt}function mr(){return Array.from(Jt.values())}function _r(rn){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,v.Z)(function*(rn){const nt=rn.name;Jt.has(nt)&&(Jt.delete(nt),yield Promise.all(rn.container.getProviders().map(Rt=>Rt.delete())),rn.isDeleted=!0)})).apply(this,arguments)}function Vn(rn,nt,Rt){var on;let Sn=null!==(on=We[rn])&&void 0!==on?on:rn;Rt&&(Sn+=`-${Rt}`);const In=Sn.match(/\s|\//),Dr=nt.match(/\s|\//);if(In||Dr){const ve=[`Unable to register library "${Sn}" with version "${nt}":`];return In&&ve.push(`library name "${Sn}" contains illegal characters (whitespace or "/")`),In&&Dr&&ve.push("and"),Dr&&ve.push(`version name "${nt}" contains illegal characters (whitespace or "/")`),void ce.warn(ve.join(" "))}An(new K.wA(`${Sn}-version`,()=>({library:Sn,version:nt}),"VERSION"))}function Wn(rn,nt){if(null!==rn&&"function"!=typeof rn)throw hr.create("invalid-log-argument");(0,x.Am)(rn,nt)}function He(rn){(0,x.Ub)(rn)}const oe="firebase-heartbeat-store";let Ve=null;function Ct(){return Ve||(Ve=(0,Ee.X3)("firebase-heartbeat-database",1,{upgrade:(rn,nt)=>{0===nt&&rn.createObjectStore(oe)}}).catch(rn=>{throw hr.create("idb-open",{originalErrorMessage:rn.message})})),Ve}function Nt(){return(Nt=(0,v.Z)(function*(rn){try{return(yield Ct()).transaction(oe).objectStore(oe).get(wn(rn))}catch(nt){if(nt instanceof l.ZR)ce.warn(nt.message);else{const Rt=hr.create("idb-get",{originalErrorMessage:nt?.message});ce.warn(Rt.message)}}})).apply(this,arguments)}function dt(rn,nt){return jt.apply(this,arguments)}function jt(){return(jt=(0,v.Z)(function*(rn,nt){try{const on=(yield Ct()).transaction(oe,"readwrite");return yield on.objectStore(oe).put(nt,wn(rn)),on.done}catch(Rt){if(Rt instanceof l.ZR)ce.warn(Rt.message);else{const on=hr.create("idb-set",{originalErrorMessage:Rt?.message});ce.warn(on.message)}}})).apply(this,arguments)}function wn(rn){return`${rn.name}!${rn.options.appId}`}class sr{constructor(nt){this.container=nt,this._heartbeatsCache=null;const Rt=this.container.getProvider("app").getImmediate();this._storage=new Qn(Rt),this._heartbeatsCachePromise=this._storage.read().then(on=>(this._heartbeatsCache=on,on))}triggerHeartbeat(){var nt=this;return(0,v.Z)(function*(){const on=nt.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Sn=En();if(null===nt._heartbeatsCache&&(nt._heartbeatsCache=yield nt._heartbeatsCachePromise),nt._heartbeatsCache.lastSentHeartbeatDate!==Sn&&!nt._heartbeatsCache.heartbeats.some(In=>In.date===Sn))return nt._heartbeatsCache.heartbeats.push({date:Sn,agent:on}),nt._heartbeatsCache.heartbeats=nt._heartbeatsCache.heartbeats.filter(In=>{const Dr=new Date(In.date).valueOf();return Date.now()-Dr<=2592e6}),nt._storage.overwrite(nt._heartbeatsCache)})()}getHeartbeatsHeader(){var nt=this;return(0,v.Z)(function*(){if(null===nt._heartbeatsCache&&(yield nt._heartbeatsCachePromise),null===nt._heartbeatsCache||0===nt._heartbeatsCache.heartbeats.length)return"";const Rt=En(),{heartbeatsToSend:on,unsentEntries:Sn}=function Zr(rn,nt=1024){const Rt=[];let on=rn.slice();for(const Sn of rn){const In=Rt.find(Dr=>Dr.agent===Sn.agent);if(In){if(In.dates.push(Sn.date),Mr(Rt)>nt){In.dates.pop();break}}else if(Rt.push({agent:Sn.agent,dates:[Sn.date]}),Mr(Rt)>nt){Rt.pop();break}on=on.slice(1)}return{heartbeatsToSend:Rt,unsentEntries:on}}(nt._heartbeatsCache.heartbeats),In=(0,l.L)(JSON.stringify({version:2,heartbeats:on}));return nt._heartbeatsCache.lastSentHeartbeatDate=Rt,Sn.length>0?(nt._heartbeatsCache.heartbeats=Sn,yield nt._storage.overwrite(nt._heartbeatsCache)):(nt._heartbeatsCache.heartbeats=[],nt._storage.overwrite(nt._heartbeatsCache)),In})()}}function En(){return(new Date).toISOString().substring(0,10)}class Qn{constructor(nt){this.app=nt,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,v.Z)(function*(){return!!(0,l.hl)()&&(0,l.eu)().then(()=>!0).catch(()=>!1)})()}read(){var nt=this;return(0,v.Z)(function*(){return(yield nt._canUseIndexedDBPromise)&&(yield function Mt(rn){return Nt.apply(this,arguments)}(nt.app))||{heartbeats:[]}})()}overwrite(nt){var Rt=this;return(0,v.Z)(function*(){var on;if(yield Rt._canUseIndexedDBPromise){const In=yield Rt.read();return dt(Rt.app,{lastSentHeartbeatDate:null!==(on=nt.lastSentHeartbeatDate)&&void 0!==on?on:In.lastSentHeartbeatDate,heartbeats:nt.heartbeats})}})()}add(nt){var Rt=this;return(0,v.Z)(function*(){var on;if(yield Rt._canUseIndexedDBPromise){const In=yield Rt.read();return dt(Rt.app,{lastSentHeartbeatDate:null!==(on=nt.lastSentHeartbeatDate)&&void 0!==on?on:In.lastSentHeartbeatDate,heartbeats:[...In.heartbeats,...nt.heartbeats]})}})()}}function Mr(rn){return(0,l.L)(JSON.stringify({version:2,heartbeats:rn})).length}!function Pr(rn){An(new K.wA("platform-logger",nt=>new Ce(nt),"PRIVATE")),An(new K.wA("heartbeat",nt=>new sr(nt),"PRIVATE")),Vn(Te,"0.9.6",rn),Vn(Te,"0.9.6","esm2017"),Vn("fire-js","")}("")},4859:(tn,ze,B)=>{B.d(ze,{H0:()=>Te,wA:()=>x});var v=B(5861),K=B(2090);class x{constructor(ce,de,we){this.name=ce,this.instanceFactory=de,this.type=we,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ce){return this.instantiationMode=ce,this}setMultipleInstances(ce){return this.multipleInstances=ce,this}setServiceProps(ce){return this.serviceProps=ce,this}setInstanceCreatedCallback(ce){return this.onInstanceCreated=ce,this}}const l="[DEFAULT]";class Ee{constructor(ce,de){this.name=ce,this.container=de,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ce){const de=this.normalizeInstanceIdentifier(ce);if(!this.instancesDeferred.has(de)){const we=new K.BH;if(this.instancesDeferred.set(de,we),this.isInitialized(de)||this.shouldAutoInitialize())try{const _t=this.getOrInitializeService({instanceIdentifier:de});_t&&we.resolve(_t)}catch{}}return this.instancesDeferred.get(de).promise}getImmediate(ce){var de;const we=this.normalizeInstanceIdentifier(ce?.identifier),_t=null!==(de=ce?.optional)&&void 0!==de&&de;if(!this.isInitialized(we)&&!this.shouldAutoInitialize()){if(_t)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:we})}catch(Ue){if(_t)return null;throw Ue}}getComponent(){return this.component}setComponent(ce){if(ce.name!==this.name)throw Error(`Mismatching Component ${ce.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ce,this.shouldAutoInitialize()){if(function he(Pe){return"EAGER"===Pe.instantiationMode}(ce))try{this.getOrInitializeService({instanceIdentifier:l})}catch{}for(const[de,we]of this.instancesDeferred.entries()){const _t=this.normalizeInstanceIdentifier(de);try{const Ue=this.getOrInitializeService({instanceIdentifier:_t});we.resolve(Ue)}catch{}}}}clearInstance(ce=l){this.instancesDeferred.delete(ce),this.instancesOptions.delete(ce),this.instances.delete(ce)}delete(){var ce=this;return(0,v.Z)(function*(){const de=Array.from(ce.instances.values());yield Promise.all([...de.filter(we=>"INTERNAL"in we).map(we=>we.INTERNAL.delete()),...de.filter(we=>"_delete"in we).map(we=>we._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ce=l){return this.instances.has(ce)}getOptions(ce=l){return this.instancesOptions.get(ce)||{}}initialize(ce={}){const{options:de={}}=ce,we=this.normalizeInstanceIdentifier(ce.instanceIdentifier);if(this.isInitialized(we))throw Error(`${this.name}(${we}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const _t=this.getOrInitializeService({instanceIdentifier:we,options:de});for(const[Ue,Be]of this.instancesDeferred.entries())we===this.normalizeInstanceIdentifier(Ue)&&Be.resolve(_t);return _t}onInit(ce,de){var we;const _t=this.normalizeInstanceIdentifier(de),Ue=null!==(we=this.onInitCallbacks.get(_t))&&void 0!==we?we:new Set;Ue.add(ce),this.onInitCallbacks.set(_t,Ue);const Be=this.instances.get(_t);return Be&&ce(Be,_t),()=>{Ue.delete(ce)}}invokeOnInitCallbacks(ce,de){const we=this.onInitCallbacks.get(de);if(we)for(const _t of we)try{_t(ce,de)}catch{}}getOrInitializeService({instanceIdentifier:ce,options:de={}}){let we=this.instances.get(ce);if(!we&&this.component&&(we=this.component.instanceFactory(this.container,{instanceIdentifier:(Pe=ce,Pe===l?void 0:Pe),options:de}),this.instances.set(ce,we),this.instancesOptions.set(ce,de),this.invokeOnInitCallbacks(we,ce),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ce,we)}catch{}var Pe;return we||null}normalizeInstanceIdentifier(ce=l){return this.component?this.component.multipleInstances?ce:l:ce}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Te{constructor(ce){this.name=ce,this.providers=new Map}addComponent(ce){const de=this.getProvider(ce.name);if(de.isComponentSet())throw new Error(`Component ${ce.name} has already been registered with ${this.name}`);de.setComponent(ce)}addOrOverwriteComponent(ce){this.getProvider(ce.name).isComponentSet()&&this.providers.delete(ce.name),this.addComponent(ce)}getProvider(ce){if(this.providers.has(ce))return this.providers.get(ce);const de=new Ee(ce,this);return this.providers.set(ce,de),de}getProviders(){return Array.from(this.providers.values())}}},1877:(tn,ze,B)=>{B.d(ze,{Am:()=>Pe,Ub:()=>Te,Yd:()=>he,in:()=>K});const v=[];var K=(()=>{return(ce=K||(K={}))[ce.DEBUG=0]="DEBUG",ce[ce.VERBOSE=1]="VERBOSE",ce[ce.INFO=2]="INFO",ce[ce.WARN=3]="WARN",ce[ce.ERROR=4]="ERROR",ce[ce.SILENT=5]="SILENT",K;var ce})();const x={debug:K.DEBUG,verbose:K.VERBOSE,info:K.INFO,warn:K.WARN,error:K.ERROR,silent:K.SILENT},l=K.INFO,Ee={[K.DEBUG]:"log",[K.VERBOSE]:"log",[K.INFO]:"info",[K.WARN]:"warn",[K.ERROR]:"error"},Ce=(ce,de,...we)=>{if(de<ce.logLevel)return;const _t=(new Date).toISOString(),Ue=Ee[de];if(!Ue)throw new Error(`Attempted to log a message with an invalid logType (value: ${de})`);console[Ue](`[${_t}]  ${ce.name}:`,...we)};class he{constructor(de){this.name=de,this._logLevel=l,this._logHandler=Ce,this._userLogHandler=null,v.push(this)}get logLevel(){return this._logLevel}set logLevel(de){if(!(de in K))throw new TypeError(`Invalid value "${de}" assigned to \`logLevel\``);this._logLevel=de}setLogLevel(de){this._logLevel="string"==typeof de?x[de]:de}get logHandler(){return this._logHandler}set logHandler(de){if("function"!=typeof de)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=de}get userLogHandler(){return this._userLogHandler}set userLogHandler(de){this._userLogHandler=de}debug(...de){this._userLogHandler&&this._userLogHandler(this,K.DEBUG,...de),this._logHandler(this,K.DEBUG,...de)}log(...de){this._userLogHandler&&this._userLogHandler(this,K.VERBOSE,...de),this._logHandler(this,K.VERBOSE,...de)}info(...de){this._userLogHandler&&this._userLogHandler(this,K.INFO,...de),this._logHandler(this,K.INFO,...de)}warn(...de){this._userLogHandler&&this._userLogHandler(this,K.WARN,...de),this._logHandler(this,K.WARN,...de)}error(...de){this._userLogHandler&&this._userLogHandler(this,K.ERROR,...de),this._logHandler(this,K.ERROR,...de)}}function Te(ce){v.forEach(de=>{de.setLogLevel(ce)})}function Pe(ce,de){for(const we of v){let _t=null;de&&de.level&&(_t=x[de.level]),we.userLogHandler=null===ce?null:(Ue,Be,...Pt)=>{const Ke=Pt.map(Je=>{if(null==Je)return null;if("string"==typeof Je)return Je;if("number"==typeof Je||"boolean"==typeof Je)return Je.toString();if(Je instanceof Error)return Je.message;try{return JSON.stringify(Je)}catch{return null}}).filter(Je=>Je).join(" ");Be>=(_t??Ue.logLevel)&&ce({level:K[Be].toLowerCase(),message:Ke,args:Pt,type:Ue.name})}}}},259:(tn,ze,B)=>{B.d(ze,{C6:()=>v.getApps,Mq:()=>v.getApp});var v=B(9681);(0,v.registerVersion)("firebase","9.19.0","app")},9260:(tn,ze,B)=>{B.d(ze,{Z:()=>v.Z});var v=B(3942);v.Z.registerVersion("firebase","9.19.0","app-compat")},7407:(tn,ze,B)=>{B.r(ze);var v=B(5861),K=B(3942),x=B(2090),l=B(9681),Ee=B(1877),Ce=B(655),he=B(4859);const Be=function _t(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Pt=function Ue(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ke=new x.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ae=new Ee.Yd("@firebase/auth");function Zt(D,...g){Ae.logLevel<=Ee.in.ERROR&&Ae.error(`Auth (${l.SDK_VERSION}): ${D}`,...g)}function ut(D,...g){throw Dt(D,...g)}function $e(D,...g){return Dt(D,...g)}function Fe(D,g,_){const I=Object.assign(Object.assign({},Pt()),{[g]:_});return new x.LL("auth","Firebase",I).create(g,{appName:D.name})}function Ft(D,g,_){if(!(g instanceof _))throw _.name!==g.constructor.name&&ut(D,"argument-error"),Fe(D,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Dt(D,...g){if("string"!=typeof D){const _=g[0],I=[...g.slice(1)];return I[0]&&(I[0].appName=D.name),D._errorFactory.create(_,...I)}return Ke.create(D,...g)}function se(D,g,..._){if(!D)throw Dt(g,..._)}function et(D){const g="INTERNAL ASSERTION FAILED: "+D;throw Zt(g),new Error(g)}function tt(D,g){D||et(g)}const Ot=new Map;function kt(D){tt(D instanceof Function,"Expected a class definition");let g=Ot.get(D);return g?(tt(g instanceof D,"Instance stored in cache mismatched with class"),g):(g=new D,Ot.set(D,g),g)}function at(){var D;return typeof self<"u"&&(null===(D=self.location)||void 0===D?void 0:D.href)||""}function Qe(){return"http:"===ct()||"https:"===ct()}function ct(){var D;return typeof self<"u"&&(null===(D=self.location)||void 0===D?void 0:D.protocol)||null}class Jt{constructor(g,_){this.shortDelay=g,this.longDelay=_,tt(_>g,"Short delay should be less than long delay!"),this.isMobile=(0,x.uI)()||(0,x.b$)()}get(){return function pt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Qe()||(0,x.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Wt(D,g){tt(D.emulator,"Emulator should always be set here");const{url:_}=D.emulator;return g?`${_}${g.startsWith("/")?g.slice(1):g}`:_}class pn{static initialize(g,_,I){this.fetchImpl=g,_&&(this.headersImpl=_),I&&(this.responseImpl=I)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void et("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void et("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void et("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Lt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},An=new Jt(3e4,6e4);function It(D,g){return D.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:D.tenantId}):g}function hn(D,g,_,I){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,v.Z)(function*(D,g,_,I,z={}){return Yn(D,z,(0,v.Z)(function*(){let te={},Ie={};I&&("GET"===g?Ie=I:te={body:JSON.stringify(I)});const gt=(0,x.xO)(Object.assign({key:D.config.apiKey},Ie)).slice(1),Qt=yield D._getAdditionalHeaders();return Qt["Content-Type"]="application/json",D.languageCode&&(Qt["X-Firebase-Locale"]=D.languageCode),pn.fetch()(kr(D,D.config.apiHost,_,gt),Object.assign({method:g,headers:Qt,referrerPolicy:"no-referrer"},te))}))})).apply(this,arguments)}function Yn(D,g,_){return hr.apply(this,arguments)}function hr(){return(hr=(0,v.Z)(function*(D,g,_){D._canInitEmulator=!1;const I=Object.assign(Object.assign({},Lt),g);try{const z=new Kn(D),te=yield Promise.race([_(),z.promise]);z.clearNetworkTimeout();const Ie=yield te.json();if("needConfirmation"in Ie)throw mr(D,"account-exists-with-different-credential",Ie);if(te.ok&&!("errorMessage"in Ie))return Ie;{const gt=te.ok?Ie.errorMessage:Ie.error.message,[Qt,Cn]=gt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Qt)throw mr(D,"credential-already-in-use",Ie);if("EMAIL_EXISTS"===Qt)throw mr(D,"email-already-in-use",Ie);if("USER_DISABLED"===Qt)throw mr(D,"user-disabled",Ie);const jn=I[Qt]||Qt.toLowerCase().replace(/[_\s]+/g,"-");if(Cn)throw Fe(D,jn,Cn);ut(D,jn)}}catch(z){if(z instanceof x.ZR)throw z;ut(D,"network-request-failed",{message:String(z)})}})).apply(this,arguments)}function lr(D,g,_,I){return ir.apply(this,arguments)}function ir(){return(ir=(0,v.Z)(function*(D,g,_,I,z={}){const te=yield hn(D,g,_,I,z);return"mfaPendingCredential"in te&&ut(D,"multi-factor-auth-required",{_serverResponse:te}),te})).apply(this,arguments)}function kr(D,g,_,I){const z=`${g}${_}?${I}`;return D.config.emulator?Wt(D.config,z):`${D.config.apiScheme}://${z}`}class Kn{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((_,I)=>{this.timer=setTimeout(()=>I($e(this.auth,"network-request-failed")),An.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function mr(D,g,_){const I={appName:D.name};_.email&&(I.email=_.email),_.phoneNumber&&(I.phoneNumber=_.phoneNumber);const z=$e(D,g,I);return z.customData._tokenResponse=_,z}function Tt(){return(Tt=(0,v.Z)(function*(D,g){return hn(D,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function Vn(D,g){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,v.Z)(function*(D,g){return hn(D,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function He(D,g){return ln.apply(this,arguments)}function ln(){return(ln=(0,v.Z)(function*(D,g){return hn(D,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function q(D){if(D)try{const g=new Date(Number(D));if(!isNaN(g.getTime()))return g.toUTCString()}catch{}}function Ct(){return(Ct=(0,v.Z)(function*(D,g=!1){const _=(0,x.m9)(D),I=yield _.getIdToken(g),z=Nt(I);se(z&&z.exp&&z.auth_time&&z.iat,_.auth,"internal-error");const te="object"==typeof z.firebase?z.firebase:void 0,Ie=te?.sign_in_provider;return{claims:z,token:I,authTime:q(Mt(z.auth_time)),issuedAtTime:q(Mt(z.iat)),expirationTime:q(Mt(z.exp)),signInProvider:Ie||null,signInSecondFactor:te?.sign_in_second_factor||null}})).apply(this,arguments)}function Mt(D){return 1e3*Number(D)}function Nt(D){const[g,_,I]=D.split(".");if(void 0===g||void 0===_||void 0===I)return Zt("JWT malformed, contained fewer than 3 sections"),null;try{const z=(0,x.tV)(_);return z?JSON.parse(z):(Zt("Failed to decode base64 JWT payload"),null)}catch(z){return Zt("Caught error parsing JWT payload as JSON",z?.toString()),null}}function jt(D,g){return wn.apply(this,arguments)}function wn(){return(wn=(0,v.Z)(function*(D,g,_=!1){if(_)return g;try{return yield g}catch(I){throw I instanceof x.ZR&&un(I)&&D.auth.currentUser===D&&(yield D.auth.signOut()),I}})).apply(this,arguments)}function un({code:D}){return"auth/user-disabled"===D||"auth/user-token-expired"===D}class fn{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var _;if(g){const I=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),I}{this.errorBackoff=3e4;const z=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,z)}}schedule(g=!1){var _=this;if(!this.isRunning)return;const I=this.getInterval(g);this.timerId=setTimeout((0,v.Z)(function*(){yield _.iteration()}),I)}iteration(){var g=this;return(0,v.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_?.code&&g.schedule(!0))}g.schedule()})()}}class sr{constructor(g,_){this.createdAt=g,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=q(this.lastLoginAt),this.creationTime=q(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function En(D){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,v.Z)(function*(D){var g;const _=D.auth,I=yield D.getIdToken(),z=yield jt(D,He(_,{idToken:I}));se(z?.users.length,_,"internal-error");const te=z.users[0];D._notifyReloadListener(te);const Ie=null!==(g=te.providerUserInfo)&&void 0!==g&&g.length?rn(te.providerUserInfo):[],gt=Pr(D.providerData,Ie),jn=!!D.isAnonymous&&!(D.email&&te.passwordHash||gt?.length),Bn={uid:te.localId,displayName:te.displayName||null,photoURL:te.photoUrl||null,email:te.email||null,emailVerified:te.emailVerified||!1,phoneNumber:te.phoneNumber||null,tenantId:te.tenantId||null,providerData:gt,metadata:new sr(te.createdAt,te.lastLoginAt),isAnonymous:jn};Object.assign(D,Bn)})).apply(this,arguments)}function Mr(){return(Mr=(0,v.Z)(function*(D){const g=(0,x.m9)(D);yield En(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function Pr(D,g){return[...D.filter(I=>!g.some(z=>z.providerId===I.providerId)),...g]}function rn(D){return D.map(g=>{var{providerId:_}=g,I=(0,Ce._T)(g,["providerId"]);return{providerId:_,uid:I.rawId||"",displayName:I.displayName||null,email:I.email||null,phoneNumber:I.phoneNumber||null,photoURL:I.photoUrl||null}})}function Rt(){return(Rt=(0,v.Z)(function*(D,g){const _=yield Yn(D,{},(0,v.Z)(function*(){const I=(0,x.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:z,apiKey:te}=D.config,Ie=kr(D,z,"/v1/token",`key=${te}`),gt=yield D._getAdditionalHeaders();return gt["Content-Type"]="application/x-www-form-urlencoded",pn.fetch()(Ie,{method:"POST",headers:gt,body:I})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class on{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){se(g.idToken,"internal-error"),se(typeof g.idToken<"u","internal-error"),se(typeof g.refreshToken<"u","internal-error");const _="expiresIn"in g&&typeof g.expiresIn<"u"?Number(g.expiresIn):function dt(D){const g=Nt(D);return se(g,"internal-error"),se(typeof g.exp<"u","internal-error"),se(typeof g.iat<"u","internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,_)}getToken(g,_=!1){var I=this;return(0,v.Z)(function*(){return se(!I.accessToken||I.refreshToken,g,"user-token-expired"),_||!I.accessToken||I.isExpired?I.refreshToken?(yield I.refresh(g,I.refreshToken),I.accessToken):null:I.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,_){var I=this;return(0,v.Z)(function*(){const{accessToken:z,refreshToken:te,expiresIn:Ie}=yield function nt(D,g){return Rt.apply(this,arguments)}(g,_);I.updateTokensAndExpiration(z,te,Number(Ie))})()}updateTokensAndExpiration(g,_,I){this.refreshToken=_||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*I}static fromJSON(g,_){const{refreshToken:I,accessToken:z,expirationTime:te}=_,Ie=new on;return I&&(se("string"==typeof I,"internal-error",{appName:g}),Ie.refreshToken=I),z&&(se("string"==typeof z,"internal-error",{appName:g}),Ie.accessToken=z),te&&(se("number"==typeof te,"internal-error",{appName:g}),Ie.expirationTime=te),Ie}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new on,this.toJSON())}_performRefresh(){return et("not implemented")}}function Sn(D,g){se("string"==typeof D||typeof D>"u","internal-error",{appName:g})}class In{constructor(g){var{uid:_,auth:I,stsTokenManager:z}=g,te=(0,Ce._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new fn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=I,this.stsTokenManager=z,this.accessToken=z.accessToken,this.displayName=te.displayName||null,this.email=te.email||null,this.emailVerified=te.emailVerified||!1,this.phoneNumber=te.phoneNumber||null,this.photoURL=te.photoURL||null,this.isAnonymous=te.isAnonymous||!1,this.tenantId=te.tenantId||null,this.providerData=te.providerData?[...te.providerData]:[],this.metadata=new sr(te.createdAt||void 0,te.lastLoginAt||void 0)}getIdToken(g){var _=this;return(0,v.Z)(function*(){const I=yield jt(_,_.stsTokenManager.getToken(_.auth,g));return se(I,_.auth,"internal-error"),_.accessToken!==I&&(_.accessToken=I,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),I})()}getIdTokenResult(g){return function Ve(D){return Ct.apply(this,arguments)}(this,g)}reload(){return function Qn(D){return Mr.apply(this,arguments)}(this)}_assign(g){this!==g&&(se(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(_=>Object.assign({},_)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){const _=new In(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}));return _.metadata._copy(this.metadata),_}_onReload(g){se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,_=!1){var I=this;return(0,v.Z)(function*(){let z=!1;g.idToken&&g.idToken!==I.stsTokenManager.accessToken&&(I.stsTokenManager.updateFromServerResponse(g),z=!0),_&&(yield En(I)),yield I.auth._persistUserIfCurrent(I),z&&I.auth._notifyListenersIfCurrent(I)})()}delete(){var g=this;return(0,v.Z)(function*(){const _=yield g.getIdToken();return yield jt(g,function _r(D,g){return Tt.apply(this,arguments)}(g.auth,{idToken:_})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,_){var I,z,te,Ie,gt,Qt,Cn,jn;const Bn=null!==(I=_.displayName)&&void 0!==I?I:void 0,Oi=null!==(z=_.email)&&void 0!==z?z:void 0,Ko=null!==(te=_.phoneNumber)&&void 0!==te?te:void 0,pc=null!==(Ie=_.photoURL)&&void 0!==Ie?Ie:void 0,Kh=null!==(gt=_.tenantId)&&void 0!==gt?gt:void 0,Fu=null!==(Qt=_._redirectEventId)&&void 0!==Qt?Qt:void 0,sd=null!==(Cn=_.createdAt)&&void 0!==Cn?Cn:void 0,gc=null!==(jn=_.lastLoginAt)&&void 0!==jn?jn:void 0,{uid:Co,emailVerified:pu,isAnonymous:Wd,providerData:Pi,stsTokenManager:mc}=_;se(Co&&mc,g,"internal-error");const Zf=on.fromJSON(this.name,mc);se("string"==typeof Co,g,"internal-error"),Sn(Bn,g.name),Sn(Oi,g.name),se("boolean"==typeof pu,g,"internal-error"),se("boolean"==typeof Wd,g,"internal-error"),Sn(Ko,g.name),Sn(pc,g.name),Sn(Kh,g.name),Sn(Fu,g.name),Sn(sd,g.name),Sn(gc,g.name);const Lu=new In({uid:Co,auth:g,email:Oi,emailVerified:pu,displayName:Bn,isAnonymous:Wd,photoURL:pc,phoneNumber:Ko,tenantId:Kh,stsTokenManager:Zf,createdAt:sd,lastLoginAt:gc});return Pi&&Array.isArray(Pi)&&(Lu.providerData=Pi.map(Lo=>Object.assign({},Lo))),Fu&&(Lu._redirectEventId=Fu),Lu}static _fromIdTokenResponse(g,_,I=!1){return(0,v.Z)(function*(){const z=new on;z.updateFromServerResponse(_);const te=new In({uid:_.localId,auth:g,stsTokenManager:z,isAnonymous:I});return yield En(te),te})()}}const ve=(()=>{class D{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,v.Z)(function*(){return!0})()}_set(_,I){var z=this;return(0,v.Z)(function*(){z.storage[_]=I})()}_get(_){var I=this;return(0,v.Z)(function*(){const z=I.storage[_];return void 0===z?null:z})()}_remove(_){var I=this;return(0,v.Z)(function*(){delete I.storage[_]})()}_addListener(_,I){}_removeListener(_,I){}}return D.type="NONE",D})();function fe(D,g,_){return`firebase:${D}:${g}:${_}`}class Se{constructor(g,_,I){this.persistence=g,this.auth=_,this.userKey=I;const{config:z,name:te}=this.auth;this.fullUserKey=fe(this.userKey,z.apiKey,te),this.fullPersistenceKey=fe("persistence",z.apiKey,te),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,v.Z)(function*(){const _=yield g.persistence._get(g.fullUserKey);return _?In._fromJSON(g.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var _=this;return(0,v.Z)(function*(){if(_.persistence===g)return;const I=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=g,I?_.setCurrentUser(I):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,_,I="authUser"){return(0,v.Z)(function*(){if(!_.length)return new Se(kt(ve),g,I);const z=(yield Promise.all(_.map(function(){var Cn=(0,v.Z)(function*(jn){if(yield jn._isAvailable())return jn});return function(jn){return Cn.apply(this,arguments)}}()))).filter(Cn=>Cn);let te=z[0]||kt(ve);const Ie=fe(I,g.config.apiKey,g.name);let gt=null;for(const Cn of _)try{const jn=yield Cn._get(Ie);if(jn){const Bn=In._fromJSON(g,jn);Cn!==te&&(gt=Bn),te=Cn;break}}catch{}const Qt=z.filter(Cn=>Cn._shouldAllowMigration);return te._shouldAllowMigration&&Qt.length?(te=Qt[0],gt&&(yield te._set(Ie,gt.toJSON())),yield Promise.all(_.map(function(){var Cn=(0,v.Z)(function*(jn){if(jn!==te)try{yield jn._remove(Ie)}catch{}});return function(jn){return Cn.apply(this,arguments)}}())),new Se(te,g,I)):new Se(te,g,I)})()}}function rt(D){const g=D.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(Gn(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(je(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(me(g))return"Blackberry";if(pe(g))return"Webos";if(qt(g))return"Safari";if((g.includes("chrome/")||mn(g))&&!g.includes("edge/"))return"Chrome";if(fr(g))return"Android";{const I=D.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===I?.length)return I[1]}return"Other"}function je(D=(0,x.z$)()){return/firefox\//i.test(D)}function qt(D=(0,x.z$)()){const g=D.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function mn(D=(0,x.z$)()){return/crios\//i.test(D)}function Gn(D=(0,x.z$)()){return/iemobile/i.test(D)}function fr(D=(0,x.z$)()){return/android/i.test(D)}function me(D=(0,x.z$)()){return/blackberry/i.test(D)}function pe(D=(0,x.z$)()){return/webos/i.test(D)}function ie(D=(0,x.z$)()){return/iphone|ipad|ipod/i.test(D)||/macintosh/i.test(D)&&/mobile/i.test(D)}function Mn(D=(0,x.z$)()){return ie(D)||fr(D)||pe(D)||me(D)||/windows phone/i.test(D)||Gn(D)}function Br(D,g=[]){let _;switch(D){case"Browser":_=rt((0,x.z$)());break;case"Worker":_=`${rt((0,x.z$)())}-${D}`;break;default:_=D}const I=g.length?g.join(","):"FirebaseCore-web";return`${_}/JsCore/${l.SDK_VERSION}/${I}`}class Vi{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,_){const I=te=>new Promise((Ie,gt)=>{try{Ie(g(te))}catch(Qt){gt(Qt)}});I.onAbort=_,this.queue.push(I);const z=this.queue.length-1;return()=>{this.queue[z]=()=>Promise.resolve()}}runMiddleware(g){var _=this;return(0,v.Z)(function*(){if(_.auth.currentUser===g)return;const I=[];try{for(const z of _.queue)yield z(g),z.onAbort&&I.push(z.onAbort)}catch(z){I.reverse();for(const te of I)try{te()}catch{}throw _.auth._errorFactory.create("login-blocked",{originalMessage:z?.message})}})()}}class $n{constructor(g,_,I){this.app=g,this.heartbeatServiceProvider=_,this.config=I,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _i(this),this.idTokenSubscription=new _i(this),this.beforeStateQueue=new Vi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ke,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=I.sdkClientVersion}_initializeWithPersistence(g,_){var I=this;return _&&(this._popupRedirectResolver=kt(_)),this._initializationPromise=this.queue((0,v.Z)(function*(){var z,te;if(!I._deleted&&(I.persistenceManager=yield Se.create(I,g),!I._deleted)){if(null!==(z=I._popupRedirectResolver)&&void 0!==z&&z._shouldInitProactively)try{yield I._popupRedirectResolver._initialize(I)}catch{}yield I.initializeCurrentUser(_),I.lastNotifiedUid=(null===(te=I.currentUser)||void 0===te?void 0:te.uid)||null,!I._deleted&&(I._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,v.Z)(function*(){if(g._deleted)return;const _=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||_){if(g.currentUser&&_&&g.currentUser.uid===_.uid)return g._currentUser._assign(_),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(_,!0)}})()}initializeCurrentUser(g){var _=this;return(0,v.Z)(function*(){var I;const z=yield _.assertedPersistence.getCurrentUser();let te=z,Ie=!1;if(g&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const gt=null===(I=_.redirectUser)||void 0===I?void 0:I._redirectEventId,Qt=te?._redirectEventId,Cn=yield _.tryRedirectSignIn(g);(!gt||gt===Qt)&&Cn?.user&&(te=Cn.user,Ie=!0)}if(!te)return _.directlySetCurrentUser(null);if(!te._redirectEventId){if(Ie)try{yield _.beforeStateQueue.runMiddleware(te)}catch(gt){te=z,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(gt))}return te?_.reloadAndSetCurrentUserOrClear(te):_.directlySetCurrentUser(null)}return se(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===te._redirectEventId?_.directlySetCurrentUser(te):_.reloadAndSetCurrentUserOrClear(te)})()}tryRedirectSignIn(g){var _=this;return(0,v.Z)(function*(){let I=null;try{I=yield _._popupRedirectResolver._completeRedirectFn(_,g,!0)}catch{yield _._setRedirectUser(null)}return I})()}reloadAndSetCurrentUserOrClear(g){var _=this;return(0,v.Z)(function*(){try{yield En(g)}catch(I){if("auth/network-request-failed"!==I?.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function We(){if(typeof navigator>"u")return null;const D=navigator;return D.languages&&D.languages[0]||D.language||null}()}_delete(){var g=this;return(0,v.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var _=this;return(0,v.Z)(function*(){const I=g?(0,x.m9)(g):null;return I&&se(I.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(I&&I._clone(_))})()}_updateCurrentUser(g,_=!1){var I=this;return(0,v.Z)(function*(){if(!I._deleted)return g&&se(I.tenantId===g.tenantId,I,"tenant-id-mismatch"),_||(yield I.beforeStateQueue.runMiddleware(g)),I.queue((0,v.Z)(function*(){yield I.directlySetCurrentUser(g),I.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,v.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var _=this;return this.queue((0,v.Z)(function*(){yield _.assertedPersistence.setPersistence(kt(g))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new x.LL("auth","Firebase",g())}onAuthStateChanged(g,_,I){return this.registerStateListener(this.authStateSubscription,g,_,I)}beforeAuthStateChanged(g,_){return this.beforeStateQueue.pushCallback(g,_)}onIdTokenChanged(g,_,I){return this.registerStateListener(this.idTokenSubscription,g,_,I)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,_){var I=this;return(0,v.Z)(function*(){const z=yield I.getOrInitRedirectPersistenceManager(_);return null===g?z.removeCurrentUser():z.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var _=this;return(0,v.Z)(function*(){if(!_.redirectPersistenceManager){const I=g&&kt(g)||_._popupRedirectResolver;se(I,_,"argument-error"),_.redirectPersistenceManager=yield Se.create(_,[kt(I._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(g){var _=this;return(0,v.Z)(function*(){var I,z;return _._isInitialized&&(yield _.queue((0,v.Z)(function*(){}))),(null===(I=_._currentUser)||void 0===I?void 0:I._redirectEventId)===g?_._currentUser:(null===(z=_.redirectUser)||void 0===z?void 0:z._redirectEventId)===g?_.redirectUser:null})()}_persistUserIfCurrent(g){var _=this;return(0,v.Z)(function*(){if(g===_.currentUser)return _.queue((0,v.Z)(function*(){return _.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const I=null!==(_=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==I&&(this.lastNotifiedUid=I,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,_,I,z){if(this._deleted)return()=>{};const te="function"==typeof _?_:_.next.bind(_),Ie=this._isInitialized?Promise.resolve():this._initializationPromise;return se(Ie,this,"internal-error"),Ie.then(()=>te(this.currentUser)),"function"==typeof _?g.addObserver(_,I,z):g.addObserver(_)}directlySetCurrentUser(g){var _=this;return(0,v.Z)(function*(){_.currentUser&&_.currentUser!==g&&_._currentUser._stopProactiveRefresh(),g&&_.isProactiveRefreshEnabled&&g._startProactiveRefresh(),_.currentUser=g,g?yield _.assertedPersistence.setCurrentUser(g):yield _.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=Br(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,v.Z)(function*(){var _;const I={"X-Client-Version":g.clientVersion};g.app.options.appId&&(I["X-Firebase-gmpid"]=g.app.options.appId);const z=yield null===(_=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();return z&&(I["X-Firebase-Client"]=z),I})()}}function vr(D){return(0,x.m9)(D)}class _i{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,x.ne)(_=>this.observer=_)}get next(){return se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Si(D){const g=D.indexOf(":");return g<0?"":D.substr(0,g+1)}function li(D){if(!D)return null;const g=Number(D);return isNaN(g)?null:g}class di{constructor(g,_){this.providerId=g,this.signInMethod=_}toJSON(){return et("not implemented")}_getIdTokenResponse(g){return et("not implemented")}_linkToIdToken(g,_){return et("not implemented")}_getReauthenticationResolver(g){return et("not implemented")}}function ti(D,g){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,v.Z)(function*(D,g){return hn(D,"POST","/v1/accounts:resetPassword",It(D,g))})).apply(this,arguments)}function ur(D,g){return Es.apply(this,arguments)}function Es(){return(Es=(0,v.Z)(function*(D,g){return hn(D,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function us(D,g){return cs.apply(this,arguments)}function cs(){return(cs=(0,v.Z)(function*(D,g){return hn(D,"POST","/v1/accounts:update",It(D,g))})).apply(this,arguments)}function es(){return(es=(0,v.Z)(function*(D,g){return lr(D,"POST","/v1/accounts:signInWithPassword",It(D,g))})).apply(this,arguments)}function hs(D,g){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,v.Z)(function*(D,g){return hn(D,"POST","/v1/accounts:sendOobCode",It(D,g))})).apply(this,arguments)}function Nr(D,g){return Is.apply(this,arguments)}function Is(){return(Is=(0,v.Z)(function*(D,g){return hs(D,g)})).apply(this,arguments)}function Cr(D,g){return ni.apply(this,arguments)}function ni(){return(ni=(0,v.Z)(function*(D,g){return hs(D,g)})).apply(this,arguments)}function Us(D,g){return yi.apply(this,arguments)}function yi(){return(yi=(0,v.Z)(function*(D,g){return hs(D,g)})).apply(this,arguments)}function ma(D,g){return hi.apply(this,arguments)}function hi(){return(hi=(0,v.Z)(function*(D,g){return hs(D,g)})).apply(this,arguments)}function Uo(){return(Uo=(0,v.Z)(function*(D,g){return lr(D,"POST","/v1/accounts:signInWithEmailLink",It(D,g))})).apply(this,arguments)}function fi(){return(fi=(0,v.Z)(function*(D,g){return lr(D,"POST","/v1/accounts:signInWithEmailLink",It(D,g))})).apply(this,arguments)}class _a extends di{constructor(g,_,I,z=null){super("password",I),this._email=g,this._password=_,this._tenantId=z}static _fromEmailAndPassword(g,_){return new _a(g,_,"password")}static _fromEmailAndCode(g,_,I=null){return new _a(g,_,"emailLink",I)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g;if(_?.email&&_?.password){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(g){var _=this;return(0,v.Z)(function*(){switch(_.signInMethod){case"password":return function ds(D,g){return es.apply(this,arguments)}(g,{returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function ta(D,g){return Uo.apply(this,arguments)}(g,{email:_._email,oobCode:_._password});default:ut(g,"internal-error")}})()}_linkToIdToken(g,_){var I=this;return(0,v.Z)(function*(){switch(I.signInMethod){case"password":return ur(g,{idToken:_,returnSecureToken:!0,email:I._email,password:I._password});case"emailLink":return function Ai(D,g){return fi.apply(this,arguments)}(g,{idToken:_,email:I._email,oobCode:I._password});default:ut(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function Rr(D,g){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,v.Z)(function*(D,g){return lr(D,"POST","/v1/accounts:signInWithIdp",It(D,g))})).apply(this,arguments)}class Ge extends di{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const _=new Ge(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(_.idToken=g.idToken),g.accessToken&&(_.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(_.nonce=g.nonce),g.pendingToken&&(_.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(_.accessToken=g.oauthToken,_.secret=g.oauthTokenSecret):ut("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g,{providerId:I,signInMethod:z}=_,te=(0,Ce._T)(_,["providerId","signInMethod"]);if(!I||!z)return null;const Ie=new Ge(I,z);return Ie.idToken=te.idToken||void 0,Ie.accessToken=te.accessToken||void 0,Ie.secret=te.secret,Ie.nonce=te.nonce,Ie.pendingToken=te.pendingToken||null,Ie}_getIdTokenResponse(g){return Rr(g,this.buildRequest())}_linkToIdToken(g,_){const I=this.buildRequest();return I.idToken=_,Rr(g,I)}_getReauthenticationResolver(g){const _=this.buildRequest();return _.autoCreate=!1,Rr(g,_)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),g.postBody=(0,x.xO)(_)}return g}}function yt(D,g){return zt.apply(this,arguments)}function zt(){return(zt=(0,v.Z)(function*(D,g){return hn(D,"POST","/v1/accounts:sendVerificationCode",It(D,g))})).apply(this,arguments)}function Rn(){return(Rn=(0,v.Z)(function*(D,g){return lr(D,"POST","/v1/accounts:signInWithPhoneNumber",It(D,g))})).apply(this,arguments)}function cr(){return(cr=(0,v.Z)(function*(D,g){const _=yield lr(D,"POST","/v1/accounts:signInWithPhoneNumber",It(D,g));if(_.temporaryProof)throw mr(D,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const Di={USER_NOT_FOUND:"user-not-found"};function Bi(){return(Bi=(0,v.Z)(function*(D,g){return lr(D,"POST","/v1/accounts:signInWithPhoneNumber",It(D,Object.assign(Object.assign({},g),{operation:"REAUTH"})),Di)})).apply(this,arguments)}class $i extends di{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,_){return new $i({verificationId:g,verificationCode:_})}static _fromTokenResponse(g,_){return new $i({phoneNumber:g,temporaryProof:_})}_getIdTokenResponse(g){return function Tn(D,g){return Rn.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,_){return function Sr(D,g){return cr.apply(this,arguments)}(g,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function ho(D,g){return Bi.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:_,verificationId:I,verificationCode:z}=this.params;return g&&_?{temporaryProof:g,phoneNumber:_}:{sessionInfo:I,code:z}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:_,verificationCode:I,phoneNumber:z,temporaryProof:te}=g;return I||_||z||te?new $i({verificationId:_,verificationCode:I,phoneNumber:z,temporaryProof:te}):null}}class Js{constructor(g){var _,I,z,te,Ie,gt;const Qt=(0,x.zd)((0,x.pd)(g)),Cn=null!==(_=Qt.apiKey)&&void 0!==_?_:null,jn=null!==(I=Qt.oobCode)&&void 0!==I?I:null,Bn=function Eo(D){switch(D){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(z=Qt.mode)&&void 0!==z?z:null);se(Cn&&jn&&Bn,"argument-error"),this.apiKey=Cn,this.operation=Bn,this.code=jn,this.continueUrl=null!==(te=Qt.continueUrl)&&void 0!==te?te:null,this.languageCode=null!==(Ie=Qt.languageCode)&&void 0!==Ie?Ie:null,this.tenantId=null!==(gt=Qt.tenantId)&&void 0!==gt?gt:null}static parseLink(g){const _=function Io(D){const g=(0,x.zd)((0,x.pd)(D)).link,_=g?(0,x.zd)((0,x.pd)(g)).deep_link_id:null,I=(0,x.zd)((0,x.pd)(D)).deep_link_id;return(I?(0,x.zd)((0,x.pd)(I)).link:null)||I||_||g||D}(g);try{return new Js(_)}catch{return null}}}let Hi=(()=>{class D{constructor(){this.providerId=D.PROVIDER_ID}static credential(_,I){return _a._fromEmailAndPassword(_,I)}static credentialWithLink(_,I){const z=Js.parseLink(I);return se(z,"argument-error"),_a._fromEmailAndCode(_,z.code,z.tenantId)}}return D.PROVIDER_ID="password",D.EMAIL_PASSWORD_SIGN_IN_METHOD="password",D.EMAIL_LINK_SIGN_IN_METHOD="emailLink",D})();class ji{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class vs extends ji{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class Gi extends vs{static credentialFromJSON(g){const _="string"==typeof g?JSON.parse(g):g;return se("providerId"in _&&"signInMethod"in _,"argument-error"),Ge._fromParams(_)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return se(g.idToken||g.accessToken,"argument-error"),Ge._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return Gi.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return Gi.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:_,oauthAccessToken:I,oauthTokenSecret:z,pendingToken:te,nonce:Ie,providerId:gt}=g;if(!I&&!z&&!_&&!te||!gt)return null;try{return new Gi(gt)._credential({idToken:_,accessToken:I,nonce:Ie,pendingToken:te})}catch{return null}}}let Bo=(()=>{class D extends vs{constructor(){super("facebook.com")}static credential(_){return Ge._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return D.credentialFromTaggedObject(_)}static credentialFromError(_){return D.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return D.credential(_.oauthAccessToken)}catch{return null}}}return D.FACEBOOK_SIGN_IN_METHOD="facebook.com",D.PROVIDER_ID="facebook.com",D})(),fs=(()=>{class D extends vs{constructor(){super("google.com"),this.addScope("profile")}static credential(_,I){return Ge._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:I})}static credentialFromResult(_){return D.credentialFromTaggedObject(_)}static credentialFromError(_){return D.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:I,oauthAccessToken:z}=_;if(!I&&!z)return null;try{return D.credential(I,z)}catch{return null}}}return D.GOOGLE_SIGN_IN_METHOD="google.com",D.PROVIDER_ID="google.com",D})(),Qs=(()=>{class D extends vs{constructor(){super("github.com")}static credential(_){return Ge._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return D.credentialFromTaggedObject(_)}static credentialFromError(_){return D.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return D.credential(_.oauthAccessToken)}catch{return null}}}return D.GITHUB_SIGN_IN_METHOD="github.com",D.PROVIDER_ID="github.com",D})();class Ts extends di{constructor(g,_){super(g,g),this.pendingToken=_}_getIdTokenResponse(g){return Rr(g,this.buildRequest())}_linkToIdToken(g,_){const I=this.buildRequest();return I.idToken=_,Rr(g,I)}_getReauthenticationResolver(g){const _=this.buildRequest();return _.autoCreate=!1,Rr(g,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g,{providerId:I,signInMethod:z,pendingToken:te}=_;return I&&z&&te&&I===z?new Ts(I,te):null}static _create(g,_){return new Ts(g,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ts extends ji{constructor(g){se(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return ts.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return ts.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const _=Ts.fromJSON(g);return se(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:_,providerId:I}=g;if(!_||!I)return null;try{return Ts._create(I,_)}catch{return null}}}let Mi=(()=>{class D extends vs{constructor(){super("twitter.com")}static credential(_,I){return Ge._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:I})}static credentialFromResult(_){return D.credentialFromTaggedObject(_)}static credentialFromError(_){return D.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:I,oauthTokenSecret:z}=_;if(!I||!z)return null;try{return D.credential(I,z)}catch{return null}}}return D.TWITTER_SIGN_IN_METHOD="twitter.com",D.PROVIDER_ID="twitter.com",D})();function As(D,g){return $o.apply(this,arguments)}function $o(){return($o=(0,v.Z)(function*(D,g){return lr(D,"POST","/v1/accounts:signUp",It(D,g))})).apply(this,arguments)}class Hr{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,_,I,z=!1){return(0,v.Z)(function*(){const te=yield In._fromIdTokenResponse(g,I,z),Ie=ns(I);return new Hr({user:te,providerId:Ie,_tokenResponse:I,operationType:_})})()}static _forOperation(g,_,I){return(0,v.Z)(function*(){yield g._updateTokensIfNecessary(I,!0);const z=ns(I);return new Hr({user:g,providerId:z,_tokenResponse:I,operationType:_})})()}}function ns(D){return D.providerId?D.providerId:"phoneNumber"in D?"phone":null}function ri(){return(ri=(0,v.Z)(function*(D){var g;const _=vr(D);if(yield _._initializationPromise,null!==(g=_.currentUser)&&void 0!==g&&g.isAnonymous)return new Hr({user:_.currentUser,providerId:null,operationType:"signIn"});const I=yield As(_,{returnSecureToken:!0}),z=yield Hr._fromIdTokenResponse(_,"signIn",I,!0);return yield _._updateCurrentUser(z.user),z})).apply(this,arguments)}class Ho extends x.ZR{constructor(g,_,I,z){var te;super(_.code,_.message),this.operationType=I,this.user=z,Object.setPrototypeOf(this,Ho.prototype),this.customData={appName:g.name,tenantId:null!==(te=g.tenantId)&&void 0!==te?te:void 0,_serverResponse:_.customData._serverResponse,operationType:I}}static _fromErrorAndOperation(g,_,I,z){return new Ho(g,_,I,z)}}function jr(D,g,_,I){return("reauthenticate"===g?_._getReauthenticationResolver(D):_._getIdTokenResponse(D)).catch(te=>{throw"auth/multi-factor-auth-required"===te.code?Ho._fromErrorAndOperation(D,te,g,I):te})}function Ci(D){return new Set(D.map(({providerId:g})=>g).filter(g=>!!g))}function ps(){return(ps=(0,v.Z)(function*(D,g){const _=(0,x.m9)(D);yield ii(!0,_,g);const{providerUserInfo:I}=yield Vn(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[g]}),z=Ci(I||[]);return _.providerData=_.providerData.filter(te=>z.has(te.providerId)),z.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_})).apply(this,arguments)}function ra(D,g){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,v.Z)(function*(D,g,_=!1){const I=yield jt(D,g._linkToIdToken(D.auth,yield D.getIdToken()),_);return Hr._forOperation(D,"link",I)})).apply(this,arguments)}function ii(D,g,_){return ia.apply(this,arguments)}function ia(){return(ia=(0,v.Z)(function*(D,g,_){yield En(g);const z=!1===D?"provider-already-linked":"no-such-provider";se(Ci(g.providerData).has(_)===D,g.auth,z)})).apply(this,arguments)}function jo(D,g){return sa.apply(this,arguments)}function sa(){return(sa=(0,v.Z)(function*(D,g,_=!1){const{auth:I}=D,z="reauthenticate";try{const te=yield jt(D,jr(I,z,g,D),_);se(te.idToken,I,"internal-error");const Ie=Nt(te.idToken);se(Ie,I,"internal-error");const{sub:gt}=Ie;return se(D.uid===gt,I,"user-mismatch"),Hr._forOperation(D,z,te)}catch(te){throw"auth/user-not-found"===te?.code&&ut(I,"user-mismatch"),te}})).apply(this,arguments)}function vi(D,g){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,v.Z)(function*(D,g,_=!1){const I="signIn",z=yield jr(D,I,g),te=yield Hr._fromIdTokenResponse(D,I,z);return _||(yield D._updateCurrentUser(te.user)),te})).apply(this,arguments)}function Qr(D,g){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,v.Z)(function*(D,g){return vi(vr(D),g)})).apply(this,arguments)}function Go(D,g){return fo.apply(this,arguments)}function fo(){return(fo=(0,v.Z)(function*(D,g){const _=(0,x.m9)(D);return yield ii(!1,_,g.providerId),ra(_,g)})).apply(this,arguments)}function Ao(D,g){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,v.Z)(function*(D,g){return jo((0,x.m9)(D),g)})).apply(this,arguments)}function oa(D,g){return zi.apply(this,arguments)}function zi(){return(zi=(0,v.Z)(function*(D,g){return lr(D,"POST","/v1/accounts:signInWithCustomToken",It(D,g))})).apply(this,arguments)}function to(){return(to=(0,v.Z)(function*(D,g){const _=vr(D),I=yield oa(_,{token:g,returnSecureToken:!0}),z=yield Hr._fromIdTokenResponse(_,"signIn",I);return yield _._updateCurrentUser(z.user),z})).apply(this,arguments)}class Et{constructor(g,_){this.factorId=g,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(g,_){return"phoneInfo"in _?tr._fromServerResponse(g,_):"totpInfo"in _?no._fromServerResponse(g,_):ut(g,"internal-error")}}class tr extends Et{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,_){return new tr(_)}}class no extends Et{constructor(g){super("totp",g)}static _fromServerResponse(g,_){return new no(_)}}function gs(D,g,_){var I;se((null===(I=_.url)||void 0===I?void 0:I.length)>0,D,"invalid-continue-uri"),se(typeof _.dynamicLinkDomain>"u"||_.dynamicLinkDomain.length>0,D,"invalid-dynamic-link-domain"),g.continueUrl=_.url,g.dynamicLinkDomain=_.dynamicLinkDomain,g.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(se(_.iOS.bundleId.length>0,D,"missing-ios-bundle-id"),g.iOSBundleId=_.iOS.bundleId),_.android&&(se(_.android.packageName.length>0,D,"missing-android-pkg-name"),g.androidInstallApp=_.android.installApp,g.androidMinimumVersionCode=_.android.minimumVersion,g.androidPackageName=_.android.packageName)}function aa(){return(aa=(0,v.Z)(function*(D,g,_){const I=(0,x.m9)(D),z={requestType:"PASSWORD_RESET",email:g};_&&gs(I,z,_),yield Cr(I,z)})).apply(this,arguments)}function Zi(){return(Zi=(0,v.Z)(function*(D,g,_){yield ti((0,x.m9)(D),{oobCode:g,newPassword:_})})).apply(this,arguments)}function bs(){return(bs=(0,v.Z)(function*(D,g){yield us((0,x.m9)(D),{oobCode:g})})).apply(this,arguments)}function Ya(D,g){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,v.Z)(function*(D,g){const _=(0,x.m9)(D),I=yield ti(_,{oobCode:g}),z=I.requestType;switch(se(z,_,"internal-error"),z){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":se(I.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":se(I.mfaInfo,_,"internal-error");default:se(I.email,_,"internal-error")}let te=null;return I.mfaInfo&&(te=Et._fromServerResponse(vr(_),I.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.newEmail:I.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.email:I.newEmail)||null,multiFactorInfo:te},operation:z}})).apply(this,arguments)}function V(){return(V=(0,v.Z)(function*(D,g){const{data:_}=yield Ya((0,x.m9)(D),g);return _.email})).apply(this,arguments)}function ee(){return(ee=(0,v.Z)(function*(D,g,_){const I=vr(D),z=yield As(I,{returnSecureToken:!0,email:g,password:_}),te=yield Hr._fromIdTokenResponse(I,"signIn",z);return yield I._updateCurrentUser(te.user),te})).apply(this,arguments)}function or(){return(or=(0,v.Z)(function*(D,g,_){const I=(0,x.m9)(D),z={requestType:"EMAIL_SIGNIN",email:g};se(_.handleCodeInApp,I,"argument-error"),_&&gs(I,z,_),yield Us(I,z)})).apply(this,arguments)}function go(){return(go=(0,v.Z)(function*(D,g,_){const I=(0,x.m9)(D),z=Hi.credentialWithLink(g,_||at());return se(z._tenantId===(I.tenantId||null),I,"tenant-id-mismatch"),Qr(I,z)})).apply(this,arguments)}function mo(D,g){return xs.apply(this,arguments)}function xs(){return(xs=(0,v.Z)(function*(D,g){return hn(D,"POST","/v1/accounts:createAuthUri",It(D,g))})).apply(this,arguments)}function No(){return(No=(0,v.Z)(function*(D,g){const I={identifier:g,continueUri:Qe()?at():"http://localhost"},{signinMethods:z}=yield mo((0,x.m9)(D),I);return z||[]})).apply(this,arguments)}function ya(){return(ya=(0,v.Z)(function*(D,g){const _=(0,x.m9)(D),z={requestType:"VERIFY_EMAIL",idToken:yield D.getIdToken()};g&&gs(_.auth,z,g);const{email:te}=yield Nr(_.auth,z);te!==D.email&&(yield D.reload())})).apply(this,arguments)}function $s(){return($s=(0,v.Z)(function*(D,g,_){const I=(0,x.m9)(D),te={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield D.getIdToken(),newEmail:g};_&&gs(I.auth,te,_);const{email:Ie}=yield ma(I.auth,te);Ie!==D.email&&(yield D.reload())})).apply(this,arguments)}function va(D,g){return ba.apply(this,arguments)}function ba(){return(ba=(0,v.Z)(function*(D,g){return hn(D,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function la(){return(la=(0,v.Z)(function*(D,{displayName:g,photoURL:_}){if(void 0===g&&void 0===_)return;const I=(0,x.m9)(D),te={idToken:yield I.getIdToken(),displayName:g,photoUrl:_,returnSecureToken:!0},Ie=yield jt(I,va(I.auth,te));I.displayName=Ie.displayName||null,I.photoURL=Ie.photoUrl||null;const gt=I.providerData.find(({providerId:Qt})=>"password"===Qt);gt&&(gt.displayName=I.displayName,gt.photoURL=I.photoURL),yield I._updateTokensIfNecessary(Ie)})).apply(this,arguments)}function Pa(D,g,_){return gi.apply(this,arguments)}function gi(){return(gi=(0,v.Z)(function*(D,g,_){const{auth:I}=D,te={idToken:yield D.getIdToken(),returnSecureToken:!0};g&&(te.email=g),_&&(te.password=_);const Ie=yield jt(D,ur(I,te));yield D._updateTokensIfNecessary(Ie,!0)})).apply(this,arguments)}class Lr{constructor(g,_,I={}){this.isNewUser=g,this.providerId=_,this.profile=I}}class ua extends Lr{constructor(g,_,I,z){super(g,_,I),this.username=z}}class Fa extends Lr{constructor(g,_){super(g,"facebook.com",_)}}class kl extends ua{constructor(g,_){super(g,"github.com",_,"string"==typeof _?.login?_?.login:null)}}class Ka extends Lr{constructor(g,_){super(g,"google.com",_)}}class Ja extends ua{constructor(g,_,I){super(g,"twitter.com",_,I)}}function Xl(D){const{user:g,_tokenResponse:_}=D;return g.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function ws(D){var g,_;if(!D)return null;const{providerId:I}=D,z=D.rawUserInfo?JSON.parse(D.rawUserInfo):{},te=D.isNewUser||"identitytoolkit#SignupNewUserResponse"===D.kind;if(!I&&D?.idToken){const Ie=null===(_=null===(g=Nt(D.idToken))||void 0===g?void 0:g.firebase)||void 0===_?void 0:_.sign_in_provider;if(Ie)return new Lr(te,"anonymous"!==Ie&&"custom"!==Ie?Ie:null)}if(!I)return null;switch(I){case"facebook.com":return new Fa(te,z);case"github.com":return new kl(te,z);case"google.com":return new Ka(te,z);case"twitter.com":return new Ja(te,z,D.screenName||null);case"custom":case"anonymous":return new Lr(te,null);default:return new Lr(te,I,z)}}(_)}class io{constructor(g,_,I){this.type=g,this.credential=_,this.auth=I}static _fromIdtoken(g,_){return new io("enroll",g,_)}static _fromMfaPendingCredential(g){return new io("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var _,I;if(g?.multiFactorSession){if(null!==(_=g.multiFactorSession)&&void 0!==_&&_.pendingCredential)return io._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null!==(I=g.multiFactorSession)&&void 0!==I&&I.idToken)return io._fromIdtoken(g.multiFactorSession.idToken)}return null}}class xr{constructor(g,_,I){this.session=g,this.hints=_,this.signInResolver=I}static _fromError(g,_){const I=vr(g),z=_.customData._serverResponse,te=(z.mfaInfo||[]).map(gt=>Et._fromServerResponse(I,gt));se(z.mfaPendingCredential,I,"internal-error");const Ie=io._fromMfaPendingCredential(z.mfaPendingCredential);return new xr(Ie,te,function(){var gt=(0,v.Z)(function*(Qt){const Cn=yield Qt._process(I,Ie);delete z.mfaInfo,delete z.mfaPendingCredential;const jn=Object.assign(Object.assign({},z),{idToken:Cn.idToken,refreshToken:Cn.refreshToken});switch(_.operationType){case"signIn":const Bn=yield Hr._fromIdTokenResponse(I,_.operationType,jn);return yield I._updateCurrentUser(Bn.user),Bn;case"reauthenticate":return se(_.user,I,"internal-error"),Hr._forOperation(_.user,_.operationType,jn);default:ut(I,"internal-error")}});return function(Qt){return gt.apply(this,arguments)}}())}resolveSignIn(g){var _=this;return(0,v.Z)(function*(){return _.signInResolver(g)})()}}function ks(D,g){return hn(D,"POST","/v2/accounts/mfaEnrollment:start",It(D,g))}class be{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(I=>Et._fromServerResponse(g.auth,I)))})}static _fromUser(g){return new be(g)}getSession(){var g=this;return(0,v.Z)(function*(){return io._fromIdtoken(yield g.user.getIdToken(),g.user.auth)})()}enroll(g,_){var I=this;return(0,v.Z)(function*(){const z=g,te=yield I.getSession(),Ie=yield jt(I.user,z._process(I.user.auth,te,_));return yield I.user._updateTokensIfNecessary(Ie),I.user.reload()})()}unenroll(g){var _=this;return(0,v.Z)(function*(){const I="string"==typeof g?g:g.uid,z=yield _.user.getIdToken();try{const te=yield jt(_.user,function X(D,g){return hn(D,"POST","/v2/accounts/mfaEnrollment:withdraw",It(D,g))}(_.user.auth,{idToken:z,mfaEnrollmentId:I}));_.enrolledFactors=_.enrolledFactors.filter(({uid:Ie})=>Ie!==I),yield _.user._updateTokensIfNecessary(te),yield _.user.reload()}catch(te){throw te}})()}}const ot=new WeakMap,Xt="__sak";class kn{constructor(g,_){this.storageRetriever=g,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(Xt,"1"),this.storage.removeItem(Xt),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(g,_){return this.storage.setItem(g,JSON.stringify(_)),Promise.resolve()}_get(g){const _=this.storage.getItem(g);return Promise.resolve(_?JSON.parse(_):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const mt=(()=>{class D extends kn{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,I)=>this.onStorageEvent(_,I),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Jn(){const D=(0,x.z$)();return qt(D)||ie(D)}()&&function Un(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Mn(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const I of Object.keys(this.listeners)){const z=this.storage.getItem(I),te=this.localCache[I];z!==te&&_(I,te,z)}}onStorageEvent(_,I=!1){if(!_.key)return void this.forAllChangedKeys((gt,Qt,Cn)=>{this.notifyListeners(gt,Cn)});const z=_.key;if(I?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const gt=this.storage.getItem(z);if(_.newValue!==gt)null!==_.newValue?this.storage.setItem(z,_.newValue):this.storage.removeItem(z);else if(this.localCache[z]===_.newValue&&!I)return}const te=()=>{const gt=this.storage.getItem(z);!I&&this.localCache[z]===gt||this.notifyListeners(z,gt)},Ie=this.storage.getItem(z);!function Gt(){return(0,x.w1)()&&10===document.documentMode}()||Ie===_.newValue||_.newValue===_.oldValue?te():setTimeout(te,10)}notifyListeners(_,I){this.localCache[_]=I;const z=this.listeners[_];if(z)for(const te of Array.from(z))te(I&&JSON.parse(I))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,I,z)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:I,newValue:z}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,I){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(I)}_removeListener(_,I){this.listeners[_]&&(this.listeners[_].delete(I),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,I){var z=()=>super._set,te=this;return(0,v.Z)(function*(){yield z().call(te,_,I),te.localCache[_]=JSON.stringify(I)})()}_get(_){var I=()=>super._get,z=this;return(0,v.Z)(function*(){const te=yield I().call(z,_);return z.localCache[_]=JSON.stringify(te),te})()}_remove(_){var I=()=>super._remove,z=this;return(0,v.Z)(function*(){yield I().call(z,_),delete z.localCache[_]})()}}return D.type="LOCAL",D})(),Kr=(()=>{class D extends kn{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,I){}_removeListener(_,I){}}return D.type="SESSION",D})();let dn=(()=>{class D{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const I=this.receivers.find(te=>te.isListeningto(_));if(I)return I;const z=new D(_);return this.receivers.push(z),z}isListeningto(_){return this.eventTarget===_}handleEvent(_){var I=this;return(0,v.Z)(function*(){const z=_,{eventId:te,eventType:Ie,data:gt}=z.data,Qt=I.handlersMap[Ie];if(!Qt?.size)return;z.ports[0].postMessage({status:"ack",eventId:te,eventType:Ie});const Cn=Array.from(Qt).map(function(){var Bn=(0,v.Z)(function*(Oi){return Oi(z.origin,gt)});return function(Oi){return Bn.apply(this,arguments)}}()),jn=yield function Rs(D){return Promise.all(D.map(function(){var g=(0,v.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(I){return{fulfilled:!1,reason:I}}});return function(_){return g.apply(this,arguments)}}()))}(Cn);z.ports[0].postMessage({status:"done",eventId:te,eventType:Ie,response:jn})})()}_subscribe(_,I){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(I)}_unsubscribe(_,I){this.handlersMap[_]&&I&&this.handlersMap[_].delete(I),(!I||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return D.receivers=[],D})();function nn(D="",g=10){let _="";for(let I=0;I<g;I++)_+=Math.floor(10*Math.random());return D+_}class Qa{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,_,I=50){var z=this;return(0,v.Z)(function*(){const te=typeof MessageChannel<"u"?new MessageChannel:null;if(!te)throw new Error("connection_unavailable");let Ie,gt;return new Promise((Qt,Cn)=>{const jn=nn("",20);te.port1.start();const Bn=setTimeout(()=>{Cn(new Error("unsupported_event"))},I);gt={messageChannel:te,onMessage(Oi){const Ko=Oi;if(Ko.data.eventId===jn)switch(Ko.data.status){case"ack":clearTimeout(Bn),Ie=setTimeout(()=>{Cn(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ie),Qt(Ko.data.response);break;default:clearTimeout(Bn),clearTimeout(Ie),Cn(new Error("invalid_response"))}}},z.handlers.add(gt),te.port1.addEventListener("message",gt.onMessage),z.target.postMessage({eventType:g,eventId:jn,data:_},[te.port2])}).finally(()=>{gt&&z.removeMessageHandler(gt)})})()}}function Vt(){return window}function St(){return typeof Vt().WorkerGlobalScope<"u"&&"function"==typeof Vt().importScripts}function ca(){return(ca=(0,v.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const eu="firebaseLocalStorageDb",Va="firebaseLocalStorage",wa="fbase_key";class oi{constructor(g){this.request=g}toPromise(){return new Promise((g,_)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function da(D,g){return D.transaction([Va],g?"readwrite":"readonly").objectStore(Va)}function ha(){const D=indexedDB.open(eu,1);return new Promise((g,_)=>{D.addEventListener("error",()=>{_(D.error)}),D.addEventListener("upgradeneeded",()=>{const I=D.result;try{I.createObjectStore(Va,{keyPath:wa})}catch(z){_(z)}}),D.addEventListener("success",(0,v.Z)(function*(){const I=D.result;I.objectStoreNames.contains(Va)?g(I):(I.close(),yield function Ol(){const D=indexedDB.deleteDatabase(eu);return new oi(D).toPromise()}(),g(yield ha()))}))})}function zn(D,g,_){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,v.Z)(function*(D,g,_){const I=da(D,!0).put({[wa]:g,value:_});return new oi(I).toPromise()})).apply(this,arguments)}function Wr(){return(Wr=(0,v.Z)(function*(D,g){const _=da(D,!1).get(g),I=yield new oi(_).toPromise();return void 0===I?null:I.value})).apply(this,arguments)}function xn(D,g){const _=da(D,!0).delete(g);return new oi(_).toPromise()}const Ir=(()=>{class D{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,v.Z)(function*(){return _.db||(_.db=yield ha()),_.db})()}_withRetries(_){var I=this;return(0,v.Z)(function*(){let z=0;for(;;)try{const te=yield I._openDb();return yield _(te)}catch(te){if(z++>3)throw te;I.db&&(I.db.close(),I.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,v.Z)(function*(){return St()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,v.Z)(function*(){_.receiver=dn._getInstance(function Rl(){return St()?self:null}()),_.receiver._subscribe("keyChanged",function(){var I=(0,v.Z)(function*(z,te){return{keyProcessed:(yield _._poll()).includes(te.key)}});return function(z,te){return I.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var I=(0,v.Z)(function*(z,te){return["keyChanged"]});return function(z,te){return I.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,v.Z)(function*(){var I,z;if(_.activeServiceWorker=yield function Ei(){return ca.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new Qa(_.activeServiceWorker);const te=yield _.sender._send("ping",{},800);!te||(null===(I=te[0])||void 0===I?void 0:I.fulfilled)&&(null===(z=te[0])||void 0===z?void 0:z.value.includes("keyChanged"))&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var I=this;return(0,v.Z)(function*(){if(I.sender&&I.activeServiceWorker&&function Hc(){var D;return(null===(D=navigator?.serviceWorker)||void 0===D?void 0:D.controller)||null}()===I.activeServiceWorker)try{yield I.sender._send("keyChanged",{key:_},I.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,v.Z)(function*(){try{if(!indexedDB)return!1;const _=yield ha();return yield zn(_,Xt,"1"),yield xn(_,Xt),!0}catch{}return!1})()}_withPendingWrite(_){var I=this;return(0,v.Z)(function*(){I.pendingWrites++;try{yield _()}finally{I.pendingWrites--}})()}_set(_,I){var z=this;return(0,v.Z)(function*(){return z._withPendingWrite((0,v.Z)(function*(){return yield z._withRetries(te=>zn(te,_,I)),z.localCache[_]=I,z.notifyServiceWorker(_)}))})()}_get(_){var I=this;return(0,v.Z)(function*(){const z=yield I._withRetries(te=>function Pl(D,g){return Wr.apply(this,arguments)}(te,_));return I.localCache[_]=z,z})()}_remove(_){var I=this;return(0,v.Z)(function*(){return I._withPendingWrite((0,v.Z)(function*(){return yield I._withRetries(z=>xn(z,_)),delete I.localCache[_],I.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,v.Z)(function*(){const I=yield _._withRetries(Ie=>{const gt=da(Ie,!1).getAll();return new oi(gt).toPromise()});if(!I)return[];if(0!==_.pendingWrites)return[];const z=[],te=new Set;for(const{fbase_key:Ie,value:gt}of I)te.add(Ie),JSON.stringify(_.localCache[Ie])!==JSON.stringify(gt)&&(_.notifyListeners(Ie,gt),z.push(Ie));for(const Ie of Object.keys(_.localCache))_.localCache[Ie]&&!te.has(Ie)&&(_.notifyListeners(Ie,null),z.push(Ie));return z})()}notifyListeners(_,I){this.localCache[_]=I;const z=this.listeners[_];if(z)for(const te of Array.from(z))te(I)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,v.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,I){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(I)}_removeListener(_,I){this.listeners[_]&&(this.listeners[_].delete(I),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return D.type="LOCAL",D})();function en(D,g){return hn(D,"POST","/v2/accounts/mfaSignIn:start",It(D,g))}function so(){return(so=(0,v.Z)(function*(D){return(yield hn(D,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function pl(D){return new Promise((g,_)=>{const I=document.createElement("script");I.setAttribute("src",D),I.onload=g,I.onerror=z=>{const te=$e("internal-error");te.customData=z,_(te)},I.type="text/javascript",I.charset="UTF-8",function nu(){var D,g;return null!==(g=null===(D=document.getElementsByTagName("head"))||void 0===D?void 0:D[0])&&void 0!==g?g:document}().appendChild(I)})}function dr(D){return`__${D}${Math.floor(1e6*Math.random())}`}const Vr=1e12;class Ua{constructor(g){this.auth=g,this.counter=Vr,this._widgets=new Map}render(g,_){const I=this.counter;return this._widgets.set(I,new Su(g,this.auth.name,_||{})),this.counter++,I}reset(g){var _;const I=g||Vr;null===(_=this._widgets.get(I))||void 0===_||_.delete(),this._widgets.delete(I)}getResponse(g){var _;return(null===(_=this._widgets.get(g||Vr))||void 0===_?void 0:_.getResponse())||""}execute(g){var _=this;return(0,v.Z)(function*(){var I;return null===(I=_._widgets.get(g||Vr))||void 0===I||I.execute(),""})()}}class Su{constructor(g,_,I){this.params=I,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const z="string"==typeof g?document.getElementById(g):g;se(z,"argument-error",{appName:_}),this.container=z,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Qu(D){const g=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let I=0;I<D;I++)g.push(_.charAt(Math.floor(Math.random()*_.length)));return g.join("")}(50);const{callback:g,"expired-callback":_}=this.params;if(g)try{g(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const js=dr("rcb"),yo=new Jt(3e4,6e4);class ru{constructor(){var g;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(g=Vt().grecaptcha)||void 0===g||!g.render)}load(g,_=""){return se(function Jr(D){return D.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(D)}(_),g,"argument-error"),this.shouldResolveImmediately(_)?Promise.resolve(Vt().grecaptcha):new Promise((I,z)=>{const te=Vt().setTimeout(()=>{z($e(g,"network-request-failed"))},yo.get());Vt()[js]=()=>{Vt().clearTimeout(te),delete Vt()[js];const gt=Vt().grecaptcha;if(!gt)return void z($e(g,"internal-error"));const Qt=gt.render;gt.render=(Cn,jn)=>{const Bn=Qt(Cn,jn);return this.counter++,Bn},this.hostLanguage=_,I(gt)},pl(`https://www.google.com/recaptcha/api.js??${(0,x.xO)({onload:js,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(te),z($e(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){var _;return!(null===(_=Vt().grecaptcha)||void 0===_||!_.render)&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class qi{load(g){return(0,v.Z)(function*(){return new Ua(g)})()}clearedOneInstance(){}}const Zo="recaptcha",Ba={theme:"light",type:"image"};class jc{constructor(g,_=Object.assign({},Ba),I){this.parameters=_,this.type=Zo,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=vr(I),this.isInvisible="invisible"===this.parameters.size,se(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const z="string"==typeof g?document.getElementById(g):g;se(z,this.auth,"argument-error"),this.container=z,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new qi:new ru,this.validateStartingState()}verify(){var g=this;return(0,v.Z)(function*(){g.assertNotDestroyed();const _=yield g.render(),I=g.getAssertedRecaptcha();return I.getResponse(_)||new Promise(te=>{const Ie=gt=>{!gt||(g.tokenChangeListeners.delete(Ie),te(gt))};g.tokenChangeListeners.add(Ie),g.isInvisible&&I.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){se(!this.parameters.sitekey,this.auth,"argument-error"),se(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),se(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return _=>{if(this.tokenChangeListeners.forEach(I=>I(_)),"function"==typeof g)g(_);else if("string"==typeof g){const I=Vt()[g];"function"==typeof I&&I(_)}}}assertNotDestroyed(){se(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,v.Z)(function*(){if(yield g.init(),!g.widgetId){let _=g.container;if(!g.isInvisible){const I=document.createElement("div");_.appendChild(I),_=I}g.widgetId=g.getAssertedRecaptcha().render(_,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,v.Z)(function*(){se(Qe()&&!St(),g.auth,"internal-error"),yield function Ni(){let D=null;return new Promise(g=>{"complete"!==document.readyState?(D=()=>g(),window.addEventListener("load",D)):g()}).catch(g=>{throw D&&window.removeEventListener("load",D),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const _=yield function Os(D){return so.apply(this,arguments)}(g.auth);se(_,g.auth,"internal-error"),g.parameters.sitekey=_})()}getAssertedRecaptcha(){return se(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Gs{constructor(g,_){this.verificationId=g,this.onConfirmation=_}confirm(g){const _=$i._fromVerification(this.verificationId,g);return this.onConfirmation(_)}}function Da(){return(Da=(0,v.Z)(function*(D,g,_){const I=vr(D),z=yield E(I,g,(0,x.m9)(_));return new Gs(z,te=>Qr(I,te))})).apply(this,arguments)}function Ps(){return(Ps=(0,v.Z)(function*(D,g,_){const I=(0,x.m9)(D);yield ii(!1,I,"phone");const z=yield E(I.auth,g,(0,x.m9)(_));return new Gs(z,te=>Go(I,te))})).apply(this,arguments)}function A(){return(A=(0,v.Z)(function*(D,g,_){const I=(0,x.m9)(D),z=yield E(I.auth,g,(0,x.m9)(_));return new Gs(z,te=>Ao(I,te))})).apply(this,arguments)}function E(D,g,_){return R.apply(this,arguments)}function R(){return(R=(0,v.Z)(function*(D,g,_){var I;const z=yield _.verify();try{let te;if(se("string"==typeof z,D,"argument-error"),se(_.type===Zo,D,"argument-error"),te="string"==typeof g?{phoneNumber:g}:g,"session"in te){const Ie=te.session;if("phoneNumber"in te)return se("enroll"===Ie.type,D,"internal-error"),(yield ks(D,{idToken:Ie.credential,phoneEnrollmentInfo:{phoneNumber:te.phoneNumber,recaptchaToken:z}})).phoneSessionInfo.sessionInfo;{se("signin"===Ie.type,D,"internal-error");const gt=(null===(I=te.multiFactorHint)||void 0===I?void 0:I.uid)||te.multiFactorUid;return se(gt,D,"missing-multi-factor-info"),(yield en(D,{mfaPendingCredential:Ie.credential,mfaEnrollmentId:gt,phoneSignInInfo:{recaptchaToken:z}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Ie}=yield yt(D,{phoneNumber:te.phoneNumber,recaptchaToken:z});return Ie}}finally{_._reset()}})).apply(this,arguments)}function Q(){return(Q=(0,v.Z)(function*(D,g){yield ra((0,x.m9)(D),g)})).apply(this,arguments)}let le=(()=>{class D{constructor(_){this.providerId=D.PROVIDER_ID,this.auth=vr(_)}verifyPhoneNumber(_,I){return E(this.auth,_,(0,x.m9)(I))}static credential(_,I){return $i._fromVerification(_,I)}static credentialFromResult(_){return D.credentialFromTaggedObject(_)}static credentialFromError(_){return D.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:I,temporaryProof:z}=_;return I&&z?$i._fromTokenResponse(I,z):null}}return D.PROVIDER_ID="phone",D.PHONE_SIGN_IN_METHOD="phone",D})();function ye(D,g){return g?kt(g):(se(D._popupRedirectResolver,D,"argument-error"),D._popupRedirectResolver)}class ft extends di{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return Rr(g,this._buildIdpRequest())}_linkToIdToken(g,_){return Rr(g,this._buildIdpRequest(_))}_getReauthenticationResolver(g){return Rr(g,this._buildIdpRequest())}_buildIdpRequest(g){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(_.idToken=g),_}}function Bt(D){return vi(D.auth,new ft(D),D.bypassAuthState)}function Pn(D){const{auth:g,user:_}=D;return se(_,g,"internal-error"),jo(_,new ft(D),D.bypassAuthState)}function _n(D){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,v.Z)(function*(D){const{auth:g,user:_}=D;return se(_,g,"internal-error"),ra(_,new ft(D),D.bypassAuthState)})).apply(this,arguments)}class xi{constructor(g,_,I,z,te=!1){this.auth=g,this.resolver=I,this.user=z,this.bypassAuthState=te,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var g=this;return new Promise(function(){var _=(0,v.Z)(function*(I,z){g.pendingPromise={resolve:I,reject:z};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(te){g.reject(te)}});return function(I,z){return _.apply(this,arguments)}}())}onAuthEvent(g){var _=this;return(0,v.Z)(function*(){const{urlResponse:I,sessionId:z,postBody:te,tenantId:Ie,error:gt,type:Qt}=g;if(gt)return void _.reject(gt);const Cn={auth:_.auth,requestUri:I,sessionId:z,tenantId:Ie||void 0,postBody:te||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(Qt)(Cn))}catch(jn){_.reject(jn)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return Bt;case"linkViaPopup":case"linkViaRedirect":return _n;case"reauthViaPopup":case"reauthViaRedirect":return Pn;default:ut(this.auth,"internal-error")}}resolve(g){tt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){tt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Oo=new Jt(2e3,1e4);function Fs(){return(Fs=(0,v.Z)(function*(D,g,_){const I=vr(D);Ft(D,g,ji);const z=ye(I,_);return new _l(I,"signInViaPopup",g,z).executeNotNull()})).apply(this,arguments)}function tl(){return(tl=(0,v.Z)(function*(D,g,_){const I=(0,x.m9)(D);Ft(I.auth,g,ji);const z=ye(I.auth,_);return new _l(I.auth,"reauthViaPopup",g,z,I).executeNotNull()})).apply(this,arguments)}function Ea(){return(Ea=(0,v.Z)(function*(D,g,_){const I=(0,x.m9)(D);Ft(I.auth,g,ji);const z=ye(I.auth,_);return new _l(I.auth,"linkViaPopup",g,z,I).executeNotNull()})).apply(this,arguments)}let _l=(()=>{class D extends xi{constructor(_,I,z,te,Ie){super(_,I,te,Ie),this.provider=z,this.authWindow=null,this.pollId=null,D.currentPopupAction&&D.currentPopupAction.cancel(),D.currentPopupAction=this}executeNotNull(){var _=this;return(0,v.Z)(function*(){const I=yield _.execute();return se(I,_.auth,"internal-error"),I})()}onExecution(){var _=this;return(0,v.Z)(function*(){tt(1===_.filter.length,"Popup operations only handle one event");const I=nn();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],I),_.authWindow.associatedEvent=I,_.resolver._originValidation(_.auth).catch(z=>{_.reject(z)}),_.resolver._isIframeWebStorageSupported(_.auth,z=>{z||_.reject($e(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject($e(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,D.currentPopupAction=null}pollUserCancellation(){const _=()=>{var I,z;this.pollId=null!==(z=null===(I=this.authWindow)||void 0===I?void 0:I.window)&&void 0!==z&&z.closed?window.setTimeout(()=>{this.pollId=null,this.reject($e(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(_,Oo.get())};_()}}return D.currentPopupAction=null,D})();const iu=new Map;class yl extends xi{constructor(g,_,I=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,I),this.eventId=null}execute(){var g=()=>super.execute,_=this;return(0,v.Z)(function*(){let I=iu.get(_.auth._key());if(!I){try{const te=(yield function Xu(D,g){return Po.apply(this,arguments)}(_.resolver,_.auth))?yield g().call(_):null;I=()=>Promise.resolve(te)}catch(z){I=()=>Promise.reject(z)}iu.set(_.auth._key(),I)}return _.bypassAuthState||iu.set(_.auth._key(),()=>Promise.resolve(null)),I()})()}onAuthEvent(g){var _=()=>super.onAuthEvent,I=this;return(0,v.Z)(function*(){if("signInViaRedirect"===g.type)return _().call(I,g);if("unknown"!==g.type){if(g.eventId){const z=yield I.auth._redirectUserForId(g.eventId);if(z)return I.user=z,_().call(I,g);I.resolve(null)}}else I.resolve(null)})()}onExecution(){return(0,v.Z)(function*(){})()}cleanUp(){}}function Po(){return(Po=(0,v.Z)(function*(D,g){const _=Au(g),I=ss(D);if(!(yield I._isAvailable()))return!1;const z="true"===(yield I._get(_));return yield I._remove(_),z})).apply(this,arguments)}function vo(D,g){return ec.apply(this,arguments)}function ec(){return(ec=(0,v.Z)(function*(D,g){return ss(D)._set(Au(g),"true")})).apply(this,arguments)}function Ul(D,g){iu.set(D._key(),g)}function ss(D){return kt(D._redirectPersistence)}function Au(D){return fe("pendingRedirect",D.config.apiKey,D.name)}function Y(){return(Y=(0,v.Z)(function*(D,g,_){const I=vr(D);Ft(D,g,ji),yield I._initializationPromise;const z=ye(I,_);return yield vo(z,I),z._openRedirect(I,g,"signInViaRedirect")})).apply(this,arguments)}function Le(){return(Le=(0,v.Z)(function*(D,g,_){const I=(0,x.m9)(D);Ft(I.auth,g,ji),yield I.auth._initializationPromise;const z=ye(I.auth,_);yield vo(z,I.auth);const te=yield mi(I);return z._openRedirect(I.auth,g,"reauthViaRedirect",te)})).apply(this,arguments)}function bn(){return(bn=(0,v.Z)(function*(D,g,_){const I=(0,x.m9)(D);Ft(I.auth,g,ji),yield I.auth._initializationPromise;const z=ye(I.auth,_);yield ii(!1,I,g.providerId),yield vo(z,I.auth);const te=yield mi(I);return z._openRedirect(I.auth,g,"linkViaRedirect",te)})).apply(this,arguments)}function pr(){return(pr=(0,v.Z)(function*(D,g){return yield vr(D)._initializationPromise,Dn(D,g,!1)})).apply(this,arguments)}function Dn(D,g){return oo.apply(this,arguments)}function oo(){return(oo=(0,v.Z)(function*(D,g,_=!1){const I=vr(D),z=ye(I,g),Ie=yield new yl(I,z,_).execute();return Ie&&!_&&(delete Ie.user._redirectEventId,yield I._persistUserIfCurrent(Ie.user),yield I._setRedirectUser(null,g)),Ie})).apply(this,arguments)}function mi(D){return ci.apply(this,arguments)}function ci(){return(ci=(0,v.Z)(function*(D){const g=nn(`${D.uid}:::`);return D._redirectEventId=g,yield D.auth._setRedirectUser(D),yield D.auth._persistUserIfCurrent(D),g})).apply(this,arguments)}class Wo{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let _=!1;return this.consumers.forEach(I=>{this.isEventForConsumer(g,I)&&(_=!0,this.sendToConsumer(g,I),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function tc(D){switch(D.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qo(D);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=g,_=!0)),_}sendToConsumer(g,_){var I;if(g.error&&!qo(g)){const z=(null===(I=g.error.code)||void 0===I?void 0:I.split("auth/")[1])||"internal-error";_.onError($e(this.auth,z))}else _.onAuthEvent(g)}isEventForConsumer(g,_){const I=null===_.eventId||!!g.eventId&&g.eventId===_.eventId;return _.filter.includes(g.type)&&I}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Fo(g))}saveEventToCache(g){this.cachedEventUids.add(Fo(g)),this.lastProcessedEventTime=Date.now()}}function Fo(D){return[D.type,D.eventId,D.sessionId,D.tenantId].filter(g=>g).join("-")}function qo({type:D,error:g}){return"unknown"===D&&"auth/no-auth-event"===g?.code}function vl(D){return bl.apply(this,arguments)}function bl(){return(bl=(0,v.Z)(function*(D,g={}){return hn(D,"GET","/v1/projects",g)})).apply(this,arguments)}const Gc=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,su=/^https?/;function rl(){return(rl=(0,v.Z)(function*(D){if(D.config.emulator)return;const{authorizedDomains:g}=yield vl(D);for(const _ of g)try{if(wl(_))return}catch{}ut(D,"unauthorized-domain")})).apply(this,arguments)}function wl(D){const g=at(),{protocol:_,hostname:I}=new URL(g);if(D.startsWith("chrome-extension://")){const Ie=new URL(D);return""===Ie.hostname&&""===I?"chrome-extension:"===_&&D.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===_&&Ie.hostname===I}if(!su.test(_))return!1;if(Gc.test(D))return I===D;const z=D.replace(/\./g,"\\.");return new RegExp("^(.+\\."+z+"|"+z+")$","i").test(I)}const Rh=new Jt(3e4,6e4);function Bl(){const D=Vt().___jsl;if(D?.H)for(const g of Object.keys(D.H))if(D.H[g].r=D.H[g].r||[],D.H[g].L=D.H[g].L||[],D.H[g].r=[...D.H[g].L],D.CP)for(let _=0;_<D.CP.length;_++)D.CP[_]=null}let $a=null;function Ph(D){return $a=$a||function Oh(D){return new Promise((g,_)=>{var I,z,te;function Ie(){Bl(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{Bl(),_($e(D,"network-request-failed"))},timeout:Rh.get()})}if(null!==(z=null===(I=Vt().gapi)||void 0===I?void 0:I.iframes)&&void 0!==z&&z.Iframe)g(gapi.iframes.getContext());else{if(null===(te=Vt().gapi)||void 0===te||!te.load){const gt=dr("iframefcb");return Vt()[gt]=()=>{gapi.load?Ie():_($e(D,"network-request-failed"))},pl(`https://apis.google.com/js/api.js?onload=${gt}`).catch(Qt=>_(Qt))}Ie()}}).catch(g=>{throw $a=null,g})}(D),$a}const nc=new Jt(5e3,15e3),Nd={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Zc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Wc(D){const g=D.config;se(g.authDomain,D,"auth-domain-config-required");const _=g.emulator?Wt(g,"emulator/auth/iframe"):`https://${D.config.authDomain}/__/auth/iframe`,I={apiKey:g.apiKey,appName:D.name,v:l.SDK_VERSION},z=Zc.get(D.config.apiHost);z&&(I.eid=z);const te=D._getFrameworks();return te.length&&(I.fw=te.join(",")),`${_}?${(0,x.xO)(I).slice(1)}`}function Lh(){return Lh=(0,v.Z)(function*(D){const g=yield Ph(D),_=Vt().gapi;return se(_,D,"internal-error"),g.open({where:document.body,url:Wc(D),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Nd,dontclear:!0},I=>new Promise(function(){var z=(0,v.Z)(function*(te,Ie){yield I.restyle({setHideOnLeave:!1});const gt=$e(D,"network-request-failed"),Qt=Vt().setTimeout(()=>{Ie(gt)},nc.get());function Cn(){Vt().clearTimeout(Qt),te(I)}I.ping(Cn).then(Cn,()=>{Ie(gt)})});return function(te,Ie){return z.apply(this,arguments)}}()))}),Lh.apply(this,arguments)}const jf={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ha{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Mu(D,g,_,I,z,te){se(D.config.authDomain,D,"auth-domain-config-required"),se(D.config.apiKey,D,"invalid-api-key");const Ie={apiKey:D.config.apiKey,appName:D.name,authType:_,redirectUrl:I,v:l.SDK_VERSION,eventId:z};if(g instanceof ji){g.setDefaultLanguage(D.languageCode),Ie.providerId=g.providerId||"",(0,x.xb)(g.getCustomParameters())||(Ie.customParameters=JSON.stringify(g.getCustomParameters()));for(const[Qt,Cn]of Object.entries(te||{}))Ie[Qt]=Cn}if(g instanceof vs){const Qt=g.getScopes().filter(Cn=>""!==Cn);Qt.length>0&&(Ie.scopes=Qt.join(","))}D.tenantId&&(Ie.tid=D.tenantId);const gt=Ie;for(const Qt of Object.keys(gt))void 0===gt[Qt]&&delete gt[Qt];return`${function Or({config:D}){return D.emulator?Wt(D,"emulator/auth/handler"):`https://${D.authDomain}/__/auth/handler`}(D)}?${(0,x.xO)(gt).slice(1)}`}const Xr="webStorageSupport";class qc extends class Rd{constructor(g){this.factorId=g}_process(g,_,I){switch(_.type){case"enroll":return this._finalizeEnroll(g,_.credential,I);case"signin":return this._finalizeSignIn(g,_.credential);default:return et("unexpected MultiFactorSessionType")}}}{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new qc(g)}_finalizeEnroll(g,_,I){return function k(D,g){return hn(D,"POST","/v2/accounts/mfaEnrollment:finalize",It(D,g))}(g,{idToken:_,displayName:I,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,_){return function Ds(D,g){return hn(D,"POST","/v2/accounts/mfaSignIn:finalize",It(D,g))}(g,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Od=(()=>{class D{constructor(){}static assertion(_){return qc._fromCredential(_)}}return D.FACTOR_ID="phone",D})();var Kc="@firebase/auth";class Jc{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var _=this;return(0,v.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const _=this.auth.onIdTokenChanged(I=>{g(I?.stsTokenManager.accessToken||null)});this.internalListeners.set(g,_),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const _=this.internalListeners.get(g);!_||(this.internalListeners.delete(g),_(),this.updateProactiveRefresh())}assertAuthConfigured(){se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Ia(){return window}function ed(){return(ed=(0,v.Z)(function*(D,g,_){var I;const{BuildInfo:z}=Ia();tt(g.sessionId,"AuthEvent did not contain a session ID");const te=yield $l(g.sessionId),Ie={};return ie()?Ie.ibi=z.packageName:fr()?Ie.apn=z.packageName:ut(D,"operation-not-supported-in-this-environment"),z.displayName&&(Ie.appDisplayName=z.displayName),Ie.sessionId=te,Mu(D,_,g.type,void 0,null!==(I=g.eventId)&&void 0!==I?I:void 0,Ie)})).apply(this,arguments)}function fa(){return(fa=(0,v.Z)(function*(D){const{BuildInfo:g}=Ia(),_={};ie()?_.iosBundleId=g.packageName:fr()?_.androidPackageName=g.packageName:ut(D,"operation-not-supported-in-this-environment"),yield vl(D,_)})).apply(this,arguments)}function ic(){return(ic=(0,v.Z)(function*(D,g,_){const{cordova:I}=Ia();let z=()=>{};try{yield new Promise((te,Ie)=>{let gt=null;function Qt(){var Bn;te();const Oi=null===(Bn=I.plugins.browsertab)||void 0===Bn?void 0:Bn.close;"function"==typeof Oi&&Oi(),"function"==typeof _?.close&&_.close()}function Cn(){gt||(gt=window.setTimeout(()=>{Ie($e(D,"redirect-cancelled-by-user"))},2e3))}function jn(){"visible"===document?.visibilityState&&Cn()}g.addPassiveListener(Qt),document.addEventListener("resume",Cn,!1),fr()&&document.addEventListener("visibilitychange",jn,!1),z=()=>{g.removePassiveListener(Qt),document.removeEventListener("resume",Cn,!1),document.removeEventListener("visibilitychange",jn,!1),gt&&window.clearTimeout(gt)}})}finally{z()}})).apply(this,arguments)}function $l(D){return sc.apply(this,arguments)}function sc(){return(sc=(0,v.Z)(function*(D){const g=lu(D),_=yield crypto.subtle.digest("SHA-256",g);return Array.from(new Uint8Array(_)).map(z=>z.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function lu(D){if(tt(/[0-9a-zA-Z]+/.test(D),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(D);const g=new ArrayBuffer(D.length),_=new Uint8Array(g);for(let I=0;I<D.length;I++)_[I]=D.charCodeAt(I);return _}(0,x.Pz)("authIdTokenMaxAge"),function xu(D){(0,l._registerComponent)(new he.wA("auth",(g,{options:_})=>{const I=g.getProvider("app").getImmediate(),z=g.getProvider("heartbeat"),{apiKey:te,authDomain:Ie}=I.options;return((gt,Qt)=>{se(te&&!te.includes(":"),"invalid-api-key",{appName:gt.name}),se(!Ie?.includes(":"),"argument-error",{appName:gt.name});const Cn={apiKey:te,authDomain:Ie,clientPlatform:D,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Br(D)},jn=new $n(gt,Qt,Cn);return function Ze(D,g){const _=g?.persistence||[],I=(Array.isArray(_)?_:[_]).map(kt);g?.errorMap&&D._updateErrorMap(g.errorMap),D._initializeWithPersistence(I,g?.popupRedirectResolver)}(jn,_),jn})(I,z)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,_,I)=>{g.getProvider("auth-internal").initialize()})),(0,l._registerComponent)(new he.wA("auth-internal",g=>{const _=vr(g.getProvider("auth").getImmediate());return new Jc(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,l.registerVersion)(Kc,"0.21.6",function wo(D){switch(D){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(D)),(0,l.registerVersion)(Kc,"0.21.6","esm2017")}("Browser");class oc extends Wo{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(g=>{this.resolveInialized=g})}addPassiveListener(g){this.passiveListeners.add(g)}removePassiveListener(g){this.passiveListeners.delete(g)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(g){return this.resolveInialized(),this.passiveListeners.forEach(_=>_(g)),super.onEvent(g)}initialized(){var g=this;return(0,v.Z)(function*(){yield g.initPromise})()}}function Hl(D){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,v.Z)(function*(D){const g=yield Dl()._get(ki(D));return g&&(yield Dl()._remove(ki(D))),g})).apply(this,arguments)}function lc(){const D=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let _=0;_<20;_++){const I=Math.floor(Math.random()*g.length);D.push(g.charAt(I))}return D.join("")}function Dl(){return kt(mt)}function ki(D){return fe("authEvent",D.config.apiKey,D.name)}function os(D){if(!D?.includes("?"))return{};const[g,..._]=D.split("?");return(0,x.zd)(_.join("?"))}function Zs(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:$e("no-auth-event")}}function rr(){var D;return(null===(D=self?.location)||void 0===D?void 0:D.protocol)||null}function ja(D=(0,x.z$)()){return!("file:"!==rr()&&"ionic:"!==rr()&&"capacitor:"!==rr()||!D.toLowerCase().match(/iphone|ipad|ipod|android/))}function uc(){try{const D=self.localStorage,g=nn();if(D)return D.setItem(g,"1"),D.removeItem(g),!function _s(D=(0,x.z$)()){return function Bd(){return(0,x.w1)()&&11===document?.documentMode}()||function Pu(D=(0,x.z$)()){return/Edge\/\d+/.test(D)}(D)}()||(0,x.hl)()}catch{return $d()&&(0,x.hl)()}return!1}function $d(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function uu(){return(function zh(){return"http:"===rr()||"https:"===rr()}()||(0,x.ru)()||ja())&&!function Zh(){return(0,x.b$)()||(0,x.UG)()}()&&uc()&&!$d()}function zl(){return ja()&&typeof document<"u"}function cu(){return(cu=(0,v.Z)(function*(){return!!zl()&&new Promise(D=>{const g=setTimeout(()=>{D(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(g),D(!0)})})})).apply(this,arguments)}const Ls={LOCAL:"local",NONE:"none",SESSION:"session"},Yo=se,cc="persistence";function al(D){return dc.apply(this,arguments)}function dc(){return(dc=(0,v.Z)(function*(D){yield D._initializationPromise;const g=Ri(),_=fe(cc,D.config.apiKey,D.name);g&&g.setItem(_,D._getPersistence())})).apply(this,arguments)}function Ri(){var D;try{return(null===(D=function Cl(){return typeof window<"u"?window:null}())||void 0===D?void 0:D.sessionStorage)||null}catch{return null}}const du=se;class pa{constructor(){this.browserResolver=kt(class au{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Kr,this._completeRedirectFn=Dn,this._overrideRedirectResult=Ul}_openPopup(g,_,I,z){var te=this;return(0,v.Z)(function*(){var Ie;tt(null===(Ie=te.eventManagers[g._key()])||void 0===Ie?void 0:Ie.manager,"_initialize() not called before _openPopup()");const gt=Mu(g,_,I,at(),z);return function xd(D,g,_,I=500,z=600){const te=Math.max((window.screen.availHeight-z)/2,0).toString(),Ie=Math.max((window.screen.availWidth-I)/2,0).toString();let gt="";const Qt=Object.assign(Object.assign({},jf),{width:I.toString(),height:z.toString(),top:te,left:Ie}),Cn=(0,x.z$)().toLowerCase();_&&(gt=mn(Cn)?"_blank":_),je(Cn)&&(g=g||"http://localhost",Qt.scrollbars="yes");const jn=Object.entries(Qt).reduce((Oi,[Ko,pc])=>`${Oi}${Ko}=${pc},`,"");if(function st(D=(0,x.z$)()){var g;return ie(D)&&!(null===(g=window.navigator)||void 0===g||!g.standalone)}(Cn)&&"_self"!==gt)return function kd(D,g){const _=document.createElement("a");_.href=D,_.target=g;const I=document.createEvent("MouseEvent");I.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(I)}(g||"",gt),new Ha(null);const Bn=window.open(g||"",gt,jn);se(Bn,D,"popup-blocked");try{Bn.focus()}catch{}return new Ha(Bn)}(g,gt,nn())})()}_openRedirect(g,_,I,z){var te=this;return(0,v.Z)(function*(){return yield te._originValidation(g),function it(D){Vt().location.href=D}(Mu(g,_,I,at(),z)),new Promise(()=>{})})()}_initialize(g){const _=g._key();if(this.eventManagers[_]){const{manager:z,promise:te}=this.eventManagers[_];return z?Promise.resolve(z):(tt(te,"If manager is not set, promise should be"),te)}const I=this.initAndGetManager(g);return this.eventManagers[_]={promise:I},I.catch(()=>{delete this.eventManagers[_]}),I}initAndGetManager(g){var _=this;return(0,v.Z)(function*(){const I=yield function qp(D){return Lh.apply(this,arguments)}(g),z=new Wo(g);return I.register("authEvent",te=>(se(te?.authEvent,g,"invalid-auth-event"),{status:z.onEvent(te.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[g._key()]={manager:z},_.iframes[g._key()]=I,z})()}_isIframeWebStorageSupported(g,_){this.iframes[g._key()].send(Xr,{type:Xr},z=>{var te;const Ie=null===(te=z?.[0])||void 0===te?void 0:te[Xr];void 0!==Ie&&_(!!Ie),ut(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const _=g._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function nl(D){return rl.apply(this,arguments)}(g)),this.originValidationPromises[_]}get _shouldInitProactively(){return Mn()||qt()||ie()}}),this.cordovaResolver=kt(class Ou{constructor(){this._redirectPersistence=Kr,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Dn,this._overrideRedirectResult=Ul}_initialize(g){var _=this;return(0,v.Z)(function*(){const I=g._key();let z=_.eventManagers.get(I);return z||(z=new oc(g),_.eventManagers.set(I,z),_.attachCallbackListeners(g,z)),z})()}_openPopup(g){ut(g,"operation-not-supported-in-this-environment")}_openRedirect(g,_,I,z){var te=this;return(0,v.Z)(function*(){!function Ld(D){var g,_,I,z,te,Ie,gt,Qt,Cn,jn;const Bn=Ia();se("function"==typeof(null===(g=Bn?.universalLinks)||void 0===g?void 0:g.subscribe),D,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),se(typeof(null===(_=Bn?.BuildInfo)||void 0===_?void 0:_.packageName)<"u",D,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),se("function"==typeof(null===(te=null===(z=null===(I=Bn?.cordova)||void 0===I?void 0:I.plugins)||void 0===z?void 0:z.browsertab)||void 0===te?void 0:te.openUrl),D,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),se("function"==typeof(null===(Qt=null===(gt=null===(Ie=Bn?.cordova)||void 0===Ie?void 0:Ie.plugins)||void 0===gt?void 0:gt.browsertab)||void 0===Qt?void 0:Qt.isAvailable),D,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),se("function"==typeof(null===(jn=null===(Cn=Bn?.cordova)||void 0===Cn?void 0:Cn.InAppBrowser)||void 0===jn?void 0:jn.open),D,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(g);const Ie=yield te._initialize(g);yield Ie.initialized(),Ie.resetRedirect(),function Yi(){iu.clear()}(),yield te._originValidation(g);const gt=function ac(D,g,_=null){return{type:g,eventId:_,urlResponse:null,sessionId:lc(),postBody:null,tenantId:D.tenantId,error:$e(D,"no-auth-event")}}(g,I,z);yield function nd(D,g){return Dl()._set(ki(D),g)}(g,gt);const Qt=yield function rc(D,g,_){return ed.apply(this,arguments)}(g,gt,_),Cn=yield function td(D){const{cordova:g}=Ia();return new Promise(_=>{g.plugins.browsertab.isAvailable(I=>{let z=null;I?g.plugins.browsertab.openUrl(D):z=g.InAppBrowser.open(D,function Me(D=(0,x.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(D)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(D)}()?"_blank":"_system","location=yes"),_(z)})})}(Qt);return function Ru(D,g,_){return ic.apply(this,arguments)}(g,Ie,Cn)})()}_isIframeWebStorageSupported(g,_){throw new Error("Method not implemented.")}_originValidation(g){const _=g._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function Hh(D){return fa.apply(this,arguments)}(g)),this.originValidationPromises[_]}attachCallbackListeners(g,_){const{universalLinks:I,handleOpenURL:z,BuildInfo:te}=Ia(),Ie=setTimeout((0,v.Z)(function*(){yield Hl(g),_.onEvent(Zs())}),500),gt=function(){var jn=(0,v.Z)(function*(Bn){clearTimeout(Ie);const Oi=yield Hl(g);let Ko=null;Oi&&Bn?.url&&(Ko=function sl(D,g){var _,I;const z=function jl(D){const g=os(D),_=g.link?decodeURIComponent(g.link):void 0,I=os(_).link,z=g.deep_link_id?decodeURIComponent(g.deep_link_id):void 0;return os(z).link||z||I||_||D}(g);if(z.includes("/__/auth/callback")){const te=os(z),Ie=te.firebaseError?function ai(D){try{return JSON.parse(D)}catch{return null}}(decodeURIComponent(te.firebaseError)):null,gt=null===(I=null===(_=Ie?.code)||void 0===_?void 0:_.split("auth/"))||void 0===I?void 0:I[1],Qt=gt?$e(gt):null;return Qt?{type:D.type,eventId:D.eventId,tenantId:D.tenantId,error:Qt,urlResponse:null,sessionId:null,postBody:null}:{type:D.type,eventId:D.eventId,tenantId:D.tenantId,sessionId:D.sessionId,urlResponse:z,postBody:null}}return null}(Oi,Bn.url)),_.onEvent(Ko||Zs())});return function(Oi){return jn.apply(this,arguments)}}();typeof I<"u"&&"function"==typeof I.subscribe&&I.subscribe(null,gt);const Qt=z,Cn=`${te.packageName.toLowerCase()}://`;Ia().handleOpenURL=function(){var jn=(0,v.Z)(function*(Bn){if(Bn.toLowerCase().startsWith(Cn)&&gt({url:Bn}),"function"==typeof Qt)try{Qt(Bn)}catch(Oi){console.error(Oi)}});return function(Bn){return jn.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Kr,this._completeRedirectFn=Dn,this._overrideRedirectResult=Ul}_initialize(g){var _=this;return(0,v.Z)(function*(){return yield _.selectUnderlyingResolver(),_.assertedUnderlyingResolver._initialize(g)})()}_openPopup(g,_,I,z){var te=this;return(0,v.Z)(function*(){return yield te.selectUnderlyingResolver(),te.assertedUnderlyingResolver._openPopup(g,_,I,z)})()}_openRedirect(g,_,I,z){var te=this;return(0,v.Z)(function*(){return yield te.selectUnderlyingResolver(),te.assertedUnderlyingResolver._openRedirect(g,_,I,z)})()}_isIframeWebStorageSupported(g,_){this.assertedUnderlyingResolver._isIframeWebStorageSupported(g,_)}_originValidation(g){return this.assertedUnderlyingResolver._originValidation(g)}get _shouldInitProactively(){return zl()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return du(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var g=this;return(0,v.Z)(function*(){if(g.underlyingResolver)return;const _=yield function ol(){return cu.apply(this,arguments)}();g.underlyingResolver=_?g.cordovaResolver:g.browserResolver})()}}function jd(D){return D.unwrap()}function Zl(D){return rd(D)}function rd(D){const{_tokenResponse:g}=D instanceof x.ZR?D.customData:D;if(!g)return null;if(!(D instanceof x.ZR)&&"temporaryProof"in g&&"phoneNumber"in g)return le.credentialFromResult(D);const _=g.providerId;if(!_||"password"===_)return null;let I;switch(_){case"google.com":I=fs;break;case"facebook.com":I=Bo;break;case"github.com":I=Qs;break;case"twitter.com":I=Mi;break;default:const{oauthIdToken:z,oauthAccessToken:te,oauthTokenSecret:Ie,pendingToken:gt,nonce:Qt}=g;return te||Ie||z||gt?gt?_.startsWith("saml.")?Ts._create(_,gt):Ge._fromParams({providerId:_,signInMethod:_,pendingToken:gt,idToken:z,accessToken:te}):new Gi(_).credential({idToken:z,accessToken:te,rawNonce:Qt}):null}return D instanceof x.ZR?I.credentialFromError(D):I.credentialFromResult(D)}function wi(D,g){return g.catch(_=>{throw _ instanceof x.ZR&&function Gd(D,g){var _;const I=null===(_=g.customData)||void 0===_?void 0:_._tokenResponse;if("auth/multi-factor-auth-required"===g?.code)g.resolver=new qh(D,function _o(D,g){var _;const I=(0,x.m9)(D),z=g;return se(g.customData.operationType,I,"argument-error"),se(null===(_=z.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,I,"argument-error"),xr._fromError(I,z)}(D,g));else if(I){const z=rd(g),te=g;z&&(te.credential=z,te.tenantId=I.tenantId||void 0,te.email=I.email||void 0,te.phoneNumber=I.phoneNumber||void 0)}}(D,_),_}).then(_=>{const z=_.user;return{operationType:_.operationType,credential:Zl(_),additionalUserInfo:Xl(_),user:El.getOrCreate(z)}})}function Ga(D,g){return za.apply(this,arguments)}function za(){return(za=(0,v.Z)(function*(D,g){const _=yield g;return{verificationId:_.verificationId,confirm:I=>wi(D,_.confirm(I))}})).apply(this,arguments)}class qh{constructor(g,_){this.resolver=_,this.auth=function Wh(D){return D.wrapped()}(g)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(g){return wi(jd(this.auth),this.resolver.resolveSignIn(g))}}class El{constructor(g){this._delegate=g,this.multiFactor=function vt(D){const g=(0,x.m9)(D);return ot.has(g)||ot.set(g,be._fromUser(g)),ot.get(g)}(g)}static getOrCreate(g){return El.USER_MAP.has(g)||El.USER_MAP.set(g,new El(g)),El.USER_MAP.get(g)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(g){return this._delegate.getIdTokenResult(g)}getIdToken(g){return this._delegate.getIdToken(g)}linkAndRetrieveDataWithCredential(g){return this.linkWithCredential(g)}linkWithCredential(g){var _=this;return(0,v.Z)(function*(){return wi(_.auth,Go(_._delegate,g))})()}linkWithPhoneNumber(g,_){var I=this;return(0,v.Z)(function*(){return Ga(I.auth,function el(D,g,_){return Ps.apply(this,arguments)}(I._delegate,g,_))})()}linkWithPopup(g){var _=this;return(0,v.Z)(function*(){return wi(_.auth,function ml(D,g,_){return Ea.apply(this,arguments)}(_._delegate,g,pa))})()}linkWithRedirect(g){var _=this;return(0,v.Z)(function*(){return yield al(vr(_.auth)),function $t(D,g,_){return function gn(D,g,_){return bn.apply(this,arguments)}(D,g,_)}(_._delegate,g,pa)})()}reauthenticateAndRetrieveDataWithCredential(g){return this.reauthenticateWithCredential(g)}reauthenticateWithCredential(g){var _=this;return(0,v.Z)(function*(){return wi(_.auth,Ao(_._delegate,g))})()}reauthenticateWithPhoneNumber(g,_){return Ga(this.auth,function T(D,g,_){return A.apply(this,arguments)}(this._delegate,g,_))}reauthenticateWithPopup(g){return wi(this.auth,function Vl(D,g,_){return tl.apply(this,arguments)}(this._delegate,g,pa))}reauthenticateWithRedirect(g){var _=this;return(0,v.Z)(function*(){return yield al(vr(_.auth)),function _e(D,g,_){return function ke(D,g,_){return Le.apply(this,arguments)}(D,g,_)}(_._delegate,g,pa)})()}sendEmailVerification(g){return function Wi(D,g){return ya.apply(this,arguments)}(this._delegate,g)}unlink(g){var _=this;return(0,v.Z)(function*(){return yield function pi(D,g){return ps.apply(this,arguments)}(_._delegate,g),_})()}updateEmail(g){return function ro(D,g){return Pa((0,x.m9)(D),g,null)}(this._delegate,g)}updatePassword(g){return function xo(D,g){return Pa((0,x.m9)(D),null,g)}(this._delegate,g)}updatePhoneNumber(g){return function U(D,g){return Q.apply(this,arguments)}(this._delegate,g)}updateProfile(g){return function zo(D,g){return la.apply(this,arguments)}(this._delegate,g)}verifyBeforeUpdateEmail(g,_){return function Oa(D,g,_){return $s.apply(this,arguments)}(this._delegate,g,_)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}El.USER_MAP=new WeakMap;const Do=se;let zd=(()=>{class D{constructor(_,I){if(this.app=_,I.isInitialized())return this._delegate=I.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:z}=_.options;Do(z,"invalid-api-key",{appName:_.name}),Do(z,"invalid-api-key",{appName:_.name});const te=typeof window<"u"?pa:void 0;this._delegate=I.initialize({options:{persistence:fc(z,_.name),popupRedirectResolver:te}}),this._delegate._updateErrorMap(Be),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?El.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(_){this._delegate.languageCode=_}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(_){this._delegate.tenantId=_}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(_,I){!function Xi(D,g,_){const I=vr(D);se(I._canInitEmulator,I,"emulator-config-failed"),se(/^https?:\/\//.test(g),I,"invalid-emulator-scheme");const z=!!_?.disableWarnings,te=Si(g),{host:Ie,port:gt}=function Yr(D){const g=Si(D),_=/(\/\/)?([^?#/]+)/.exec(D.substr(g.length));if(!_)return{host:"",port:null};const I=_[2].split("@").pop()||"",z=/^(\[[^\]]+\])(:|$)/.exec(I);if(z){const te=z[1];return{host:te,port:li(I.substr(te.length+1))}}{const[te,Ie]=I.split(":");return{host:te,port:li(Ie)}}}(g);I.config.emulator={url:`${te}//${Ie}${null===gt?"":`:${gt}`}/`},I.settings.appVerificationDisabledForTesting=!0,I.emulatorConfig=Object.freeze({host:Ie,port:gt,protocol:te.replace(":",""),options:Object.freeze({disableWarnings:z})}),z||function $r(){function D(){const g=document.createElement("p"),_=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",D):D())}()}(this._delegate,_,I)}applyActionCode(_){return function po(D,g){return bs.apply(this,arguments)}(this._delegate,_)}checkActionCode(_){return Ya(this._delegate,_)}confirmPasswordReset(_,I){return function Ra(D,g,_){return Zi.apply(this,arguments)}(this._delegate,_,I)}createUserWithEmailAndPassword(_,I){var z=this;return(0,v.Z)(function*(){return wi(z._delegate,function O(D,g,_){return ee.apply(this,arguments)}(z._delegate,_,I))})()}fetchProvidersForEmail(_){return this.fetchSignInMethodsForEmail(_)}fetchSignInMethodsForEmail(_){return function Mo(D,g){return No.apply(this,arguments)}(this._delegate,_)}isSignInWithEmailLink(_){return function Ms(D,g){return"EMAIL_SIGNIN"===Js.parseLink(g)?.operation}(0,_)}getRedirectResult(){var _=this;return(0,v.Z)(function*(){Do(uu(),_._delegate,"operation-not-supported-in-this-environment");const I=yield function Hn(D,g){return pr.apply(this,arguments)}(_._delegate,pa);return I?wi(_._delegate,Promise.resolve(I)):{credential:null,user:null}})()}addFrameworkForLogging(_){!function Ud(D,g){vr(D)._logFramework(g)}(this._delegate,_)}onAuthStateChanged(_,I,z){const{next:te,error:Ie,complete:gt}=Wl(_,I,z);return this._delegate.onAuthStateChanged(te,Ie,gt)}onIdTokenChanged(_,I,z){const{next:te,error:Ie,complete:gt}=Wl(_,I,z);return this._delegate.onIdTokenChanged(te,Ie,gt)}sendSignInLinkToEmail(_,I){return function cn(D,g,_){return or.apply(this,arguments)}(this._delegate,_,I)}sendPasswordResetEmail(_,I){return function si(D,g,_){return aa.apply(this,arguments)}(this._delegate,_,I||void 0)}setPersistence(_){var I=this;return(0,v.Z)(function*(){let z;switch(function Hd(D,g){Yo(Object.values(Ls).includes(g),D,"invalid-persistence-type"),(0,x.b$)()?Yo(g!==Ls.SESSION,D,"unsupported-persistence-type"):(0,x.UG)()?Yo(g===Ls.NONE,D,"unsupported-persistence-type"):$d()?Yo(g===Ls.NONE||g===Ls.LOCAL&&(0,x.hl)(),D,"unsupported-persistence-type"):Yo(g===Ls.NONE||uc(),D,"unsupported-persistence-type")}(I._delegate,_),_){case Ls.SESSION:z=Kr;break;case Ls.LOCAL:z=(yield kt(Ir)._isAvailable())?Ir:mt;break;case Ls.NONE:z=ve;break;default:return ut("argument-error",{appName:I._delegate.name})}return I._delegate.setPersistence(z)})()}signInAndRetrieveDataWithCredential(_){return this.signInWithCredential(_)}signInAnonymously(){return wi(this._delegate,function So(D){return ri.apply(this,arguments)}(this._delegate))}signInWithCredential(_){return wi(this._delegate,Qr(this._delegate,_))}signInWithCustomToken(_){return wi(this._delegate,function eo(D,g){return to.apply(this,arguments)}(this._delegate,_))}signInWithEmailAndPassword(_,I){return wi(this._delegate,function qe(D,g,_){return Qr((0,x.m9)(D),Hi.credential(g,_))}(this._delegate,_,I))}signInWithEmailLink(_,I){return wi(this._delegate,function Ns(D,g,_){return go.apply(this,arguments)}(this._delegate,_,I))}signInWithPhoneNumber(_,I){return Ga(this._delegate,function Ll(D,g,_){return Da.apply(this,arguments)}(this._delegate,_,I))}signInWithPopup(_){var I=this;return(0,v.Z)(function*(){return Do(uu(),I._delegate,"operation-not-supported-in-this-environment"),wi(I._delegate,function Ca(D,g,_){return Fs.apply(this,arguments)}(I._delegate,_,pa))})()}signInWithRedirect(_){var I=this;return(0,v.Z)(function*(){return Do(uu(),I._delegate,"operation-not-supported-in-this-environment"),yield al(I._delegate),function F(D,g,_){return function H(D,g,_){return Y.apply(this,arguments)}(D,g,_)}(I._delegate,_,pa)})()}updateCurrentUser(_){return this._delegate.updateCurrentUser(_)}verifyPasswordResetCode(_){return function j(D,g){return V.apply(this,arguments)}(this._delegate,_)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return D.Persistence=Ls,D})();function Wl(D,g,_){let I=D;"function"!=typeof D&&({next:I,error:g,complete:_}=D);const z=I;return{next:Ie=>z(Ie&&El.getOrCreate(Ie)),error:g,complete:_}}function fc(D,g){const _=function hc(D,g){const _=Ri();if(!_)return[];const I=fe(cc,D,g);switch(_.getItem(I)){case Ls.NONE:return[ve];case Ls.LOCAL:return[Ir,Kr];case Ls.SESSION:return[Kr];default:return[]}}(D,g);if(typeof self<"u"&&!_.includes(Ir)&&_.push(Ir),typeof window<"u")for(const I of[mt,Kr])_.includes(I)||_.push(I);return _.includes(ve)||_.push(ve),_}class hu{constructor(){this.providerId="phone",this._delegate=new le(jd(K.Z.auth()))}static credential(g,_){return le.credential(g,_)}verifyPhoneNumber(g,_){return this._delegate.verifyPhoneNumber(g,_)}unwrap(){return this._delegate}}hu.PHONE_SIGN_IN_METHOD=le.PHONE_SIGN_IN_METHOD,hu.PROVIDER_ID=le.PROVIDER_ID;const Yh=se;class id{constructor(g,_,I=K.Z.app()){var z;Yh(null===(z=I.options)||void 0===z?void 0:z.apiKey,"invalid-api-key",{appName:I.name}),this._delegate=new jc(g,_,I.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function fu(D){D.INTERNAL.registerComponent(new he.wA("auth-compat",g=>{const _=g.getProvider("app-compat").getImmediate(),I=g.getProvider("auth");return new zd(_,I)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Hi,FacebookAuthProvider:Bo,GithubAuthProvider:Qs,GoogleAuthProvider:fs,OAuthProvider:Gi,SAMLAuthProvider:ts,PhoneAuthProvider:hu,PhoneMultiFactorGenerator:Od,RecaptchaVerifier:id,TwitterAuthProvider:Mi,Auth:zd,AuthCredential:di,Error:x.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),D.registerVersion("@firebase/auth-compat","0.3.6")}(K.Z)},8766:(tn,ze,B)=>{B.d(ze,{Lj:()=>ut,X3:()=>Zt});var v=B(5861);let x,l;const he=new WeakMap,Te=new WeakMap,Pe=new WeakMap,ce=new WeakMap,de=new WeakMap;let Ue={get(se,et,tt){if(se instanceof IDBTransaction){if("done"===et)return Te.get(se);if("objectStoreNames"===et)return se.objectStoreNames||Pe.get(se);if("store"===et)return tt.objectStoreNames[1]?void 0:tt.objectStore(tt.objectStoreNames[0])}return Je(se[et])},set:(se,et,tt)=>(se[et]=tt,!0),has:(se,et)=>se instanceof IDBTransaction&&("done"===et||"store"===et)||et in se};function Ke(se){return"function"==typeof se?function Pt(se){return se!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ce(){return l||(l=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(se)?function(...et){return se.apply(Ae(this),et),Je(he.get(this))}:function(...et){return Je(se.apply(Ae(this),et))}:function(et,...tt){const Ot=se.call(Ae(this),et,...tt);return Pe.set(Ot,et.sort?et.sort():[et]),Je(Ot)}}(se):(se instanceof IDBTransaction&&function _t(se){if(Te.has(se))return;const et=new Promise((tt,Ot)=>{const kt=()=>{se.removeEventListener("complete",bt),se.removeEventListener("error",Ze),se.removeEventListener("abort",Ze)},bt=()=>{tt(),kt()},Ze=()=>{Ot(se.error||new DOMException("AbortError","AbortError")),kt()};se.addEventListener("complete",bt),se.addEventListener("error",Ze),se.addEventListener("abort",Ze)});Te.set(se,et)}(se),((se,et)=>et.some(tt=>se instanceof tt))(se,function Ee(){return x||(x=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(se,Ue):se)}function Je(se){if(se instanceof IDBRequest)return function we(se){const et=new Promise((tt,Ot)=>{const kt=()=>{se.removeEventListener("success",bt),se.removeEventListener("error",Ze)},bt=()=>{tt(Je(se.result)),kt()},Ze=()=>{Ot(se.error),kt()};se.addEventListener("success",bt),se.addEventListener("error",Ze)});return et.then(tt=>{tt instanceof IDBCursor&&he.set(tt,se)}).catch(()=>{}),de.set(et,se),et}(se);if(ce.has(se))return ce.get(se);const et=Ke(se);return et!==se&&(ce.set(se,et),de.set(et,se)),et}const Ae=se=>de.get(se);function Zt(se,et,{blocked:tt,upgrade:Ot,blocking:kt,terminated:bt}={}){const Ze=indexedDB.open(se,et),at=Je(Ze);return Ot&&Ze.addEventListener("upgradeneeded",Qe=>{Ot(Je(Ze.result),Qe.oldVersion,Qe.newVersion,Je(Ze.transaction))}),tt&&Ze.addEventListener("blocked",()=>tt()),at.then(Qe=>{bt&&Qe.addEventListener("close",()=>bt()),kt&&Qe.addEventListener("versionchange",()=>kt())}).catch(()=>{}),at}function ut(se,{blocked:et}={}){const tt=indexedDB.deleteDatabase(se);return et&&tt.addEventListener("blocked",()=>et()),Je(tt).then(()=>{})}const $e=["get","getKey","getAll","getAllKeys","count"],Fe=["put","add","delete","clear"],Ft=new Map;function Dt(se,et){if(!(se instanceof IDBDatabase)||et in se||"string"!=typeof et)return;if(Ft.get(et))return Ft.get(et);const tt=et.replace(/FromIndex$/,""),Ot=et!==tt,kt=Fe.includes(tt);if(!(tt in(Ot?IDBIndex:IDBObjectStore).prototype)||!kt&&!$e.includes(tt))return;const bt=function(){var Ze=(0,v.Z)(function*(at,...Qe){const ct=this.transaction(at,kt?"readwrite":"readonly");let pt=ct.store;return Ot&&(pt=pt.index(Qe.shift())),(yield Promise.all([pt[tt](...Qe),kt&&ct.done]))[0]});return function(Qe){return Ze.apply(this,arguments)}}();return Ft.set(et,bt),bt}!function Be(se){Ue=se(Ue)}(se=>({...se,get:(et,tt,Ot)=>Dt(et,tt)||se.get(et,tt,Ot),has:(et,tt)=>!!Dt(et,tt)||se.has(et,tt)}))},5861:(tn,ze,B)=>{function v(x,l,Ee,Ce,he,Te,Pe){try{var ce=x[Te](Pe),de=ce.value}catch(we){return void Ee(we)}ce.done?l(de):Promise.resolve(de).then(Ce,he)}function K(x){return function(){var l=this,Ee=arguments;return new Promise(function(Ce,he){var Te=x.apply(l,Ee);function Pe(de){v(Te,Ce,he,Pe,ce,"next",de)}function ce(de){v(Te,Ce,he,Pe,ce,"throw",de)}Pe(void 0)})}}B.d(ze,{Z:()=>K})}},tn=>{tn(tn.s=3543)}]);