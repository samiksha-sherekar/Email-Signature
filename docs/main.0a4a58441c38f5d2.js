"use strict";(self.webpackChunkEmail_Signature=self.webpackChunkEmail_Signature||[]).push([[179],{6217:(tn,ze,B)=>{B.d(ze,{nm:()=>ds});var v=B(2122);B(4650),B(259);var ct=B(5861),$e=B(9681),Fe=B(4859),Pt=B(2090),Dt=B(1877);const se=new Map,et={activated:!1,tokenObservers:[]},tt={initialized:!1,enabled:!1};function Rt(Re){return se.get(Re)||Object.assign({},et)}function vt(){return tt}class Xt{constructor(xe,Ge,yt,Zt,Tn){if(this.operation=xe,this.retryPolicy=Ge,this.getWaitDuration=yt,this.lowerBound=Zt,this.upperBound=Tn,this.pending=null,this.nextErrorWaitInterval=Zt,Zt>Tn)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(xe){var Ge=this;return(0,ct.Z)(function*(){Ge.stop();try{Ge.pending=new Pt.BH,yield function qt(Re){return new Promise(xe=>{setTimeout(xe,Re)})}(Ge.getNextRun(xe)),Ge.pending.resolve(),yield Ge.pending.promise,Ge.pending=new Pt.BH,yield Ge.operation(),Ge.pending.resolve(),yield Ge.pending.promise,Ge.process(!0).catch(()=>{})}catch(yt){Ge.retryPolicy(yt)?Ge.process(!1).catch(()=>{}):Ge.stop()}})()}getNextRun(xe){if(xe)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const Ge=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Ge}}}const Lt=new Pt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function It(Re){if(!Rt(Re).activated)throw Lt.create("use-before-activation",{appName:Re.name})}function Wn(Re,xe){return hr.apply(this,arguments)}function hr(){return(hr=(0,ct.Z)(function*({url:Re,body:xe},Ge){const yt={"Content-Type":"application/json"},Zt=Ge.getImmediate({optional:!0});if(Zt){const Bi=yield Zt.getHeartbeatsHeader();Bi&&(yt["X-Firebase-Client"]=Bi)}const Tn={method:"POST",body:JSON.stringify(xe),headers:yt};let kn,Mr;try{kn=yield fetch(Re,Tn)}catch(Bi){throw Lt.create("fetch-network-error",{originalErrorMessage:Bi?.message})}if(200!==kn.status)throw Lt.create("fetch-status-error",{httpStatus:kn.status});try{Mr=yield kn.json()}catch(Bi){throw Lt.create("fetch-parse-error",{originalErrorMessage:Bi?.message})}const ur=Mr.ttl.match(/^([\d.]+)(s)$/);if(!ur||!ur[2]||isNaN(Number(ur[1])))throw Lt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${Mr.ttl}`});const Ti=1e3*Number(ur[1]),ho=Date.now();return{token:Mr.token,expireTimeMillis:ho+Ti,issuedAtTimeMillis:ho}})).apply(this,arguments)}function kr(Re,xe){const{projectId:Ge,appId:yt,apiKey:Zt}=Re.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${Ge}/apps/${yt}:exchangeDebugToken?key=${Zt}`,body:{debug_token:xe}}}const yr="firebase-app-check-store";let Fn=null;function Zn(){return Fn||(Fn=new Promise((Re,xe)=>{try{const Ge=indexedDB.open("firebase-app-check-database",1);Ge.onsuccess=yt=>{Re(yt.target.result)},Ge.onerror=yt=>{var Zt;xe(Lt.create("storage-open",{originalErrorMessage:null===(Zt=yt.target.error)||void 0===Zt?void 0:Zt.message}))},Ge.onupgradeneeded=yt=>{0===yt.oldVersion&&yt.target.result.createObjectStore(yr,{keyPath:"compositeKey"})}}catch(Ge){xe(Lt.create("storage-open",{originalErrorMessage:Ge?.message}))}}),Fn)}function Ct(){return(Ct=(0,ct.Z)(function*(Re,xe){const yt=(yield Zn()).transaction(yr,"readwrite"),Tn=yt.objectStore(yr).put({compositeKey:Re,value:xe});return new Promise((kn,Mr)=>{Tn.onsuccess=ur=>{kn()},yt.onerror=ur=>{var Ti;Mr(Lt.create("storage-set",{originalErrorMessage:null===(Ti=ur.target.error)||void 0===Ti?void 0:Ti.message}))}})})).apply(this,arguments)}const jt=new Dt.Yd("@firebase/app-check");function fn(Re,xe){return(0,Pt.hl)()?function un(Re,xe){return function Ve(Re,xe){return Ct.apply(this,arguments)}(function ht(Re){return`${Re.options.appId}-${Re.name}`}(Re),xe)}(Re,xe).catch(Ge=>{jt.warn(`Failed to write token to IndexedDB. Error: ${Ge}`)}):Promise.resolve()}function zr(){return vt().enabled}function Kn(){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,ct.Z)(function*(){const Re=vt();if(Re.enabled&&Re.token)return Re.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const rn={error:"UNKNOWN_ERROR"};function nt(Re){return Pt.US.encodeString(JSON.stringify(Re),!1)}function kt(Re){return an.apply(this,arguments)}function an(){return(an=(0,ct.Z)(function*(Re,xe=!1){const Ge=Re.app;It(Ge);const yt=Rt(Ge);let Tn,Zt=yt.token;if(Zt&&!Te(Zt)&&(yt.token=void 0,Zt=void 0),!Zt){const ur=yield yt.cachedTokenPromise;ur&&(Te(ur)?Zt=ur:yield fn(Ge,void 0))}if(!xe&&Zt&&Te(Zt))return{token:Zt.token};let Mr,kn=!1;if(zr()){yt.exchangeTokenPromise||(yt.exchangeTokenPromise=Wn(kr(Ge,yield Kn()),Re.heartbeatServiceProvider).finally(()=>{yt.exchangeTokenPromise=void 0}),kn=!0);const ur=yield yt.exchangeTokenPromise;return yield fn(Ge,ur),yt.token=ur,{token:ur.token}}try{yt.exchangeTokenPromise||(yt.exchangeTokenPromise=yt.provider.getToken().finally(()=>{yt.exchangeTokenPromise=void 0}),kn=!0),Zt=yield Rt(Ge).exchangeTokenPromise}catch(ur){"appCheck/throttled"===ur.code?jt.warn(ur.message):jt.error(ur),Tn=ur}return Zt?Tn?Mr=Te(Zt)?{token:Zt.token,internalError:Tn}:st(Tn):(Mr={token:Zt.token},yt.token=Zt,yield fn(Ge,Zt)):Mr=st(Tn),kn&&fe(Ge,Mr),Mr})).apply(this,arguments)}function In(Re,xe){const Ge=Rt(Re),yt=Ge.tokenObservers.filter(Zt=>Zt.next!==xe);0===yt.length&&Ge.tokenRefresher&&Ge.tokenRefresher.isRunning()&&Ge.tokenRefresher.stop(),Ge.tokenObservers=yt}function Dr(Re){const{app:xe}=Re,Ge=Rt(xe);let yt=Ge.tokenRefresher;yt||(yt=function ve(Re){const{app:xe}=Re;return new Xt((0,ct.Z)(function*(){let yt;if(yt=Rt(xe).token?yield kt(Re,!0):yield kt(Re),yt.error)throw yt.error;if(yt.internalError)throw yt.internalError}),()=>!0,()=>{const Ge=Rt(xe);if(Ge.token){let yt=Ge.token.issuedAtTimeMillis+.5*(Ge.token.expireTimeMillis-Ge.token.issuedAtTimeMillis)+3e5;return yt=Math.min(yt,Ge.token.expireTimeMillis-3e5),Math.max(0,yt-Date.now())}return 0},3e4,96e4)}(Re),Ge.tokenRefresher=yt),!yt.isRunning()&&Ge.isTokenAutoRefreshEnabled&&yt.start()}function fe(Re,xe){const Ge=Rt(Re).tokenObservers;for(const yt of Ge)try{"EXTERNAL"===yt.type&&null!=xe.error?yt.error(xe.error):yt.next(xe)}catch{}}function Te(Re){return Re.expireTimeMillis-Date.now()>0}function st(Re){return{token:nt(rn),error:Re}}class je{constructor(xe,Ge){this.app=xe,this.heartbeatServiceProvider=Ge}_delete(){const{tokenObservers:xe}=Rt(this.app);for(const Ge of xe)In(this.app,Ge.next);return Promise.resolve()}}const ls="app-check-internal";!function us(){(0,$e._registerComponent)(new Fe.wA("app-check",Re=>function Yt(Re,xe){return new je(Re,xe)}(Re.getProvider("app").getImmediate(),Re.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((Re,xe,Ge)=>{Re.getProvider(ls).initialize()})),(0,$e._registerComponent)(new Fe.wA(ls,Re=>function mn(Re){return{getToken:xe=>kt(Re,xe),addTokenListener:xe=>function Sn(Re,xe,Ge,yt){const{app:Zt}=Re,Tn=Rt(Zt);if(Tn.tokenObservers=[...Tn.tokenObservers,{next:Ge,error:yt,type:xe}],Tn.token&&Te(Tn.token)){const Mr=Tn.token;Promise.resolve().then(()=>{Ge({token:Mr.token}),Dr(Re)}).catch(()=>{})}Tn.cachedTokenPromise.then(()=>Dr(Re))}(Re,"INTERNAL",xe),removeTokenListener:xe=>In(Re.app,xe)}}(Re.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,$e.registerVersion)("@firebase/app-check","0.6.4")}();class ds{constructor(){return(0,v.vb)("app-check")}}typeof window<"u"&&window},1205:(tn,ze,B)=>{B.d(ze,{zQ:()=>Ze,ww:()=>lt,rT:()=>tt,f7:()=>xt,L6:()=>se,_Q:()=>et,lh:()=>Rt,Qv:()=>Dt,nw:()=>vt});var v=B(4650),K=B(7579),x=B(9646),l=B(9751),Ee=B(8996),Ce=B(6451),he=B(5363),Ie=B(3900),Pe=B(4004),ce=B(6063);class de extends K.x{constructor(dt=1/0,pt=1/0,We=ce.l){super(),this._bufferSize=dt,this._windowTime=pt,this._timestampProvider=We,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=pt===1/0,this._bufferSize=Math.max(1,dt),this._windowTime=Math.max(1,pt)}next(dt){const{isStopped:pt,_buffer:We,_infiniteTimeWindow:Xt,_timestampProvider:qt,_windowTime:pn}=this;pt||(We.push(dt),!Xt&&We.push(qt.now()+pn)),this._trimBuffer(),super.next(dt)}_subscribe(dt){this._throwIfClosed(),this._trimBuffer();const pt=this._innerSubscribe(dt),{_infiniteTimeWindow:We,_buffer:Xt}=this,qt=Xt.slice();for(let pn=0;pn<qt.length&&!dt.closed;pn+=We?1:2)dt.next(qt[pn]);return this._checkFinalizedStatuses(dt),pt}_trimBuffer(){const{_bufferSize:dt,_timestampProvider:pt,_buffer:We,_infiniteTimeWindow:Xt}=this,qt=(Xt?1:2)*dt;if(dt<1/0&&qt<We.length&&We.splice(0,We.length-qt),!Xt){const pn=pt.now();let Lt=0;for(let An=1;An<We.length&&We[An]<=pn;An+=2)Lt=An;Lt&&We.splice(0,Lt+1)}}}var we=B(3099);function _t(Qe,dt,pt){let We,Xt=!1;return Qe&&"object"==typeof Qe?({bufferSize:We=1/0,windowTime:dt=1/0,refCount:Xt=!1,scheduler:pt}=Qe):We=Qe??1/0,(0,we.B)({connector:()=>new de(We,dt,pt),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Xt})}var Ue=B(590),Be=B(576);function Ot(Qe,dt){return(0,Be.m)(dt)?(0,Ie.w)(()=>Qe,dt):(0,Ie.w)(()=>Qe)}var Ke=B(9468),Je=B(9300),Se=B(2122),Wt=B(2011),ct=B(6895),$e=B(6217),Fe=B(9260);const Dt=new v.OlP("angularfire2.auth.use-emulator"),se=new v.OlP("angularfire2.auth.settings"),et=new v.OlP("angularfire2.auth.tenant-id"),tt=new v.OlP("angularfire2.auth.langugage-code"),Rt=new v.OlP("angularfire2.auth.use-device-language"),xt=new v.OlP("angularfire.auth.persistence"),vt=(Qe,dt,pt,We,Xt,qt,pn,Lt)=>(0,Wt.cc)(`${Qe.name}.auth`,"AngularFireAuth",Qe.name,()=>{const An=dt.runOutsideAngular(()=>Qe.auth());if(pt&&An.useEmulator(...pt),We&&(An.tenantId=We),An.languageCode=Xt,qt&&An.useDeviceLanguage(),pn)for(const[It,hn]of Object.entries(pn))An.settings[It]=hn;return Lt&&An.setPersistence(Lt),An},[pt,We,Xt,qt,pn,Lt]);let Ze=(()=>{class Qe{constructor(pt,We,Xt,qt,pn,Lt,An,It,hn,zn,Wn,hr){const ar=new K.x,rr=(0,x.of)(void 0).pipe((0,he.Q)(pn.outsideAngular),(0,Ie.w)(()=>qt.runOutsideAngular(()=>Promise.resolve().then(B.bind(B,7407)))),(0,Pe.U)(()=>(0,Wt.on)(pt,qt,We)),(0,Pe.U)(kr=>vt(kr,qt,Lt,It,hn,zn,An,Wn)),_t({bufferSize:1,refCount:!1}));if((0,ct.PM)(Xt))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,x.of)(null);else{rr.pipe((0,Ue.P)()).subscribe();const qn=rr.pipe((0,Ie.w)(Tt=>Tt.getRedirectResult().then(Fn=>Fn,()=>null)),Se.iC,_t({bufferSize:1,refCount:!1})),_r=rr.pipe((0,Ie.w)(Tt=>new l.y(Fn=>({unsubscribe:qt.runOutsideAngular(()=>Tt.onAuthStateChanged(Zn=>Fn.next(Zn),Zn=>Fn.error(Zn),()=>Fn.complete()))})))),yr=rr.pipe((0,Ie.w)(Tt=>new l.y(Fn=>({unsubscribe:qt.runOutsideAngular(()=>Tt.onIdTokenChanged(Zn=>Fn.next(Zn),Zn=>Fn.error(Zn),()=>Fn.complete()))}))));this.authState=qn.pipe(Ot(_r),(0,Ke.R)(pn.outsideAngular),(0,he.Q)(pn.insideAngular)),this.user=qn.pipe(Ot(yr),(0,Ke.R)(pn.outsideAngular),(0,he.Q)(pn.insideAngular)),this.idToken=this.user.pipe((0,Ie.w)(Tt=>Tt?(0,Ee.D)(Tt.getIdToken()):(0,x.of)(null))),this.idTokenResult=this.user.pipe((0,Ie.w)(Tt=>Tt?(0,Ee.D)(Tt.getIdTokenResult()):(0,x.of)(null))),this.credential=(0,Ce.T)(qn,ar,this.authState.pipe((0,Je.h)(Tt=>!Tt))).pipe((0,Pe.U)(Tt=>Tt?.user?Tt:null),(0,Ke.R)(pn.outsideAngular),(0,he.Q)(pn.insideAngular))}return(0,Wt.pX)(this,rr,qt,{spy:{apply:(kr,qn,_r)=>{(kr.startsWith("signIn")||kr.startsWith("createUser"))&&_r.then(yr=>ar.next(yr))}}})}}return Qe.\u0275fac=function(pt){return new(pt||Qe)(v.LFG(Wt.Dh),v.LFG(Wt.xv,8),v.LFG(v.Lbi),v.LFG(v.R0b),v.LFG(Se.HU),v.LFG(Dt,8),v.LFG(se,8),v.LFG(et,8),v.LFG(tt,8),v.LFG(Rt,8),v.LFG(xt,8),v.LFG($e.nm,8))},Qe.\u0275prov=v.Yz7({token:Qe,factory:Qe.\u0275fac,providedIn:"any"}),Qe})(),lt=(()=>{class Qe{constructor(){Fe.Z.registerVersion("angularfire",Se.q4.full,"auth-compat")}}return Qe.\u0275fac=function(pt){return new(pt||Qe)},Qe.\u0275mod=v.oAB({type:Qe}),Qe.\u0275inj=v.cJS({providers:[Ze]}),Qe})()},3101:(tn,ze,B)=>{B.d(ze,{ST:()=>Vy,yb:()=>t0});var v=B(4650),K=B(4986),x=B(9751),l=B(8996),Ee=B(9646),Ce=B(2122),he=B(8675),Ie=B(4482),Pe=B(5403);function ce(){return(0,Ie.e)((i,e)=>{let t,o=!1;i.subscribe((0,Pe.x)(e,d=>{const m=t;t=d,o&&e.next([m,d]),o=!0}))})}var se,de=B(4004),we=B(5026),_t=B(1884),Ue=B(9300),Be=B(2011),Ot=B(6895),Je=(B(7407),B(3942)),Se=B(5861),Wt=B(9681),ct=B(4859),$e=B(1877),Fe=B(2090),Pt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Dt={},et=et||{},tt=Pt||self;function Rt(){}function xt(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function vt(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var lt="closure_uid_"+(1e9*Math.random()>>>0),Qe=0;function dt(i,e,t){return i.call.apply(i.bind,arguments)}function pt(i,e,t){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var d=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(d,o),i.apply(e,d)}}return function(){return i.apply(e,arguments)}}function We(i,e,t){return(We=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?dt:pt).apply(null,arguments)}function Xt(i,e){var t=Array.prototype.slice.call(arguments,1);return function(){var o=t.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function qt(i,e){function t(){}t.prototype=e.prototype,i.X=e.prototype,i.prototype=new t,i.prototype.constructor=i,i.Wb=function(o,d,m){for(var w=Array(arguments.length-2),N=2;N<arguments.length;N++)w[N-2]=arguments[N];return e.prototype[d].apply(o,w)}}function pn(){this.s=this.s,this.o=this.o}pn.prototype.s=!1,pn.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function Ze(i){Object.prototype.hasOwnProperty.call(i,lt)&&i[lt]||(i[lt]=++Qe)}(this)},pn.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const An=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let t=0;t<i.length;t++)if(t in i&&i[t]===e)return t;return-1};function It(i){const e=i.length;if(0<e){const t=Array(e);for(let o=0;o<e;o++)t[o]=i[o];return t}return[]}function hn(i,e){for(let t=1;t<arguments.length;t++){const o=arguments[t];if(xt(o)){const d=i.length||0,m=o.length||0;i.length=d+m;for(let w=0;w<m;w++)i[d+w]=o[w]}else i.push(o)}}function zn(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}zn.prototype.h=function(){this.defaultPrevented=!0};var Wn=function(){if(!tt.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{tt.addEventListener("test",Rt,e),tt.removeEventListener("test",Rt,e)}catch{}return i}();function hr(i){return/^[\s\xa0]*$/.test(i)}var ar=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function rr(i,e){return i<e?-1:i>e?1:0}function kr(){var i=tt.navigator;return i&&(i=i.userAgent)?i:""}function qn(i){return-1!=kr().indexOf(i)}function _r(i){return _r[" "](i),i}_r[" "]=Rt;var Ve,i,Tt=qn("Opera"),Fn=qn("Trident")||qn("MSIE"),Zn=qn("Edge"),He=Zn||Fn,un=qn("Gecko")&&!(-1!=kr().toLowerCase().indexOf("webkit")&&!qn("Edge"))&&!(qn("Trident")||qn("MSIE"))&&!qn("Edge"),q=-1!=kr().toLowerCase().indexOf("webkit")&&!qn("Edge");function oe(){var i=tt.document;return i?i.documentMode:void 0}e:{var Ct="",Mt=(i=kr(),un?/rv:([^\);]+)(\)|;)/.exec(i):Zn?/Edge\/([\d\.]+)/.exec(i):Fn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):q?/WebKit\/(\S+)/.exec(i):Tt?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(Mt&&(Ct=Mt?Mt[1]:""),Fn){var Nt=oe();if(null!=Nt&&Nt>parseFloat(Ct)){Ve=String(Nt);break e}}Ve=Ct}var ht={};var fn=tt.document&&Fn&&(oe()||parseInt(Ve,10))||void 0;function ir(i,e){if(zn.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var t=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(un){e:{try{_r(e.nodeName);var d=!0;break e}catch{}d=!1}d||(e=null)}}else"mouseover"==t?e=i.fromElement:"mouseout"==t&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:En[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&ir.X.h.call(this)}}qt(ir,zn);var En={2:"touch",3:"pen",4:"mouse"};ir.prototype.h=function(){ir.X.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var zr="closure_listenable_"+(1e6*Math.random()|0),Kn=0;function Nr(i,e,t,o,d){this.listener=i,this.proxy=null,this.src=e,this.type=t,this.capture=!!o,this.ha=d,this.key=++Kn,this.ba=this.ea=!1}function Fr(i){i.ba=!0,i.listener=null,i.proxy=null,i.src=null,i.ha=null}function rn(i,e,t){for(const o in i)e.call(t,i[o],o,i)}function nt(i){const e={};for(const t in i)e[t]=i[t];return e}const kt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function an(i,e){let t,o;for(let d=1;d<arguments.length;d++){for(t in o=arguments[d],o)i[t]=o[t];for(let m=0;m<kt.length;m++)t=kt[m],Object.prototype.hasOwnProperty.call(o,t)&&(i[t]=o[t])}}function Sn(i){this.src=i,this.g={},this.h=0}function In(i,e){var t=e.type;if(t in i.g){var m,o=i.g[t],d=An(o,e);(m=0<=d)&&Array.prototype.splice.call(o,d,1),m&&(Fr(e),0==i.g[t].length&&(delete i.g[t],i.h--))}}function Dr(i,e,t,o){for(var d=0;d<i.length;++d){var m=i[d];if(!m.ba&&m.listener==e&&m.capture==!!t&&m.ha==o)return d}return-1}Sn.prototype.add=function(i,e,t,o,d){var m=i.toString();(i=this.g[m])||(i=this.g[m]=[],this.h++);var w=Dr(i,e,o,d);return-1<w?(e=i[w],t||(e.ea=!1)):((e=new Nr(e,this.src,m,!!o,d)).ea=t,i.push(e)),e};var ve="closure_lm_"+(1e6*Math.random()|0),fe={};function Te(i,e,t,o,d){if(o&&o.once)return Yt(i,e,t,o,d);if(Array.isArray(e)){for(var m=0;m<e.length;m++)Te(i,e[m],t,o,d);return null}return t=Ae(t),i&&i[zr]?i.N(e,t,vt(o)?!!o.capture:!!o,d):st(i,e,t,!1,o,d)}function st(i,e,t,o,d,m){if(!e)throw Error("Invalid event type");var w=vt(d)?!!d.capture:!!d,N=ge(i);if(N||(i[ve]=N=new Sn(i)),(t=N.add(e,t,o,w,m)).proxy)return t;if(o=function je(){const e=me;return function i(t){return e.call(i.src,i.listener,t)}}(),t.proxy=o,o.src=i,o.listener=t,i.addEventListener)Wn||(d=w),void 0===d&&(d=!1),i.addEventListener(e.toString(),o,d);else if(i.attachEvent)i.attachEvent(fr(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return t}function Yt(i,e,t,o,d){if(Array.isArray(e)){for(var m=0;m<e.length;m++)Yt(i,e[m],t,o,d);return null}return t=Ae(t),i&&i[zr]?i.O(e,t,vt(o)?!!o.capture:!!o,d):st(i,e,t,!0,o,d)}function mn(i,e,t,o,d){if(Array.isArray(e))for(var m=0;m<e.length;m++)mn(i,e[m],t,o,d);else o=vt(o)?!!o.capture:!!o,t=Ae(t),i&&i[zr]?(i=i.i,(e=String(e).toString())in i.g&&-1<(t=Dr(m=i.g[e],t,o,d))&&(Fr(m[t]),Array.prototype.splice.call(m,t,1),0==m.length&&(delete i.g[e],i.h--))):i&&(i=ge(i))&&(e=i.g[e.toString()],i=-1,e&&(i=Dr(e,t,o,d)),(t=-1<i?e[i]:null)&&Hn(t))}function Hn(i){if("number"!=typeof i&&i&&!i.ba){var e=i.src;if(e&&e[zr])In(e.i,i);else{var t=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(t,o,i.capture):e.detachEvent?e.detachEvent(fr(t),o):e.addListener&&e.removeListener&&e.removeListener(o),(t=ge(e))?(In(t,i),0==t.h&&(t.src=null,e[ve]=null)):Fr(i)}}}function fr(i){return i in fe?fe[i]:fe[i]="on"+i}function me(i,e){if(i.ba)i=!0;else{e=new ir(e,this);var t=i.listener,o=i.ha||i.src;i.ea&&Hn(i),i=t.call(o,e)}return i}function ge(i){return(i=i[ve])instanceof Sn?i:null}var ie="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ae(i){return"function"==typeof i?i:(i[ie]||(i[ie]=function(e){return i.handleEvent(e)}),i[ie])}function at(){pn.call(this),this.i=new Sn(this),this.P=this,this.I=null}function zt(i,e){var t,o=i.I;if(o)for(t=[];o;o=o.I)t.push(o);if(i=i.P,o=e.type||e,"string"==typeof e)e=new zn(e,i);else if(e instanceof zn)e.target=e.target||i;else{var d=e;an(e=new zn(o,i),d)}if(d=!0,t)for(var m=t.length-1;0<=m;m--){var w=e.g=t[m];d=Mn(w,o,!0,e)&&d}if(d=Mn(w=e.g=i,o,!0,e)&&d,d=Mn(w,o,!1,e)&&d,t)for(m=0;m<t.length;m++)d=Mn(w=e.g=t[m],o,!1,e)&&d}function Mn(i,e,t,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var d=!0,m=0;m<e.length;++m){var w=e[m];if(w&&!w.ba&&w.capture==t){var N=w.listener,$=w.ha||w.src;w.ea&&In(i.i,w),d=!1!==N.call($,o)&&d}}return d&&!o.defaultPrevented}qt(at,pn),at.prototype[zr]=!0,at.prototype.removeEventListener=function(i,e,t,o){mn(this,i,e,t,o)},at.prototype.M=function(){if(at.X.M.call(this),this.i){var e,i=this.i;for(e in i.g){for(var t=i.g[e],o=0;o<t.length;o++)Fr(t[o]);delete i.g[e],i.h--}}this.I=null},at.prototype.N=function(i,e,t,o){return this.i.add(String(i),e,!1,t,o)},at.prototype.O=function(i,e,t,o){return this.i.add(String(i),e,!0,t,o)};var Ln=tt.JSON.stringify;function Ur(){var i=Br;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var Ni,Un=new class{constructor(i,e){this.i=i,this.j=e,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new wr,i=>i.reset());class wr{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function bi(i){tt.setTimeout(()=>{throw i},0)}function Qi(i,e){Ni||function Yr(){var i=tt.Promise.resolve(void 0);Ni=function(){i.then(ci)}}(),ai||(Ni(),ai=!0),Br.add(i,e)}var ai=!1,Br=new class Vi{constructor(){this.h=this.g=null}add(e,t){const o=Un.get();o.set(e,t),this.h?this.h.next=o:this.g=o,this.h=o}};function ci(){for(var i;i=Ur();){try{i.h.call(i.g)}catch(t){bi(t)}var e=Un;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}ai=!1}function ei(i,e){at.call(this),this.h=i||1,this.g=e||tt,this.j=We(this.lb,this),this.l=Date.now()}function Ts(i){i.ca=!1,i.R&&(i.g.clearTimeout(i.R),i.R=null)}function lr(i,e,t){if("function"==typeof i)t&&(i=We(i,t));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=We(i.handleEvent,i)}return 2147483647<Number(e)?-1:tt.setTimeout(i,e||0)}function Ss(i){i.g=lr(()=>{i.g=null,i.i&&(i.i=!1,Ss(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}qt(ei,at),(se=ei.prototype).ca=!1,se.R=null,se.lb=function(){if(this.ca){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-i):(this.R&&(this.g.clearTimeout(this.R),this.R=null),zt(this,"tick"),this.ca&&(Ts(this),this.start()))}},se.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},se.M=function(){ei.X.M.call(this),Ts(this),delete this.g};class ls extends pn{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Ss(this)}M(){super.M(),this.g&&(tt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function us(i){pn.call(this),this.h=i,this.g={}}qt(us,pn);var cs=[];function Xi(i,e,t,o){Array.isArray(t)||(t&&(cs[0]=t.toString()),t=cs);for(var d=0;d<t.length;d++){var m=Te(e,t[d],o||i.handleEvent,!1,i.h||i);if(!m)break;i.g[m.key]=m}}function ds(i){rn(i.g,function(e,t){this.g.hasOwnProperty(t)&&Hn(e)},i),i.g={}}function Ui(){this.g=!0}function Cr(i,e,t,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Hs(i,e){if(!i.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(i=0;i<t.length;i++)if(Array.isArray(t[i])){var o=t[i];if(!(2>o.length)){var d=o[1];if(Array.isArray(d)&&!(1>d.length)){var m=d[0];if("noop"!=m&&"stop"!=m&&"close"!=m)for(var w=1;w<d.length;w++)d[w]=""}}}return Ln(t)}catch{return e}}(i,t)+(o?" "+o:"")})}us.prototype.M=function(){us.X.M.call(this),ds(this)},us.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ui.prototype.Aa=function(){this.g=!1},Ui.prototype.info=function(){};var wi={},ga=null;function di(){return ga=ga||new at}function Wo(i){zn.call(this,wi.Pa,i)}function ko(i){const e=di();zt(e,new Wo(e))}function xi(i,e){zn.call(this,wi.STAT_EVENT,i),this.stat=e}function hi(i){const e=di();zt(e,new xi(e,i))}function ma(i,e){zn.call(this,wi.Qa,i),this.size=e}function Rr(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return tt.setTimeout(function(){i()},e)}wi.Pa="serverreachability",qt(Wo,zn),wi.STAT_EVENT="statevent",qt(xi,zn),wi.Qa="timingevent",qt(ma,zn);var Re={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},xe={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Ge(){}function Zt(){}Ge.prototype.h=null;var ur,Tn={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function kn(){zn.call(this,"d")}function Mr(){zn.call(this,"c")}function Ti(){}function ho(i,e,t,o){this.l=i,this.j=e,this.m=t,this.U=o||1,this.S=new us(this),this.O=$i,this.T=new ei(i=He?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Bi}function Bi(){this.i=null,this.g="",this.h=!1}qt(kn,zn),qt(Mr,zn),qt(Ti,Ge),Ti.prototype.g=function(){return new XMLHttpRequest},Ti.prototype.i=function(){return{}},ur=new Ti;var $i=45e3,wo={},Do={};function Qs(i,e,t){i.K=1,i.v=Si(ts(e)),i.s=t,i.P=!0,qo(i,null)}function qo(i,e){i.F=Date.now(),Gi(i),i.A=ts(i.v);var t=i.A,o=i.U;Array.isArray(o)||(o=[String(o)]),Lo(t.i,"t",o),i.C=0,t=i.l.H,i.h=new Bi,i.g=Ua(i.l,t?e:null,!i.s),0<i.N&&(i.L=new ls(We(i.La,i,i.g),i.N)),Xi(i.S,i.g,"readystatechange",i.ib),e=i.H?nt(i.H):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.da(i.A,i.u,i.s,e)):(i.u="GET",i.g.da(i.A,i.u,null,e)),ko(),function xr(i,e,t,o,d,m){i.info(function(){if(i.g)if(m)for(var w="",N=m.split("&"),$=0;$<N.length;$++){var W=N[$].split("=");if(1<W.length){var re=W[0];W=W[1];var De=re.split("_");w=2<=De.length&&"type"==De[1]?w+(re+"=")+W+"&":w+(re+"=redacted&")}}else w=null;else w=m;return"XMLHTTP REQ ("+o+") [attempt "+d+"]: "+e+"\n"+t+"\n"+w})}(i.j,i.u,i.A,i.m,i.U,i.s)}function Hi(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Da}function ji(i,e,t){let d,o=!0;for(;!i.I&&i.C<t.length;){if(d=bs(i,t),d==Do){4==e&&(i.o=4,hi(14),o=!1),Cr(i.j,i.m,null,"[Incomplete Response]");break}if(d==wo){i.o=4,hi(15),Cr(i.j,i.m,t,"[Invalid Chunk]"),o=!1;break}Cr(i.j,i.m,d,null),Ms(i,d)}Hi(i)&&d!=Do&&d!=wo&&(i.h.g="",i.C=0),4!=e||0!=t.length||i.h.h||(i.o=1,hi(16),o=!1),i.i=i.i&&o,o?0<t.length&&!i.$&&(i.$=!0,(e=i.l).g==i&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),_i(e),e.K=!0,hi(11))):(Cr(i.j,i.m,t,"[Invalid Chunked Response]"),Co(i),Xs(i))}function bs(i,e){var t=i.C,o=e.indexOf("\n",t);return-1==o?Do:(t=Number(e.substring(t,o)),isNaN(t)?wo:(o+=1)+t>e.length?Do:(e=e.substr(o,t),i.C=o+t,e))}function Gi(i){i.V=Date.now()+i.O,Ro(i,i.O)}function Ro(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=Rr(We(i.gb,i),e)}function hs(i){i.B&&(tt.clearTimeout(i.B),i.B=null)}function Xs(i){0==i.l.G||i.I||Ka(i.l,i)}function Co(i){hs(i);var e=i.L;e&&"function"==typeof e.na&&e.na(),i.L=null,Ts(i.T),ds(i.S),i.g&&(e=i.g,i.g=null,e.abort(),e.na())}function Ms(i,e){try{var t=i.l;if(0!=t.G&&(t.g==i||Et(t.h,i)))if(!i.J&&Et(t.h,i)&&3==t.G){try{var o=t.Fa.g.parse(e)}catch{o=null}if(Array.isArray(o)&&3==o.length){var d=o;if(0==d[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<i.F))break e;La(t),Ds(t)}So(t),hi(18)}}else t.Ba=d[1],0<t.Ba-t.T&&37500>d[2]&&t.L&&0==t.A&&!t.v&&(t.v=Rr(We(t.cb,t),6e3));if(1>=no(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else qi(t,11)}else if((i.J||t.g==i)&&La(t),!hr(e))for(d=t.Fa.g.parse(e),e=0;e<d.length;e++){let W=d[e];if(t.T=W[0],W=W[1],2==t.G)if("c"==W[0]){t.I=W[1],t.ka=W[2];const re=W[3];null!=re&&(t.ma=re,t.j.info("VER="+t.ma));const De=W[4];null!=De&&(t.Ca=De,t.j.info("SVER="+t.Ca));const Ye=W[5];null!=Ye&&"number"==typeof Ye&&0<Ye&&(t.J=o=1.5*Ye,t.j.info("backChannelRequestTimeoutMs_="+o)),o=t;const wt=i.g;if(wt){const Kt=wt.g?wt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Kt){var m=o.h;m.g||-1==Kt.indexOf("spdy")&&-1==Kt.indexOf("quic")&&-1==Kt.indexOf("h2")||(m.j=m.l,m.g=new Set,m.h&&(nr(m,m.h),m.h=null))}if(o.D){const _n=wt.g?wt.g.getResponseHeader("X-HTTP-Session-Id"):null;_n&&(o.za=_n,Hr(o.F,o.D,_n))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-i.F,t.j.info("Handshake RTT: "+t.P+"ms"));var w=i;if((o=t).sa=Pl(o,o.H?o.ka:null,o.V),w.J){ro(o.h,w);var N=w,$=o.J;$&&N.setTimeout($),N.B&&(hs(N),Gi(N)),o.g=w}else Vo(o);0<t.i.length&&Pa(t)}else"stop"!=W[0]&&"close"!=W[0]||qi(t,7);else 3==t.G&&("stop"==W[0]||"close"==W[0]?"stop"==W[0]?qi(t,7):ya(t):"noop"!=W[0]&&t.l&&t.l.wa(W),t.A=0)}ko()}catch{}}function ki(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(xt(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var t=function es(i){if(i.oa&&"function"==typeof i.oa)return i.oa();if(!i.W||"function"!=typeof i.W){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(xt(i)||"string"==typeof i){var e=[];i=i.length;for(var t=0;t<i;t++)e.push(t);return e}e=[],t=0;for(const o in i)e[t++]=o;return e}}}(i),o=function Ns(i){if(i.W&&"function"==typeof i.W)return i.W();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(xt(i)){for(var e=[],t=i.length,o=0;o<t;o++)e.push(i[o]);return e}for(o in e=[],t=0,i)e[t++]=i[o];return e}(i),d=o.length,m=0;m<d;m++)e.call(void 0,o[m],t&&t[m],i)}(se=ho.prototype).setTimeout=function(i){this.O=i},se.ib=function(i){i=i.target;const e=this.L;e&&3==ns(i)?e.l():this.La(i)},se.La=function(i){try{if(i==this.g)e:{const re=ns(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>re)&&(3!=re||He||this.g&&(this.h.h||this.g.fa()||_a(this.g)))){this.I||4!=re||7==e||ko(),hs(this);var t=this.g.aa();this.Y=t;t:if(Hi(this)){var o=_a(this.g);i="";var d=o.length,m=4==ns(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Co(this),Xs(this);var w="";break t}this.h.i=new tt.TextDecoder}for(e=0;e<d;e++)this.h.h=!0,i+=this.h.i.decode(o[e],{stream:m&&e==d-1});o.splice(0,d),this.h.g+=i,this.C=0,w=this.h.g}else w=this.g.fa();if(this.i=200==t,function As(i,e,t,o,d,m,w){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+d+"]: "+e+"\n"+t+"\n"+m+" "+w})}(this.j,this.u,this.A,this.m,this.U,re,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var N,$=this.g;if((N=$.g?$.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!hr(N)){var W=N;break t}}W=null}if(!(t=W)){this.i=!1,this.o=3,hi(12),Co(this),Xs(this);break e}Cr(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Ms(this,t)}this.P?(ji(this,re,w),He&&this.i&&3==re&&(Xi(this.S,this.T,"tick",this.hb),this.T.start())):(Cr(this.j,this.m,w,null),Ms(this,w)),4==re&&Co(this),this.i&&!this.I&&(4==re?Ka(this.l,this):(this.i=!1,Gi(this)))}else 400==t&&0<w.indexOf("Unknown SID")?(this.o=3,hi(12)):(this.o=0,hi(13)),Co(this),Xs(this)}}}catch{}},se.hb=function(){if(this.g){var i=ns(this.g),e=this.g.fa();this.C<e.length&&(hs(this),ji(this,i,e),this.i&&4!=i&&Gi(this))}},se.cancel=function(){this.I=!0,Co(this)},se.gb=function(){this.B=null;const i=Date.now();0<=i-this.V?(function ti(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(ko(),hi(17)),Co(this),this.o=2,Xs(this)):Ro(this,this.V-i)};var xs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $r(i,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof $r){this.h=void 0!==e?e:i.h,Eo(this,i.j),this.s=i.s,this.g=i.g,ni(this,i.m),this.l=i.l,e=i.i;var t=new Di;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Po(this,t),this.o=i.o}else i&&(t=String(i).match(xs))?(this.h=!!e,Eo(this,t[1]||"",!0),this.s=gi(t[2]||""),this.g=gi(t[3]||"",!0),ni(this,t[4]),this.l=gi(t[5]||"",!0),Po(this,t[6]||"",!0),this.o=gi(t[7]||"")):(this.h=!!e,this.i=new Di(null,this.h))}function ts(i){return new $r(i)}function Eo(i,e,t){i.j=t?gi(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function ni(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function Po(i,e,t){e instanceof Di?(i.i=e,function Io(i,e){e&&!i.j&&(Lr(i),i.i=null,i.g.forEach(function(t,o){var d=o.toLowerCase();o!=d&&(Qr(this,o),Lo(this,d,t))},i)),i.j=e}(i.i,i.h)):(t||(e=fs(e,Fo)),i.i=new Di(e,i.h))}function Hr(i,e,t){i.i.set(e,t)}function Si(i){return Hr(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function gi(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function fs(i,e,t){return"string"==typeof i?(i=encodeURI(i).replace(e,Yo),t&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function Yo(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}$r.prototype.toString=function(){var i=[],e=this.j;e&&i.push(fs(e,js,!0),":");var t=this.g;return(t||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(fs(e,js,!0),"@"),i.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&i.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&i.push("/"),i.push(fs(t,"/"==t.charAt(0)?Ko:ri,!0))),(t=this.i.toString())&&i.push("?",t),(t=this.o)&&i.push("#",fs(t,Jo)),i.join("")};var js=/[#\/\?@]/g,ri=/[#\?:]/g,Ko=/[#\?]/g,Fo=/[#\?@]/g,Jo=/#/g;function Di(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function Lr(i){i.g||(i.g=new Map,i.h=0,i.i&&function Oo(i,e){if(i){i=i.split("&");for(var t=0;t<i.length;t++){var o=i[t].indexOf("="),d=null;if(0<=o){var m=i[t].substring(0,o);d=i[t].substring(o+1)}else m=i[t];e(m,d?decodeURIComponent(d.replace(/\+/g," ")):"")}}}(i.i,function(e,t){i.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Qr(i,e){Lr(i),e=fo(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function xn(i,e){return Lr(i),e=fo(i,e),i.g.has(e)}function Lo(i,e,t){Qr(i,e),0<t.length&&(i.i=null,i.g.set(fo(i,e),It(t)),i.h+=t.length)}function fo(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function Qo(i){this.l=i||zi,i=tt.PerformanceNavigationTiming?0<(i=tt.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(tt.g&&tt.g.Ga&&tt.g.Ga()&&tt.g.Ga().$b),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(se=Di.prototype).add=function(i,e){Lr(this),this.i=null,i=fo(this,i);var t=this.g.get(i);return t||this.g.set(i,t=[]),t.push(e),this.h+=1,this},se.forEach=function(i,e){Lr(this),this.g.forEach(function(t,o){t.forEach(function(d){i.call(e,d,o,this)},this)},this)},se.oa=function(){Lr(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let o=0;o<e.length;o++){const d=i[o];for(let m=0;m<d.length;m++)t.push(e[o])}return t},se.W=function(i){Lr(this);let e=[];if("string"==typeof i)xn(this,i)&&(e=e.concat(this.g.get(fo(this,i))));else{i=Array.from(this.g.values());for(let t=0;t<i.length;t++)e=e.concat(i[t])}return e},se.set=function(i,e){return Lr(this),this.i=null,xn(this,i=fo(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},se.get=function(i,e){return i&&0<(i=this.W(i)).length?String(i[0]):e},se.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var o=e[t];const m=encodeURIComponent(String(o)),w=this.W(o);for(o=0;o<w.length;o++){var d=m;""!==w[o]&&(d+="="+encodeURIComponent(String(w[o]))),i.push(d)}}return this.i=i.join("&")};var zi=10;function to(i){return!!i.h||!!i.g&&i.g.size>=i.j}function no(i){return i.h?1:i.g?i.g.size:0}function Et(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function nr(i,e){i.g?i.g.add(e):i.h=e}function ro(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function ps(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const t of i.g.values())e=e.concat(t.D);return e}return It(i.i)}function ii(){}function Xo(){this.g=new ii}function Ra(i,e,t){const o=t||"";try{ki(i,function(d,m){let w=d;vt(d)&&(w=Ln(d)),e.push(o+m+"="+encodeURIComponent(w))})}catch(d){throw e.push(o+"type="+encodeURIComponent("_badmap")),d}}function po(i,e,t,o,d){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,d(o)}catch{}}function ws(i){this.l=i.ac||null,this.j=i.jb||!1}function Ya(i,e){at.call(this),this.D=i,this.u=e,this.m=void 0,this.readyState=jr,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Qo.prototype.cancel=function(){if(this.i=ps(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},ii.prototype.stringify=function(i){return tt.JSON.stringify(i,void 0)},ii.prototype.parse=function(i){return tt.JSON.parse(i,void 0)},qt(ws,Ge),ws.prototype.g=function(){return new Ya(this.l,this.j)},ws.prototype.i=function(i){return function(){return i}}({}),qt(Ya,at);var jr=0;function j(i){i.j.read().then(i.Ta.bind(i)).catch(i.ga.bind(i))}function V(i){i.readyState=4,i.l=null,i.j=null,i.A=null,O(i)}function O(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(se=Ya.prototype).open=function(i,e){if(this.readyState!=jr)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,O(this)},se.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.D||tt).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},se.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,V(this)),this.readyState=jr},se.Wa=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,O(this)),this.g&&(this.readyState=3,O(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof tt.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;j(this)}else i.text().then(this.Va.bind(this),this.ga.bind(this))},se.Ta=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?V(this):O(this),3==this.readyState&&j(this)}},se.Va=function(i){this.g&&(this.response=this.responseText=i,V(this))},se.Ua=function(i){this.g&&(this.response=i,V(this))},se.ga=function(){this.g&&V(this)},se.setRequestHeader=function(i,e){this.v.append(i,e)},se.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},se.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var t=e.next();!t.done;)i.push((t=t.value)[0]+": "+t[1]),t=e.next();return i.join("\r\n")},Object.defineProperty(Ya.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var ee=tt.JSON.parse;function qe(i){at.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=dn,this.K=this.L=!1}qt(qe,at);var dn="",sr=/^https?$/i,ks=["POST","PUT"];function go(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,li(i),mo(i)}function li(i){i.D||(i.D=!0,zt(i,"complete"),zt(i,"error"))}function Rs(i){if(i.h&&typeof et<"u"&&(!i.C[1]||4!=ns(i)||2!=i.aa()))if(i.v&&4==ns(i))lr(i.Ha,0,i);else if(zt(i,"readystatechange"),4==ns(i)){i.h=!1;try{const N=i.aa();e:switch(N){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var o;if(o=0===N){var d=String(i.H).match(xs)[1]||null;if(!d&&tt.self&&tt.self.location){var m=tt.self.location.protocol;d=m.substr(0,m.length-1)}o=!sr.test(d?d.toLowerCase():"")}t=o}if(t)zt(i,"complete"),zt(i,"success");else{i.m=6;try{var w=2<ns(i)?i.g.statusText:""}catch{w=""}i.j=w+" ["+i.aa()+"]",li(i)}}finally{mo(i)}}}function mo(i,e){if(i.g){Wi(i);const t=i.g,o=i.C[0]?Rt:null;i.g=null,i.C=null,e||zt(i,"ready");try{t.onreadystatechange=o}catch{}}}function Wi(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(tt.clearTimeout(i.A),i.A=null)}function ns(i){return i.g?i.g.readyState:0}function _a(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case dn:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function Oa(i){let e="";return rn(i,function(t,o){e+=o,e+=":",e+=t,e+="\r\n"}),e}function Os(i,e,t){e:{for(o in t){var o=!1;break e}o=!0}o||(t=Oa(t),"string"==typeof i?null!=t&&encodeURIComponent(String(t)):Hr(i,e,t))}function ea(i,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[i]||e}function ta(i){this.Ca=0,this.i=[],this.j=new Ui,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=ea("failFast",!1,i),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=ea("baseRetryDelayMs",5e3,i),this.bb=ea("retryDelaySeedMs",1e4,i),this.$a=ea("forwardChannelMaxRetries",2,i),this.ta=ea("forwardChannelRequestTimeoutMs",2e4,i),this.ra=i&&i.xmlHttpFactory||void 0,this.Da=i&&i.Zb||!1,this.J=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.I="",this.h=new Qo(i&&i.concurrentRequestLimit),this.Fa=new Xo,this.O=i&&i.fastHandshake||!1,this.N=i&&i.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=i&&i.Xb||!1,i&&i.Aa&&this.j.Aa(),i&&i.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&i&&i.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function ya(i){if(To(i),3==i.G){var e=i.U++,t=ts(i.F);Hr(t,"SID",i.I),Hr(t,"RID",e),Hr(t,"TYPE","terminate"),gs(i,t),(e=new ho(i,i.j,e,void 0)).K=2,e.v=Si(ts(t)),t=!1,tt.navigator&&tt.navigator.sendBeacon&&(t=tt.navigator.sendBeacon(e.v.toString(),"")),!t&&tt.Image&&((new Image).src=e.v,t=!0),t||(e.g=Ua(e.l,null),e.g.da(e.v)),e.F=Date.now(),Gi(e)}Va(i)}function Ds(i){i.g&&(_i(i),i.g.cancel(),i.g=null)}function To(i){Ds(i),i.u&&(tt.clearTimeout(i.u),i.u=null),La(i),i.h.cancel(),i.m&&("number"==typeof i.m&&tt.clearTimeout(i.m),i.m=null)}function Pa(i){to(i.h)||i.m||(i.m=!0,Qi(i.Ja,i),i.C=0)}function mi(i,e){var t;t=e?e.m:i.U++;const o=ts(i.F);Hr(o,"SID",i.I),Hr(o,"RID",t),Hr(o,"AID",i.T),gs(i,o),i.o&&i.s&&Os(o,i.o,i.s),t=new ho(i,i.j,t,i.C+1),null===i.o&&(t.H=i.s),e&&(i.i=e.D.concat(i.i)),e=Or(i,t,1e3),t.setTimeout(Math.round(.5*i.ta)+Math.round(.5*i.ta*Math.random())),nr(i.h,t),Qs(t,o,e)}function gs(i,e){i.ia&&rn(i.ia,function(t,o){Hr(e,o,t)}),i.l&&ki({},function(t,o){Hr(e,o,t)})}function Or(i,e,t){t=Math.min(i.i.length,t);var o=i.l?We(i.l.Ra,i.l,i):null;e:{var d=i.i;let m=-1;for(;;){const w=["count="+t];-1==m?0<t?(m=d[0].h,w.push("ofs="+m)):m=0:w.push("ofs="+m);let N=!0;for(let $=0;$<t;$++){let W=d[$].h;const re=d[$].g;if(W-=m,0>W)m=Math.max(0,d[$].h-100),N=!1;else try{Ra(re,w,"req"+W+"_")}catch{o&&o(re)}}if(N){o=w.join("&");break e}}}return i=i.i.splice(0,t),e.D=i,o}function Vo(i){i.g||i.u||(i.Z=1,Qi(i.Ia,i),i.A=0)}function So(i){return!(i.g||i.u||3<=i.A||(i.Z++,i.u=Rr(We(i.Ia,i),gl(i,i.A)),i.A++,0))}function _i(i){null!=i.B&&(tt.clearTimeout(i.B),i.B=null)}function Fa(i){i.g=new ho(i,i.j,"rpc",i.Z),null===i.o&&(i.g.H=i.s),i.g.N=0;var e=ts(i.sa);Hr(e,"RID","rpc"),Hr(e,"SID",i.I),Hr(e,"CI",i.L?"0":"1"),Hr(e,"AID",i.T),Hr(e,"TYPE","xmlhttp"),gs(i,e),i.o&&i.s&&Os(e,i.o,i.s),i.J&&i.g.setTimeout(i.J);var t=i.g;i=i.ka,t.K=1,t.v=Si(ts(e)),t.s=null,t.P=!0,qo(t,i)}function La(i){null!=i.v&&(tt.clearTimeout(i.v),i.v=null)}function Ka(i,e){var t=null;if(i.g==e){La(i),_i(i),i.g=null;var o=2}else{if(!Et(i.h,e))return;t=e.D,ro(i.h,e),o=1}if(0!=i.G)if(i.pa=e.Y,e.i)if(1==o){t=e.s?e.s.length:0,e=Date.now()-e.F;var d=i.C;zt(o=di(),new ma(o,t)),Pa(i)}else Vo(i);else if(3==(d=e.o)||0==d&&0<i.pa||!(1==o&&function pl(i,e){return!(no(i.h)>=i.h.j-(i.m?1:0)||(i.m?(i.i=e.D.concat(i.i),0):1==i.G||2==i.G||i.C>=(i.Za?0:i.$a)||(i.m=Rr(We(i.Ja,i,e),gl(i,i.C)),i.C++,0)))}(i,e)||2==o&&So(i)))switch(t&&0<t.length&&(e=i.h,e.i=e.i.concat(t)),d){case 1:qi(i,5);break;case 4:qi(i,10);break;case 3:qi(i,6);break;default:qi(i,2)}}function gl(i,e){let t=i.Xa+Math.floor(Math.random()*i.bb);return i.l||(t*=2),t*e}function qi(i,e){if(i.j.info("Error code "+e),2==e){var t=null;i.l&&(t=null);var o=We(i.kb,i);t||(t=new $r("//www.google.com/images/cleardot.gif"),tt.location&&"http"==tt.location.protocol||Eo(t,"https"),Si(t)),function Zi(i,e){const t=new Ui;if(tt.Image){const o=new Image;o.onload=Xt(po,t,o,"TestLoadImage: loaded",!0,e),o.onerror=Xt(po,t,o,"TestLoadImage: error",!1,e),o.onabort=Xt(po,t,o,"TestLoadImage: abort",!1,e),o.ontimeout=Xt(po,t,o,"TestLoadImage: timeout",!1,e),tt.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(t.toString(),o)}else hi(2);i.G=0,i.l&&i.l.va(e),Va(i),To(i)}function Va(i){if(i.G=0,i.la=[],i.l){const e=ps(i.h);(0!=e.length||0!=i.i.length)&&(hn(i.la,e),hn(i.la,i.i),i.h.i.length=0,It(i.i),i.i.length=0),i.l.ua()}}function Pl(i,e,t){var o=t instanceof $r?ts(t):new $r(t,void 0);if(""!=o.g)e&&(o.g=e+"."+o.g),ni(o,o.m);else{var d=tt.location;o=d.protocol,e=e?e+"."+d.hostname:d.hostname,d=+d.port;var m=new $r(null,void 0);o&&Eo(m,o),e&&(m.g=e),d&&ni(m,d),t&&(m.l=t),o=m}return e=i.za,(t=i.D)&&e&&Hr(o,t,e),Hr(o,"VER",i.ma),gs(i,o),o}function Ua(i,e,t){if(e&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new qe(t&&i.Da&&!i.ra?new ws({jb:!0}):i.ra)).Ka(i.H),e}function Cu(){}function Uo(){if(Fn&&!(10<=Number(fn)))throw Error("Environmental error: no available transport.")}function Cs(i,e){at.call(this),this.g=new ta(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(i?i["X-WebChannel-Client-Profile"]=e.ya:i={"X-WebChannel-Client-Profile":e.ya}),this.g.S=i,(i=e&&e.Yb)&&!hr(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!hr(e)&&(this.g.D=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new Zr(this)}function Fl(i){kn.call(this);var e=i.__sm__;if(e){e:{for(const t in e){i=t;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function Ao(){Mr.call(this),this.status=1}function Zr(i){this.g=i}(se=qe.prototype).Ka=function(i){this.L=i},se.da=function(i,e,t,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);e=e?e.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():ur.g(),this.C=function yt(i){return i.h||(i.h=i.i())}(this.u?this.u:ur),this.g.onreadystatechange=We(this.Ha,this);try{this.F=!0,this.g.open(e,String(i),!0),this.F=!1}catch(m){return void go(this,m)}if(i=t||"",t=new Map(this.headers),o)if(Object.getPrototypeOf(o)===Object.prototype)for(var d in o)t.set(d,o[d]);else{if("function"!=typeof o.keys||"function"!=typeof o.get)throw Error("Unknown input type for opt_headers: "+String(o));for(const m of o.keys())t.set(m,o.get(m))}o=Array.from(t.keys()).find(m=>"content-type"==m.toLowerCase()),d=tt.FormData&&i instanceof tt.FormData,!(0<=An(ks,e))||o||d||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[m,w]of t)this.g.setRequestHeader(m,w);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Wi(this),0<this.B&&((this.K=function Gs(i){return Fn&&function jt(){return function yr(i){var e=ht;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=i(9)}(function(){let i=0;const e=ar(String(Ve)).split("."),t=ar("9").split("."),o=Math.max(e.length,t.length);for(let w=0;0==i&&w<o;w++){var d=e[w]||"",m=t[w]||"";do{if(d=/(\d*)(\D*)(.*)/.exec(d)||["","","",""],m=/(\d*)(\D*)(.*)/.exec(m)||["","","",""],0==d[0].length&&0==m[0].length)break;i=rr(0==d[1].length?0:parseInt(d[1],10),0==m[1].length?0:parseInt(m[1],10))||rr(0==d[2].length,0==m[2].length)||rr(d[2],m[2]),d=d[3],m=m[3]}while(0==i)}return 0<=i})}()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=We(this.qa,this)):this.A=lr(this.qa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(m){go(this,m)}},se.qa=function(){typeof et<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,zt(this,"timeout"),this.abort(8))},se.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,zt(this,"complete"),zt(this,"abort"),mo(this))},se.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),mo(this,!0)),qe.X.M.call(this)},se.Ha=function(){this.s||(this.F||this.v||this.l?Rs(this):this.fb())},se.fb=function(){Rs(this)},se.aa=function(){try{return 2<ns(this)?this.g.status:-1}catch{return-1}},se.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},se.Sa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),ee(e)}},se.Ea=function(){return this.m},se.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(se=ta.prototype).ma=8,se.G=1,se.Ja=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.U=Math.floor(1e5*Math.random()),i=this.U++;const d=new ho(this,this.j,i,void 0);let m=this.s;if(this.S&&(m?(m=nt(m),an(m,this.S)):m=this.S),null!==this.o||this.N||(d.H=m,m=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var o=this.i[t];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Or(this,d,e),Hr(t=ts(this.F),"RID",i),Hr(t,"CVER",22),this.D&&Hr(t,"X-HTTP-Session-Id",this.D),gs(this,t),m&&(this.N?e="headers="+encodeURIComponent(String(Oa(m)))+"&"+e:this.o&&Os(t,this.o,m)),nr(this.h,d),this.Ya&&Hr(t,"TYPE","init"),this.O?(Hr(t,"$req",e),Hr(t,"SID","null"),d.Z=!0,Qs(d,t,null)):Qs(d,t,e),this.G=2}}else 3==this.G&&(i?mi(this,i):0==this.i.length||to(this.h)||mi(this))},se.Ia=function(){if(this.u=null,Fa(this),this.$&&!(this.K||null==this.g||0>=this.P)){var i=2*this.P;this.j.info("BP detection timer enabled: "+i),this.B=Rr(We(this.eb,this),i)}},se.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,hi(10),Ds(this),Fa(this))},se.cb=function(){null!=this.v&&(this.v=null,Ds(this),So(this),hi(19))},se.kb=function(i){i?(this.j.info("Successfully pinged google.com"),hi(2)):(this.j.info("Failed to ping google.com"),hi(1))},(se=Cu.prototype).xa=function(){},se.wa=function(){},se.va=function(){},se.ua=function(){},se.Ra=function(){},Uo.prototype.g=function(i,e){return new Cs(i,e)},qt(Cs,at),Cs.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var i=this.g,e=this.l,t=this.h||void 0;hi(0),i.V=e,i.ia=t||{},i.L=i.Y,i.F=Pl(i,null,i.V),Pa(i)},Cs.prototype.close=function(){ya(this.g)},Cs.prototype.u=function(i){var e=this.g;if("string"==typeof i){var t={};t.__data__=i,i=t}else this.v&&((t={}).__data__=Ln(i),i=t);e.i.push(new class{constructor(i,e){this.h=i,this.g=e}}(e.ab++,i)),3==e.G&&Pa(e)},Cs.prototype.M=function(){this.g.l=null,delete this.j,ya(this.g),delete this.g,Cs.X.M.call(this)},qt(Fl,kn),qt(Ao,Mr),qt(Zr,Cu),Zr.prototype.xa=function(){zt(this.g,"a")},Zr.prototype.wa=function(i){zt(this.g,new Fl(i))},Zr.prototype.va=function(i){zt(this.g,new Ao)},Zr.prototype.ua=function(){zt(this.g,"b")},Uo.prototype.createWebChannel=Uo.prototype.g,Cs.prototype.send=Cs.prototype.u,Cs.prototype.open=Cs.prototype.m,Cs.prototype.close=Cs.prototype.close,Re.NO_ERROR=0,Re.TIMEOUT=8,Re.HTTP_ERROR=6,xe.COMPLETE="complete",Zt.EventType=Tn,Tn.OPEN="a",Tn.CLOSE="b",Tn.ERROR="c",Tn.MESSAGE="d",at.prototype.listen=at.prototype.N,qe.prototype.listenOnce=qe.prototype.O,qe.prototype.getLastError=qe.prototype.Oa,qe.prototype.getLastErrorCode=qe.prototype.Ea,qe.prototype.getStatus=qe.prototype.aa,qe.prototype.getResponseJson=qe.prototype.Sa,qe.prototype.getResponseText=qe.prototype.fa,qe.prototype.send=qe.prototype.da,qe.prototype.setWithCredentials=qe.prototype.Ka;var Ll=Dt.createWebChannelTransport=function(){return new Uo},Ps=Dt.getStatEventTarget=function(){return di()},k=Dt.ErrorCode=Re,Z=Dt.EventType=xe,L=Dt.Event=wi,X=Dt.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},be=Dt.FetchXmlHttpFactory=ws,ot=Dt.WebChannel=Zt,bt=Dt.XhrIo=qe;const vn="@firebase/firestore";class On{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}On.UNAUTHENTICATED=new On(null),On.GOOGLE_CREDENTIALS=new On("google-credentials-uid"),On.FIRST_PARTY=new On("first-party-uid"),On.MOCK_USER=new On("mock-user");let Yn="9.19.0";const pr=new $e.Yd("@firebase/firestore");function Jn(){return pr.logLevel}function mt(i,...e){if(pr.logLevel<=$e.in.DEBUG){const t=e.map(zs);pr.debug(`Firestore (${Yn}): ${i}`,...t)}}function Er(i,...e){if(pr.logLevel<=$e.in.ERROR){const t=e.map(zs);pr.error(`Firestore (${Yn}): ${i}`,...t)}}function si(i,...e){if(pr.logLevel<=$e.in.WARN){const t=e.map(zs);pr.warn(`Firestore (${Yn}): ${i}`,...t)}}function zs(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function ln(i="Unexpected state"){const e=`FIRESTORE (${Yn}) INTERNAL ASSERTION FAILED: `+i;throw Er(e),new Error(e)}function en(i,e){i||ln()}function Ft(i,e){return i}const rt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class St extends Fe.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ei{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Bo{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class tc{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(On.UNAUTHENTICATED))}shutdown(){}}class Vl{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class eu{constructor(e){this.t=e,this.currentUser=On.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var o=this;let d=this.i;const m=W=>this.i!==d?(d=this.i,t(W)):Promise.resolve();let w=new Ei;this.o=()=>{this.i++,this.currentUser=this.u(),w.resolve(),w=new Ei,e.enqueueRetryable(()=>m(this.currentUser))};const N=()=>{const W=w;e.enqueueRetryable((0,Se.Z)(function*(){yield W.promise,yield m(o.currentUser)}))},$=W=>{mt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=W,this.auth.addAuthTokenListener(this.o),N()};this.t.onInit(W=>$(W)),setTimeout(()=>{if(!this.auth){const W=this.t.getImmediate({optional:!0});W?$(W):(mt("FirebaseAuthCredentialsProvider","Auth not yet detected"),w.resolve(),w=new Ei)}},0),N()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(o=>this.i!==e?(mt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(en("string"==typeof o.accessToken),new Bo(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return en(null===e||"string"==typeof e),new On(e)}}class ml{constructor(e,t,o){this.h=e,this.l=t,this.m=o,this.type="FirstParty",this.user=On.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class _l{constructor(e,t,o){this.h=e,this.l=t,this.m=o}getToken(){return Promise.resolve(new ml(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(On.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ba{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class oi{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const o=m=>{null!=m.error&&mt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${m.error.message}`);const w=m.token!==this.T;return this.T=m.token,mt("FirebaseAppCheckTokenProvider",`Received ${w?"new":"existing"} token.`),w?t(m.token):Promise.resolve()};this.o=m=>{e.enqueueRetryable(()=>o(m))};const d=m=>{mt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=m,this.appCheck.addTokenListener(this.o)};this.I.onInit(m=>d(m)),setTimeout(()=>{if(!this.appCheck){const m=this.I.getImmediate({optional:!0});m?d(m):mt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(en("string"==typeof t.token),this.T=t.token,new Ba(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Eu(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let o=0;o<i;o++)t[o]=Math.floor(256*Math.random());return t}class ia{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const d=Eu(40);for(let m=0;m<d.length;++m)o.length<20&&d[m]<t&&(o+=e.charAt(d[m]%e.length))}return o}}function jn(i,e){return i<e?-1:i>e?1:0}function Fs(i,e,t){return i.length===e.length&&i.every((o,d)=>t(o,e[d]))}function tu(i){return i+"\0"}class Kr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new St(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new St(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new St(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new St(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Kr.fromMillis(Date.now())}static fromDate(e){return Kr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*t));return new Kr(t,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?jn(this.nanoseconds,e.nanoseconds):jn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Nn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Nn(e)}static min(){return new Nn(new Kr(0,0))}static max(){return new Nn(new Kr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class sa{constructor(e,t,o){void 0===t?t=0:t>e.length&&ln(),void 0===o?o=e.length-t:o>e.length-t&&ln(),this.segments=e,this.offset=t,this.len=o}get length(){return this.len}isEqual(e){return 0===sa.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof sa?e.forEach(o=>{t.push(o)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,o=this.limit();t<o;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const o=Math.min(e.length,t.length);for(let d=0;d<o;d++){const m=e.get(d),w=t.get(d);if(m<w)return-1;if(m>w)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Ir extends sa{construct(e,t,o){return new Ir(e,t,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const o of e){if(o.indexOf("//")>=0)throw new St(rt.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);t.push(...o.split("/").filter(d=>d.length>0))}return new Ir(t)}static emptyPath(){return new Ir([])}}const yl=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vr extends sa{construct(e,t,o){return new vr(e,t,o)}static isValidIdentifier(e){return yl.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new vr(["__name__"])}static fromServerFormat(e){const t=[];let o="",d=0;const m=()=>{if(0===o.length)throw new St(rt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(o),o=""};let w=!1;for(;d<e.length;){const N=e[d];if("\\"===N){if(d+1===e.length)throw new St(rt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const $=e[d+1];if("\\"!==$&&"."!==$&&"`"!==$)throw new St(rt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=$,d+=2}else"`"===N?(w=!w,d++):"."!==N||w?(o+=N,d++):(m(),d++)}if(m(),w)throw new St(rt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new vr(t)}static emptyPath(){return new vr([])}}class Jt{constructor(e){this.path=e}static fromPath(e){return new Jt(Ir.fromString(e))}static fromName(e){return new Jt(Ir.fromString(e).popFirst(5))}static empty(){return new Jt(Ir.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Ir.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Ir.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Jt(new Ir(e.slice()))}}class ms{constructor(e,t,o,d){this.indexId=e,this.collectionGroup=t,this.fields=o,this.indexState=d}}function Ja(i){return i.fields.find(e=>2===e.kind)}function Ls(i){return i.fields.filter(e=>2!==e.kind)}ms.UNKNOWN_ID=-1;class nu{constructor(e,t){this.fieldPath=e,this.kind=t}}class cr{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new cr(0,Vs.min())}}function Bl(i,e){const t=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,d=Nn.fromTimestamp(1e9===o?new Kr(t+1,0):new Kr(t,o));return new Vs(d,Jt.empty(),e)}function Gc(i){return new Vs(i.readTime,i.key,-1)}class Vs{constructor(e,t,o){this.readTime=e,this.documentKey=t,this.largestBatchId=o}static min(){return new Vs(Nn.min(),Jt.empty(),-1)}static max(){return new Vs(Nn.max(),Jt.empty(),-1)}}function ru(i,e){let t=i.readTime.compareTo(e.readTime);return 0!==t?t:(t=Jt.comparator(i.documentKey,e.documentKey),0!==t?t:jn(i.largestBatchId,e.largestBatchId))}const _s="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Qa{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function oa(i){return yo.apply(this,arguments)}function yo(){return yo=(0,Se.Z)(function*(i){if(i.code!==rt.FAILED_PRECONDITION||i.message!==_s)throw i;mt("LocalStore","Unexpectedly lost primary lease")}),yo.apply(this,arguments)}class it{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ln(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new it((o,d)=>{this.nextCallback=m=>{this.wrapSuccess(e,m).next(o,d)},this.catchCallback=m=>{this.wrapFailure(t,m).next(o,d)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof it?t:it.resolve(t)}catch(t){return it.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):it.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):it.reject(t)}static resolve(e){return new it((t,o)=>{t(e)})}static reject(e){return new it((t,o)=>{o(e)})}static waitFor(e){return new it((t,o)=>{let d=0,m=0,w=!1;e.forEach(N=>{++d,N.next(()=>{++m,w&&m===d&&t()},$=>o($))}),w=!0,m===d&&t()})}static or(e){let t=it.resolve(!1);for(const o of e)t=t.next(d=>d?it.resolve(d):o());return t}static forEach(e,t){const o=[];return e.forEach((d,m)=>{o.push(t.call(this,d,m))}),this.waitFor(o)}static mapArray(e,t){return new it((o,d)=>{const m=e.length,w=new Array(m);let N=0;for(let $=0;$<m;$++){const W=$;t(e[W]).next(re=>{w[W]=re,++N,N===m&&o(w)},re=>d(re))}})}static doWhile(e,t){return new it((o,d)=>{const m=()=>{!0===e()?t().next(()=>{m()},d):o()};m()})}}class iu{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.R=new Ei,this.transaction.oncomplete=()=>{this.R.resolve()},this.transaction.onabort=()=>{t.error?this.R.reject(new aa(e,t.error)):this.R.resolve()},this.transaction.onerror=o=>{const d=$l(o.target.error);this.R.reject(new aa(e,d))}}static open(e,t,o,d){try{return new iu(t,e.transaction(d,o))}catch(m){throw new aa(t,m)}}get v(){return this.R.promise}abort(e){e&&this.R.reject(e),this.aborted||(mt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new nc(t)}}class Jr{constructor(e,t,o){this.name=e,this.version=t,this.V=o,12.2===Jr.S((0,Fe.z$)())&&Er("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return mt("SimpleDb","Removing database:",e),Ri(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,Fe.hl)())return!1;if(Jr.C())return!0;const e=(0,Fe.z$)(),t=Jr.S(e),o=0<t&&t<10,d=Jr.N(e),m=0<d&&d<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||m)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static O(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static N(e){const t=e.match(/Android ([\d.]+)/i),o=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(o)}$(e){var t=this;return(0,Se.Z)(function*(){return t.db||(mt("SimpleDb","Opening database:",t.name),t.db=yield new Promise((o,d)=>{const m=indexedDB.open(t.name,t.version);m.onsuccess=w=>{o(w.target.result)},m.onblocked=()=>{d(new aa(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},m.onerror=w=>{const N=w.target.error;d("VersionError"===N.name?new St(rt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===N.name?new St(rt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+N):new aa(e,N))},m.onupgradeneeded=w=>{mt("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',w.oldVersion),t.V.M(w.target.result,m.transaction,w.oldVersion,t.version).next(()=>{mt("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=o=>t.F(o)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,o,d){var m=this;return(0,Se.Z)(function*(){const w="readonly"===t;let N=0;for(;;){++N;try{m.db=yield m.$(e);const $=iu.open(m.db,e,w?"readonly":"readwrite",o),W=d($).next(re=>($.P(),re)).catch(re=>($.abort(re),it.reject(re))).toPromise();return W.catch(()=>{}),yield $.v,W}catch($){const W=$,re="FirebaseError"!==W.name&&N<3;if(mt("SimpleDb","Transaction failed with error:",W.message,"Retrying:",re),m.close(),!re)return Promise.reject(W)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Iu{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return Ri(this.L.delete())}}class aa extends St{constructor(e,t){super(rt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function fi(i){return"IndexedDbTransactionError"===i.name}class nc{constructor(e){this.store=e}put(e,t){let o;return void 0!==t?(mt("SimpleDb","PUT",this.store.name,e,t),o=this.store.put(t,e)):(mt("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),Ri(o)}add(e){return mt("SimpleDb","ADD",this.store.name,e,e),Ri(this.store.add(e))}get(e){return Ri(this.store.get(e)).next(t=>(void 0===t&&(t=null),mt("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return mt("SimpleDb","DELETE",this.store.name,e),Ri(this.store.delete(e))}count(){return mt("SimpleDb","COUNT",this.store.name),Ri(this.store.count())}j(e,t){const o=this.options(e,t);if(o.index||"function"!=typeof this.store.getAll){const d=this.cursor(o),m=[];return this.W(d,(w,N)=>{m.push(N)}).next(()=>m)}{const d=this.store.getAll(o.range);return new it((m,w)=>{d.onerror=N=>{w(N.target.error)},d.onsuccess=N=>{m(N.target.result)}})}}H(e,t){const o=this.store.getAll(e,null===t?void 0:t);return new it((d,m)=>{o.onerror=w=>{m(w.target.error)},o.onsuccess=w=>{d(w.target.result)}})}J(e,t){mt("SimpleDb","DELETE ALL",this.store.name);const o=this.options(e,t);o.Y=!1;const d=this.cursor(o);return this.W(d,(m,w,N)=>N.delete())}Z(e,t){let o;t?o=e:(o={},t=e);const d=this.cursor(o);return this.W(d,t)}X(e){const t=this.cursor({});return new it((o,d)=>{t.onerror=m=>{const w=$l(m.target.error);d(w)},t.onsuccess=m=>{const w=m.target.result;w?e(w.primaryKey,w.value).next(N=>{N?w.continue():o()}):o()}})}W(e,t){const o=[];return new it((d,m)=>{e.onerror=w=>{m(w.target.error)},e.onsuccess=w=>{const N=w.target.result;if(!N)return void d();const $=new Iu(N),W=t(N.primaryKey,N.value,$);if(W instanceof it){const re=W.catch(De=>($.done(),it.reject(De)));o.push(re)}$.isDone?d():null===$.K?N.continue():N.continue($.K)}}).next(()=>it.waitFor(o))}options(e,t){let o;return void 0!==e&&("string"==typeof e?o=e:t=e),{index:o,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const o=this.store.index(e.index);return e.Y?o.openKeyCursor(e.range,t):o.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Ri(i){return new it((e,t)=>{i.onsuccess=o=>{e(o.target.result)},i.onerror=o=>{const d=$l(o.target.error);t(d)}})}let io=!1;function $l(i){const e=Jr.S((0,Fe.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(t)>=0){const o=new St("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return io||(io=!0,setTimeout(()=>{throw o},0)),o}}return i}class va{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;mt("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Se.Z)(function*(){t.task=null;try{mt("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(o){fi(o)?mt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",o):yield oa(o)}yield t.et(6e4)}))}}class vl{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,Se.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",o=>t.st(o,e))})()}st(e,t){const o=new Set;let d=t,m=!0;return it.doWhile(()=>!0===m&&d>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(w=>{if(null!==w&&!o.has(w))return mt("IndexBackiller",`Processing collection: ${w}`),this.it(e,w,d).next(N=>{d-=N,o.add(w)});m=!1})).next(()=>t-d)}it(e,t,o){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(d=>this.localStore.localDocuments.getNextDocuments(e,t,d,o).next(m=>{const w=m.changes;return this.localStore.indexManager.updateIndexEntries(e,w).next(()=>this.rt(d,m)).next(N=>(mt("IndexBackiller",`Updating offset: ${N}`),this.localStore.indexManager.updateCollectionGroup(e,t,N))).next(()=>w.size)}))}rt(e,t){let o=e;return t.changes.forEach((d,m)=>{const w=Gc(m);ru(w,o)>0&&(o=w)}),new Vs(o.readTime,o.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Es=(()=>{class i{constructor(t,o){this.previousValue=t,o&&(o.sequenceNumberHandler=d=>this.ot(d),this.ut=d=>o.writeSequenceNumber(d))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return i.ct=-1,i})();function T(i){return null==i}function A(i){return 0===i&&1/i==-1/0}function E(i){return"number"==typeof i&&Number.isInteger(i)&&!A(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}function R(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=Q(e)),e=U(i.get(t),e);return Q(e)}function U(i,e){let t=e;const o=i.length;for(let d=0;d<o;d++){const m=i.charAt(d);switch(m){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=m}}return t}function Q(i){return i+"\x01\x01"}function le(i){const e=i.length;if(en(e>=2),2===e)return en("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),Ir.emptyPath();const t=e-2,o=[];let d="";for(let m=0;m<e;){const w=i.indexOf("\x01",m);switch((w<0||w>t)&&ln(),i.charAt(w+1)){case"\x01":const N=i.substring(m,w);let $;0===d.length?$=N:(d+=N,$=d,d=""),o.push($);break;case"\x10":d+=i.substring(m,w),d+="\0";break;case"\x11":d+=i.substring(m,w+1);break;default:ln()}m=w+2}return new Ir(o)}const ye=["userId","batchId"];function ft(i,e){return[i,R(e)]}function nn(i,e,t){return[i,R(e),t]}const or={},Qt=["prefixPath","collectionGroup","readTime","documentId"],Qn=["prefixPath","collectionGroup","documentId"],Yi=["collectionGroup","readTime","prefixPath","documentId"],so=["canonicalId","targetId"],la=["targetId","path"],Zs=["path","targetId"],Xa=["collectionId","parent"],$a=["indexId","uid"],bl=["uid","sequenceNumber"],ba=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],wl=["indexId","uid","orderedDocumentKey"],Ld=["userId","collectionPath","documentId"],su=["userId","collectionPath","largestBatchId"],Dl=["userId","collectionGroup","largestBatchId"],rc=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Mo=[...rc,"documentOverlays"],Ha=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],ic=Ha,pi=[...ic,"indexConfiguration","indexState","indexEntries"];class Hl extends Qa{constructor(e,t){super(),this.at=e,this.currentSequenceNumber=t}}function rs(i,e){const t=Ft(i);return Jr.O(t.at,e)}function Tu(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function F(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function H(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class Y{constructor(e,t){this.comparator=e,this.root=t||ke.EMPTY}insert(e,t){return new Y(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ke.BLACK,null,null))}remove(e){return new Y(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ke.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const o=this.comparator(e,t.key);if(0===o)return t.value;o<0?t=t.left:o>0&&(t=t.right)}return null}indexOf(e){let t=0,o=this.root;for(;!o.isEmpty();){const d=this.comparator(e,o.key);if(0===d)return t+o.left.size;d<0?o=o.left:(t+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,o)=>(e(t,o),!1))}toString(){const e=[];return this.inorderTraversal((t,o)=>(e.push(`${t}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _e(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _e(this.root,e,this.comparator,!1)}getReverseIterator(){return new _e(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _e(this.root,e,this.comparator,!0)}}class _e{constructor(e,t,o,d){this.isReverse=d,this.nodeStack=[];let m=1;for(;!e.isEmpty();)if(m=t?o(e.key,t):1,t&&d&&(m*=-1),m<0)e=this.isReverse?e.left:e.right;else{if(0===m){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ke{constructor(e,t,o,d,m){this.key=e,this.value=t,this.color=o??ke.RED,this.left=d??ke.EMPTY,this.right=m??ke.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,o,d,m){return new ke(e??this.key,t??this.value,o??this.color,d??this.left,m??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,o){let d=this;const m=o(e,d.key);return d=m<0?d.copy(null,null,null,d.left.insert(e,t,o),null):0===m?d.copy(null,t,null,null,null):d.copy(null,null,null,null,d.right.insert(e,t,o)),d.fixUp()}removeMin(){if(this.left.isEmpty())return ke.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let o,d=this;if(t(e,d.key)<0)d.left.isEmpty()||d.left.isRed()||d.left.left.isRed()||(d=d.moveRedLeft()),d=d.copy(null,null,null,d.left.remove(e,t),null);else{if(d.left.isRed()&&(d=d.rotateRight()),d.right.isEmpty()||d.right.isRed()||d.right.left.isRed()||(d=d.moveRedRight()),0===t(e,d.key)){if(d.right.isEmpty())return ke.EMPTY;o=d.right.min(),d=d.copy(o.key,o.value,null,null,d.right.removeMin())}d=d.copy(null,null,null,null,d.right.remove(e,t))}return d.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ke.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ke.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ln();const e=this.left.check();if(e!==this.right.check())throw ln();return e+(this.isRed()?0:1)}}ke.EMPTY=null,ke.RED=!0,ke.BLACK=!1,ke.EMPTY=new class{constructor(){this.size=0}get key(){throw ln()}get value(){throw ln()}get color(){throw ln()}get left(){throw ln()}get right(){throw ln()}copy(i,e,t,o,d){return this}insert(i,e,t){return new ke(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Le{constructor(e){this.comparator=e,this.data=new Y(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,o)=>(e(t),!1))}forEachInRange(e,t){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const d=o.getNext();if(this.comparator(d.key,e[1])>=0)return;t(d.key)}}forEachWhile(e,t){let o;for(o=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Bt(this.data.getIterator())}getIteratorFrom(e){return new Bt(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(o=>{t=t.add(o)}),t}isEqual(e){if(!(e instanceof Le)||this.size!==e.size)return!1;const t=this.data.getIterator(),o=e.data.getIterator();for(;t.hasNext();){const d=t.getNext().key,m=o.getNext().key;if(0!==this.comparator(d,m))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Le(this.comparator);return t.data=e,t}}class Bt{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function gn(i){return i.hasNext()?i.getNext():void 0}class bn{constructor(e){this.fields=e,e.sort(vr.comparator)}static empty(){return new bn([])}unionWith(e){let t=new Le(vr.comparator);for(const o of this.fields)t=t.add(o);for(const o of e)t=t.add(o);return new bn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Fs(this.fields,e.fields,(t,o)=>t.isEqual(o))}}class Bn extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Dn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(d){throw typeof DOMException<"u"&&d instanceof DOMException?new Bn("Invalid base64 string: "+d):d}}(e);return new Dn(t)}static fromUint8Array(e){const t=function(o){let d="";for(let m=0;m<o.length;++m)d+=String.fromCharCode(o[m]);return d}(e);return new Dn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let o=0;o<e.length;o++)t[o]=e.charCodeAt(o);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return jn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Dn.EMPTY_BYTE_STRING=new Dn("");const oo=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function yi(i){if(en(!!i),"string"==typeof i){let e=0;const t=oo.exec(i);if(en(!!t),t[1]){let d=t[1];d=(d+"000000000").substr(0,9),e=Number(d)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:ui(i.seconds),nanos:ui(i.nanos)}}function ui(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function vo(i){return"string"==typeof i?Dn.fromBase64String(i):Dn.fromUint8Array(i)}function $o(i){var e,t;return"server_timestamp"===(null===(t=((null===(e=i?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function No(i){const e=i.mapValue.fields.__previous_value__;return $o(e)?No(e):e}function Ho(i){const e=yi(i.mapValue.fields.__local_write_time__.timestampValue);return new Kr(e.seconds,e.nanos)}class sc{constructor(e,t,o,d,m,w,N,$){this.databaseId=e,this.appId=t,this.persistenceKey=o,this.host=d,this.ssl=m,this.forceLongPolling=w,this.autoDetectLongPolling=N,this.useFetchStreams=$}}class Cl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Cl("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Cl&&e.projectId===this.projectId&&e.database===this.database}}const El={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},zc={nullValue:"NULL_VALUE"};function ou(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?$o(i)?4:qc(i)?9007199254740991:10:ln()}function el(i,e){if(i===e)return!0;const t=ou(i);if(t!==ou(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Ho(i).isEqual(Ho(e));case 3:return function(o,d){if("string"==typeof o.timestampValue&&"string"==typeof d.timestampValue&&o.timestampValue.length===d.timestampValue.length)return o.timestampValue===d.timestampValue;const m=yi(o.timestampValue),w=yi(d.timestampValue);return m.seconds===w.seconds&&m.nanos===w.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return d=e,vo(i.bytesValue).isEqual(vo(d.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,d){return ui(o.geoPointValue.latitude)===ui(d.geoPointValue.latitude)&&ui(o.geoPointValue.longitude)===ui(d.geoPointValue.longitude)}(i,e);case 2:return function(o,d){if("integerValue"in o&&"integerValue"in d)return ui(o.integerValue)===ui(d.integerValue);if("doubleValue"in o&&"doubleValue"in d){const m=ui(o.doubleValue),w=ui(d.doubleValue);return m===w?A(m)===A(w):isNaN(m)&&isNaN(w)}return!1}(i,e);case 9:return Fs(i.arrayValue.values||[],e.arrayValue.values||[],el);case 10:return function(o,d){const m=o.mapValue.fields||{},w=d.mapValue.fields||{};if(Tu(m)!==Tu(w))return!1;for(const N in m)if(m.hasOwnProperty(N)&&(void 0===w[N]||!el(m[N],w[N])))return!1;return!0}(i,e);default:return ln()}var d}function tl(i,e){return void 0!==(i.values||[]).find(t=>el(t,e))}function Il(i,e){if(i===e)return 0;const t=ou(i),o=ou(e);if(t!==o)return jn(t,o);switch(t){case 0:case 9007199254740991:return 0;case 1:return jn(i.booleanValue,e.booleanValue);case 2:return function(d,m){const w=ui(d.integerValue||d.doubleValue),N=ui(m.integerValue||m.doubleValue);return w<N?-1:w>N?1:w===N?0:isNaN(w)?isNaN(N)?0:-1:1}(i,e);case 3:return Lh(i.timestampValue,e.timestampValue);case 4:return Lh(Ho(i),Ho(e));case 5:return jn(i.stringValue,e.stringValue);case 6:return function(d,m){const w=vo(d),N=vo(m);return w.compareTo(N)}(i.bytesValue,e.bytesValue);case 7:return function(d,m){const w=d.split("/"),N=m.split("/");for(let $=0;$<w.length&&$<N.length;$++){const W=jn(w[$],N[$]);if(0!==W)return W}return jn(w.length,N.length)}(i.referenceValue,e.referenceValue);case 8:return function(d,m){const w=jn(ui(d.latitude),ui(m.latitude));return 0!==w?w:jn(ui(d.longitude),ui(m.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(d,m){const w=d.values||[],N=m.values||[];for(let $=0;$<w.length&&$<N.length;++$){const W=Il(w[$],N[$]);if(W)return W}return jn(w.length,N.length)}(i.arrayValue,e.arrayValue);case 10:return function(d,m){if(d===El.mapValue&&m===El.mapValue)return 0;if(d===El.mapValue)return 1;if(m===El.mapValue)return-1;const w=d.fields||{},N=Object.keys(w),$=m.fields||{},W=Object.keys($);N.sort(),W.sort();for(let re=0;re<N.length&&re<W.length;++re){const De=jn(N[re],W[re]);if(0!==De)return De;const Ye=Il(w[N[re]],$[W[re]]);if(0!==Ye)return Ye}return jn(N.length,W.length)}(i.mapValue,e.mapValue);default:throw ln()}}function Lh(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return jn(i,e);const t=yi(i),o=yi(e),d=jn(t.seconds,o.seconds);return 0!==d?d:jn(t.nanos,o.nanos)}function jl(i){return Vh(i)}function Vh(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(o){const d=yi(o);return`time(${d.seconds},${d.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?vo(i.bytesValue).toBase64():"referenceValue"in i?Jt.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(o){let d="[",m=!0;for(const w of o.values||[])m?m=!1:d+=",",d+=Vh(w);return d+"]"}(i.arrayValue):"mapValue"in i?function(o){const d=Object.keys(o.fields||{}).sort();let m="{",w=!0;for(const N of d)w?w=!1:m+=",",m+=`${N}:${Vh(o.fields[N])}`;return m+"}"}(i.mapValue):ln();var e}function ja(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Uh(i){return!!i&&"integerValue"in i}function oc(i){return!!i&&"arrayValue"in i}function Bh(i){return!!i&&"nullValue"in i}function Zc(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Vd(i){return!!i&&"mapValue"in i}function Wc(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return F(i.mapValue.fields,(t,o)=>e.mapValue.fields[t]=Wc(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Wc(i.arrayValue.values[t]);return e}return Object.assign({},i)}function qc(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function Hp(i){return"nullValue"in i?zc:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?ja(Cl.empty(),Jt.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:ln()}function $h(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?ja(Cl.empty(),Jt.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?El:ln()}function Bf(i,e){const t=Il(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?-1:!i.inclusive&&e.inclusive?1:0}function $f(i,e){const t=Il(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?1:!i.inclusive&&e.inclusive?-1:0}class ao{constructor(e){this.value=e}static empty(){return new ao({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let o=0;o<e.length-1;++o)if(t=(t.mapValue.fields||{})[e.get(o)],!Vd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wc(t)}setAll(e){let t=vr.emptyPath(),o={},d=[];e.forEach((w,N)=>{if(!t.isImmediateParentOf(N)){const $=this.getFieldsMap(t);this.applyChanges($,o,d),o={},d=[],t=N.popLast()}w?o[N.lastSegment()]=Wc(w):d.push(N.lastSegment())});const m=this.getFieldsMap(t);this.applyChanges(m,o,d)}delete(e){const t=this.field(e.popLast());Vd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return el(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let o=0;o<e.length;++o){let d=t.mapValue.fields[e.get(o)];Vd(d)&&d.mapValue.fields||(d={mapValue:{fields:{}}},t.mapValue.fields[e.get(o)]=d),t=d}return t.mapValue.fields}applyChanges(e,t,o){F(t,(d,m)=>e[d]=m);for(const d of o)delete e[d]}clone(){return new ao(Wc(this.value))}}function Hh(i){const e=[];return F(i.fields,(t,o)=>{const d=new vr([t]);if(Vd(o)){const m=Hh(o.mapValue).fields;if(0===m.length)e.push(d);else for(const w of m)e.push(d.child(w))}else e.push(d)}),new bn(e)}class Ii{constructor(e,t,o,d,m,w,N){this.key=e,this.documentType=t,this.version=o,this.readTime=d,this.createTime=m,this.data=w,this.documentState=N}static newInvalidDocument(e){return new Ii(e,0,Nn.min(),Nn.min(),Nn.min(),ao.empty(),0)}static newFoundDocument(e,t,o,d){return new Ii(e,1,t,Nn.min(),o,d,0)}static newNoDocument(e,t){return new Ii(e,2,t,Nn.min(),Nn.min(),ao.empty(),0)}static newUnknownDocument(e,t){return new Ii(e,3,t,Nn.min(),Nn.min(),ao.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Nn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ao.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ao.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Nn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ii&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ii(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ga{constructor(e,t){this.position=e,this.inclusive=t}}function Ud(i,e,t){let o=0;for(let d=0;d<i.position.length;d++){const m=e[d],w=i.position[d];if(o=m.field.isKeyField()?Jt.comparator(Jt.fromName(w.referenceValue),t.key):Il(w,t.data.field(m.field)),"desc"===m.dir&&(o*=-1),0!==o)break}return o}function Bd(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!el(i.position[t],e.position[t]))return!1;return!0}class au{constructor(e,t="asc"){this.field=e,this.dir=t}}function nl(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class Yc{}class Pr extends Yc{constructor(e,t,o){super(),this.field=e,this.op=t,this.value=o}static create(e,t,o){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,o):new Ws(e,t,o):"array-contains"===t?new bo(e,o):"in"===t?new Au(e,o):"not-in"===t?new Gh(e,o):"array-contains-any"===t?new Hf(e,o):new Pr(e,t,o)}static createKeyFieldInFilter(e,t,o){return"in"===t?new Qc(e,o):new Gd(e,o)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Il(t,this.value)):null!==t&&ou(this.value)===ou(t)&&this.matchesComparison(Il(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ln()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Wr extends Yc{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new Wr(e,t)}matches(e){return lu(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function lu(i){return"and"===i.op}function Su(i){return"or"===i.op}function $d(i){return Kc(i)&&lu(i)}function Kc(i){for(const e of i.filters)if(e instanceof Wr)return!1;return!0}function Hd(i){if(i instanceof Pr)return i.field.canonicalString()+i.op.toString()+jl(i.value);if($d(i))return i.filters.map(e=>Hd(e)).join(",");{const e=i.filters.map(t=>Hd(t)).join(",");return`${i.op}(${e})`}}function jh(i,e){return i instanceof Pr?(t=i,(o=e)instanceof Pr&&t.op===o.op&&t.field.isEqual(o.field)&&el(t.value,o.value)):i instanceof Wr?function(t,o){return o instanceof Wr&&t.op===o.op&&t.filters.length===o.filters.length&&t.filters.reduce((d,m,w)=>d&&jh(m,o.filters[w]),!0)}(i,e):void ln();var t,o}function Jc(i,e){const t=i.filters.concat(e);return Wr.create(t,i.op)}function jd(i){return i instanceof Pr?`${(e=i).field.canonicalString()} ${e.op} ${jl(e.value)}`:i instanceof Wr?function(e){return e.op.toString()+" {"+e.getFilters().map(jd).join(" ,")+"}"}(i):"Filter";var e}class Ws extends Pr{constructor(e,t,o){super(e,t,o),this.key=Jt.fromName(o.referenceValue)}matches(e){const t=Jt.comparator(e.key,this.key);return this.matchesComparison(t)}}class Qc extends Pr{constructor(e,t){super(e,"in",t),this.keys=Xc(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Gd extends Pr{constructor(e,t){super(e,"not-in",t),this.keys=Xc(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Xc(i,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(o=>Jt.fromName(o.referenceValue))}class bo extends Pr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return oc(t)&&tl(t.arrayValue,this.value)}}class Au extends Pr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&tl(this.value.arrayValue,t)}}class Gh extends Pr{constructor(e,t){super(e,"not-in",t)}matches(e){if(tl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!tl(this.value.arrayValue,t)}}class Hf extends Pr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!oc(t)||!t.arrayValue.values)&&t.arrayValue.values.some(o=>tl(this.value.arrayValue,o))}}class zh{constructor(e,t=null,o=[],d=[],m=null,w=null,N=null){this.path=e,this.collectionGroup=t,this.orderBy=o,this.filters=d,this.limit=m,this.startAt=w,this.endAt=N,this.ft=null}}function ed(i,e=null,t=[],o=[],d=null,m=null,w=null){return new zh(i,e,t,o,d,m,w)}function Mu(i){const e=Ft(i);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(o=>Hd(o)).join(","),t+="|ob:",t+=e.orderBy.map(o=>{return(d=o).field.canonicalString()+d.dir;var d}).join(","),T(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>jl(o)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>jl(o)).join(",")),e.ft=t}return e.ft}function wa(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!nl(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!jh(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Bd(i.startAt,e.startAt)&&Bd(i.endAt,e.endAt)}function td(i){return Jt.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function ac(i,e){return i.filters.filter(t=>t instanceof Pr&&t.field.isEqual(e))}function nd(i,e,t){let o=zc,d=!0;for(const m of ac(i,e)){let w=zc,N=!0;switch(m.op){case"<":case"<=":w=Hp(m.value);break;case"==":case"in":case">=":w=m.value;break;case">":w=m.value,N=!1;break;case"!=":case"not-in":w=zc}Bf({value:o,inclusive:d},{value:w,inclusive:N})<0&&(o=w,d=N)}if(null!==t)for(let m=0;m<i.orderBy.length;++m)if(i.orderBy[m].field.isEqual(e)){const w=t.position[m];Bf({value:o,inclusive:d},{value:w,inclusive:t.inclusive})<0&&(o=w,d=t.inclusive);break}return{value:o,inclusive:d}}function Zh(i,e,t){let o=El,d=!0;for(const m of ac(i,e)){let w=El,N=!0;switch(m.op){case">=":case">":w=$h(m.value),N=!1;break;case"==":case"in":case"<=":w=m.value;break;case"<":w=m.value,N=!1;break;case"!=":case"not-in":w=El}$f({value:o,inclusive:d},{value:w,inclusive:N})>0&&(o=w,d=N)}if(null!==t)for(let m=0;m<i.orderBy.length;++m)if(i.orderBy[m].field.isEqual(e)){const w=t.position[m];$f({value:o,inclusive:d},{value:w,inclusive:t.inclusive})>0&&(o=w,d=t.inclusive);break}return{value:o,inclusive:d}}class ua{constructor(e,t=null,o=[],d=[],m=null,w="F",N=null,$=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=o,this.filters=d,this.limit=m,this.limitType=w,this.startAt=N,this.endAt=$,this.dt=null,this.wt=null}}function rd(i,e,t,o,d,m,w,N){return new ua(i,e,t,o,d,m,w,N)}function Nu(i){return new ua(i)}function lc(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function zd(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function Gl(i){for(const e of i.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function uc(i){return null!==i.collectionGroup}function uu(i){const e=Ft(i);if(null===e.dt){e.dt=[];const t=Gl(e),o=zd(e);if(null!==t&&null===o)t.isKeyField()||e.dt.push(new au(t)),e.dt.push(new au(vr.keyField(),"asc"));else{let d=!1;for(const m of e.explicitOrderBy)e.dt.push(m),m.field.isKeyField()&&(d=!0);if(!d){const m=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new au(vr.keyField(),m))}}}return e.dt}function lo(i){const e=Ft(i);if(!e.wt)if("F"===e.limitType)e.wt=ed(e.path,e.collectionGroup,uu(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const m of uu(e))t.push(new au(m.field,"desc"===m.dir?"asc":"desc"));const o=e.endAt?new Ga(e.endAt.position,e.endAt.inclusive):null,d=e.startAt?new Ga(e.startAt.position,e.startAt.inclusive):null;e.wt=ed(e.path,e.collectionGroup,t,e.filters,e.limit,o,d)}return e.wt}function cc(i,e){e.getFirstInequalityField(),Gl(i);const t=i.filters.concat([e]);return new ua(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function dc(i,e,t){return new ua(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function id(i,e){return wa(lo(i),lo(e))&&i.limitType===e.limitType}function zl(i){return`${Mu(lo(i))}|lt:${i.limitType}`}function cu(i){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(o=>jd(o)).join(", ")}]`),T(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(o=>{return`${(d=o).field.canonicalString()} (${d.dir})`;var d}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>jl(o)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>jl(o)).join(",")),`Target(${t})`}(lo(i))}; limitType=${i.limitType})`}function xu(i,e){return e.isFoundDocument()&&function(t,o){const d=o.key.path;return null!==t.collectionGroup?o.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(d):Jt.isDocumentKey(t.path)?t.path.isEqual(d):t.path.isImmediateParentOf(d)}(i,e)&&function(t,o){for(const d of uu(t))if(!d.field.isKeyField()&&null===o.data.field(d.field))return!1;return!0}(i,e)&&function(t,o){for(const d of t.filters)if(!d.matches(o))return!1;return!0}(i,e)&&(o=e,!((t=i).startAt&&!function(d,m,w){const N=Ud(d,m,w);return d.inclusive?N<=0:N<0}(t.startAt,uu(t),o)||t.endAt&&!function(d,m,w){const N=Ud(d,m,w);return d.inclusive?N>=0:N>0}(t.endAt,uu(t),o)));var t,o}function qs(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function rl(i){return(e,t)=>{let o=!1;for(const d of uu(i)){const m=ku(d,e,t);if(0!==m)return m;o=o||d.field.isKeyField()}return 0}}function ku(i,e,t){const o=i.field.isKeyField()?Jt.comparator(e.key,t.key):function(d,m,w){const N=m.data.field(d),$=w.data.field(d);return null!==N&&null!==$?Il(N,$):ln()}(i.field,e,t);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return ln()}}class za{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0!==o)for(const[d,m]of o)if(this.equalsFn(d,e))return m}has(e){return void 0!==this.get(e)}set(e,t){const o=this.mapKeyFn(e),d=this.inner[o];if(void 0===d)return this.inner[o]=[[e,t]],void this.innerSize++;for(let m=0;m<d.length;m++)if(this.equalsFn(d[m][0],e))return void(d[m]=[e,t]);d.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0===o)return!1;for(let d=0;d<o.length;d++)if(this.equalsFn(o[d][0],e))return 1===o.length?delete this.inner[t]:o.splice(d,1),this.innerSize--,!0;return!1}forEach(e){F(this.inner,(t,o)=>{for(const[d,m]of o)e(d,m)})}isEmpty(){return H(this.inner)}size(){return this.innerSize}}const is=new Y(Jt.comparator);function Sr(){return is}const Tl=new Y(Jt.comparator);function il(...i){let e=Tl;for(const t of i)e=e.insert(t.key,t);return e}function Zd(i){let e=Tl;return i.forEach((t,o)=>e=e.insert(t,o.overlayedDocument)),e}function jo(){return Da()}function Wd(){return Da()}function Da(){return new za(i=>i.toString(),(i,e)=>i.isEqual(e))}const jf=new Y(Jt.comparator),Wh=new Le(Jt.comparator);function Xn(...i){let e=Wh;for(const t of i)e=e.add(t);return e}const Us=new Le(jn);function Za(){return Us}function qd(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:A(e)?"-0":e}}function Yd(i){return{integerValue:""+i}}function Gf(i,e){return E(e)?Yd(e):qd(i,e)}class Kd{constructor(){this._=void 0}}function Sl(i,e,t){return i instanceof Zl?function(o,d){const m={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return d&&(m.fields.__previous_value__=d),{mapValue:m}}(t,e):i instanceof sl?Ru(i,e):i instanceof ol?Ys(i,e):function(o,d){const m=hc(o,d),w=Ou(m)+Ou(o._t);return Uh(m)&&Uh(o._t)?Yd(w):qd(o.serializer,w)}(i,e)}function ys(i,e,t){return i instanceof sl?Ru(i,e):i instanceof ol?Ys(i,e):t}function hc(i,e){return i instanceof Go?Uh(t=e)||(o=t)&&"doubleValue"in o?e:{integerValue:0}:null;var o,t}class Zl extends Kd{}class sl extends Kd{constructor(e){super(),this.elements=e}}function Ru(i,e){const t=fc(e);for(const o of i.elements)t.some(d=>el(d,o))||t.push(o);return{arrayValue:{values:t}}}class ol extends Kd{constructor(e){super(),this.elements=e}}function Ys(i,e){let t=fc(e);for(const o of i.elements)t=t.filter(d=>!el(d,o));return{arrayValue:{values:t}}}class Go extends Kd{constructor(e,t){super(),this.serializer=e,this._t=t}}function Ou(i){return ui(i.integerValue||i.doubleValue)}function fc(i){return oc(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class al{constructor(e,t){this.field=e,this.transform=t}}class Pu{constructor(e,t){this.version=e,this.transformResults=t}}class Ai{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ai}static exists(e){return new Ai(void 0,e)}static updateTime(e){return new Ai(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function pc(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class ll{}function gc(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new ca(i.key,Ai.none()):new Oi(i.key,i.data,Ai.none());{const t=i.data,o=ao.empty();let d=new Le(vr.comparator);for(let m of e.fields)if(!d.has(m)){let w=t.field(m);null===w&&m.length>1&&(m=m.popLast(),w=t.field(m)),null===w?o.delete(m):o.set(m,w),d=d.add(m)}return new ul(i.key,o,new bn(d.toArray()),Ai.none())}}function od(i,e,t){i instanceof Oi?function(o,d,m){const w=o.value.clone(),N=zf(o.fieldTransforms,d,m.transformResults);w.setAll(N),d.convertToFoundDocument(m.version,w).setHasCommittedMutations()}(i,e,t):i instanceof ul?function(o,d,m){if(!pc(o.precondition,d))return void d.convertToUnknownDocument(m.version);const w=zf(o.fieldTransforms,d,m.transformResults),N=d.data;N.setAll(mc(o)),N.setAll(w),d.convertToFoundDocument(m.version,N).setHasCommittedMutations()}(i,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function du(i,e,t,o){return i instanceof Oi?function(d,m,w,N){if(!pc(d.precondition,m))return w;const $=d.value.clone(),W=uo(d.fieldTransforms,N,m);return $.setAll(W),m.convertToFoundDocument(m.version,$).setHasLocalMutations(),null}(i,e,t,o):i instanceof ul?function(d,m,w,N){if(!pc(d.precondition,m))return w;const $=uo(d.fieldTransforms,N,m),W=m.data;return W.setAll(mc(d)),W.setAll($),m.convertToFoundDocument(m.version,W).setHasLocalMutations(),null===w?null:w.unionWith(d.fieldMask.fields).unionWith(d.fieldTransforms.map(re=>re.field))}(i,e,t,o):(w=t,pc(i.precondition,m=e)?(m.convertToNoDocument(m.version).setHasLocalMutations(),null):w);var m,w}function ad(i,e){let t=null;for(const o of i.fieldTransforms){const d=e.data.field(o.field),m=hc(o.transform,d||null);null!=m&&(null===t&&(t=ao.empty()),t.set(o.field,m))}return t||null}function Fu(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(t=i.fieldTransforms)&&void 0===o||t&&o&&Fs(t,o,(d,m)=>function sd(i,e){return i.field.isEqual(e.field)&&(o=e.transform,(t=i.transform)instanceof sl&&o instanceof sl||t instanceof ol&&o instanceof ol?Fs(t.elements,o.elements,el):t instanceof Go&&o instanceof Go?el(t._t,o._t):t instanceof Zl&&o instanceof Zl);var t,o}(d,m))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var t,o}class Oi extends ll{constructor(e,t,o,d=[]){super(),this.key=e,this.value=t,this.precondition=o,this.fieldTransforms=d,this.type=0}getFieldMask(){return null}}class ul extends ll{constructor(e,t,o,d,m=[]){super(),this.key=e,this.data=t,this.fieldMask=o,this.precondition=d,this.fieldTransforms=m,this.type=1}getFieldMask(){return this.fieldMask}}function mc(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const o=i.data.field(t);e.set(t,o)}}),e}function zf(i,e,t){const o=new Map;en(i.length===t.length);for(let d=0;d<t.length;d++){const m=i[d],w=m.transform,N=e.data.field(m.field);o.set(m.field,ys(w,N,t[d]))}return o}function uo(i,e,t){const o=new Map;for(const d of i){const m=d.transform,w=t.data.field(d.field);o.set(d.field,Sl(m,w,e))}return o}class ca extends ll{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Jd extends ll{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Al{constructor(e,t,o,d){this.batchId=e,this.localWriteTime=t,this.baseMutations=o,this.mutations=d}applyToRemoteDocument(e,t){const o=t.mutationResults;for(let d=0;d<this.mutations.length;d++){const m=this.mutations[d];m.key.isEqual(e.key)&&od(m,e,o[d])}}applyToLocalView(e,t){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(t=du(o,e,t,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(t=du(o,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const o=Wd();return this.mutations.forEach(d=>{const m=e.get(d.key),w=m.overlayedDocument;let N=this.applyToLocalView(w,m.mutatedFields);N=t.has(d.key)?null:N;const $=gc(w,N);null!==$&&o.set(d.key,$),w.isValidDocument()||w.convertToNoDocument(Nn.min())}),o}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Xn())}isEqual(e){return this.batchId===e.batchId&&Fs(this.mutations,e.mutations,(t,o)=>Fu(t,o))&&Fs(this.baseMutations,e.baseMutations,(t,o)=>Fu(t,o))}}class _c{constructor(e,t,o,d){this.batch=e,this.commitVersion=t,this.mutationResults=o,this.docVersions=d}static from(e,t,o){en(e.mutations.length===o.length);let d=jf;const m=e.mutations;for(let w=0;w<m.length;w++)d=d.insert(m[w].key,o[w].version);return new _c(e,t,o,d)}}class cl{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class hu{constructor(e){this.count=e}}var D,g;function _(i){switch(i){default:return ln();case rt.CANCELLED:case rt.UNKNOWN:case rt.DEADLINE_EXCEEDED:case rt.RESOURCE_EXHAUSTED:case rt.INTERNAL:case rt.UNAVAILABLE:case rt.UNAUTHENTICATED:return!1;case rt.INVALID_ARGUMENT:case rt.NOT_FOUND:case rt.ALREADY_EXISTS:case rt.PERMISSION_DENIED:case rt.FAILED_PRECONDITION:case rt.ABORTED:case rt.OUT_OF_RANGE:case rt.UNIMPLEMENTED:case rt.DATA_LOSS:return!0}}function I(i){if(void 0===i)return Er("GRPC error has no .code"),rt.UNKNOWN;switch(i){case D.OK:return rt.OK;case D.CANCELLED:return rt.CANCELLED;case D.UNKNOWN:return rt.UNKNOWN;case D.DEADLINE_EXCEEDED:return rt.DEADLINE_EXCEEDED;case D.RESOURCE_EXHAUSTED:return rt.RESOURCE_EXHAUSTED;case D.INTERNAL:return rt.INTERNAL;case D.UNAVAILABLE:return rt.UNAVAILABLE;case D.UNAUTHENTICATED:return rt.UNAUTHENTICATED;case D.INVALID_ARGUMENT:return rt.INVALID_ARGUMENT;case D.NOT_FOUND:return rt.NOT_FOUND;case D.ALREADY_EXISTS:return rt.ALREADY_EXISTS;case D.PERMISSION_DENIED:return rt.PERMISSION_DENIED;case D.FAILED_PRECONDITION:return rt.FAILED_PRECONDITION;case D.ABORTED:return rt.ABORTED;case D.OUT_OF_RANGE:return rt.OUT_OF_RANGE;case D.UNIMPLEMENTED:return rt.UNIMPLEMENTED;case D.DATA_LOSS:return rt.DATA_LOSS;default:return ln()}}(g=D||(D={}))[g.OK=0]="OK",g[g.CANCELLED=1]="CANCELLED",g[g.UNKNOWN=2]="UNKNOWN",g[g.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",g[g.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",g[g.NOT_FOUND=5]="NOT_FOUND",g[g.ALREADY_EXISTS=6]="ALREADY_EXISTS",g[g.PERMISSION_DENIED=7]="PERMISSION_DENIED",g[g.UNAUTHENTICATED=16]="UNAUTHENTICATED",g[g.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",g[g.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",g[g.ABORTED=10]="ABORTED",g[g.OUT_OF_RANGE=11]="OUT_OF_RANGE",g[g.UNIMPLEMENTED=12]="UNIMPLEMENTED",g[g.INTERNAL=13]="INTERNAL",g[g.UNAVAILABLE=14]="UNAVAILABLE",g[g.DATA_LOSS=15]="DATA_LOSS";class z{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return te}static getOrCreateInstance(){return null===te&&(te=new z),te}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let te=null;class Ne{constructor(e,t,o,d,m){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=o,this.documentUpdates=d,this.resolvedLimboDocuments=m}static createSynthesizedRemoteEventForCurrentChange(e,t,o){const d=new Map;return d.set(e,gt.createSynthesizedTargetChangeForCurrentChange(e,t,o)),new Ne(Nn.min(),d,Za(),Sr(),Xn())}}class gt{constructor(e,t,o,d,m){this.resumeToken=e,this.current=t,this.addedDocuments=o,this.modifiedDocuments=d,this.removedDocuments=m}static createSynthesizedTargetChangeForCurrentChange(e,t,o){return new gt(o,t,Xn(),Xn(),Xn())}}class Vt{constructor(e,t,o,d){this.It=e,this.removedTargetIds=t,this.key=o,this.Tt=d}}class Cn{constructor(e,t){this.targetId=e,this.Et=t}}class $n{constructor(e,t,o=Dn.EMPTY_BYTE_STRING,d=null){this.state=e,this.targetIds=t,this.resumeToken=o,this.cause=d}}class Vn{constructor(){this.At=0,this.Rt=dl(),this.vt=Dn.EMPTY_BYTE_STRING,this.bt=!1,this.Pt=!0}get current(){return this.bt}get resumeToken(){return this.vt}get Vt(){return 0!==this.At}get St(){return this.Pt}Dt(e){e.approximateByteSize()>0&&(this.Pt=!0,this.vt=e)}Ct(){let e=Xn(),t=Xn(),o=Xn();return this.Rt.forEach((d,m)=>{switch(m){case 0:e=e.add(d);break;case 2:t=t.add(d);break;case 1:o=o.add(d);break;default:ln()}}),new gt(this.vt,this.bt,e,t,o)}xt(){this.Pt=!1,this.Rt=dl()}Nt(e,t){this.Pt=!0,this.Rt=this.Rt.insert(e,t)}kt(e){this.Pt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}$t(){this.At-=1}Mt(){this.Pt=!0,this.bt=!0}}class ss{constructor(e){this.Ft=e,this.Bt=new Map,this.Lt=Sr(),this.qt=da(),this.Ut=new Le(jn)}Kt(e){for(const t of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(t,e.Tt):this.Qt(t,e.key,e.Tt);for(const t of e.removedTargetIds)this.Qt(t,e.key,e.Tt)}zt(e){this.forEachTarget(e,t=>{const o=this.jt(t);switch(e.state){case 0:this.Wt(t)&&o.Dt(e.resumeToken);break;case 1:o.$t(),o.Vt||o.xt(),o.Dt(e.resumeToken);break;case 2:o.$t(),o.Vt||this.removeTarget(t);break;case 3:this.Wt(t)&&(o.Mt(),o.Dt(e.resumeToken));break;case 4:this.Wt(t)&&(this.Ht(t),o.Dt(e.resumeToken));break;default:ln()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((o,d)=>{this.Wt(d)&&t(d)})}Jt(e){var t;const o=e.targetId,d=e.Et.count,m=this.Yt(o);if(m){const w=m.target;if(td(w))if(0===d){const N=new Jt(w.path);this.Qt(o,N,Ii.newNoDocument(N,Nn.min()))}else en(1===d);else{const N=this.Zt(o);N!==d&&(this.Ht(o),this.Ut=this.Ut.add(o),null===(t=z.instance)||void 0===t||t.notifyOnExistenceFilterMismatch({localCacheCount:N,existenceFilterCount:e.Et.count}))}}}Xt(e){const t=new Map;this.Bt.forEach((m,w)=>{const N=this.Yt(w);if(N){if(m.current&&td(N.target)){const $=new Jt(N.target.path);null!==this.Lt.get($)||this.te(w,$)||this.Qt(w,$,Ii.newNoDocument($,e))}m.St&&(t.set(w,m.Ct()),m.xt())}});let o=Xn();this.qt.forEach((m,w)=>{let N=!0;w.forEachWhile($=>{const W=this.Yt($);return!W||2===W.purpose||(N=!1,!1)}),N&&(o=o.add(m))}),this.Lt.forEach((m,w)=>w.setReadTime(e));const d=new Ne(e,t,this.Ut,this.Lt,o);return this.Lt=Sr(),this.qt=da(),this.Ut=new Le(jn),d}Gt(e,t){if(!this.Wt(e))return;const o=this.te(e,t.key)?2:0;this.jt(e).Nt(t.key,o),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}Qt(e,t,o){if(!this.Wt(e))return;const d=this.jt(e);this.te(e,t)?d.Nt(t,1):d.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),o&&(this.Lt=this.Lt.insert(t,o))}removeTarget(e){this.Bt.delete(e)}Zt(e){const t=this.jt(e).Ct();return this.Ft.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.jt(e).Ot()}jt(e){let t=this.Bt.get(e);return t||(t=new Vn,this.Bt.set(e,t)),t}ee(e){let t=this.qt.get(e);return t||(t=new Le(jn),this.qt=this.qt.insert(e,t)),t}Wt(e){const t=null!==this.Yt(e);return t||mt("WatchChangeAggregator","Detected inactive target",e),t}Yt(e){const t=this.Bt.get(e);return t&&t.Vt?null:this.Ft.ne(e)}Ht(e){this.Bt.set(e,new Vn),this.Ft.getRemoteKeysForTarget(e).forEach(t=>{this.Qt(e,t,null)})}te(e,t){return this.Ft.getRemoteKeysForTarget(e).has(t)}}function da(){return new Y(Jt.comparator)}function dl(){return new Y(Jt.comparator)}const Qd={asc:"ASCENDING",desc:"DESCENDING"},Xd={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Yh={and:"AND",or:"OR"};class Wl{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Ks(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function fu(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function eh(i,e){return Ks(i,e.toTimestamp())}function Pi(i){return en(!!i),Nn.fromTimestamp(function(e){const t=yi(e);return new Kr(t.seconds,t.nanos)}(i))}function yc(i,e){return(t=i,new Ir(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Wf(i){const e=Ir.fromString(i);return en(cd(e)),e}function Lu(i,e){return yc(i.databaseId,e.path)}function Ml(i,e){const t=Wf(e);if(t.get(1)!==i.databaseId.projectId)throw new St(rt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new St(rt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new Jt(qf(t))}function th(i,e){return yc(i.databaseId,e)}function ql(i){const e=Wf(i);return 4===e.length?Ir.emptyPath():qf(e)}function Kh(i){return new Ir(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function qf(i){return en(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function Vu(i,e,t){return{name:Lu(i,e),fields:t.value.mapValue.fields}}function Jh(i,e,t){const o=Ml(i,e.name),d=Pi(e.updateTime),m=e.createTime?Pi(e.createTime):Nn.min(),w=new ao({mapValue:{fields:e.fields}}),N=Ii.newFoundDocument(o,d,m,w);return t&&N.setHasCommittedMutations(),t?N.setHasCommittedMutations():N}function nh(i,e){let t;if(e instanceof Oi)t={update:Vu(i,e.key,e.value)};else if(e instanceof ca)t={delete:Lu(i,e.key)};else if(e instanceof ul)t={update:Vu(i,e.key,e.data),updateMask:y_(e.fieldMask)};else{if(!(e instanceof Jd))return ln();t={verify:Lu(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(o=>function(d,m){const w=m.transform;if(w instanceof Zl)return{fieldPath:m.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(w instanceof sl)return{fieldPath:m.field.canonicalString(),appendMissingElements:{values:w.elements}};if(w instanceof ol)return{fieldPath:m.field.canonicalString(),removeAllFromArray:{values:w.elements}};if(w instanceof Go)return{fieldPath:m.field.canonicalString(),increment:w._t};throw ln()}(0,o))),e.precondition.isNone||(t.currentDocument=void 0!==(d=e.precondition).updateTime?{updateTime:eh(i,d.updateTime)}:void 0!==d.exists?{exists:d.exists}:ln()),t;var d}function Qh(i,e){const t=e.currentDocument?void 0!==(d=e.currentDocument).updateTime?Ai.updateTime(Pi(d.updateTime)):void 0!==d.exists?Ai.exists(d.exists):Ai.none():Ai.none(),o=e.updateTransforms?e.updateTransforms.map(d=>function(m,w){let N=null;"setToServerValue"in w?(en("REQUEST_TIME"===w.setToServerValue),N=new Zl):"appendMissingElements"in w?N=new sl(w.appendMissingElements.values||[]):"removeAllFromArray"in w?N=new ol(w.removeAllFromArray.values||[]):"increment"in w?N=new Go(m,w.increment):ln();const $=vr.fromServerFormat(w.fieldPath);return new al($,N)}(i,d)):[];var d;if(e.update){const d=Ml(i,e.update.name),m=new ao({mapValue:{fields:e.update.fields}});if(e.updateMask){const w=new bn((e.updateMask.fieldPaths||[]).map(W=>vr.fromServerFormat(W)));return new ul(d,m,w,t,o)}return new Oi(d,m,t,o)}if(e.delete){const d=Ml(i,e.delete);return new ca(d,t)}if(e.verify){const d=Ml(i,e.verify);return new Jd(d,t)}return ln()}function Ar(i,e){return{documents:[th(i,e.path)]}}function ih(i,e){const t={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(t.parent=th(i,o),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=th(i,o.popLast()),t.structuredQuery.from=[{collectionId:o.lastSegment()}]);const d=function($){if(0!==$.length)return Gp(Wr.create($,"and"))}(e.filters);d&&(t.structuredQuery.where=d);const m=function($){if(0!==$.length)return $.map(W=>{return{field:vc((re=W).field),direction:__(re.dir)};var re})}(e.orderBy);m&&(t.structuredQuery.orderBy=m);const w=(W=e.limit,i.useProto3Json||T(W)?W:{value:W});var W,N,$;return null!==w&&(t.structuredQuery.limit=w),e.startAt&&(t.structuredQuery.startAt={before:(N=e.startAt).inclusive,values:N.position}),e.endAt&&(t.structuredQuery.endAt={before:!($=e.endAt).inclusive,values:$.position}),t}function jp(i){let e=ql(i.parent);const t=i.structuredQuery,o=t.from?t.from.length:0;let d=null;if(o>0){en(1===o);const re=t.from[0];re.allDescendants?d=re.collectionId:e=e.child(re.collectionId)}let m=[];t.where&&(m=function(re){const De=sh(re);return De instanceof Wr&&$d(De)?De.getFilters():[De]}(t.where));let w=[];t.orderBy&&(w=t.orderBy.map(re=>{return new au(ud((De=re).field),function(Ye){switch(Ye){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(De.direction));var De}));let N=null;t.limit&&(N=function(re){let De;return De="object"==typeof re?re.value:re,T(De)?null:De}(t.limit));let $=null;var re;t.startAt&&($=new Ga((re=t.startAt).values||[],!!re.before));let W=null;return t.endAt&&(W=function(re){return new Ga(re.values||[],!re.before)}(t.endAt)),rd(e,d,w,m,N,"F",$,W)}function sh(i){return void 0!==i.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=ud(e.unaryFilter.field);return Pr.create(t,"==",{doubleValue:NaN});case"IS_NULL":const o=ud(e.unaryFilter.field);return Pr.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const d=ud(e.unaryFilter.field);return Pr.create(d,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const m=ud(e.unaryFilter.field);return Pr.create(m,"!=",{nullValue:"NULL_VALUE"});default:return ln()}}(i):void 0!==i.fieldFilter?Pr.create(ud((e=i).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ln()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==i.compositeFilter?function(e){return Wr.create(e.compositeFilter.filters.map(t=>sh(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return ln()}}(e.compositeFilter.op))}(i):ln();var e}function __(i){return Qd[i]}function Xh(i){return Xd[i]}function Qg(i){return Yh[i]}function vc(i){return{fieldPath:i.canonicalString()}}function ud(i){return vr.fromServerFormat(i.fieldPath)}function Gp(i){return i instanceof Pr?function(e){if("=="===e.op){if(Zc(e.value))return{unaryFilter:{field:vc(e.field),op:"IS_NAN"}};if(Bh(e.value))return{unaryFilter:{field:vc(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Zc(e.value))return{unaryFilter:{field:vc(e.field),op:"IS_NOT_NAN"}};if(Bh(e.value))return{unaryFilter:{field:vc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vc(e.field),op:Xh(e.op),value:e.value}}}(i):i instanceof Wr?function(e){const t=e.getFilters().map(o=>Gp(o));return 1===t.length?t[0]:{compositeFilter:{op:Qg(e.op),filters:t}}}(i):ln()}function y_(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function cd(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}class Uu{constructor(e,t,o,d,m=Nn.min(),w=Nn.min(),N=Dn.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=o,this.sequenceNumber=d,this.snapshotVersion=m,this.lastLimboFreeSnapshotVersion=w,this.resumeToken=N}withSequenceNumber(e){return new Uu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Uu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Uu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class zp{constructor(e){this.se=e}}function ef(i,e){const t=e.key,o={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:hd(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())o.document={name:Lu(d=i.se,(m=e).key),fields:m.data.value.mapValue.fields,updateTime:Ks(d,m.version.toTimestamp()),createTime:Ks(d,m.createTime.toTimestamp())};else if(e.isNoDocument())o.noDocument={path:t.path.toArray(),readTime:pu(e.version)};else{if(!e.isUnknownDocument())return ln();o.unknownDocument={path:t.path.toArray(),version:pu(e.version)}}var d,m;return o}function hd(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function pu(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function hl(i){const e=new Kr(i.seconds,i.nanoseconds);return Nn.fromTimestamp(e)}function bc(i,e){const t=(e.baseMutations||[]).map(m=>Qh(i.se,m));for(let m=0;m<e.mutations.length-1;++m){const w=e.mutations[m];m+1<e.mutations.length&&void 0!==e.mutations[m+1].transform&&(w.updateTransforms=e.mutations[m+1].transform.fieldTransforms,e.mutations.splice(m+1,1),++m)}const o=e.mutations.map(m=>Qh(i.se,m)),d=Kr.fromMillis(e.localWriteTimeMs);return new Al(e.batchId,d,t,o)}function wc(i){const e=hl(i.readTime),t=void 0!==i.lastLimboFreeSnapshotVersion?hl(i.lastLimboFreeSnapshotVersion):Nn.min();let o;var d;return void 0!==i.query.documents?(en(1===(d=i.query).documents.length),o=lo(Nu(ql(d.documents[0])))):o=lo(jp(i.query)),new Uu(o,i.targetId,0,i.lastListenSequenceNumber,e,t,Dn.fromBase64String(i.resumeToken))}function Kf(i,e){const t=pu(e.snapshotVersion),o=pu(e.lastLimboFreeSnapshotVersion);let d;d=td(e.target)?Ar(i.se,e.target):ih(i.se,e.target);const m=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Mu(e.target),readTime:t,resumeToken:m,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:o,query:d}}function fd(i){const e=jp({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?dc(e,e.limit,"L"):e}function Xg(i,e){return new cl(e.largestBatchId,Qh(i.se,e.overlayMutation))}function Zp(i,e){const t=e.path.lastSegment();return[i,R(e.path.popLast()),t]}function tf(i,e,t,o){return{indexId:i,uid:e.uid||"",sequenceNumber:t,readTime:pu(o.readTime),documentKey:R(o.documentKey.path),largestBatchId:o.largestBatchId}}class em{getBundleMetadata(e,t){return Wp(e).get(t).next(o=>{if(o)return{id:(d=o).bundleId,createTime:hl(d.createTime),version:d.version};var d})}saveBundleMetadata(e,t){return Wp(e).put({bundleId:(o=t).id,createTime:pu(Pi(o.createTime)),version:o.version});var o}getNamedQuery(e,t){return Dc(e).get(t).next(o=>{if(o)return{name:(d=o).name,query:fd(d.bundledQuery),readTime:hl(d.readTime)};var d})}saveNamedQuery(e,t){return Dc(e).put({name:(o=t).name,readTime:pu(Pi(o.readTime)),bundledQuery:o.bundledQuery});var o}}function Wp(i){return rs(i,"bundles")}function Dc(i){return rs(i,"namedQueries")}class Jf{constructor(e,t){this.serializer=e,this.userId=t}static ie(e,t){return new Jf(e,t.uid||"")}getOverlay(e,t){return pd(e).get(Zp(this.userId,t)).next(o=>o?Xg(this.serializer,o):null)}getOverlays(e,t){const o=jo();return it.forEach(t,d=>this.getOverlay(e,d).next(m=>{null!==m&&o.set(d,m)})).next(()=>o)}saveOverlays(e,t,o){const d=[];return o.forEach((m,w)=>{const N=new cl(t,w);d.push(this.re(e,N))}),it.waitFor(d)}removeOverlaysForBatchId(e,t,o){const d=new Set;t.forEach(w=>d.add(R(w.getCollectionPath())));const m=[];return d.forEach(w=>{const N=IDBKeyRange.bound([this.userId,w,o],[this.userId,w,o+1],!1,!0);m.push(pd(e).J("collectionPathOverlayIndex",N))}),it.waitFor(m)}getOverlaysForCollection(e,t,o){const d=jo(),m=R(t),w=IDBKeyRange.bound([this.userId,m,o],[this.userId,m,Number.POSITIVE_INFINITY],!0);return pd(e).j("collectionPathOverlayIndex",w).next(N=>{for(const $ of N){const W=Xg(this.serializer,$);d.set(W.getKey(),W)}return d})}getOverlaysForCollectionGroup(e,t,o,d){const m=jo();let w;const N=IDBKeyRange.bound([this.userId,t,o],[this.userId,t,Number.POSITIVE_INFINITY],!0);return pd(e).Z({index:"collectionGroupOverlayIndex",range:N},($,W,re)=>{const De=Xg(this.serializer,W);m.size()<d||De.largestBatchId===w?(m.set(De.getKey(),De),w=De.largestBatchId):re.done()}).next(()=>m)}re(e,t){return pd(e).put(function(o,d,m){const[w,N,$]=Zp(d,m.mutation.key);return{userId:d,collectionPath:N,documentId:$,collectionGroup:m.mutation.key.getCollectionGroup(),largestBatchId:m.largestBatchId,overlayMutation:nh(o.se,m.mutation)}}(this.serializer,this.userId,t))}}function pd(i){return rs(i,"documentOverlays")}class gu{constructor(){}oe(e,t){this.ue(e,t),t.ce()}ue(e,t){if("nullValue"in e)this.ae(t,5);else if("booleanValue"in e)this.ae(t,10),t.he(e.booleanValue?1:0);else if("integerValue"in e)this.ae(t,15),t.he(ui(e.integerValue));else if("doubleValue"in e){const o=ui(e.doubleValue);isNaN(o)?this.ae(t,13):(this.ae(t,15),A(o)?t.he(0):t.he(o))}else if("timestampValue"in e){const o=e.timestampValue;this.ae(t,20),"string"==typeof o?t.le(o):(t.le(`${o.seconds||""}`),t.he(o.nanos||0))}else if("stringValue"in e)this.fe(e.stringValue,t),this.de(t);else if("bytesValue"in e)this.ae(t,30),t.we(vo(e.bytesValue)),this.de(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){const o=e.geoPointValue;this.ae(t,45),t.he(o.latitude||0),t.he(o.longitude||0)}else"mapValue"in e?qc(e)?this.ae(t,Number.MAX_SAFE_INTEGER):(this.me(e.mapValue,t),this.de(t)):"arrayValue"in e?(this.ge(e.arrayValue,t),this.de(t)):ln()}fe(e,t){this.ae(t,25),this.ye(e,t)}ye(e,t){t.le(e)}me(e,t){const o=e.fields||{};this.ae(t,55);for(const d of Object.keys(o))this.fe(d,t),this.ue(o[d],t)}ge(e,t){const o=e.values||[];this.ae(t,50);for(const d of o)this.ue(d,t)}_e(e,t){this.ae(t,37),Jt.fromName(e).path.forEach(o=>{this.ae(t,60),this.ye(o,t)})}ae(e,t){e.he(t)}de(e){e.he(2)}}function v_(i){if(0===i)return 8;let e=0;return i>>4==0&&(e+=4,i<<=4),i>>6==0&&(e+=2,i<<=2),i>>7==0&&(e+=1),e}function Qf(i){const e=64-function(t){let o=0;for(let d=0;d<8;++d){const m=v_(255&t[d]);if(o+=m,8!==m)break}return o}(i);return Math.ceil(e/8)}gu.pe=new gu;class Xf{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ie(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this.Te(o.value),o=t.next();this.Ee()}Ae(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this.Re(o.value),o=t.next();this.ve()}be(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this.Te(o);else if(o<2048)this.Te(960|o>>>6),this.Te(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.Te(480|o>>>12),this.Te(128|63&o>>>6),this.Te(128|63&o);else{const d=t.codePointAt(0);this.Te(240|d>>>18),this.Te(128|63&d>>>12),this.Te(128|63&d>>>6),this.Te(128|63&d)}}this.Ee()}Pe(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this.Re(o);else if(o<2048)this.Re(960|o>>>6),this.Re(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.Re(480|o>>>12),this.Re(128|63&o>>>6),this.Re(128|63&o);else{const d=t.codePointAt(0);this.Re(240|d>>>18),this.Re(128|63&d>>>12),this.Re(128|63&d>>>6),this.Re(128|63&d)}}this.ve()}Ve(e){const t=this.Se(e),o=Qf(t);this.De(1+o),this.buffer[this.position++]=255&o;for(let d=t.length-o;d<t.length;++d)this.buffer[this.position++]=255&t[d]}Ce(e){const t=this.Se(e),o=Qf(t);this.De(1+o),this.buffer[this.position++]=~(255&o);for(let d=t.length-o;d<t.length;++d)this.buffer[this.position++]=~(255&t[d])}xe(){this.Ne(255),this.Ne(255)}ke(){this.Oe(255),this.Oe(255)}reset(){this.position=0}seed(e){this.De(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Se(e){const t=function(d){const m=new DataView(new ArrayBuffer(8));return m.setFloat64(0,d,!1),new Uint8Array(m.buffer)}(e),o=0!=(128&t[0]);t[0]^=o?255:128;for(let d=1;d<t.length;++d)t[d]^=o?255:0;return t}Te(e){const t=255&e;0===t?(this.Ne(0),this.Ne(255)):255===t?(this.Ne(255),this.Ne(0)):this.Ne(t)}Re(e){const t=255&e;0===t?(this.Oe(0),this.Oe(255)):255===t?(this.Oe(255),this.Oe(0)):this.Oe(e)}Ee(){this.Ne(0),this.Ne(1)}ve(){this.Oe(0),this.Oe(1)}Ne(e){this.De(1),this.buffer[this.position++]=e}Oe(e){this.De(1),this.buffer[this.position++]=~e}De(e){const t=e+this.position;if(t<=this.buffer.length)return;let o=2*this.buffer.length;o<t&&(o=t);const d=new Uint8Array(o);d.set(this.buffer),this.buffer=d}}class gd{constructor(e){this.Me=e}we(e){this.Me.Ie(e)}le(e){this.Me.be(e)}he(e){this.Me.Ve(e)}ce(){this.Me.xe()}}class tm{constructor(e){this.Me=e}we(e){this.Me.Ae(e)}le(e){this.Me.Pe(e)}he(e){this.Me.Ce(e)}ce(){this.Me.ke()}}class md{constructor(){this.Me=new Xf,this.Fe=new gd(this.Me),this.Be=new tm(this.Me)}seed(e){this.Me.seed(e)}Le(e){return 0===e?this.Fe:this.Be}$e(){return this.Me.$e()}reset(){this.Me.reset()}}class _d{constructor(e,t,o,d){this.indexId=e,this.documentKey=t,this.arrayValue=o,this.directionalValue=d}qe(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,o=new Uint8Array(t);return o.set(this.directionalValue,0),t!==e?o.set([0],this.directionalValue.length):++o[o.length-1],new _d(this.indexId,this.documentKey,this.arrayValue,o)}}function Bu(i,e){let t=i.indexId-e.indexId;return 0!==t?t:(t=qp(i.arrayValue,e.arrayValue),0!==t?t:(t=qp(i.directionalValue,e.directionalValue),0!==t?t:Jt.comparator(i.documentKey,e.documentKey)))}function qp(i,e){for(let t=0;t<i.length&&t<e.length;++t){const o=i[t]-e[t];if(0!==o)return o}return i.length-e.length}class oh{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ue=e.orderBy,this.Ke=[];for(const t of e.filters){const o=t;o.isInequality()?this.Ge=o:this.Ke.push(o)}}Qe(e){en(e.collectionGroup===this.collectionId);const t=Ja(e);if(void 0!==t&&!this.ze(t))return!1;const o=Ls(e);let d=0,m=0;for(;d<o.length&&this.ze(o[d]);++d);if(d===o.length)return!0;if(void 0!==this.Ge){const w=o[d];if(!this.je(this.Ge,w)||!this.We(this.Ue[m++],w))return!1;++d}for(;d<o.length;++d){const w=o[d];if(m>=this.Ue.length||!this.We(this.Ue[m++],w))return!1}return!0}ze(e){for(const t of this.Ke)if(this.je(t,e))return!0;return!1}je(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}We(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function nm(i){var e,t;if(en(i instanceof Pr||i instanceof Wr),i instanceof Pr){if(i instanceof Au){const d=(null===(t=null===(e=i.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(m=>Pr.create(i.field,"==",m)))||[];return Wr.create(d,"or")}return i}const o=i.filters.map(d=>nm(d));return Wr.create(o,i.op)}function b_(i){if(0===i.getFilters().length)return[];const e=Jp(nm(i));return en(ah(e)),Yp(e)||Kp(e)?[e]:e.getFilters()}function Yp(i){return i instanceof Pr}function Kp(i){return i instanceof Wr&&$d(i)}function ah(i){return Yp(i)||Kp(i)||function(e){if(e instanceof Wr&&Su(e)){for(const t of e.getFilters())if(!Yp(t)&&!Kp(t))return!1;return!0}return!1}(i)}function Jp(i){if(en(i instanceof Pr||i instanceof Wr),i instanceof Pr)return i;if(1===i.filters.length)return Jp(i.filters[0]);const e=i.filters.map(o=>Jp(o));let t=Wr.create(e,i.op);return t=Cc(t),ah(t)?t:(en(t instanceof Wr),en(lu(t)),en(t.filters.length>1),t.filters.reduce((o,d)=>Ca(o,d)))}function Ca(i,e){let t;return en(i instanceof Pr||i instanceof Wr),en(e instanceof Pr||e instanceof Wr),t=i instanceof Pr?e instanceof Pr?Wr.create([i,e],"and"):Ki(i,e):e instanceof Pr?Ki(e,i):function(o,d){if(en(o.filters.length>0&&d.filters.length>0),lu(o)&&lu(d))return Jc(o,d.getFilters());const m=Su(o)?o:d,w=Su(o)?d:o,N=m.filters.map($=>Ca($,w));return Wr.create(N,"or")}(i,e),Cc(t)}function Ki(i,e){if(lu(e))return Jc(e,i.getFilters());{const t=e.filters.map(o=>Ca(i,o));return Wr.create(t,"or")}}function Cc(i){if(en(i instanceof Pr||i instanceof Wr),i instanceof Pr)return i;const e=i.getFilters();if(1===e.length)return Cc(e[0]);if(Kc(i))return i;const t=e.map(d=>Cc(d)),o=[];return t.forEach(d=>{d instanceof Pr?o.push(d):d instanceof Wr&&(d.op===i.op?o.push(...d.filters):o.push(d))}),1===o.length?o[0]:Wr.create(o,i.op)}class rm{constructor(){this.He=new lh}addToCollectionParentIndex(e,t){return this.He.add(t),it.resolve()}getCollectionParents(e,t){return it.resolve(this.He.getEntries(t))}addFieldIndex(e,t){return it.resolve()}deleteFieldIndex(e,t){return it.resolve()}getDocumentsMatchingTarget(e,t){return it.resolve(null)}getIndexType(e,t){return it.resolve(0)}getFieldIndexes(e,t){return it.resolve([])}getNextCollectionGroupToUpdate(e){return it.resolve(null)}getMinOffset(e,t){return it.resolve(Vs.min())}getMinOffsetFromCollectionGroup(e,t){return it.resolve(Vs.min())}updateCollectionGroup(e,t,o){return it.resolve()}updateIndexEntries(e,t){return it.resolve()}}class lh{constructor(){this.index={}}add(e){const t=e.lastSegment(),o=e.popLast(),d=this.index[t]||new Le(Ir.comparator),m=!d.has(o);return this.index[t]=d.add(o),m}has(e){const t=e.lastSegment(),o=e.popLast(),d=this.index[t];return d&&d.has(o)}getEntries(e){return(this.index[e]||new Le(Ir.comparator)).toArray()}}const $u=new Uint8Array(0);class im{constructor(e,t){this.user=e,this.databaseId=t,this.Je=new lh,this.Ye=new za(o=>Mu(o),(o,d)=>wa(o,d)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Je.has(t)){const o=t.lastSegment(),d=t.popLast();e.addOnCommittedListener(()=>{this.Je.add(t)});const m={collectionId:o,parent:R(d)};return mu(e).put(m)}return it.resolve()}getCollectionParents(e,t){const o=[],d=IDBKeyRange.bound([t,""],[tu(t),""],!1,!0);return mu(e).j(d).next(m=>{for(const w of m){if(w.collectionId!==t)break;o.push(le(w.parent))}return o})}addFieldIndex(e,t){const o=ju(e),d={indexId:(w=t).indexId,collectionGroup:w.collectionGroup,fields:w.fields.map(N=>[N.fieldPath.canonicalString(),N.kind])};var w;delete d.indexId;const m=o.add(d);if(t.indexState){const w=Ec(e);return m.next(N=>{w.put(tf(N,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return m.next()}deleteFieldIndex(e,t){const o=ju(e),d=Ec(e),m=Hu(e);return o.delete(t.indexId).next(()=>d.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>m.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const o=Hu(e);let d=!0;const m=new Map;return it.forEach(this.Ze(t),w=>this.Xe(e,w).next(N=>{d&&(d=!!N),m.set(w,N)})).next(()=>{if(d){let w=Xn();const N=[];return it.forEach(m,($,W)=>{var re;mt("IndexedDbIndexManager",`Using index ${re=$,`id=${re.indexId}|cg=${re.collectionGroup}|f=${re.fields.map(Vr=>`${Vr.fieldPath}:${Vr.kind}`).join(",")}`} to execute ${Mu(t)}`);const De=function(Vr,Zo){const Ji=Ja(Zo);if(void 0===Ji)return null;for(const as of ac(Vr,Ji.fieldPath))switch(as.op){case"array-contains-any":return as.value.arrayValue.values||[];case"array-contains":return[as.value]}return null}(W,$),Ye=function(Vr,Zo){const Ji=new Map;for(const as of Ls(Zo))for(const qa of ac(Vr,as.fieldPath))switch(qa.op){case"==":case"in":Ji.set(as.fieldPath.canonicalString(),qa.value);break;case"not-in":case"!=":return Ji.set(as.fieldPath.canonicalString(),qa.value),Array.from(Ji.values())}return null}(W,$),wt=function(Vr,Zo){const Ji=[];let as=!0;for(const qa of Ls(Zo)){const Pd=0===qa.kind?nd(Vr,qa.fieldPath,Vr.startAt):Zh(Vr,qa.fieldPath,Vr.startAt);Ji.push(Pd.value),as&&(as=Pd.inclusive)}return new Ga(Ji,as)}(W,$),Kt=function(Vr,Zo){const Ji=[];let as=!0;for(const qa of Ls(Zo)){const Pd=0===qa.kind?Zh(Vr,qa.fieldPath,Vr.endAt):nd(Vr,qa.fieldPath,Vr.endAt);Ji.push(Pd.value),as&&(as=Pd.inclusive)}return new Ga(Ji,as)}(W,$),_n=this.tn($,W,wt),Pn=this.tn($,W,Kt),Xr=this.en($,W,Ye),vs=this.nn($.indexId,De,_n,wt.inclusive,Pn,Kt.inclusive,Xr);return it.forEach(vs,Vr=>o.H(Vr,t.limit).next(Zo=>{Zo.forEach(Ji=>{const as=Jt.fromSegments(Ji.documentKey);w.has(as)||(w=w.add(as),N.push(as))})}))}).next(()=>N)}return it.resolve(null)})}Ze(e){let t=this.Ye.get(e);return t||(t=0===e.filters.length?[e]:b_(Wr.create(e.filters,"and")).map(o=>ed(e.path,e.collectionGroup,e.orderBy,o.getFilters(),e.limit,e.startAt,e.endAt)),this.Ye.set(e,t),t)}nn(e,t,o,d,m,w,N){const $=(null!=t?t.length:1)*Math.max(o.length,m.length),W=$/(null!=t?t.length:1),re=[];for(let De=0;De<$;++De){const Ye=t?this.sn(t[De/W]):$u,wt=this.rn(e,Ye,o[De%W],d),Kt=this.on(e,Ye,m[De%W],w),_n=N.map(Pn=>this.rn(e,Ye,Pn,!0));re.push(...this.createRange(wt,Kt,_n))}return re}rn(e,t,o,d){const m=new _d(e,Jt.empty(),t,o);return d?m:m.qe()}on(e,t,o,d){const m=new _d(e,Jt.empty(),t,o);return d?m.qe():m}Xe(e,t){const o=new oh(t),d=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,d).next(m=>{let w=null;for(const N of m)o.Qe(N)&&(!w||N.fields.length>w.fields.length)&&(w=N);return w})}getIndexType(e,t){let o=2;const d=this.Ze(t);return it.forEach(d,m=>this.Xe(e,m).next(w=>{w?0!==o&&w.fields.length<function(N){let $=new Le(vr.comparator),W=!1;for(const re of N.filters)for(const De of re.getFlattenedFilters())De.field.isKeyField()||("array-contains"===De.op||"array-contains-any"===De.op?W=!0:$=$.add(De.field));for(const re of N.orderBy)re.field.isKeyField()||($=$.add(re.field));return $.size+(W?1:0)}(m)&&(o=1):o=0})).next(()=>null!==t.limit&&d.length>1&&2===o?1:o)}un(e,t){const o=new md;for(const d of Ls(e)){const m=t.data.field(d.fieldPath);if(null==m)return null;const w=o.Le(d.kind);gu.pe.oe(m,w)}return o.$e()}sn(e){const t=new md;return gu.pe.oe(e,t.Le(0)),t.$e()}cn(e,t){const o=new md;return gu.pe.oe(ja(this.databaseId,t),o.Le(function(d){const m=Ls(d);return 0===m.length?0:m[m.length-1].kind}(e))),o.$e()}en(e,t,o){if(null===o)return[];let d=[];d.push(new md);let m=0;for(const w of Ls(e)){const N=o[m++];for(const $ of d)if(this.an(t,w.fieldPath)&&oc(N))d=this.hn(d,w,N);else{const W=$.Le(w.kind);gu.pe.oe(N,W)}}return this.ln(d)}tn(e,t,o){return this.en(e,t,o.position)}ln(e){const t=[];for(let o=0;o<e.length;++o)t[o]=e[o].$e();return t}hn(e,t,o){const d=[...e],m=[];for(const w of o.arrayValue.values||[])for(const N of d){const $=new md;$.seed(N.$e()),gu.pe.oe(w,$.Le(t.kind)),m.push($)}return m}an(e,t){return!!e.filters.find(o=>o instanceof Pr&&o.field.isEqual(t)&&("in"===o.op||"not-in"===o.op))}getFieldIndexes(e,t){const o=ju(e),d=Ec(e);return(t?o.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):o.j()).next(m=>{const w=[];return it.forEach(m,N=>d.get([N.indexId,this.uid]).next($=>{w.push(function(W,re){const De=re?new cr(re.sequenceNumber,new Vs(hl(re.readTime),new Jt(le(re.documentKey)),re.largestBatchId)):cr.empty(),Ye=W.fields.map(([wt,Kt])=>new nu(vr.fromServerFormat(wt),Kt));return new ms(W.indexId,W.collectionGroup,Ye,De)}(N,$))})).next(()=>w)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((o,d)=>{const m=o.indexState.sequenceNumber-d.indexState.sequenceNumber;return 0!==m?m:jn(o.collectionGroup,d.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,o){const d=ju(e),m=Ec(e);return this.fn(e).next(w=>d.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(N=>it.forEach(N,$=>m.put(tf($.indexId,this.user,w,o)))))}updateIndexEntries(e,t){const o=new Map;return it.forEach(t,(d,m)=>{const w=o.get(d.collectionGroup);return(w?it.resolve(w):this.getFieldIndexes(e,d.collectionGroup)).next(N=>(o.set(d.collectionGroup,N),it.forEach(N,$=>this.dn(e,d,$).next(W=>{const re=this.wn(m,$);return W.isEqual(re)?it.resolve():this._n(e,m,$,W,re)}))))})}mn(e,t,o,d){return Hu(e).put({indexId:d.indexId,uid:this.uid,arrayValue:d.arrayValue,directionalValue:d.directionalValue,orderedDocumentKey:this.cn(o,t.key),documentKey:t.key.path.toArray()})}gn(e,t,o,d){return Hu(e).delete([d.indexId,this.uid,d.arrayValue,d.directionalValue,this.cn(o,t.key),t.key.path.toArray()])}dn(e,t,o){const d=Hu(e);let m=new Le(Bu);return d.Z({index:"documentKeyIndex",range:IDBKeyRange.only([o.indexId,this.uid,this.cn(o,t)])},(w,N)=>{m=m.add(new _d(o.indexId,t,N.arrayValue,N.directionalValue))}).next(()=>m)}wn(e,t){let o=new Le(Bu);const d=this.un(t,e);if(null==d)return o;const m=Ja(t);if(null!=m){const w=e.data.field(m.fieldPath);if(oc(w))for(const N of w.arrayValue.values||[])o=o.add(new _d(t.indexId,e.key,this.sn(N),d))}else o=o.add(new _d(t.indexId,e.key,$u,d));return o}_n(e,t,o,d,m){mt("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const w=[];return function(N,$,W,re,De){const Ye=N.getIterator(),wt=$.getIterator();let Kt=gn(Ye),_n=gn(wt);for(;Kt||_n;){let Pn=!1,Xr=!1;if(Kt&&_n){const vs=W(Kt,_n);vs<0?Xr=!0:vs>0&&(Pn=!0)}else null!=Kt?Xr=!0:Pn=!0;Pn?(re(_n),_n=gn(wt)):Xr?(De(Kt),Kt=gn(Ye)):(Kt=gn(Ye),_n=gn(wt))}}(d,m,Bu,N=>{w.push(this.mn(e,t,o,N))},N=>{w.push(this.gn(e,t,o,N))}),it.waitFor(w)}fn(e){let t=1;return Ec(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,d,m)=>{m.done(),t=d.sequenceNumber+1}).next(()=>t)}createRange(e,t,o){o=o.sort((w,N)=>Bu(w,N)).filter((w,N,$)=>!N||0!==Bu(w,$[N-1]));const d=[];d.push(e);for(const w of o){const N=Bu(w,e),$=Bu(w,t);if(0===N)d[0]=e.qe();else if(N>0&&$<0)d.push(w),d.push(w.qe());else if($>0)break}d.push(t);const m=[];for(let w=0;w<d.length;w+=2){if(this.yn(d[w],d[w+1]))return[];m.push(IDBKeyRange.bound([d[w].indexId,this.uid,d[w].arrayValue,d[w].directionalValue,$u,[]],[d[w+1].indexId,this.uid,d[w+1].arrayValue,d[w+1].directionalValue,$u,[]]))}return m}yn(e,t){return Bu(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(nf)}getMinOffset(e,t){return it.mapArray(this.Ze(t),o=>this.Xe(e,o).next(d=>d||ln())).next(nf)}}function mu(i){return rs(i,"collectionParents")}function Hu(i){return rs(i,"indexEntries")}function ju(i){return rs(i,"indexConfiguration")}function Ec(i){return rs(i,"indexState")}function nf(i){en(0!==i.length);let e=i[0].indexState.offset,t=e.largestBatchId;for(let o=1;o<i.length;o++){const d=i[o].indexState.offset;ru(d,e)<0&&(e=d),t<d.largestBatchId&&(t=d.largestBatchId)}return new Vs(e.readTime,e.documentKey,t)}const Qp={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ea{constructor(e,t,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new Ea(e,Ea.DEFAULT_COLLECTION_PERCENTILE,Ea.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Xp(i,e,t){const o=i.store("mutations"),d=i.store("documentMutations"),m=[],w=IDBKeyRange.only(t.batchId);let N=0;const $=o.Z({range:w},(re,De,Ye)=>(N++,Ye.delete()));m.push($.next(()=>{en(1===N)}));const W=[];for(const re of t.mutations){const De=nn(e,re.key.path,t.batchId);m.push(d.delete(De)),W.push(re.key)}return it.waitFor(m).next(()=>W)}function uh(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw ln();e=i.noDocument}return JSON.stringify(e).length}Ea.DEFAULT_COLLECTION_PERCENTILE=10,Ea.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ea.DEFAULT=new Ea(41943040,Ea.DEFAULT_COLLECTION_PERCENTILE,Ea.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ea.DISABLED=new Ea(-1,0,0);class Yl{constructor(e,t,o,d){this.userId=e,this.serializer=t,this.indexManager=o,this.referenceDelegate=d,this.pn={}}static ie(e,t,o,d){en(""!==e.uid);const m=e.isAuthenticated()?e.uid:"";return new Yl(m,t,o,d)}checkEmpty(e){let t=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ia(e).Z({index:"userMutationsIndex",range:o},(d,m,w)=>{t=!1,w.done()}).next(()=>t)}addMutationBatch(e,t,o,d){const m=_u(e),w=Ia(e);return w.add({}).next(N=>{en("number"==typeof N);const $=new Al(N,t,o,d),W=function(Ye,wt,Kt){const _n=Kt.baseMutations.map(Xr=>nh(Ye.se,Xr)),Pn=Kt.mutations.map(Xr=>nh(Ye.se,Xr));return{userId:wt,batchId:Kt.batchId,localWriteTimeMs:Kt.localWriteTime.toMillis(),baseMutations:_n,mutations:Pn}}(this.serializer,this.userId,$),re=[];let De=new Le((Ye,wt)=>jn(Ye.canonicalString(),wt.canonicalString()));for(const Ye of d){const wt=nn(this.userId,Ye.key.path,N);De=De.add(Ye.key.path.popLast()),re.push(w.put(W)),re.push(m.put(wt,or))}return De.forEach(Ye=>{re.push(this.indexManager.addToCollectionParentIndex(e,Ye))}),e.addOnCommittedListener(()=>{this.pn[N]=$.keys()}),it.waitFor(re).next(()=>$)})}lookupMutationBatch(e,t){return Ia(e).get(t).next(o=>o?(en(o.userId===this.userId),bc(this.serializer,o)):null)}In(e,t){return this.pn[t]?it.resolve(this.pn[t]):this.lookupMutationBatch(e,t).next(o=>{if(o){const d=o.keys();return this.pn[t]=d,d}return null})}getNextMutationBatchAfterBatchId(e,t){const o=t+1,d=IDBKeyRange.lowerBound([this.userId,o]);let m=null;return Ia(e).Z({index:"userMutationsIndex",range:d},(w,N,$)=>{N.userId===this.userId&&(en(N.batchId>=o),m=bc(this.serializer,N)),$.done()}).next(()=>m)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return Ia(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(d,m,w)=>{o=m.batchId,w.done()}).next(()=>o)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ia(e).j("userMutationsIndex",t).next(o=>o.map(d=>bc(this.serializer,d)))}getAllMutationBatchesAffectingDocumentKey(e,t){const o=ft(this.userId,t.path),d=IDBKeyRange.lowerBound(o),m=[];return _u(e).Z({range:d},(w,N,$)=>{const[W,re,De]=w,Ye=le(re);if(W===this.userId&&t.path.isEqual(Ye))return Ia(e).get(De).next(wt=>{if(!wt)throw ln();en(wt.userId===this.userId),m.push(bc(this.serializer,wt))});$.done()}).next(()=>m)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new Le(jn);const d=[];return t.forEach(m=>{const w=ft(this.userId,m.path),N=IDBKeyRange.lowerBound(w),$=_u(e).Z({range:N},(W,re,De)=>{const[Ye,wt,Kt]=W,_n=le(wt);Ye===this.userId&&m.path.isEqual(_n)?o=o.add(Kt):De.done()});d.push($)}),it.waitFor(d).next(()=>this.Tn(e,o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,d=o.length+1,m=ft(this.userId,o),w=IDBKeyRange.lowerBound(m);let N=new Le(jn);return _u(e).Z({range:w},($,W,re)=>{const[De,Ye,wt]=$,Kt=le(Ye);De===this.userId&&o.isPrefixOf(Kt)?Kt.length===d&&(N=N.add(wt)):re.done()}).next(()=>this.Tn(e,N))}Tn(e,t){const o=[],d=[];return t.forEach(m=>{d.push(Ia(e).get(m).next(w=>{if(null===w)throw ln();en(w.userId===this.userId),o.push(bc(this.serializer,w))}))}),it.waitFor(d).next(()=>o)}removeMutationBatch(e,t){return Xp(e.at,this.userId,t).next(o=>(e.addOnCommittedListener(()=>{this.En(t.batchId)}),it.forEach(o,d=>this.referenceDelegate.markPotentiallyOrphaned(e,d))))}En(e){delete this.pn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return it.resolve();const o=IDBKeyRange.lowerBound([this.userId]),d=[];return _u(e).Z({range:o},(m,w,N)=>{if(m[0]===this.userId){const $=le(m[1]);d.push($)}else N.done()}).next(()=>{en(0===d.length)})})}containsKey(e,t){return Kl(e,this.userId,t)}An(e){return ch(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Kl(i,e,t){const o=ft(e,t.path),d=o[1],m=IDBKeyRange.lowerBound(o);let w=!1;return _u(i).Z({range:m,Y:!0},(N,$,W)=>{const[re,De,Ye]=N;re===e&&De===d&&(w=!0),W.done()}).next(()=>w)}function Ia(i){return rs(i,"mutations")}function _u(i){return rs(i,"documentMutations")}function ch(i){return rs(i,"mutationQueues")}class Ta{constructor(e){this.Rn=e}next(){return this.Rn+=2,this.Rn}static vn(){return new Ta(0)}static bn(){return new Ta(-1)}}class Ic{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Pn(e).next(t=>{const o=new Ta(t.highestTargetId);return t.highestTargetId=o.next(),this.Vn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Pn(e).next(t=>Nn.fromTimestamp(new Kr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Pn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,o){return this.Pn(e).next(d=>(d.highestListenSequenceNumber=t,o&&(d.lastRemoteSnapshotVersion=o.toTimestamp()),t>d.highestListenSequenceNumber&&(d.highestListenSequenceNumber=t),this.Vn(e,d)))}addTargetData(e,t){return this.Sn(e,t).next(()=>this.Pn(e).next(o=>(o.targetCount+=1,this.Dn(t,o),this.Vn(e,o))))}updateTargetData(e,t){return this.Sn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Tc(e).delete(t.targetId)).next(()=>this.Pn(e)).next(o=>(en(o.targetCount>0),o.targetCount-=1,this.Vn(e,o)))}removeTargets(e,t,o){let d=0;const m=[];return Tc(e).Z((w,N)=>{const $=wc(N);$.sequenceNumber<=t&&null===o.get($.targetId)&&(d++,m.push(this.removeTargetData(e,$)))}).next(()=>it.waitFor(m)).next(()=>d)}forEachTarget(e,t){return Tc(e).Z((o,d)=>{const m=wc(d);t(m)})}Pn(e){return sm(e).get("targetGlobalKey").next(t=>(en(null!==t),t))}Vn(e,t){return sm(e).put("targetGlobalKey",t)}Sn(e,t){return Tc(e).put(Kf(this.serializer,t))}Dn(e,t){let o=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,o=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,o=!0),o}getTargetCount(e){return this.Pn(e).next(t=>t.targetCount)}getTargetData(e,t){const o=Mu(t),d=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let m=null;return Tc(e).Z({range:d,index:"queryTargetsIndex"},(w,N,$)=>{const W=wc(N);wa(t,W.target)&&(m=W,$.done())}).next(()=>m)}addMatchingKeys(e,t,o){const d=[],m=Sc(e);return t.forEach(w=>{const N=R(w.path);d.push(m.put({targetId:o,path:N})),d.push(this.referenceDelegate.addReference(e,o,w))}),it.waitFor(d)}removeMatchingKeys(e,t,o){const d=Sc(e);return it.forEach(t,m=>{const w=R(m.path);return it.waitFor([d.delete([o,w]),this.referenceDelegate.removeReference(e,o,m)])})}removeMatchingKeysForTargetId(e,t){const o=Sc(e),d=IDBKeyRange.bound([t],[t+1],!1,!0);return o.delete(d)}getMatchingKeysForTargetId(e,t){const o=IDBKeyRange.bound([t],[t+1],!1,!0),d=Sc(e);let m=Xn();return d.Z({range:o,Y:!0},(w,N,$)=>{const W=le(w[1]),re=new Jt(W);m=m.add(re)}).next(()=>m)}containsKey(e,t){const o=R(t.path),d=IDBKeyRange.bound([o],[tu(o)],!1,!0);let m=0;return Sc(e).Z({index:"documentTargetsIndex",Y:!0,range:d},([w,N],$,W)=>{0!==w&&(m++,W.done())}).next(()=>m>0)}ne(e,t){return Tc(e).get(t).next(o=>o?wc(o):null)}}function Tc(i){return rs(i,"targets")}function sm(i){return rs(i,"targetGlobal")}function Sc(i){return rs(i,"targetDocuments")}function om([i,e],[t,o]){const d=jn(i,t);return 0===d?jn(e,o):d}class w_{constructor(e){this.Cn=e,this.buffer=new Le(om),this.xn=0}Nn(){return++this.xn}kn(e){const t=[e,this.Nn()];if(this.buffer.size<this.Cn)this.buffer=this.buffer.add(t);else{const o=this.buffer.last();om(t,o)<0&&(this.buffer=this.buffer.delete(o).add(t))}}get maxValue(){return this.buffer.last()[0]}}class D_{constructor(e,t,o){this.garbageCollector=e,this.asyncQueue=t,this.localStore=o,this.On=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.$n(6e4)}stop(){this.On&&(this.On.cancel(),this.On=null)}get started(){return null!==this.On}$n(e){var t=this;mt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.On=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Se.Z)(function*(){t.On=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(o){fi(o)?mt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield oa(o)}yield t.$n(3e5)}))}}class dh{constructor(e,t){this.Mn=e,this.params=t}calculateTargetCount(e,t){return this.Mn.Fn(e).next(o=>Math.floor(t/100*o))}nthSequenceNumber(e,t){if(0===t)return it.resolve(Es.ct);const o=new w_(t);return this.Mn.forEachTarget(e,d=>o.kn(d.sequenceNumber)).next(()=>this.Mn.Bn(e,d=>o.kn(d))).next(()=>o.maxValue)}removeTargets(e,t,o){return this.Mn.removeTargets(e,t,o)}removeOrphanedDocuments(e,t){return this.Mn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(mt("LruGarbageCollector","Garbage collection skipped; disabled"),it.resolve(Qp)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(mt("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Qp):this.Ln(e,t))}getCacheSize(e){return this.Mn.getCacheSize(e)}Ln(e,t){let o,d,m,w,N,$,W;const re=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(De=>(De>this.params.maximumSequenceNumbersToCollect?(mt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${De}`),d=this.params.maximumSequenceNumbersToCollect):d=De,w=Date.now(),this.nthSequenceNumber(e,d))).next(De=>(o=De,N=Date.now(),this.removeTargets(e,o,t))).next(De=>(m=De,$=Date.now(),this.removeOrphanedDocuments(e,o))).next(De=>(W=Date.now(),Jn()<=$e.in.DEBUG&&mt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${w-re}ms\n\tDetermined least recently used ${d} in `+(N-w)+`ms\n\tRemoved ${m} targets in `+($-N)+`ms\n\tRemoved ${De} documents in `+(W-$)+`ms\nTotal Duration: ${W-re}ms`),it.resolve({didRun:!0,sequenceNumbersCollected:d,targetsRemoved:m,documentsRemoved:De})))}}class Gu{constructor(e,t){this.db=e,this.garbageCollector=new dh(this,t)}Fn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(o=>t.next(d=>o+d))}qn(e){let t=0;return this.Bn(e,o=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Bn(e,t){return this.Un(e,(o,d)=>t(d))}addReference(e,t,o){return ep(e,o)}removeReference(e,t,o){return ep(e,o)}removeTargets(e,t,o){return this.db.getTargetCache().removeTargets(e,t,o)}markPotentiallyOrphaned(e,t){return ep(e,t)}Kn(e,t){return function(o,d){let m=!1;return ch(o).X(w=>Kl(o,w,d).next(N=>(N&&(m=!0),it.resolve(!N)))).next(()=>m)}(e,t)}removeOrphanedDocuments(e,t){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),d=[];let m=0;return this.Un(e,(w,N)=>{if(N<=t){const $=this.Kn(e,w).next(W=>{if(!W)return m++,o.getEntry(e,w).next(()=>(o.removeEntry(w,Nn.min()),Sc(e).delete([0,R(w.path)])))});d.push($)}}).next(()=>it.waitFor(d)).next(()=>o.apply(e)).next(()=>m)}removeTarget(e,t){const o=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)}updateLimboDocument(e,t){return ep(e,t)}Un(e,t){const o=Sc(e);let d,m=Es.ct;return o.Z({index:"documentTargetsIndex"},([w,N],{path:$,sequenceNumber:W})=>{0===w?(m!==Es.ct&&t(new Jt(le(d)),m),m=W,d=$):m=Es.ct}).next(()=>{m!==Es.ct&&t(new Jt(le(d)),m)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function ep(i,e){return Sc(i).put((o=i.currentSequenceNumber,{targetId:0,path:R(e.path),sequenceNumber:o}));var o}class am{constructor(){this.changes=new za(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ii.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const o=this.changes.get(t);return void 0!==o?it.resolve(o):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Yy{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,o){return Ac(e).put(o)}removeEntry(e,t,o){return Ac(e).delete(function(d,m){const w=d.path.toArray();return[w.slice(0,w.length-2),w[w.length-2],hd(m),w[w.length-1]]}(t,o))}updateMetadata(e,t){return this.getMetadata(e).next(o=>(o.byteSize+=t,this.Gn(e,o)))}getEntry(e,t){let o=Ii.newInvalidDocument(t);return Ac(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(tp(t))},(d,m)=>{o=this.Qn(t,m)}).next(()=>o)}zn(e,t){let o={size:0,document:Ii.newInvalidDocument(t)};return Ac(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(tp(t))},(d,m)=>{o={document:this.Qn(t,m),size:uh(m)}}).next(()=>o)}getEntries(e,t){let o=Sr();return this.jn(e,t,(d,m)=>{const w=this.Qn(d,m);o=o.insert(d,w)}).next(()=>o)}Wn(e,t){let o=Sr(),d=new Y(Jt.comparator);return this.jn(e,t,(m,w)=>{const N=this.Qn(m,w);o=o.insert(m,N),d=d.insert(m,uh(w))}).next(()=>({documents:o,Hn:d}))}jn(e,t,o){if(t.isEmpty())return it.resolve();let d=new Le(eg);t.forEach($=>d=d.add($));const m=IDBKeyRange.bound(tp(d.first()),tp(d.last())),w=d.getIterator();let N=w.getNext();return Ac(e).Z({index:"documentKeyIndex",range:m},($,W,re)=>{const De=Jt.fromSegments([...W.prefixPath,W.collectionGroup,W.documentId]);for(;N&&eg(N,De)<0;)o(N,null),N=w.getNext();N&&N.isEqual(De)&&(o(N,W),N=w.hasNext()?w.getNext():null),N?re.G(tp(N)):re.done()}).next(()=>{for(;N;)o(N,null),N=w.hasNext()?w.getNext():null})}getDocumentsMatchingQuery(e,t,o,d){const m=t.path,w=[m.popLast().toArray(),m.lastSegment(),hd(o.readTime),o.documentKey.path.isEmpty()?"":o.documentKey.path.lastSegment()],N=[m.popLast().toArray(),m.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ac(e).j(IDBKeyRange.bound(w,N,!0)).next($=>{let W=Sr();for(const re of $){const De=this.Qn(Jt.fromSegments(re.prefixPath.concat(re.collectionGroup,re.documentId)),re);De.isFoundDocument()&&(xu(t,De)||d.has(De.key))&&(W=W.insert(De.key,De))}return W})}getAllFromCollectionGroup(e,t,o,d){let m=Sr();const w=rf(t,o),N=rf(t,Vs.max());return Ac(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(w,N,!0)},($,W,re)=>{const De=this.Qn(Jt.fromSegments(W.prefixPath.concat(W.collectionGroup,W.documentId)),W);m=m.insert(De.key,De),m.size===d&&re.done()}).next(()=>m)}newChangeBuffer(e){return new lm(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return E_(e).get("remoteDocumentGlobalKey").next(t=>(en(!!t),t))}Gn(e,t){return E_(e).put("remoteDocumentGlobalKey",t)}Qn(e,t){if(t){const o=function dd(i,e){let t;if(e.document)t=Jh(i.se,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const o=Jt.fromSegments(e.noDocument.path),d=hl(e.noDocument.readTime);t=Ii.newNoDocument(o,d),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return ln();{const o=Jt.fromSegments(e.unknownDocument.path),d=hl(e.unknownDocument.version);t=Ii.newUnknownDocument(o,d)}}return e.readTime&&t.setReadTime(function(o){const d=new Kr(o[0],o[1]);return Nn.fromTimestamp(d)}(e.readTime)),t}(this.serializer,t);if(!o.isNoDocument()||!o.version.isEqual(Nn.min()))return o}return Ii.newInvalidDocument(e)}}function C_(i){return new Yy(i)}class lm extends am{constructor(e,t){super(),this.Jn=e,this.trackRemovals=t,this.Yn=new za(o=>o.toString(),(o,d)=>o.isEqual(d))}applyChanges(e){const t=[];let o=0,d=new Le((m,w)=>jn(m.canonicalString(),w.canonicalString()));return this.changes.forEach((m,w)=>{const N=this.Yn.get(m);if(t.push(this.Jn.removeEntry(e,m,N.readTime)),w.isValidDocument()){const $=ef(this.Jn.serializer,w);d=d.add(m.path.popLast()),o+=uh($)-N.size,t.push(this.Jn.addEntry(e,m,$))}else if(o-=N.size,this.trackRemovals){const $=ef(this.Jn.serializer,w.convertToNoDocument(Nn.min()));t.push(this.Jn.addEntry(e,m,$))}}),d.forEach(m=>{t.push(this.Jn.indexManager.addToCollectionParentIndex(e,m))}),t.push(this.Jn.updateMetadata(e,o)),it.waitFor(t)}getFromCache(e,t){return this.Jn.zn(e,t).next(o=>(this.Yn.set(t,{size:o.size,readTime:o.document.readTime}),o.document))}getAllFromCache(e,t){return this.Jn.Wn(e,t).next(({documents:o,Hn:d})=>(d.forEach((m,w)=>{this.Yn.set(m,{size:w,readTime:o.get(m).readTime})}),o))}}function E_(i){return rs(i,"remoteDocumentGlobal")}function Ac(i){return rs(i,"remoteDocumentsV14")}function tp(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function rf(i,e){const t=e.documentKey.path.toArray();return[i,hd(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function eg(i,e){const t=i.path.toArray(),o=e.path.toArray();let d=0;for(let m=0;m<t.length-2&&m<o.length-2;++m)if(d=jn(t[m],o[m]),d)return d;return d=jn(t.length,o.length),d||(d=jn(t[t.length-2],o[o.length-2]),d||jn(t[t.length-1],o[o.length-1]))}class np{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class rp{constructor(e,t,o,d){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=o,this.indexManager=d}getDocument(e,t){let o=null;return this.documentOverlayCache.getOverlay(e,t).next(d=>(o=d,this.remoteDocumentCache.getEntry(e,t))).next(d=>(null!==o&&du(o.mutation,d,bn.empty(),Kr.now()),d))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.getLocalViewOfDocuments(e,o,Xn()).next(()=>o))}getLocalViewOfDocuments(e,t,o=Xn()){const d=jo();return this.populateOverlays(e,d,t).next(()=>this.computeViews(e,t,d,o).next(m=>{let w=il();return m.forEach((N,$)=>{w=w.insert(N,$.overlayedDocument)}),w}))}getOverlayedDocuments(e,t){const o=jo();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,Xn()))}populateOverlays(e,t,o){const d=[];return o.forEach(m=>{t.has(m)||d.push(m)}),this.documentOverlayCache.getOverlays(e,d).next(m=>{m.forEach((w,N)=>{t.set(w,N)})})}computeViews(e,t,o,d){let m=Sr();const w=Da(),N=Da();return t.forEach(($,W)=>{const re=o.get(W.key);d.has(W.key)&&(void 0===re||re.mutation instanceof ul)?m=m.insert(W.key,W):void 0!==re?(w.set(W.key,re.mutation.getFieldMask()),du(re.mutation,W,re.mutation.getFieldMask(),Kr.now())):w.set(W.key,bn.empty())}),this.recalculateAndSaveOverlays(e,m).next($=>($.forEach((W,re)=>w.set(W,re)),t.forEach((W,re)=>{var De;return N.set(W,new np(re,null!==(De=w.get(W))&&void 0!==De?De:null))}),N))}recalculateAndSaveOverlays(e,t){const o=Da();let d=new Y((w,N)=>w-N),m=Xn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(w=>{for(const N of w)N.keys().forEach($=>{const W=t.get($);if(null===W)return;let re=o.get($)||bn.empty();re=N.applyToLocalView(W,re),o.set($,re);const De=(d.get(N.batchId)||Xn()).add($);d=d.insert(N.batchId,De)})}).next(()=>{const w=[],N=d.getReverseIterator();for(;N.hasNext();){const $=N.getNext(),W=$.key,re=$.value,De=Wd();re.forEach(Ye=>{if(!m.has(Ye)){const wt=gc(t.get(Ye),o.get(Ye));null!==wt&&De.set(Ye,wt),m=m.add(Ye)}}),w.push(this.documentOverlayCache.saveOverlays(e,W,De))}return it.waitFor(w)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,t,o){return Jt.isDocumentKey((d=t).path)&&null===d.collectionGroup&&0===d.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):uc(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,o):this.getDocumentsMatchingCollectionQuery(e,t,o);var d}getNextDocuments(e,t,o,d){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,o,d).next(m=>{const w=d-m.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,o.largestBatchId,d-m.size):it.resolve(jo());let N=-1,$=m;return w.next(W=>it.forEach(W,(re,De)=>(N<De.largestBatchId&&(N=De.largestBatchId),m.get(re)?it.resolve():this.remoteDocumentCache.getEntry(e,re).next(Ye=>{$=$.insert(re,Ye)}))).next(()=>this.populateOverlays(e,W,m)).next(()=>this.computeViews(e,$,W,Xn())).next(re=>({batchId:N,changes:Zd(re)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Jt(t)).next(o=>{let d=il();return o.isFoundDocument()&&(d=d.insert(o.key,o)),d})}getDocumentsMatchingCollectionGroupQuery(e,t,o){const d=t.collectionGroup;let m=il();return this.indexManager.getCollectionParents(e,d).next(w=>it.forEach(w,N=>{const $=(W=t,re=N.child(d),new ua(re,null,W.explicitOrderBy.slice(),W.filters.slice(),W.limit,W.limitType,W.startAt,W.endAt));var W,re;return this.getDocumentsMatchingCollectionQuery(e,$,o).next(W=>{W.forEach((re,De)=>{m=m.insert(re,De)})})}).next(()=>m))}getDocumentsMatchingCollectionQuery(e,t,o){let d;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,o.largestBatchId).next(m=>(d=m,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,o,d))).next(m=>{d.forEach((N,$)=>{const W=$.getKey();null===m.get(W)&&(m=m.insert(W,Ii.newInvalidDocument(W)))});let w=il();return m.forEach((N,$)=>{const W=d.get(N);void 0!==W&&du(W.mutation,$,bn.empty(),Kr.now()),xu(t,$)&&(w=w.insert(N,$))}),w})}}class tg{constructor(e){this.serializer=e,this.Zn=new Map,this.Xn=new Map}getBundleMetadata(e,t){return it.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var o;return this.Zn.set(t.id,{id:(o=t).id,version:o.version,createTime:Pi(o.createTime)}),it.resolve()}getNamedQuery(e,t){return it.resolve(this.Xn.get(t))}saveNamedQuery(e,t){return this.Xn.set(t.name,{name:(o=t).name,query:fd(o.bundledQuery),readTime:Pi(o.readTime)}),it.resolve();var o}}class Sa{constructor(){this.overlays=new Y(Jt.comparator),this.ts=new Map}getOverlay(e,t){return it.resolve(this.overlays.get(t))}getOverlays(e,t){const o=jo();return it.forEach(t,d=>this.getOverlay(e,d).next(m=>{null!==m&&o.set(d,m)})).next(()=>o)}saveOverlays(e,t,o){return o.forEach((d,m)=>{this.re(e,t,m)}),it.resolve()}removeOverlaysForBatchId(e,t,o){const d=this.ts.get(o);return void 0!==d&&(d.forEach(m=>this.overlays=this.overlays.remove(m)),this.ts.delete(o)),it.resolve()}getOverlaysForCollection(e,t,o){const d=jo(),m=t.length+1,w=new Jt(t.child("")),N=this.overlays.getIteratorFrom(w);for(;N.hasNext();){const $=N.getNext().value,W=$.getKey();if(!t.isPrefixOf(W.path))break;W.path.length===m&&$.largestBatchId>o&&d.set($.getKey(),$)}return it.resolve(d)}getOverlaysForCollectionGroup(e,t,o,d){let m=new Y((W,re)=>W-re);const w=this.overlays.getIterator();for(;w.hasNext();){const W=w.getNext().value;if(W.getKey().getCollectionGroup()===t&&W.largestBatchId>o){let re=m.get(W.largestBatchId);null===re&&(re=jo(),m=m.insert(W.largestBatchId,re)),re.set(W.getKey(),W)}}const N=jo(),$=m.getIterator();for(;$.hasNext()&&($.getNext().value.forEach((W,re)=>N.set(W,re)),!(N.size()>=d)););return it.resolve(N)}re(e,t,o){const d=this.overlays.get(o.key);if(null!==d){const w=this.ts.get(d.largestBatchId).delete(o.key);this.ts.set(d.largestBatchId,w)}this.overlays=this.overlays.insert(o.key,new cl(t,o));let m=this.ts.get(t);void 0===m&&(m=Xn(),this.ts.set(t,m)),this.ts.set(t,m.add(o.key))}}class ip{constructor(){this.es=new Le(Is.ns),this.ss=new Le(Is.rs)}isEmpty(){return this.es.isEmpty()}addReference(e,t){const o=new Is(e,t);this.es=this.es.add(o),this.ss=this.ss.add(o)}os(e,t){e.forEach(o=>this.addReference(o,t))}removeReference(e,t){this.us(new Is(e,t))}cs(e,t){e.forEach(o=>this.removeReference(o,t))}hs(e){const t=new Jt(new Ir([])),o=new Is(t,e),d=new Is(t,e+1),m=[];return this.ss.forEachInRange([o,d],w=>{this.us(w),m.push(w.key)}),m}ls(){this.es.forEach(e=>this.us(e))}us(e){this.es=this.es.delete(e),this.ss=this.ss.delete(e)}fs(e){const t=new Jt(new Ir([])),o=new Is(t,e),d=new Is(t,e+1);let m=Xn();return this.ss.forEachInRange([o,d],w=>{m=m.add(w.key)}),m}containsKey(e){const t=new Is(e,0),o=this.es.firstAfterOrEqual(t);return null!==o&&e.isEqual(o.key)}}class Is{constructor(e,t){this.key=e,this.ds=t}static ns(e,t){return Jt.comparator(e.key,t.key)||jn(e.ds,t.ds)}static rs(e,t){return jn(e.ds,t.ds)||Jt.comparator(e.key,t.key)}}class I_{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this._s=new Le(Is.ns)}checkEmpty(e){return it.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,o,d){const m=this.ws;this.ws++;const w=new Al(m,t,o,d);this.mutationQueue.push(w);for(const N of d)this._s=this._s.add(new Is(N.key,m)),this.indexManager.addToCollectionParentIndex(e,N.key.path.popLast());return it.resolve(w)}lookupMutationBatch(e,t){return it.resolve(this.gs(t))}getNextMutationBatchAfterBatchId(e,t){const d=this.ys(t+1),m=d<0?0:d;return it.resolve(this.mutationQueue.length>m?this.mutationQueue[m]:null)}getHighestUnacknowledgedBatchId(){return it.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return it.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const o=new Is(t,0),d=new Is(t,Number.POSITIVE_INFINITY),m=[];return this._s.forEachInRange([o,d],w=>{const N=this.gs(w.ds);m.push(N)}),it.resolve(m)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new Le(jn);return t.forEach(d=>{const m=new Is(d,0),w=new Is(d,Number.POSITIVE_INFINITY);this._s.forEachInRange([m,w],N=>{o=o.add(N.ds)})}),it.resolve(this.ps(o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,d=o.length+1;let m=o;Jt.isDocumentKey(m)||(m=m.child(""));const w=new Is(new Jt(m),0);let N=new Le(jn);return this._s.forEachWhile($=>{const W=$.key.path;return!!o.isPrefixOf(W)&&(W.length===d&&(N=N.add($.ds)),!0)},w),it.resolve(this.ps(N))}ps(e){const t=[];return e.forEach(o=>{const d=this.gs(o);null!==d&&t.push(d)}),t}removeMutationBatch(e,t){en(0===this.Is(t.batchId,"removed")),this.mutationQueue.shift();let o=this._s;return it.forEach(t.mutations,d=>{const m=new Is(d.key,t.batchId);return o=o.delete(m),this.referenceDelegate.markPotentiallyOrphaned(e,d.key)}).next(()=>{this._s=o})}En(e){}containsKey(e,t){const o=new Is(t,0),d=this._s.firstAfterOrEqual(o);return it.resolve(t.isEqual(d&&d.key))}performConsistencyCheck(e){return it.resolve()}Is(e,t){return this.ys(e)}ys(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}gs(e){const t=this.ys(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class ng{constructor(e){this.Ts=e,this.docs=new Y(Jt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const o=t.key,d=this.docs.get(o),m=d?d.size:0,w=this.Ts(t);return this.docs=this.docs.insert(o,{document:t.mutableCopy(),size:w}),this.size+=w-m,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const o=this.docs.get(t);return it.resolve(o?o.document.mutableCopy():Ii.newInvalidDocument(t))}getEntries(e,t){let o=Sr();return t.forEach(d=>{const m=this.docs.get(d);o=o.insert(d,m?m.document.mutableCopy():Ii.newInvalidDocument(d))}),it.resolve(o)}getDocumentsMatchingQuery(e,t,o,d){let m=Sr();const w=t.path,N=new Jt(w.child("")),$=this.docs.getIteratorFrom(N);for(;$.hasNext();){const{key:W,value:{document:re}}=$.getNext();if(!w.isPrefixOf(W.path))break;W.path.length>w.length+1||ru(Gc(re),o)<=0||(d.has(re.key)||xu(t,re))&&(m=m.insert(re.key,re.mutableCopy()))}return it.resolve(m)}getAllFromCollectionGroup(e,t,o,d){ln()}Es(e,t){return it.forEach(this.docs,o=>t(o))}newChangeBuffer(e){return new rg(this)}getSize(e){return it.resolve(this.size)}}class rg extends am{constructor(e){super(),this.Jn=e}applyChanges(e){const t=[];return this.changes.forEach((o,d)=>{d.isValidDocument()?t.push(this.Jn.addEntry(e,d)):this.Jn.removeEntry(o)}),it.waitFor(t)}getFromCache(e,t){return this.Jn.getEntry(e,t)}getAllFromCache(e,t){return this.Jn.getEntries(e,t)}}class Mc{constructor(e){this.persistence=e,this.As=new za(t=>Mu(t),wa),this.lastRemoteSnapshotVersion=Nn.min(),this.highestTargetId=0,this.Rs=0,this.vs=new ip,this.targetCount=0,this.bs=Ta.vn()}forEachTarget(e,t){return this.As.forEach((o,d)=>t(d)),it.resolve()}getLastRemoteSnapshotVersion(e){return it.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return it.resolve(this.Rs)}allocateTargetId(e){return this.highestTargetId=this.bs.next(),it.resolve(this.highestTargetId)}setTargetsMetadata(e,t,o){return o&&(this.lastRemoteSnapshotVersion=o),t>this.Rs&&(this.Rs=t),it.resolve()}Sn(e){this.As.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.bs=new Ta(t),this.highestTargetId=t),e.sequenceNumber>this.Rs&&(this.Rs=e.sequenceNumber)}addTargetData(e,t){return this.Sn(t),this.targetCount+=1,it.resolve()}updateTargetData(e,t){return this.Sn(t),it.resolve()}removeTargetData(e,t){return this.As.delete(t.target),this.vs.hs(t.targetId),this.targetCount-=1,it.resolve()}removeTargets(e,t,o){let d=0;const m=[];return this.As.forEach((w,N)=>{N.sequenceNumber<=t&&null===o.get(N.targetId)&&(this.As.delete(w),m.push(this.removeMatchingKeysForTargetId(e,N.targetId)),d++)}),it.waitFor(m).next(()=>d)}getTargetCount(e){return it.resolve(this.targetCount)}getTargetData(e,t){const o=this.As.get(t)||null;return it.resolve(o)}addMatchingKeys(e,t,o){return this.vs.os(t,o),it.resolve()}removeMatchingKeys(e,t,o){this.vs.cs(t,o);const d=this.persistence.referenceDelegate,m=[];return d&&t.forEach(w=>{m.push(d.markPotentiallyOrphaned(e,w))}),it.waitFor(m)}removeMatchingKeysForTargetId(e,t){return this.vs.hs(t),it.resolve()}getMatchingKeysForTargetId(e,t){const o=this.vs.fs(t);return it.resolve(o)}containsKey(e,t){return it.resolve(this.vs.containsKey(t))}}class hh{constructor(e,t){this.Ps={},this.overlays={},this.Vs=new Es(0),this.Ss=!1,this.Ss=!0,this.referenceDelegate=e(this),this.Ds=new Mc(this),this.indexManager=new rm,this.remoteDocumentCache=new ng(o=>this.referenceDelegate.Cs(o)),this.serializer=new zp(t),this.xs=new tg(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ss=!1,Promise.resolve()}get started(){return this.Ss}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Sa,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let o=this.Ps[e.toKey()];return o||(o=new I_(t,this.referenceDelegate),this.Ps[e.toKey()]=o),o}getTargetCache(){return this.Ds}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.xs}runTransaction(e,t,o){mt("MemoryPersistence","Starting transaction:",e);const d=new um(this.Vs.next());return this.referenceDelegate.Ns(),o(d).next(m=>this.referenceDelegate.ks(d).next(()=>m)).toPromise().then(m=>(d.raiseOnCommittedEvent(),m))}Os(e,t){return it.or(Object.values(this.Ps).map(o=>()=>o.containsKey(e,t)))}}class um extends Qa{constructor(e){super(),this.currentSequenceNumber=e}}class sp{constructor(e){this.persistence=e,this.$s=new ip,this.Ms=null}static Fs(e){return new sp(e)}get Bs(){if(this.Ms)return this.Ms;throw ln()}addReference(e,t,o){return this.$s.addReference(o,t),this.Bs.delete(o.toString()),it.resolve()}removeReference(e,t,o){return this.$s.removeReference(o,t),this.Bs.add(o.toString()),it.resolve()}markPotentiallyOrphaned(e,t){return this.Bs.add(t.toString()),it.resolve()}removeTarget(e,t){this.$s.hs(t.targetId).forEach(d=>this.Bs.add(d.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,t.targetId).next(d=>{d.forEach(m=>this.Bs.add(m.toString()))}).next(()=>o.removeTargetData(e,t))}Ns(){this.Ms=new Set}ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return it.forEach(this.Bs,o=>{const d=Jt.fromPath(o);return this.Ls(e,d).next(m=>{m||t.removeEntry(d,Nn.min())})}).next(()=>(this.Ms=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ls(e,t).next(o=>{o?this.Bs.delete(t.toString()):this.Bs.add(t.toString())})}Cs(e){return 0}Ls(e,t){return it.or([()=>it.resolve(this.$s.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Os(e,t)])}}class ig{constructor(e){this.serializer=e}M(e,t,o,d){const m=new iu("createOrUpgrade",t);var N;o<1&&d>=1&&(e.createObjectStore("owner"),(N=e).createObjectStore("mutationQueues",{keyPath:"userId"}),N.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ye,{unique:!0}),N.createObjectStore("documentMutations"),br(e),function(N){N.createObjectStore("remoteDocuments")}(e));let w=it.resolve();return o<3&&d>=3&&(0!==o&&(function(N){N.deleteObjectStore("targetDocuments"),N.deleteObjectStore("targets"),N.deleteObjectStore("targetGlobal")}(e),br(e)),w=w.next(()=>function(N){const $=N.store("targetGlobal"),W={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Nn.min().toTimestamp(),targetCount:0};return $.put("targetGlobalKey",W)}(m))),o<4&&d>=4&&(0!==o&&(w=w.next(()=>function(N,$){return $.store("mutations").j().next(W=>{N.deleteObjectStore("mutations"),N.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ye,{unique:!0});const re=$.store("mutations"),De=W.map(Ye=>re.put(Ye));return it.waitFor(De)})}(e,m))),w=w.next(()=>{!function(N){N.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),o<5&&d>=5&&(w=w.next(()=>this.qs(m))),o<6&&d>=6&&(w=w.next(()=>(function(N){N.createObjectStore("remoteDocumentGlobal")}(e),this.Us(m)))),o<7&&d>=7&&(w=w.next(()=>this.Ks(m))),o<8&&d>=8&&(w=w.next(()=>this.Gs(e,m))),o<9&&d>=9&&(w=w.next(()=>{!function(N){N.objectStoreNames.contains("remoteDocumentChanges")&&N.deleteObjectStore("remoteDocumentChanges")}(e)})),o<10&&d>=10&&(w=w.next(()=>this.Qs(m))),o<11&&d>=11&&(w=w.next(()=>{(function(N){N.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(N){N.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),o<12&&d>=12&&(w=w.next(()=>{!function(N){const $=N.createObjectStore("documentOverlays",{keyPath:Ld});$.createIndex("collectionPathOverlayIndex",su,{unique:!1}),$.createIndex("collectionGroupOverlayIndex",Dl,{unique:!1})}(e)})),o<13&&d>=13&&(w=w.next(()=>function(N){const $=N.createObjectStore("remoteDocumentsV14",{keyPath:Qt});$.createIndex("documentKeyIndex",Qn),$.createIndex("collectionGroupIndex",Yi)}(e)).next(()=>this.zs(e,m)).next(()=>e.deleteObjectStore("remoteDocuments"))),o<14&&d>=14&&(w=w.next(()=>this.js(e,m))),o<15&&d>=15&&(w=w.next(()=>function(N){N.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),N.createObjectStore("indexState",{keyPath:$a}).createIndex("sequenceNumberIndex",bl,{unique:!1}),N.createObjectStore("indexEntries",{keyPath:ba}).createIndex("documentKeyIndex",wl,{unique:!1})}(e))),w}Us(e){let t=0;return e.store("remoteDocuments").Z((o,d)=>{t+=uh(d)}).next(()=>{const o={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",o)})}qs(e){const t=e.store("mutationQueues"),o=e.store("mutations");return t.j().next(d=>it.forEach(d,m=>{const w=IDBKeyRange.bound([m.userId,-1],[m.userId,m.lastAcknowledgedBatchId]);return o.j("userMutationsIndex",w).next(N=>it.forEach(N,$=>{en($.userId===m.userId);const W=bc(this.serializer,$);return Xp(e,m.userId,W).next(()=>{})}))}))}Ks(e){const t=e.store("targetDocuments"),o=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(d=>{const m=[];return o.Z((w,N)=>{const $=new Ir(w),W=[0,R($)];m.push(t.get(W).next(re=>re?it.resolve():t.put({targetId:0,path:R($),sequenceNumber:d.highestListenSequenceNumber})))}).next(()=>it.waitFor(m))})}Gs(e,t){e.createObjectStore("collectionParents",{keyPath:Xa});const o=t.store("collectionParents"),d=new lh,m=w=>{if(d.add(w)){const N=w.lastSegment(),$=w.popLast();return o.put({collectionId:N,parent:R($)})}};return t.store("remoteDocuments").Z({Y:!0},(w,N)=>{const $=new Ir(w);return m($.popLast())}).next(()=>t.store("documentMutations").Z({Y:!0},([w,N,$],W)=>{const re=le(N);return m(re.popLast())}))}Qs(e){const t=e.store("targets");return t.Z((o,d)=>{const m=wc(d),w=Kf(this.serializer,m);return t.put(w)})}zs(e,t){const o=t.store("remoteDocuments"),d=[];return o.Z((m,w)=>{const N=t.store("remoteDocumentsV14"),$=(W=w,W.document?new Jt(Ir.fromString(W.document.name).popFirst(5)):W.noDocument?Jt.fromSegments(W.noDocument.path):W.unknownDocument?Jt.fromSegments(W.unknownDocument.path):ln()).path.toArray();var W;const re={prefixPath:$.slice(0,$.length-2),collectionGroup:$[$.length-2],documentId:$[$.length-1],readTime:w.readTime||[0,0],unknownDocument:w.unknownDocument,noDocument:w.noDocument,document:w.document,hasCommittedMutations:!!w.hasCommittedMutations};d.push(N.put(re))}).next(()=>it.waitFor(d))}js(e,t){const o=t.store("mutations"),d=C_(this.serializer),m=new hh(sp.Fs,this.serializer.se);return o.j().next(w=>{const N=new Map;return w.forEach($=>{var W;let re=null!==(W=N.get($.userId))&&void 0!==W?W:Xn();bc(this.serializer,$).keys().forEach(De=>re=re.add(De)),N.set($.userId,re)}),it.forEach(N,($,W)=>{const re=new On(W),De=Jf.ie(this.serializer,re),Ye=m.getIndexManager(re),wt=Yl.ie(re,this.serializer,Ye,m.referenceDelegate);return new rp(d,wt,De,Ye).recalculateAndSaveOverlaysForDocumentKeys(new Hl(t,Es.ct),$).next()})})}}function br(i){i.createObjectStore("targetDocuments",{keyPath:la}).createIndex("documentTargetsIndex",Zs,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",so,{unique:!0}),i.createObjectStore("targetGlobal")}const fh="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class sf{constructor(e,t,o,d,m,w,N,$,W,re,De=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=o,this.Ws=m,this.window=w,this.document=N,this.Hs=W,this.Js=re,this.Ys=De,this.Vs=null,this.Ss=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.Xs=null,this.ti=null,this.ei=Number.NEGATIVE_INFINITY,this.ni=Ye=>Promise.resolve(),!sf.D())throw new St(rt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Gu(this,d),this.si=t+"main",this.serializer=new zp($),this.ii=new Jr(this.si,this.Ys,new ig(this.serializer)),this.Ds=new Ic(this.referenceDelegate,this.serializer),this.remoteDocumentCache=C_(this.serializer),this.xs=new em,this.window&&this.window.localStorage?this.ri=this.window.localStorage:(this.ri=null,!1===re&&Er("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.oi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new St(rt.FAILED_PRECONDITION,fh);return this.ui(),this.ci(),this.ai(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ds.getHighestSequenceNumber(e))}).then(e=>{this.Vs=new Es(e,this.Hs)}).then(()=>{this.Ss=!0}).catch(e=>(this.ii&&this.ii.close(),Promise.reject(e)))}hi(e){var t=this;return this.ni=function(){var o=(0,Se.Z)(function*(d){if(t.started)return e(d)});return function(d){return o.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ii.B(function(){var t=(0,Se.Z)(function*(o){null===o.newVersion&&(yield e())});return function(o){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Ws.enqueueAndForget((0,Se.Z)(function*(){t.started&&(yield t.oi())})))}oi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>af(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.li(e).next(t=>{t||(this.isPrimary=!1,this.Ws.enqueueRetryable(()=>this.ni(!1)))})}).next(()=>this.fi(e)).next(t=>this.isPrimary&&!t?this.di(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(fi(e))return mt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return mt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Ws.enqueueRetryable(()=>this.ni(e)),this.isPrimary=e})}li(e){return Jl(e).get("owner").next(t=>it.resolve(this._i(t)))}mi(e){return af(e).delete(this.clientId)}gi(){var e=this;return(0,Se.Z)(function*(){if(e.isPrimary&&!e.yi(e.ei,18e5)){e.ei=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const d=rs(o,"clientMetadata");return d.j().next(m=>{const w=e.pi(m,18e5),N=m.filter($=>-1===w.indexOf($));return it.forEach(N,$=>d.delete($.clientId)).next(()=>N)})}).catch(()=>[]);if(e.ri)for(const o of t)e.ri.removeItem(e.Ii(o.clientId))}})()}ai(){this.ti=this.Ws.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.oi().then(()=>this.gi()).then(()=>this.ai()))}_i(e){return!!e&&e.ownerId===this.clientId}fi(e){return this.Js?it.resolve(!0):Jl(e).get("owner").next(t=>{if(null!==t&&this.yi(t.leaseTimestampMs,5e3)&&!this.Ti(t.ownerId)){if(this._i(t)&&this.networkEnabled)return!0;if(!this._i(t)){if(!t.allowTabSynchronization)throw new St(rt.FAILED_PRECONDITION,fh);return!1}}return!(!this.networkEnabled||!this.inForeground)||af(e).j().next(o=>void 0===this.pi(o,5e3).find(d=>{if(this.clientId!==d.clientId){const w=!this.inForeground&&d.inForeground,N=this.networkEnabled===d.networkEnabled;if(!this.networkEnabled&&d.networkEnabled||w&&N)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&mt("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Se.Z)(function*(){e.Ss=!1,e.Ei(),e.ti&&(e.ti.cancel(),e.ti=null),e.Ai(),e.Ri(),yield e.ii.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const o=new Hl(t,Es.ct);return e.di(o).next(()=>e.mi(o))}),e.ii.close(),e.vi()})()}pi(e,t){return e.filter(o=>this.yi(o.updateTimeMs,t)&&!this.Ti(o.clientId))}bi(){return this.runTransaction("getActiveClients","readonly",e=>af(e).j().next(t=>this.pi(t,18e5).map(o=>o.clientId)))}get started(){return this.Ss}getMutationQueue(e,t){return Yl.ie(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Ds}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new im(e,this.serializer.se.databaseId)}getDocumentOverlayCache(e){return Jf.ie(this.serializer,e)}getBundleCache(){return this.xs}runTransaction(e,t,o){mt("IndexedDbPersistence","Starting transaction:",e);const d="readonly"===t?"readonly":"readwrite",m=15===(w=this.Ys)?pi:14===w?ic:13===w?Ha:12===w?Mo:11===w?rc:void ln();var w;let N;return this.ii.runTransaction(e,d,m,$=>(N=new Hl($,this.Vs?this.Vs.next():Es.ct),"readwrite-primary"===t?this.li(N).next(W=>!!W||this.fi(N)).next(W=>{if(!W)throw Er(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Ws.enqueueRetryable(()=>this.ni(!1)),new St(rt.FAILED_PRECONDITION,_s);return o(N)}).next(W=>this.wi(N).next(()=>W)):this.Pi(N).next(()=>o(N)))).then($=>(N.raiseOnCommittedEvent(),$))}Pi(e){return Jl(e).get("owner").next(t=>{if(null!==t&&this.yi(t.leaseTimestampMs,5e3)&&!this.Ti(t.ownerId)&&!this._i(t)&&!(this.Js||this.allowTabSynchronization&&t.allowTabSynchronization))throw new St(rt.FAILED_PRECONDITION,fh)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Jl(e).put("owner",t)}static D(){return Jr.D()}di(e){const t=Jl(e);return t.get("owner").next(o=>this._i(o)?(mt("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):it.resolve())}yi(e,t){const o=Date.now();return!(e<o-t||e>o&&(Er(`Detected an update time that is in the future: ${e} > ${o}`),1))}ui(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Xs=()=>{this.Ws.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.oi()))},this.document.addEventListener("visibilitychange",this.Xs),this.inForeground="visible"===this.document.visibilityState)}Ai(){this.Xs&&(this.document.removeEventListener("visibilitychange",this.Xs),this.Xs=null)}ci(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ei();const t=/(?:Version|Mobile)\/1[456]/;(0,Fe.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.Ws.enterRestrictedMode(!0),this.Ws.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}Ri(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ti(e){var t;try{const o=null!==(null===(t=this.ri)||void 0===t?void 0:t.getItem(this.Ii(e)));return mt("IndexedDbPersistence",`Client '${e}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return Er("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}Ei(){if(this.ri)try{this.ri.setItem(this.Ii(this.clientId),String(Date.now()))}catch(e){Er("Failed to set zombie client id.",e)}}vi(){if(this.ri)try{this.ri.removeItem(this.Ii(this.clientId))}catch{}}Ii(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Jl(i){return rs(i,"owner")}function af(i){return rs(i,"clientMetadata")}function lf(i,e){let t=i.projectId;return i.isDefaultDatabase||(t+="."+i.database),"firestore/"+e+"/"+t+"/"}class uf{constructor(e,t,o,d){this.targetId=e,this.fromCache=t,this.Vi=o,this.Si=d}static Di(e,t){let o=Xn(),d=Xn();for(const m of t.docChanges)switch(m.type){case 0:o=o.add(m.doc.key);break;case 1:d=d.add(m.doc.key)}return new uf(e,t.fromCache,o,d)}}class op{constructor(){this.Ci=!1}initialize(e,t){this.xi=e,this.indexManager=t,this.Ci=!0}getDocumentsMatchingQuery(e,t,o,d){return this.Ni(e,t).next(m=>m||this.ki(e,t,d,o)).next(m=>m||this.Oi(e,t))}Ni(e,t){if(lc(t))return it.resolve(null);let o=lo(t);return this.indexManager.getIndexType(e,o).next(d=>0===d?null:(null!==t.limit&&1===d&&(t=dc(t,null,"F"),o=lo(t)),this.indexManager.getDocumentsMatchingTarget(e,o).next(m=>{const w=Xn(...m);return this.xi.getDocuments(e,w).next(N=>this.indexManager.getMinOffset(e,o).next($=>{const W=this.$i(t,N);return this.Mi(t,W,w,$.readTime)?this.Ni(e,dc(t,null,"F")):this.Fi(e,W,t,$)}))})))}ki(e,t,o,d){return lc(t)||d.isEqual(Nn.min())?this.Oi(e,t):this.xi.getDocuments(e,o).next(m=>{const w=this.$i(t,m);return this.Mi(t,w,o,d)?this.Oi(e,t):(Jn()<=$e.in.DEBUG&&mt("QueryEngine","Re-using previous result from %s to execute query: %s",d.toString(),cu(t)),this.Fi(e,w,t,Bl(d,-1)))})}$i(e,t){let o=new Le(rl(e));return t.forEach((d,m)=>{xu(e,m)&&(o=o.add(m))}),o}Mi(e,t,o,d){if(null===e.limit)return!1;if(o.size!==t.size)return!0;const m="F"===e.limitType?t.last():t.first();return!!m&&(m.hasPendingWrites||m.version.compareTo(d)>0)}Oi(e,t){return Jn()<=$e.in.DEBUG&&mt("QueryEngine","Using full collection scan to execute query:",cu(t)),this.xi.getDocumentsMatchingQuery(e,t,Vs.min())}Fi(e,t,o,d){return this.xi.getDocumentsMatchingQuery(e,o,d).next(m=>(t.forEach(w=>{m=m.insert(w.key,w)}),m))}}class sg{constructor(e,t,o,d){this.persistence=e,this.Bi=t,this.serializer=d,this.Li=new Y(jn),this.qi=new za(m=>Mu(m),wa),this.Ui=new Map,this.Ki=e.getRemoteDocumentCache(),this.Ds=e.getTargetCache(),this.xs=e.getBundleCache(),this.Gi(o)}Gi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new rp(this.Ki,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ki.setIndexManager(this.indexManager),this.Bi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Li))}}function ap(i,e,t,o){return new sg(i,e,t,o)}function cm(i,e){return og.apply(this,arguments)}function og(){return og=(0,Se.Z)(function*(i,e){const t=Ft(i);return yield t.persistence.runTransaction("Handle user change","readonly",o=>{let d;return t.mutationQueue.getAllMutationBatches(o).next(m=>(d=m,t.Gi(e),t.mutationQueue.getAllMutationBatches(o))).next(m=>{const w=[],N=[];let $=Xn();for(const W of d){w.push(W.batchId);for(const re of W.mutations)$=$.add(re.key)}for(const W of m){N.push(W.batchId);for(const re of W.mutations)$=$.add(re.key)}return t.localDocuments.getDocuments(o,$).next(W=>({Qi:W,removedBatchIds:w,addedBatchIds:N}))})})}),og.apply(this,arguments)}function lp(i,e){const t=Ft(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const d=e.batch.keys(),m=t.Ki.newChangeBuffer({trackRemovals:!0});return function(w,N,$,W){const re=$.batch,De=re.keys();let Ye=it.resolve();return De.forEach(wt=>{Ye=Ye.next(()=>W.getEntry(N,wt)).next(Kt=>{const _n=$.docVersions.get(wt);en(null!==_n),Kt.version.compareTo(_n)<0&&(re.applyToRemoteDocument(Kt,$),Kt.isValidDocument()&&(Kt.setReadTime($.commitVersion),W.addEntry(Kt)))})}),Ye.next(()=>w.mutationQueue.removeMutationBatch(N,re))}(t,o,e,m).next(()=>m.apply(o)).next(()=>t.mutationQueue.performConsistencyCheck(o)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(o,d,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(w){let N=Xn();for(let $=0;$<w.mutationResults.length;++$)w.mutationResults[$].transformResults.length>0&&(N=N.add(w.batch.mutations[$].key));return N}(e))).next(()=>t.localDocuments.getDocuments(o,d))})}function ph(i){const e=Ft(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ds.getLastRemoteSnapshotVersion(t))}function yu(i,e){const t=Ft(i),o=e.snapshotVersion;let d=t.Li;return t.persistence.runTransaction("Apply remote event","readwrite-primary",m=>{const w=t.Ki.newChangeBuffer({trackRemovals:!0});d=t.Li;const N=[];e.targetChanges.forEach((re,De)=>{const Ye=d.get(De);if(!Ye)return;N.push(t.Ds.removeMatchingKeys(m,re.removedDocuments,De).next(()=>t.Ds.addMatchingKeys(m,re.addedDocuments,De)));let wt=Ye.withSequenceNumber(m.currentSequenceNumber);var Kt,_n,Pn;e.targetMismatches.has(De)?wt=wt.withResumeToken(Dn.EMPTY_BYTE_STRING,Nn.min()).withLastLimboFreeSnapshotVersion(Nn.min()):re.resumeToken.approximateByteSize()>0&&(wt=wt.withResumeToken(re.resumeToken,o)),d=d.insert(De,wt),_n=wt,Pn=re,(0===(Kt=Ye).resumeToken.approximateByteSize()||_n.snapshotVersion.toMicroseconds()-Kt.snapshotVersion.toMicroseconds()>=3e8||Pn.addedDocuments.size+Pn.modifiedDocuments.size+Pn.removedDocuments.size>0)&&N.push(t.Ds.updateTargetData(m,wt))});let $=Sr(),W=Xn();if(e.documentUpdates.forEach(re=>{e.resolvedLimboDocuments.has(re)&&N.push(t.persistence.referenceDelegate.updateLimboDocument(m,re))}),N.push(up(m,w,e.documentUpdates).next(re=>{$=re.zi,W=re.ji})),!o.isEqual(Nn.min())){const re=t.Ds.getLastRemoteSnapshotVersion(m).next(De=>t.Ds.setTargetsMetadata(m,m.currentSequenceNumber,o));N.push(re)}return it.waitFor(N).next(()=>w.apply(m)).next(()=>t.localDocuments.getLocalViewOfDocuments(m,$,W)).next(()=>$)}).then(m=>(t.Li=d,m))}function up(i,e,t){let o=Xn(),d=Xn();return t.forEach(m=>o=o.add(m)),e.getEntries(i,o).next(m=>{let w=Sr();return t.forEach((N,$)=>{const W=m.get(N);$.isFoundDocument()!==W.isFoundDocument()&&(d=d.add(N)),$.isNoDocument()&&$.version.isEqual(Nn.min())?(e.removeEntry(N,$.readTime),w=w.insert(N,$)):!W.isValidDocument()||$.version.compareTo(W.version)>0||0===$.version.compareTo(W.version)&&W.hasPendingWrites?(e.addEntry($),w=w.insert(N,$)):mt("LocalStore","Ignoring outdated watch update for ",N,". Current version:",W.version," Watch version:",$.version)}),{zi:w,ji:d}})}function cp(i,e){const t=Ft(i);return t.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function zu(i,e){const t=Ft(i);return t.persistence.runTransaction("Allocate target","readwrite",o=>{let d;return t.Ds.getTargetData(o,e).next(m=>m?(d=m,it.resolve(d)):t.Ds.allocateTargetId(o).next(w=>(d=new Uu(e,w,0,o.currentSequenceNumber),t.Ds.addTargetData(o,d).next(()=>d))))}).then(o=>{const d=t.Li.get(o.targetId);return(null===d||o.snapshotVersion.compareTo(d.snapshotVersion)>0)&&(t.Li=t.Li.insert(o.targetId,o),t.qi.set(e,o.targetId)),o})}function Zu(i,e,t){return dm.apply(this,arguments)}function dm(){return dm=(0,Se.Z)(function*(i,e,t){const o=Ft(i),d=o.Li.get(e),m=t?"readwrite":"readwrite-primary";try{t||(yield o.persistence.runTransaction("Release target",m,w=>o.persistence.referenceDelegate.removeTarget(w,d)))}catch(w){if(!fi(w))throw w;mt("LocalStore",`Failed to update sequence numbers for target ${e}: ${w}`)}o.Li=o.Li.remove(e),o.qi.delete(d.target)}),dm.apply(this,arguments)}function ag(i,e,t){const o=Ft(i);let d=Nn.min(),m=Xn();return o.persistence.runTransaction("Execute query","readonly",w=>function(N,$,W){const re=Ft(N),De=re.qi.get(W);return void 0!==De?it.resolve(re.Li.get(De)):re.Ds.getTargetData($,W)}(o,w,lo(e)).next(N=>{if(N)return d=N.lastLimboFreeSnapshotVersion,o.Ds.getMatchingKeysForTargetId(w,N.targetId).next($=>{m=$})}).next(()=>o.Bi.getDocumentsMatchingQuery(w,e,t?d:Nn.min(),t?m:Xn())).next(N=>(cf(o,qs(e),N),{documents:N,Wi:m})))}function lg(i,e){const t=Ft(i),o=Ft(t.Ds),d=t.Li.get(e);return d?Promise.resolve(d.target):t.persistence.runTransaction("Get target data","readonly",m=>o.ne(m,e).next(w=>w?w.target:null))}function ug(i,e){const t=Ft(i),o=t.Ui.get(e)||Nn.min();return t.persistence.runTransaction("Get new document changes","readonly",d=>t.Ki.getAllFromCollectionGroup(d,e,Bl(o,-1),Number.MAX_SAFE_INTEGER)).then(d=>(cf(t,e,d),d))}function cf(i,e,t){let o=i.Ui.get(e)||Nn.min();t.forEach((d,m)=>{m.readTime.compareTo(o)>0&&(o=m.readTime)}),i.Ui.set(e,o)}function df(){return df=(0,Se.Z)(function*(i,e,t,o){const d=Ft(i);let m=Xn(),w=Sr();for(const W of t){const re=e.Hi(W.metadata.name);W.document&&(m=m.add(re));const De=e.Ji(W);De.setReadTime(e.Yi(W.metadata.readTime)),w=w.insert(re,De)}const N=d.Ki.newChangeBuffer({trackRemovals:!0}),$=yield zu(d,(W=o,lo(Nu(Ir.fromString(`__bundle__/docs/${W}`)))));var W;return d.persistence.runTransaction("Apply bundle documents","readwrite",W=>up(W,N,w).next(re=>(N.apply(W),re)).next(re=>d.Ds.removeMatchingKeysForTargetId(W,$.targetId).next(()=>d.Ds.addMatchingKeys(W,m,$.targetId)).next(()=>d.localDocuments.getLocalViewOfDocuments(W,re.zi,re.ji)).next(()=>re.zi)))}),df.apply(this,arguments)}function Nc(i,e){return hf.apply(this,arguments)}function hf(){return hf=(0,Se.Z)(function*(i,e,t=Xn()){const o=yield zu(i,lo(fd(e.bundledQuery))),d=Ft(i);return d.persistence.runTransaction("Save named query","readwrite",m=>{const w=Pi(e.readTime);if(o.snapshotVersion.compareTo(w)>=0)return d.xs.saveNamedQuery(m,e);const N=o.withResumeToken(Dn.EMPTY_BYTE_STRING,w);return d.Li=d.Li.insert(N.targetId,N),d.Ds.updateTargetData(m,N).next(()=>d.Ds.removeMatchingKeysForTargetId(m,o.targetId)).next(()=>d.Ds.addMatchingKeys(m,t,o.targetId)).next(()=>d.xs.saveNamedQuery(m,e))})}),hf.apply(this,arguments)}function ff(i,e){return`firestore_clients_${i}_${e}`}function yd(i,e,t){let o=`firestore_mutations_${i}_${t}`;return e.isAuthenticated()&&(o+=`_${e.uid}`),o}function cg(i,e){return`firestore_targets_${i}_${e}`}class pf{constructor(e,t,o,d){this.user=e,this.batchId=t,this.state=o,this.error=d}static Zi(e,t,o){const d=JSON.parse(o);let m,w="object"==typeof d&&-1!==["pending","acknowledged","rejected"].indexOf(d.state)&&(void 0===d.error||"object"==typeof d.error);return w&&d.error&&(w="string"==typeof d.error.message&&"string"==typeof d.error.code,w&&(m=new St(d.error.code,d.error.message))),w?new pf(e,t,d.state,m):(Er("SharedClientState",`Failed to parse mutation state for ID '${t}': ${o}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class vd{constructor(e,t,o){this.targetId=e,this.state=t,this.error=o}static Zi(e,t){const o=JSON.parse(t);let d,m="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return m&&o.error&&(m="string"==typeof o.error.message&&"string"==typeof o.error.code,m&&(d=new St(o.error.code,o.error.message))),m?new vd(e,o.state,d):(Er("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class gf{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const o=JSON.parse(t);let d="object"==typeof o&&o.activeTargetIds instanceof Array,m=Za();for(let w=0;d&&w<o.activeTargetIds.length;++w)d=E(o.activeTargetIds[w]),m=m.add(o.activeTargetIds[w]);return d?new gf(e,m):(Er("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class dp{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new dp(t.clientId,t.onlineState):(Er("SharedClientState",`Failed to parse online state: ${e}`),null)}}class hp{constructor(){this.activeTargetIds=Za()}tr(e){this.activeTargetIds=this.activeTargetIds.add(e)}er(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Xi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class fp{constructor(e,t,o,d,m){this.window=e,this.Ws=t,this.persistenceKey=o,this.nr=d,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.sr=this.ir.bind(this),this.rr=new Y(jn),this.started=!1,this.ur=[];const w=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=m,this.cr=ff(this.persistenceKey,this.nr),this.ar=`firestore_sequence_number_${this.persistenceKey}`,this.rr=this.rr.insert(this.nr,new hp),this.hr=new RegExp(`^firestore_clients_${w}_([^_]*)$`),this.lr=new RegExp(`^firestore_mutations_${w}_(\\d+)(?:_(.*))?$`),this.dr=new RegExp(`^firestore_targets_${w}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this._r=function(N){return`firestore_bundle_loaded_v2_${N}`}(this.persistenceKey),this.window.addEventListener("storage",this.sr)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Se.Z)(function*(){const t=yield e.syncEngine.bi();for(const d of t){if(d===e.nr)continue;const m=e.getItem(ff(e.persistenceKey,d));if(m){const w=gf.Zi(d,m);w&&(e.rr=e.rr.insert(w.clientId,w))}}e.mr();const o=e.storage.getItem(e.wr);if(o){const d=e.gr(o);d&&e.yr(d)}for(const d of e.ur)e.ir(d);e.ur=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ar,JSON.stringify(e))}getAllActiveQueryTargets(){return this.pr(this.rr)}isActiveQueryTarget(e){let t=!1;return this.rr.forEach((o,d)=>{d.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Ir(e,"pending")}updateMutationState(e,t,o){this.Ir(e,t,o),this.Tr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const o=this.storage.getItem(cg(this.persistenceKey,e));if(o){const d=vd.Zi(e,o);d&&(t=d.state)}}return this.Er.tr(e),this.mr(),t}removeLocalQueryTarget(e){this.Er.er(e),this.mr()}isLocalQueryTarget(e){return this.Er.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(cg(this.persistenceKey,e))}updateQueryState(e,t,o){this.Ar(e,t,o)}handleUserChange(e,t,o){t.forEach(d=>{this.Tr(d)}),this.currentUser=e,o.forEach(d=>{this.addPendingMutation(d)})}setOnlineState(e){this.Rr(e)}notifyBundleLoaded(e){this.vr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.sr),this.removeItem(this.cr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return mt("SharedClientState","READ",e,t),t}setItem(e,t){mt("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){mt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ir(e){var t=this;const o=e;if(o.storageArea===this.storage){if(mt("SharedClientState","EVENT",o.key,o.newValue),o.key===this.cr)return void Er("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ws.enqueueRetryable((0,Se.Z)(function*(){if(t.started){if(null!==o.key)if(t.hr.test(o.key)){if(null==o.newValue){const d=t.br(o.key);return t.Pr(d,null)}{const d=t.Vr(o.key,o.newValue);if(d)return t.Pr(d.clientId,d)}}else if(t.lr.test(o.key)){if(null!==o.newValue){const d=t.Sr(o.key,o.newValue);if(d)return t.Dr(d)}}else if(t.dr.test(o.key)){if(null!==o.newValue){const d=t.Cr(o.key,o.newValue);if(d)return t.Nr(d)}}else if(o.key===t.wr){if(null!==o.newValue){const d=t.gr(o.newValue);if(d)return t.yr(d)}}else if(o.key===t.ar){const d=function(m){let w=Es.ct;if(null!=m)try{const N=JSON.parse(m);en("number"==typeof N),w=N}catch(N){Er("SharedClientState","Failed to read sequence number from WebStorage",N)}return w}(o.newValue);d!==Es.ct&&t.sequenceNumberHandler(d)}else if(o.key===t._r){const d=t.kr(o.newValue);yield Promise.all(d.map(m=>t.syncEngine.Or(m)))}}else t.ur.push(o)}))}}get Er(){return this.rr.get(this.nr)}mr(){this.setItem(this.cr,this.Er.Xi())}Ir(e,t,o){const d=new pf(this.currentUser,e,t,o),m=yd(this.persistenceKey,this.currentUser,e);this.setItem(m,d.Xi())}Tr(e){const t=yd(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Rr(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.nr,onlineState:e}))}Ar(e,t,o){const d=cg(this.persistenceKey,e),m=new vd(e,t,o);this.setItem(d,m.Xi())}vr(e){const t=JSON.stringify(Array.from(e));this.setItem(this._r,t)}br(e){const t=this.hr.exec(e);return t?t[1]:null}Vr(e,t){const o=this.br(e);return gf.Zi(o,t)}Sr(e,t){const o=this.lr.exec(e),d=Number(o[1]);return pf.Zi(new On(void 0!==o[2]?o[2]:null),d,t)}Cr(e,t){const o=this.dr.exec(e),d=Number(o[1]);return vd.Zi(d,t)}gr(e){return dp.Zi(e)}kr(e){return JSON.parse(e)}Dr(e){var t=this;return(0,Se.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.$r(e.batchId,e.state,e.error);mt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Nr(e){return this.syncEngine.Mr(e.targetId,e.state,e.error)}Pr(e,t){const o=t?this.rr.insert(e,t):this.rr.remove(e),d=this.pr(this.rr),m=this.pr(o),w=[],N=[];return m.forEach($=>{d.has($)||w.push($)}),d.forEach($=>{m.has($)||N.push($)}),this.syncEngine.Fr(w,N).then(()=>{this.rr=o})}yr(e){this.rr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}pr(e){let t=Za();return e.forEach((o,d)=>{t=t.unionWith(d.activeTargetIds)}),t}}class mf{constructor(){this.Br=new hp,this.Lr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,o){}addLocalQueryTarget(e){return this.Br.tr(e),this.Lr[e]||"not-current"}updateQueryState(e,t,o){this.Lr[e]=t}removeLocalQueryTarget(e){this.Br.er(e)}isLocalQueryTarget(e){return this.Br.activeTargetIds.has(e)}clearQueryState(e){delete this.Lr[e]}getAllActiveQueryTargets(){return this.Br.activeTargetIds}isActiveQueryTarget(e){return this.Br.activeTargetIds.has(e)}start(){return this.Br=new hp,Promise.resolve()}handleUserChange(e,t,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class T_{qr(e){}shutdown(){}}class pp{constructor(){this.Ur=()=>this.Kr(),this.Gr=()=>this.Qr(),this.zr=[],this.jr()}qr(e){this.zr.push(e)}shutdown(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Gr)}jr(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Gr)}Kr(){mt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.zr)e(0)}Qr(){mt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.zr)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let bd=null;function gh(){return null===bd?bd=268435456+Math.round(2147483648*Math.random()):bd++,"0x"+bd.toString(16)}const S_={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class gp{constructor(e){this.Wr=e.Wr,this.Hr=e.Hr}Jr(e){this.Yr=e}Zr(e){this.Xr=e}onMessage(e){this.eo=e}close(){this.Hr()}send(e){this.Wr(e)}no(){this.Yr()}so(e){this.Xr(e)}io(e){this.eo(e)}}const ha="WebChannelConnection";class fm extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.ro=(e.ssl?"https":"http")+"://"+e.host,this.oo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get uo(){return!1}co(e,t,o,d,m){const w=gh(),N=this.ao(e,t);mt("RestConnection",`Sending RPC '${e}' ${w}:`,N,o);const $={};return this.ho($,d,m),this.lo(e,N,$,o).then(W=>(mt("RestConnection",`Received RPC '${e}' ${w}: `,W),W),W=>{throw si("RestConnection",`RPC '${e}' ${w} failed with error: `,W,"url: ",N,"request:",o),W})}fo(e,t,o,d,m,w){return this.co(e,t,o,d,m)}ho(e,t,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+Yn,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((d,m)=>e[m]=d),o&&o.headers.forEach((d,m)=>e[m]=d)}ao(e,t){return`${this.ro}/v1/${t}:${S_[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}lo(e,t,o,d){const m=gh();return new Promise((w,N)=>{const $=new bt;$.setWithCredentials(!0),$.listenOnce(Z.COMPLETE,()=>{try{switch($.getLastErrorCode()){case k.NO_ERROR:const re=$.getResponseJson();mt(ha,`XHR for RPC '${e}' ${m} received:`,JSON.stringify(re)),w(re);break;case k.TIMEOUT:mt(ha,`RPC '${e}' ${m} timed out`),N(new St(rt.DEADLINE_EXCEEDED,"Request time out"));break;case k.HTTP_ERROR:const De=$.getStatus();if(mt(ha,`RPC '${e}' ${m} failed with status:`,De,"response text:",$.getResponseText()),De>0){let Ye=$.getResponseJson();Array.isArray(Ye)&&(Ye=Ye[0]);const wt=Ye?.error;if(wt&&wt.status&&wt.message){const Kt=function(_n){const Pn=_n.toLowerCase().replace(/_/g,"-");return Object.values(rt).indexOf(Pn)>=0?Pn:rt.UNKNOWN}(wt.status);N(new St(Kt,wt.message))}else N(new St(rt.UNKNOWN,"Server responded with status "+$.getStatus()))}else N(new St(rt.UNAVAILABLE,"Connection failed."));break;default:ln()}}finally{mt(ha,`RPC '${e}' ${m} completed.`)}});const W=JSON.stringify(d);mt(ha,`RPC '${e}' ${m} sending request:`,d),$.send(t,"POST",W,o,15)})}wo(e,t,o){const d=gh(),m=[this.ro,"/","google.firestore.v1.Firestore","/",e,"/channel"],w=Ll(),N=Ps(),$={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&($.xmlHttpFactory=new be({})),this.ho($.initMessageHeaders,t,o),$.encodeInitMessageHeaders=!0;const W=m.join("");mt(ha,`Creating RPC '${e}' stream ${d}: ${W}`,$);const re=w.createWebChannel(W,$);let De=!1,Ye=!1;const wt=new gp({Wr:_n=>{Ye?mt(ha,`Not sending because RPC '${e}' stream ${d} is closed:`,_n):(De||(mt(ha,`Opening RPC '${e}' stream ${d} transport.`),re.open(),De=!0),mt(ha,`RPC '${e}' stream ${d} sending:`,_n),re.send(_n))},Hr:()=>re.close()}),Kt=(_n,Pn,Xr)=>{_n.listen(Pn,vs=>{try{Xr(vs)}catch(Vr){setTimeout(()=>{throw Vr},0)}})};return Kt(re,ot.EventType.OPEN,()=>{Ye||mt(ha,`RPC '${e}' stream ${d} transport opened.`)}),Kt(re,ot.EventType.CLOSE,()=>{Ye||(Ye=!0,mt(ha,`RPC '${e}' stream ${d} transport closed`),wt.so())}),Kt(re,ot.EventType.ERROR,_n=>{Ye||(Ye=!0,si(ha,`RPC '${e}' stream ${d} transport errored:`,_n),wt.so(new St(rt.UNAVAILABLE,"The operation could not be completed")))}),Kt(re,ot.EventType.MESSAGE,_n=>{var Pn;if(!Ye){const Xr=_n.data[0];en(!!Xr);const vs=Xr,Vr=vs.error||(null===(Pn=vs[0])||void 0===Pn?void 0:Pn.error);if(Vr){mt(ha,`RPC '${e}' stream ${d} received error:`,Vr);const Zo=Vr.status;let Ji=function(qa){const Pd=D[qa];if(void 0!==Pd)return I(Pd)}(Zo),as=Vr.message;void 0===Ji&&(Ji=rt.INTERNAL,as="Unknown error status: "+Zo+" with message "+Vr.message),Ye=!0,wt.so(new St(Ji,as)),re.close()}else mt(ha,`RPC '${e}' stream ${d} received:`,Xr),wt.io(Xr)}}),Kt(N,L.STAT_EVENT,_n=>{_n.stat===X.PROXY?mt(ha,`RPC '${e}' stream ${d} detected buffering proxy`):_n.stat===X.NOPROXY&&mt(ha,`RPC '${e}' stream ${d} detected no buffering proxy`)}),setTimeout(()=>{wt.no()},0),wt}}function xc(){return typeof window<"u"?window:null}function _f(){return typeof document<"u"?document:null}function kc(i){return new Wl(i,!0)}class wd{constructor(e,t,o=1e3,d=1.5,m=6e4){this.Ws=e,this.timerId=t,this._o=o,this.mo=d,this.yo=m,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const t=Math.floor(this.po+this.Ro()),o=Math.max(0,Date.now()-this.To),d=Math.max(0,t-o);d>0&&mt("ExponentialBackoff",`Backing off for ${d} ms (base delay: ${this.po} ms, delay with jitter: ${t} ms, last attempt: ${o} ms ago)`),this.Io=this.Ws.enqueueAfterDelay(this.timerId,d,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this._o&&(this.po=this._o),this.po>this.yo&&(this.po=this.yo)}vo(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}cancel(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}class Nl{constructor(e,t,o,d,m,w,N,$){this.Ws=e,this.bo=o,this.Po=d,this.connection=m,this.authCredentialsProvider=w,this.appCheckCredentialsProvider=N,this.listener=$,this.state=0,this.Vo=0,this.So=null,this.Do=null,this.stream=null,this.Co=new wd(e,t)}xo(){return 1===this.state||5===this.state||this.No()}No(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.ko()}stop(){var e=this;return(0,Se.Z)(function*(){e.xo()&&(yield e.close(0))})()}Oo(){this.state=0,this.Co.reset()}$o(){this.No()&&null===this.So&&(this.So=this.Ws.enqueueAfterDelay(this.bo,6e4,()=>this.Mo()))}Fo(e){this.Bo(),this.stream.send(e)}Mo(){var e=this;return(0,Se.Z)(function*(){if(e.No())return e.close(0)})()}Bo(){this.So&&(this.So.cancel(),this.So=null)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}close(e,t){var o=this;return(0,Se.Z)(function*(){o.Bo(),o.Lo(),o.Co.cancel(),o.Vo++,4!==e?o.Co.reset():t&&t.code===rt.RESOURCE_EXHAUSTED?(Er(t.toString()),Er("Using maximum backoff delay to prevent overloading the backend."),o.Co.Eo()):t&&t.code===rt.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.qo(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Uo(this.Vo),t=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,d])=>{this.Vo===t&&this.Ko(o,d)},o=>{e(()=>{const d=new St(rt.UNKNOWN,"Fetching auth token failed: "+o.message);return this.Go(d)})})}Ko(e,t){const o=this.Uo(this.Vo);this.stream=this.Qo(e,t),this.stream.Jr(()=>{o(()=>(this.state=2,this.Do=this.Ws.enqueueAfterDelay(this.Po,1e4,()=>(this.No()&&(this.state=3),Promise.resolve())),this.listener.Jr()))}),this.stream.Zr(d=>{o(()=>this.Go(d))}),this.stream.onMessage(d=>{o(()=>this.onMessage(d))})}ko(){var e=this;this.state=5,this.Co.Ao((0,Se.Z)(function*(){e.state=0,e.start()}))}Go(e){return mt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Uo(e){return t=>{this.Ws.enqueueAndForget(()=>this.Vo===e?t():(mt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class mp extends Nl{constructor(e,t,o,d,m,w){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,o,d,w),this.serializer=m}Qo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.Co.reset();const t=function Yf(i,e){let t;if("targetChange"in e){const o="NO_CHANGE"===($=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===$?1:"REMOVE"===$?2:"CURRENT"===$?3:"RESET"===$?4:ln(),d=e.targetChange.targetIds||[],m=function($,W){return $.useProto3Json?(en(void 0===W||"string"==typeof W),Dn.fromBase64String(W||"")):(en(void 0===W||W instanceof Uint8Array),Dn.fromUint8Array(W||new Uint8Array))}(i,e.targetChange.resumeToken),w=e.targetChange.cause,N=w&&function($){const W=void 0===$.code?rt.UNKNOWN:I($.code);return new St(W,$.message||"")}(w);t=new $n(o,d,m,N||null)}else if("documentChange"in e){const o=e.documentChange,d=Ml(i,o.document.name),m=Pi(o.document.updateTime),w=o.document.createTime?Pi(o.document.createTime):Nn.min(),N=new ao({mapValue:{fields:o.document.fields}}),$=Ii.newFoundDocument(d,m,w,N);t=new Vt(o.targetIds||[],o.removedTargetIds||[],$.key,$)}else if("documentDelete"in e){const o=e.documentDelete,d=Ml(i,o.document),m=o.readTime?Pi(o.readTime):Nn.min(),w=Ii.newNoDocument(d,m);t=new Vt([],o.removedTargetIds||[],w.key,w)}else if("documentRemove"in e){const o=e.documentRemove,d=Ml(i,o.document);t=new Vt([],o.removedTargetIds||[],d,null)}else{if(!("filter"in e))return ln();{const o=e.filter,m=new hu(o.count||0);t=new Cn(o.targetId,m)}}var $;return t}(this.serializer,e),o=function(d){if(!("targetChange"in d))return Nn.min();const m=d.targetChange;return m.targetIds&&m.targetIds.length?Nn.min():m.readTime?Pi(m.readTime):Nn.min()}(e);return this.listener.zo(t,o)}jo(e){const t={};t.database=Kh(this.serializer),t.addTarget=function(d,m){let w;const N=m.target;return w=td(N)?{documents:Ar(d,N)}:{query:ih(d,N)},w.targetId=m.targetId,m.resumeToken.approximateByteSize()>0?w.resumeToken=fu(d,m.resumeToken):m.snapshotVersion.compareTo(Nn.min())>0&&(w.readTime=Ks(d,m.snapshotVersion.toTimestamp())),w}(this.serializer,e);const o=function Bs(i,e){const t=function(o,d){switch(d){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ln()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);o&&(t.labels=o),this.Fo(t)}Wo(e){const t={};t.database=Kh(this.serializer),t.removeTarget=e,this.Fo(t)}}class dg extends Nl{constructor(e,t,o,d,m,w){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,o,d,w),this.serializer=m,this.Ho=!1}get Jo(){return this.Ho}start(){this.Ho=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Ho&&this.Yo([])}Qo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(en(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Ho){this.Co.reset();const t=function rh(i,e){return i&&i.length>0?(en(void 0!==e),i.map(t=>function(o,d){let m=Pi(o.updateTime?o.updateTime:d);return m.isEqual(Nn.min())&&(m=Pi(d)),new Pu(m,o.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),o=Pi(e.commitTime);return this.listener.Zo(o,t)}return en(!e.writeResults||0===e.writeResults.length),this.Ho=!0,this.listener.Xo()}tu(){const e={};e.database=Kh(this.serializer),this.Fo(e)}Yo(e){const t={streamToken:this.lastStreamToken,writes:e.map(o=>nh(this.serializer,o))};this.Fo(t)}}class _p extends class{}{constructor(e,t,o,d){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=o,this.serializer=d,this.eu=!1}nu(){if(this.eu)throw new St(rt.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,t,o){return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,m])=>this.connection.co(e,t,o,d,m)).catch(d=>{throw"FirebaseError"===d.name?(d.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new St(rt.UNKNOWN,d.toString())})}fo(e,t,o,d){return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([m,w])=>this.connection.fo(e,t,o,m,w,d)).catch(m=>{throw"FirebaseError"===m.name?(m.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),m):new St(rt.UNKNOWN,m.toString())})}terminate(){this.eu=!0}}class hg{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.su=0,this.iu=null,this.ru=!0}ou(){0===this.su&&(this.uu("Unknown"),this.iu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.iu=null,this.cu("Backend didn't respond within 10 seconds."),this.uu("Offline"),Promise.resolve())))}au(e){"Online"===this.state?this.uu("Unknown"):(this.su++,this.su>=1&&(this.hu(),this.cu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.uu("Offline")))}set(e){this.hu(),this.su=0,"Online"===e&&(this.ru=!1),this.uu(e)}uu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}cu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ru?(Er(t),this.ru=!1):mt("OnlineStateTracker",t)}hu(){null!==this.iu&&(this.iu.cancel(),this.iu=null)}}class yp{constructor(e,t,o,d,m){var w=this;this.localStore=e,this.datastore=t,this.asyncQueue=o,this.remoteSyncer={},this.lu=[],this.fu=new Map,this.du=new Set,this.wu=[],this._u=m,this._u.qr(N=>{o.enqueueAndForget((0,Se.Z)(function*(){var $;Ql(w)&&(mt("RemoteStore","Restarting streams for network reachability change."),yield($=(0,Se.Z)(function*(W){const re=Ft(W);re.du.add(4),yield _h(re),re.mu.set("Unknown"),re.du.delete(4),yield mh(re)}),function(W){return $.apply(this,arguments)})(w))}))}),this.mu=new hg(o,d)}}function mh(i){return yf.apply(this,arguments)}function yf(){return yf=(0,Se.Z)(function*(i){if(Ql(i))for(const e of i.wu)yield e(!0)}),yf.apply(this,arguments)}function _h(i){return yh.apply(this,arguments)}function yh(){return yh=(0,Se.Z)(function*(i){for(const e of i.wu)yield e(!1)}),yh.apply(this,arguments)}function Wu(i,e){const t=Ft(i);t.fu.has(e.targetId)||(t.fu.set(e.targetId,e),pg(t)?fg(t):ut(t).No()&&vh(t,e))}function Rc(i,e){const t=Ft(i),o=ut(t);t.fu.delete(e),o.No()&&vf(t,e),0===t.fu.size&&(o.No()?o.$o():Ql(t)&&t.mu.set("Unknown"))}function vh(i,e){i.gu.Ot(e.targetId),ut(i).jo(e)}function vf(i,e){i.gu.Ot(e),ut(i).Wo(e)}function fg(i){i.gu=new ss({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>i.fu.get(e)||null}),ut(i).start(),i.mu.ou()}function pg(i){return Ql(i)&&!ut(i).xo()&&i.fu.size>0}function Ql(i){return 0===Ft(i).du.size}function gg(i){i.gu=void 0}function pm(i){return bf.apply(this,arguments)}function bf(){return bf=(0,Se.Z)(function*(i){i.fu.forEach((e,t)=>{vh(i,e)})}),bf.apply(this,arguments)}function Ky(i,e){return wf.apply(this,arguments)}function wf(){return wf=(0,Se.Z)(function*(i,e){gg(i),pg(i)?(i.mu.au(e),fg(i)):i.mu.set("Unknown")}),wf.apply(this,arguments)}function A_(i,e,t){return Df.apply(this,arguments)}function Df(){return Df=(0,Se.Z)(function*(i,e,t){if(i.mu.set("Online"),e instanceof $n&&2===e.state&&e.cause)try{yield(o=(0,Se.Z)(function*(d,m){const w=m.cause;for(const N of m.targetIds)d.fu.has(N)&&(yield d.remoteSyncer.rejectListen(N,w),d.fu.delete(N),d.gu.removeTarget(N))}),function(d,m){return o.apply(this,arguments)})(i,e)}catch(o){mt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield Cd(i,o)}else if(e instanceof Vt?i.gu.Kt(e):e instanceof Cn?i.gu.Jt(e):i.gu.zt(e),!t.isEqual(Nn.min()))try{const o=yield ph(i.localStore);t.compareTo(o)>=0&&(yield function(d,m){const w=d.gu.Xt(m);return w.targetChanges.forEach((N,$)=>{if(N.resumeToken.approximateByteSize()>0){const W=d.fu.get($);W&&d.fu.set($,W.withResumeToken(N.resumeToken,m))}}),w.targetMismatches.forEach(N=>{const $=d.fu.get(N);if(!$)return;d.fu.set(N,$.withResumeToken(Dn.EMPTY_BYTE_STRING,$.snapshotVersion)),vf(d,N);const W=new Uu($.target,N,1,$.sequenceNumber);vh(d,W)}),d.remoteSyncer.applyRemoteEvent(w)}(i,t))}catch(o){mt("RemoteStore","Failed to raise snapshot:",o),yield Cd(i,o)}var o}),Df.apply(this,arguments)}function Cd(i,e,t){return vp.apply(this,arguments)}function vp(){return vp=(0,Se.Z)(function*(i,e,t){if(!fi(e))throw e;i.du.add(1),yield _h(i),i.mu.set("Offline"),t||(t=()=>ph(i.localStore)),i.asyncQueue.enqueueRetryable((0,Se.Z)(function*(){mt("RemoteStore","Retrying IndexedDB access"),yield t(),i.du.delete(1),yield mh(i)}))}),vp.apply(this,arguments)}function bh(i,e){return e().catch(t=>Cd(i,t,e))}function wh(i){return mg.apply(this,arguments)}function mg(){return mg=(0,Se.Z)(function*(i){const e=Ft(i),t=Gt(e);let o=e.lu.length>0?e.lu[e.lu.length-1].batchId:-1;for(;M_(e);)try{const d=yield cp(e.localStore,o);if(null===d){0===e.lu.length&&t.$o();break}o=d.batchId,Jy(e,d)}catch(d){yield Cd(e,d)}_g(e)&&gm(e)}),mg.apply(this,arguments)}function M_(i){return Ql(i)&&i.lu.length<10}function Jy(i,e){i.lu.push(e);const t=Gt(i);t.No()&&t.Jo&&t.Yo(e.mutations)}function _g(i){return Ql(i)&&!Gt(i).xo()&&i.lu.length>0}function gm(i){Gt(i).start()}function N_(i){return yg.apply(this,arguments)}function yg(){return yg=(0,Se.Z)(function*(i){Gt(i).tu()}),yg.apply(this,arguments)}function u(i){return f.apply(this,arguments)}function f(){return f=(0,Se.Z)(function*(i){const e=Gt(i);for(const t of i.lu)e.Yo(t.mutations)}),f.apply(this,arguments)}function s(i,e,t){return h.apply(this,arguments)}function h(){return h=(0,Se.Z)(function*(i,e,t){const o=i.lu.shift(),d=_c.from(o,e,t);yield bh(i,()=>i.remoteSyncer.applySuccessfulWrite(d)),yield wh(i)}),h.apply(this,arguments)}function b(i,e){return S.apply(this,arguments)}function S(){return S=(0,Se.Z)(function*(i,e){var t;e&&Gt(i).Jo&&(yield(t=(0,Se.Z)(function*(o,d){if(_(m=d.code)&&m!==rt.ABORTED){const w=o.lu.shift();Gt(o).Oo(),yield bh(o,()=>o.remoteSyncer.rejectFailedWrite(w.batchId,d)),yield wh(o)}var m}),function(o,d){return t.apply(this,arguments)})(i,e)),_g(i)&&gm(i)}),S.apply(this,arguments)}function J(i,e){return ae.apply(this,arguments)}function ae(){return ae=(0,Se.Z)(function*(i,e){const t=Ft(i);t.asyncQueue.verifyOperationInProgress(),mt("RemoteStore","RemoteStore received new credentials");const o=Ql(t);t.du.add(3),yield _h(t),o&&t.mu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.du.delete(3),yield mh(t)}),ae.apply(this,arguments)}function pe(i,e){return Oe.apply(this,arguments)}function Oe(){return Oe=(0,Se.Z)(function*(i,e){const t=Ft(i);e?(t.du.delete(2),yield mh(t)):e||(t.du.add(2),yield _h(t),t.mu.set("Unknown"))}),Oe.apply(this,arguments)}function ut(i){return i.yu||(i.yu=function(e,t,o){const d=Ft(e);return d.nu(),new mp(t,d.connection,d.authCredentials,d.appCheckCredentials,d.serializer,o)}(i.datastore,i.asyncQueue,{Jr:pm.bind(null,i),Zr:Ky.bind(null,i),zo:A_.bind(null,i)}),i.wu.push(function(){var e=(0,Se.Z)(function*(t){t?(i.yu.Oo(),pg(i)?fg(i):i.mu.set("Unknown")):(yield i.yu.stop(),gg(i))});return function(t){return e.apply(this,arguments)}}())),i.yu}function Gt(i){return i.pu||(i.pu=function(e,t,o){const d=Ft(e);return d.nu(),new dg(t,d.connection,d.authCredentials,d.appCheckCredentials,d.serializer,o)}(i.datastore,i.asyncQueue,{Jr:N_.bind(null,i),Zr:b.bind(null,i),Xo:u.bind(null,i),Zo:s.bind(null,i)}),i.wu.push(function(){var e=(0,Se.Z)(function*(t){t?(i.pu.Oo(),yield wh(i)):(yield i.pu.stop(),i.lu.length>0&&(mt("RemoteStore",`Stopping write stream with ${i.lu.length} pending writes`),i.lu=[]))});return function(t){return e.apply(this,arguments)}}())),i.pu}class $t{constructor(e,t,o,d,m){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=o,this.op=d,this.removalCallback=m,this.deferred=new Ei,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(w=>{})}static createAndSchedule(e,t,o,d,m){const w=Date.now()+o,N=new $t(e,t,w,d,m);return N.start(o),N}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new St(rt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ut(i,e){if(Er("AsyncQueue",`${e}: ${i}`),fi(i))return new St(rt.UNAVAILABLE,`${e}: ${i}`);throw i}class on{constructor(e){this.comparator=e?(t,o)=>e(t,o)||Jt.comparator(t.key,o.key):(t,o)=>Jt.comparator(t.key,o.key),this.keyedMap=il(),this.sortedSet=new Y(this.comparator)}static emptySet(e){return new on(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,o)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof on)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;t.hasNext();){const d=t.getNext().key,m=o.getNext().key;if(!d.isEqual(m))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const o=new on;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=t,o}}class Gn{constructor(){this.Iu=new Y(Jt.comparator)}track(e){const t=e.doc.key,o=this.Iu.get(t);o?0!==e.type&&3===o.type?this.Iu=this.Iu.insert(t,e):3===e.type&&1!==o.type?this.Iu=this.Iu.insert(t,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.Iu=this.Iu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.Iu=this.Iu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.Iu=this.Iu.remove(t):1===e.type&&2===o.type?this.Iu=this.Iu.insert(t,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.Iu=this.Iu.insert(t,{type:2,doc:e.doc}):ln():this.Iu=this.Iu.insert(t,e)}Tu(){const e=[];return this.Iu.inorderTraversal((t,o)=>{e.push(o)}),e}}class dr{constructor(e,t,o,d,m,w,N,$,W){this.query=e,this.docs=t,this.oldDocs=o,this.docChanges=d,this.mutatedKeys=m,this.fromCache=w,this.syncStateChanged=N,this.excludesMetadataChanges=$,this.hasCachedResults=W}static fromInitialDocuments(e,t,o,d,m){const w=[];return t.forEach(N=>{w.push({type:0,doc:N})}),new dr(e,t,on.emptySet(t),w,o,d,!0,!1,m)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&id(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,o=e.docChanges;if(t.length!==o.length)return!1;for(let d=0;d<t.length;d++)if(t[d].type!==o[d].type||!t[d].doc.isEqual(o[d].doc))return!1;return!0}}class Tr{constructor(){this.Eu=void 0,this.listeners=[]}}class Gr{constructor(){this.queries=new za(e=>zl(e),id),this.onlineState="Unknown",this.Au=new Set}}function Fi(i,e){return vi.apply(this,arguments)}function vi(){return vi=(0,Se.Z)(function*(i,e){const t=Ft(i),o=e.query;let d=!1,m=t.queries.get(o);if(m||(d=!0,m=new Tr),d)try{m.Eu=yield t.onListen(o)}catch(w){const N=Ut(w,`Initialization of query '${cu(e.query)}' failed`);return void e.onError(N)}t.queries.set(o,m),m.listeners.push(e),e.Ru(t.onlineState),m.Eu&&e.vu(m.Eu)&&Pc(t)}),vi.apply(this,arguments)}function fa(i,e){return Aa.apply(this,arguments)}function Aa(){return Aa=(0,Se.Z)(function*(i,e){const t=Ft(i),o=e.query;let d=!1;const m=t.queries.get(o);if(m){const w=m.listeners.indexOf(e);w>=0&&(m.listeners.splice(w,1),d=0===m.listeners.length)}if(d)return t.queries.delete(o),t.onUnlisten(o)}),Aa.apply(this,arguments)}function Oc(i,e){const t=Ft(i);let o=!1;for(const d of e){const w=t.queries.get(d.query);if(w){for(const N of w.listeners)N.vu(d)&&(o=!0);w.Eu=d}}o&&Pc(t)}function pa(i,e,t){const o=Ft(i),d=o.queries.get(e);if(d)for(const m of d.listeners)m.onError(t);o.queries.delete(e)}function Pc(i){i.Au.forEach(e=>{e.next()})}class bp{constructor(e,t,o){this.query=e,this.bu=t,this.Pu=!1,this.Vu=null,this.onlineState="Unknown",this.options=o||{}}vu(e){if(!this.options.includeMetadataChanges){const o=[];for(const d of e.docChanges)3!==d.type&&o.push(d);e=new dr(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Pu?this.Su(e)&&(this.bu.next(e),t=!0):this.Du(e,this.onlineState)&&(this.Cu(e),t=!0),this.Vu=e,t}onError(e){this.bu.error(e)}Ru(e){this.onlineState=e;let t=!1;return this.Vu&&!this.Pu&&this.Du(this.Vu,e)&&(this.Cu(this.Vu),t=!0),t}Du(e,t){return!e.fromCache||(!this.options.xu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Su(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Cu(e){e=dr.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Pu=!0,this.bu.next(e)}}class x_{constructor(e,t){this.Nu=e,this.byteLength=t}ku(){return"metadata"in this.Nu}}class vg{constructor(e){this.serializer=e}Hi(e){return Ml(this.serializer,e)}Ji(e){return e.metadata.exists?Jh(this.serializer,e.document,!1):Ii.newNoDocument(this.Hi(e.metadata.name),this.Yi(e.metadata.readTime))}Yi(e){return Pi(e)}}class Qy{constructor(e,t,o){this.Ou=e,this.localStore=t,this.serializer=o,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Xy(e)}$u(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Nu.namedQuery)this.queries.push(e.Nu.namedQuery);else if(e.Nu.documentMetadata){this.documents.push({metadata:e.Nu.documentMetadata}),e.Nu.documentMetadata.exists||++t;const o=Ir.fromString(e.Nu.documentMetadata.name);this.collectionGroups.add(o.get(o.length-2))}else e.Nu.document&&(this.documents[this.documents.length-1].document=e.Nu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Mu(e){const t=new Map,o=new vg(this.serializer);for(const d of e)if(d.metadata.queries){const m=o.Hi(d.metadata.name);for(const w of d.metadata.queries){const N=(t.get(w)||Xn()).add(m);t.set(w,N)}}return t}complete(){var e=this;return(0,Se.Z)(function*(){const t=yield function hm(i,e,t,o){return df.apply(this,arguments)}(e.localStore,new vg(e.serializer),e.documents,e.Ou.id),o=e.Mu(e.documents);for(const d of e.queries)yield Nc(e.localStore,d,o.get(d.name));return e.progress.taskState="Success",{progress:e.progress,Fu:e.collectionGroups,Bu:t}})()}}function Xy(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class k_{constructor(e){this.key=e}}class mm{constructor(e){this.key=e}}class R_{constructor(e,t){this.query=e,this.Lu=t,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Uu=Xn(),this.mutatedKeys=Xn(),this.Ku=rl(e),this.Gu=new on(this.Ku)}get Qu(){return this.Lu}zu(e,t){const o=t?t.ju:new Gn,d=t?t.Gu:this.Gu;let m=t?t.mutatedKeys:this.mutatedKeys,w=d,N=!1;const $="F"===this.query.limitType&&d.size===this.query.limit?d.last():null,W="L"===this.query.limitType&&d.size===this.query.limit?d.first():null;if(e.inorderTraversal((re,De)=>{const Ye=d.get(re),wt=xu(this.query,De)?De:null,Kt=!!Ye&&this.mutatedKeys.has(Ye.key),_n=!!wt&&(wt.hasLocalMutations||this.mutatedKeys.has(wt.key)&&wt.hasCommittedMutations);let Pn=!1;Ye&&wt?Ye.data.isEqual(wt.data)?Kt!==_n&&(o.track({type:3,doc:wt}),Pn=!0):this.Wu(Ye,wt)||(o.track({type:2,doc:wt}),Pn=!0,($&&this.Ku(wt,$)>0||W&&this.Ku(wt,W)<0)&&(N=!0)):!Ye&&wt?(o.track({type:0,doc:wt}),Pn=!0):Ye&&!wt&&(o.track({type:1,doc:Ye}),Pn=!0,($||W)&&(N=!0)),Pn&&(wt?(w=w.add(wt),m=_n?m.add(re):m.delete(re)):(w=w.delete(re),m=m.delete(re)))}),null!==this.query.limit)for(;w.size>this.query.limit;){const re="F"===this.query.limitType?w.last():w.first();w=w.delete(re.key),m=m.delete(re.key),o.track({type:1,doc:re})}return{Gu:w,ju:o,Mi:N,mutatedKeys:m}}Wu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,o){const d=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;const m=e.ju.Tu();m.sort((W,re)=>function(De,Ye){const wt=Kt=>{switch(Kt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ln()}};return wt(De)-wt(Ye)}(W.type,re.type)||this.Ku(W.doc,re.doc)),this.Hu(o);const w=t?this.Ju():[],N=0===this.Uu.size&&this.current?1:0,$=N!==this.qu;return this.qu=N,0!==m.length||$?{snapshot:new dr(this.query,e.Gu,d,m,e.mutatedKeys,0===N,$,!1,!!o&&o.resumeToken.approximateByteSize()>0),Yu:w}:{Yu:w}}Ru(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Gu:this.Gu,ju:new Gn,mutatedKeys:this.mutatedKeys,Mi:!1},!1)):{Yu:[]}}Zu(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}Hu(e){e&&(e.addedDocuments.forEach(t=>this.Lu=this.Lu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Lu=this.Lu.delete(t)),this.current=e.current)}Ju(){if(!this.current)return[];const e=this.Uu;this.Uu=Xn(),this.Gu.forEach(o=>{this.Zu(o.key)&&(this.Uu=this.Uu.add(o.key))});const t=[];return e.forEach(o=>{this.Uu.has(o)||t.push(new mm(o))}),this.Uu.forEach(o=>{e.has(o)||t.push(new k_(o))}),t}Xu(e){this.Lu=e.Wi,this.Uu=Xn();const t=this.zu(e.documents);return this.applyChanges(t,!0)}tc(){return dr.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class O_{constructor(e,t,o){this.query=e,this.targetId=t,this.view=o}}class P_{constructor(e){this.key=e,this.ec=!1}}class ev{constructor(e,t,o,d,m,w){this.localStore=e,this.remoteStore=t,this.eventManager=o,this.sharedClientState=d,this.currentUser=m,this.maxConcurrentLimboResolutions=w,this.nc={},this.sc=new za(N=>zl(N),id),this.ic=new Map,this.rc=new Set,this.oc=new Y(Jt.comparator),this.uc=new Map,this.cc=new ip,this.ac={},this.hc=new Map,this.lc=Ta.bn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return!0===this.fc}}function xl(i,e){return bg.apply(this,arguments)}function bg(){return bg=(0,Se.Z)(function*(i,e){const t=Mg(i);let o,d;const m=t.sc.get(e);if(m)o=m.targetId,t.sharedClientState.addLocalQueryTarget(o),d=m.view.tc();else{const w=yield zu(t.localStore,lo(e));t.isPrimaryClient&&Wu(t.remoteStore,w);const N=t.sharedClientState.addLocalQueryTarget(w.targetId);o=w.targetId,d=yield _m(t,e,o,"current"===N,w.resumeToken)}return d}),bg.apply(this,arguments)}function _m(i,e,t,o,d){return F_.apply(this,arguments)}function F_(){return F_=(0,Se.Z)(function*(i,e,t,o,d){i.dc=(De,Ye,wt)=>{return(Kt=(0,Se.Z)(function*(_n,Pn,Xr,vs){let Vr=Pn.view.zu(Xr);Vr.Mi&&(Vr=yield ag(_n.localStore,Pn.query,!1).then(({documents:as})=>Pn.view.zu(as,Vr)));const Zo=vs&&vs.targetChanges.get(Pn.targetId),Ji=Pn.view.applyChanges(Vr,_n.isPrimaryClient,Zo);return Cg(_n,Pn.targetId,Ji.Yu),Ji.snapshot}),function(_n,Pn,Xr,vs){return Kt.apply(this,arguments)})(i,De,Ye,wt);var Kt};const m=yield ag(i.localStore,e,!0),w=new R_(e,m.Wi),N=w.zu(m.documents),$=gt.createSynthesizedTargetChangeForCurrentChange(t,o&&"Offline"!==i.onlineState,d),W=w.applyChanges(N,i.isPrimaryClient,$);Cg(i,t,W.Yu);const re=new O_(e,t,w);return i.sc.set(e,re),i.ic.has(t)?i.ic.get(t).push(e):i.ic.set(t,[e]),W.snapshot}),F_.apply(this,arguments)}function tv(i,e){return wp.apply(this,arguments)}function wp(){return wp=(0,Se.Z)(function*(i,e){const t=Ft(i),o=t.sc.get(e),d=t.ic.get(o.targetId);if(d.length>1)return t.ic.set(o.targetId,d.filter(m=>!id(m,e))),void t.sc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(o.targetId),t.sharedClientState.isActiveQueryTarget(o.targetId)||(yield Zu(t.localStore,o.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(o.targetId),Rc(t.remoteStore,o.targetId),Cf(t,o.targetId)}).catch(oa))):(Cf(t,o.targetId),yield Zu(t.localStore,o.targetId,!0))}),wp.apply(this,arguments)}function ym(){return ym=(0,Se.Z)(function*(i,e,t){const o=Sm(i);try{const d=yield function(m,w){const N=Ft(m),$=Kr.now(),W=w.reduce((Ye,wt)=>Ye.add(wt.key),Xn());let re,De;return N.persistence.runTransaction("Locally write mutations","readwrite",Ye=>{let wt=Sr(),Kt=Xn();return N.Ki.getEntries(Ye,W).next(_n=>{wt=_n,wt.forEach((Pn,Xr)=>{Xr.isValidDocument()||(Kt=Kt.add(Pn))})}).next(()=>N.localDocuments.getOverlayedDocuments(Ye,wt)).next(_n=>{re=_n;const Pn=[];for(const Xr of w){const vs=ad(Xr,re.get(Xr.key).overlayedDocument);null!=vs&&Pn.push(new ul(Xr.key,vs,Hh(vs.value.mapValue),Ai.exists(!0)))}return N.mutationQueue.addMutationBatch(Ye,$,Pn,w)}).next(_n=>{De=_n;const Pn=_n.applyToLocalDocumentSet(re,Kt);return N.documentOverlayCache.saveOverlays(Ye,_n.batchId,Pn)})}).then(()=>({batchId:De.batchId,changes:Zd(re)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(d.batchId),function(m,w,N){let $=m.ac[m.currentUser.toKey()];$||($=new Y(jn)),$=$.insert(w,N),m.ac[m.currentUser.toKey()]=$}(o,d.batchId,t),yield Fc(o,d.changes),yield wh(o.remoteStore)}catch(d){const m=Ut(d,"Failed to persist write");t.reject(m)}}),ym.apply(this,arguments)}function V_(i,e){return vm.apply(this,arguments)}function vm(){return vm=(0,Se.Z)(function*(i,e){const t=Ft(i);try{const o=yield yu(t.localStore,e);e.targetChanges.forEach((d,m)=>{const w=t.uc.get(m);w&&(en(d.addedDocuments.size+d.modifiedDocuments.size+d.removedDocuments.size<=1),d.addedDocuments.size>0?w.ec=!0:d.modifiedDocuments.size>0?en(w.ec):d.removedDocuments.size>0&&(en(w.ec),w.ec=!1))}),yield Fc(t,o,e)}catch(o){yield oa(o)}}),vm.apply(this,arguments)}function bm(i,e,t){const o=Ft(i);if(o.isPrimaryClient&&0===t||!o.isPrimaryClient&&1===t){const d=[];o.sc.forEach((m,w)=>{const N=w.view.Ru(e);N.snapshot&&d.push(N.snapshot)}),function(m,w){const N=Ft(m);N.onlineState=w;let $=!1;N.queries.forEach((W,re)=>{for(const De of re.listeners)De.Ru(w)&&($=!0)}),$&&Pc(N)}(o.eventManager,e),d.length&&o.nc.zo(d),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function nv(i,e,t){return wg.apply(this,arguments)}function wg(){return wg=(0,Se.Z)(function*(i,e,t){const o=Ft(i);o.sharedClientState.updateQueryState(e,"rejected",t);const d=o.uc.get(e),m=d&&d.key;if(m){let w=new Y(Jt.comparator);w=w.insert(m,Ii.newNoDocument(m,Nn.min()));const N=Xn().add(m),$=new Ne(Nn.min(),new Map,new Le(jn),w,N);yield V_(o,$),o.oc=o.oc.remove(m),o.uc.delete(e),Cm(o)}else yield Zu(o.localStore,e,!1).then(()=>Cf(o,e,t)).catch(oa)}),wg.apply(this,arguments)}function rv(i,e){return wm.apply(this,arguments)}function wm(){return wm=(0,Se.Z)(function*(i,e){const t=Ft(i),o=e.batch.batchId;try{const d=yield lp(t.localStore,e);Dm(t,o,null),Dp(t,o),t.sharedClientState.updateMutationState(o,"acknowledged"),yield Fc(t,d)}catch(d){yield oa(d)}}),wm.apply(this,arguments)}function U_(i,e,t){return Dg.apply(this,arguments)}function Dg(){return Dg=(0,Se.Z)(function*(i,e,t){const o=Ft(i);try{const d=yield function(m,w){const N=Ft(m);return N.persistence.runTransaction("Reject batch","readwrite-primary",$=>{let W;return N.mutationQueue.lookupMutationBatch($,w).next(re=>(en(null!==re),W=re.keys(),N.mutationQueue.removeMutationBatch($,re))).next(()=>N.mutationQueue.performConsistencyCheck($)).next(()=>N.documentOverlayCache.removeOverlaysForBatchId($,W,w)).next(()=>N.localDocuments.recalculateAndSaveOverlaysForDocumentKeys($,W)).next(()=>N.localDocuments.getDocuments($,W))})}(o.localStore,e);Dm(o,e,t),Dp(o,e),o.sharedClientState.updateMutationState(e,"rejected",t),yield Fc(o,d)}catch(d){yield oa(d)}}),Dg.apply(this,arguments)}function Xl(){return Xl=(0,Se.Z)(function*(i,e){const t=Ft(i);Ql(t.remoteStore)||mt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(m){const w=Ft(m);return w.persistence.runTransaction("Get highest unacknowledged batch id","readonly",N=>w.mutationQueue.getHighestUnacknowledgedBatchId(N))}(t.localStore);if(-1===o)return void e.resolve();const d=t.hc.get(o)||[];d.push(e),t.hc.set(o,d)}catch(o){const d=Ut(o,"Initialization of waitForPendingWrites() operation failed");e.reject(d)}}),Xl.apply(this,arguments)}function Dp(i,e){(i.hc.get(e)||[]).forEach(t=>{t.resolve()}),i.hc.delete(e)}function Dm(i,e,t){const o=Ft(i);let d=o.ac[o.currentUser.toKey()];if(d){const m=d.get(e);m&&(t?m.reject(t):m.resolve(),d=d.remove(e)),o.ac[o.currentUser.toKey()]=d}}function Cf(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i.ic.get(e))i.sc.delete(o),t&&i.nc.wc(o,t);i.ic.delete(e),i.isPrimaryClient&&i.cc.hs(e).forEach(o=>{i.cc.containsKey(o)||sv(i,o)})}function sv(i,e){i.rc.delete(e.path.canonicalString());const t=i.oc.get(e);null!==t&&(Rc(i.remoteStore,t),i.oc=i.oc.remove(e),i.uc.delete(t),Cm(i))}function Cg(i,e,t){for(const o of t)o instanceof k_?(i.cc.addReference(o.key,e),ov(i,o)):o instanceof mm?(mt("SyncEngine","Document no longer in limbo: "+o.key),i.cc.removeReference(o.key,e),i.cc.containsKey(o.key)||sv(i,o.key)):ln()}function ov(i,e){const t=e.key,o=t.path.canonicalString();i.oc.get(t)||i.rc.has(o)||(mt("SyncEngine","New document in limbo: "+t),i.rc.add(o),Cm(i))}function Cm(i){for(;i.rc.size>0&&i.oc.size<i.maxConcurrentLimboResolutions;){const e=i.rc.values().next().value;i.rc.delete(e);const t=new Jt(Ir.fromString(e)),o=i.lc.next();i.uc.set(o,new P_(t)),i.oc=i.oc.insert(t,o),Wu(i.remoteStore,new Uu(lo(Nu(t.path)),o,2,Es.ct))}}function Fc(i,e,t){return Cp.apply(this,arguments)}function Cp(){return Cp=(0,Se.Z)(function*(i,e,t){const o=Ft(i),d=[],m=[],w=[];var N;o.sc.isEmpty()||(o.sc.forEach((N,$)=>{w.push(o.dc($,e,t).then(W=>{if((W||t)&&o.isPrimaryClient&&o.sharedClientState.updateQueryState($.targetId,W?.fromCache?"not-current":"current"),W){d.push(W);const re=uf.Di($.targetId,W);m.push(re)}}))}),yield Promise.all(w),o.nc.zo(d),yield(N=(0,Se.Z)(function*($,W){const re=Ft($);try{yield re.persistence.runTransaction("notifyLocalViewChanges","readwrite",De=>it.forEach(W,Ye=>it.forEach(Ye.Vi,wt=>re.persistence.referenceDelegate.addReference(De,Ye.targetId,wt)).next(()=>it.forEach(Ye.Si,wt=>re.persistence.referenceDelegate.removeReference(De,Ye.targetId,wt)))))}catch(De){if(!fi(De))throw De;mt("LocalStore","Failed to update sequence numbers: "+De)}for(const De of W){const Ye=De.targetId;if(!De.fromCache){const wt=re.Li.get(Ye),_n=wt.withLastLimboFreeSnapshotVersion(wt.snapshotVersion);re.Li=re.Li.insert(Ye,_n)}}}),function($,W){return N.apply(this,arguments)})(o.localStore,m))}),Cp.apply(this,arguments)}function av(i,e){return Em.apply(this,arguments)}function Em(){return Em=(0,Se.Z)(function*(i,e){const t=Ft(i);if(!t.currentUser.isEqual(e)){mt("SyncEngine","User change. New user:",e.toKey());const o=yield cm(t.localStore,e);t.currentUser=e,(d=t).hc.forEach(w=>{w.forEach(N=>{N.reject(new St(rt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),d.hc.clear(),t.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield Fc(t,o.Qi)}var d}),Em.apply(this,arguments)}function Eg(i,e){const t=Ft(i),o=t.uc.get(e);if(o&&o.ec)return Xn().add(o.key);{let d=Xn();const m=t.ic.get(e);if(!m)return d;for(const w of m){const N=t.sc.get(w);d=d.unionWith(N.view.Qu)}return d}}function Im(i,e){return Ef.apply(this,arguments)}function Ef(){return Ef=(0,Se.Z)(function*(i,e){const t=Ft(i),o=yield ag(t.localStore,e.query,!0),d=e.view.Xu(o);return t.isPrimaryClient&&Cg(t,e.targetId,d.Yu),d}),Ef.apply(this,arguments)}function z0(i,e){return Ep.apply(this,arguments)}function Ep(){return Ep=(0,Se.Z)(function*(i,e){const t=Ft(i);return ug(t.localStore,e).then(o=>Fc(t,o))}),Ep.apply(this,arguments)}function Z0(i,e,t,o){return Ig.apply(this,arguments)}function Ig(){return Ig=(0,Se.Z)(function*(i,e,t,o){const d=Ft(i),m=yield function(w,N){const $=Ft(w),W=Ft($.mutationQueue);return $.persistence.runTransaction("Lookup mutation documents","readonly",re=>W.In(re,N).next(De=>De?$.localDocuments.getDocuments(re,De):it.resolve(null)))}(d.localStore,e);var N;null!==m?("pending"===t?yield wh(d.remoteStore):"acknowledged"===t||"rejected"===t?(Dm(d,e,o||null),Dp(d,e),N=e,Ft(Ft(d.localStore).mutationQueue).En(N)):ln(),yield Fc(d,m)):mt("SyncEngine","Cannot apply mutation batch with id: "+e)}),Ig.apply(this,arguments)}function Tg(){return Tg=(0,Se.Z)(function*(i,e){const t=Ft(i);if(Mg(t),Sm(t),!0===e&&!0!==t.fc){const o=t.sharedClientState.getAllActiveQueryTargets(),d=yield Tm(t,o.toArray());t.fc=!0,yield pe(t.remoteStore,!0);for(const m of d)Wu(t.remoteStore,m)}else if(!1===e&&!1!==t.fc){const o=[];let d=Promise.resolve();t.ic.forEach((m,w)=>{t.sharedClientState.isLocalQueryTarget(w)?o.push(w):d=d.then(()=>(Cf(t,w),Zu(t.localStore,w,!0))),Rc(t.remoteStore,w)}),yield d,yield Tm(t,o),function(m){const w=Ft(m);w.uc.forEach((N,$)=>{Rc(w.remoteStore,$)}),w.cc.ls(),w.uc=new Map,w.oc=new Y(Jt.comparator)}(t),t.fc=!1,yield pe(t.remoteStore,!1)}}),Tg.apply(this,arguments)}function Tm(i,e,t){return Ip.apply(this,arguments)}function Ip(){return Ip=(0,Se.Z)(function*(i,e,t){const o=Ft(i),d=[],m=[];for(const w of e){let N;const $=o.ic.get(w);if($&&0!==$.length){N=yield zu(o.localStore,lo($[0]));for(const W of $){const re=o.sc.get(W),De=yield Im(o,re);De.snapshot&&m.push(De.snapshot)}}else{const W=yield lg(o.localStore,w);N=yield zu(o.localStore,W),yield _m(o,qu(W),w,!1,N.resumeToken)}d.push(N)}return o.nc.zo(m),d}),Ip.apply(this,arguments)}function qu(i){return rd(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function Sg(i){const e=Ft(i);return Ft(Ft(e.localStore).persistence).bi()}function Ag(i,e,t,o){return Dh.apply(this,arguments)}function Dh(){return Dh=(0,Se.Z)(function*(i,e,t,o){const d=Ft(i);if(d.fc)return void mt("SyncEngine","Ignoring unexpected query state notification.");const m=d.ic.get(e);if(m&&m.length>0)switch(t){case"current":case"not-current":{const w=yield ug(d.localStore,qs(m[0])),N=Ne.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Dn.EMPTY_BYTE_STRING);yield Fc(d,w,N);break}case"rejected":yield Zu(d.localStore,e,!0),Cf(d,e,o);break;default:ln()}}),Dh.apply(this,arguments)}function lv(i,e,t){return Tp.apply(this,arguments)}function Tp(){return Tp=(0,Se.Z)(function*(i,e,t){const o=Mg(i);if(o.fc){for(const d of e){if(o.ic.has(d)){mt("SyncEngine","Adding an already active target "+d);continue}const m=yield lg(o.localStore,d),w=yield zu(o.localStore,m);yield _m(o,qu(m),w.targetId,!1,w.resumeToken),Wu(o.remoteStore,w)}for(const d of t)o.ic.has(d)&&(yield Zu(o.localStore,d,!1).then(()=>{Rc(o.remoteStore,d),Cf(o,d)}).catch(oa))}}),Tp.apply(this,arguments)}function Mg(i){const e=Ft(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=V_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Eg.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=nv.bind(null,e),e.nc.zo=Oc.bind(null,e.eventManager),e.nc.wc=pa.bind(null,e.eventManager),e}function Sm(i){const e=Ft(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=rv.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=U_.bind(null,e),e}class Ed{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Se.Z)(function*(){t.serializer=kc(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return ap(this.persistence,new op,e.initialUser,this.serializer)}createPersistence(e){return new hh(sp.Fs,this.serializer)}createSharedClientState(e){return new mf}terminate(){var e=this;return(0,Se.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Am extends Ed{constructor(e,t,o){super(),this.mc=e,this.cacheSizeBytes=t,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,o=this;return(0,Se.Z)(function*(){yield t().call(o,e),yield o.mc.initialize(o,e),yield Sm(o.mc.syncEngine),yield wh(o.mc.remoteStore),yield o.persistence.hi(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(),o.indexBackfillerScheduler&&!o.indexBackfillerScheduler.started&&o.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return ap(this.persistence,new op,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new D_(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const o=new vl(t,this.persistence);return new va(e.asyncQueue,o)}createPersistence(e){const t=lf(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?Ea.withCacheSize(this.cacheSizeBytes):Ea.DEFAULT;return new sf(this.synchronizeTabs,t,e.clientId,o,e.asyncQueue,xc(),_f(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new mf}}class cv extends Am{constructor(e,t){super(e,t,!1),this.mc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,o=this;return(0,Se.Z)(function*(){yield t().call(o,e);const d=o.mc.syncEngine;o.sharedClientState instanceof fp&&(o.sharedClientState.syncEngine={$r:Z0.bind(null,d),Mr:Ag.bind(null,d),Fr:lv.bind(null,d),bi:Sg.bind(null,d),Or:z0.bind(null,d)},yield o.sharedClientState.start()),yield o.persistence.hi(function(){var m=(0,Se.Z)(function*(w){yield function B_(i,e){return Tg.apply(this,arguments)}(o.mc.syncEngine,w),o.gcScheduler&&(w&&!o.gcScheduler.started?o.gcScheduler.start():w||o.gcScheduler.stop()),o.indexBackfillerScheduler&&(w&&!o.indexBackfillerScheduler.started?o.indexBackfillerScheduler.start():w||o.indexBackfillerScheduler.stop())});return function(w){return m.apply(this,arguments)}}())})()}createSharedClientState(e){const t=xc();if(!fp.D(t))throw new St(rt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=lf(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new fp(t,e.asyncQueue,o,e.clientId,e.initialUser)}}class If{initialize(e,t){var o=this;return(0,Se.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(t),o.remoteStore=o.createRemoteStore(t),o.eventManager=o.createEventManager(t),o.syncEngine=o.createSyncEngine(t,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=d=>bm(o.syncEngine,d,1),o.remoteStore.remoteSyncer.handleCredentialChange=av.bind(null,o.syncEngine),yield pe(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Gr}createDatastore(e){const t=kc(e.databaseInfo.databaseId),o=new fm(e.databaseInfo);return new _p(e.authCredentials,e.appCheckCredentials,o,t)}createRemoteStore(e){return t=this.localStore,o=this.datastore,d=e.asyncQueue,m=N=>bm(this.syncEngine,N,0),w=pp.D()?new pp:new T_,new yp(t,o,d,m,w);var t,o,d,m,w}createSyncEngine(e,t){return function(o,d,m,w,N,$,W){const re=new ev(o,d,m,w,N,$);return W&&(re.fc=!0),re}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Se.Z)(function*(t){const o=Ft(t);mt("RemoteStore","RemoteStore shutting down."),o.du.add(5),yield _h(o),o._u.shutdown(),o.mu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function dv(i,e=10240){let t=0;return{read:()=>(0,Se.Z)(function*(){if(t<i.byteLength){const o={value:i.slice(t,t+e),done:!1};return t+=e,o}return{done:!0}})(),cancel:()=>(0,Se.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Ng{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.gc(this.observer.next,e)}error(e){this.observer.error?this.gc(this.observer.error,e):Er("Uncaught Error in snapshot listener:",e.toString())}yc(){this.muted=!0}gc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class hv{constructor(e,t){this.Ic=e,this.serializer=t,this.metadata=new Ei,this.buffer=new Uint8Array,this.Tc=new TextDecoder("utf-8"),this.Ec().then(o=>{o&&o.ku()?this.metadata.resolve(o.Nu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(o?.Nu)}`))},o=>this.metadata.reject(o))}close(){return this.Ic.cancel()}getMetadata(){var e=this;return(0,Se.Z)(function*(){return e.metadata.promise})()}_c(){var e=this;return(0,Se.Z)(function*(){return yield e.getMetadata(),e.Ec()})()}Ec(){var e=this;return(0,Se.Z)(function*(){const t=yield e.Ac();if(null===t)return null;const o=e.Tc.decode(t),d=Number(o);isNaN(d)&&e.Rc(`length string (${o}) is not valid number`);const m=yield e.vc(d);return new x_(JSON.parse(m),t.length+d)})()}bc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Ac(){var e=this;return(0,Se.Z)(function*(){for(;e.bc()<0&&!(yield e.Pc()););if(0===e.buffer.length)return null;const t=e.bc();t<0&&e.Rc("Reached the end of bundle when a length string is expected.");const o=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),o})()}vc(e){var t=this;return(0,Se.Z)(function*(){for(;t.buffer.length<e;)(yield t.Pc())&&t.Rc("Reached the end of bundle when more is expected.");const o=t.Tc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),o})()}Rc(e){throw this.Ic.cancel(),new Error(`Invalid bundle format: ${e}`)}Pc(){var e=this;return(0,Se.Z)(function*(){const t=yield e.Ic.read();if(!t.done){const o=new Uint8Array(e.buffer.length+t.value.length);o.set(e.buffer),o.set(t.value,e.buffer.length),e.buffer=o}return t.done})()}}class fv{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Se.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new St(rt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const o=yield(d=(0,Se.Z)(function*(m,w){const N=Ft(m),$=Kh(N.serializer)+"/documents",W={documents:w.map(wt=>Lu(N.serializer,wt))},re=yield N.fo("BatchGetDocuments",$,W,w.length),De=new Map;re.forEach(wt=>{const Kt=function Jg(i,e){return"found"in e?function(t,o){en(!!o.found);const d=Ml(t,o.found.name),m=Pi(o.found.updateTime),w=o.found.createTime?Pi(o.found.createTime):Nn.min(),N=new ao({mapValue:{fields:o.found.fields}});return Ii.newFoundDocument(d,m,w,N)}(i,e):"missing"in e?function(t,o){en(!!o.missing),en(!!o.readTime);const d=Ml(t,o.missing),m=Pi(o.readTime);return Ii.newNoDocument(d,m)}(i,e):ln()}(N.serializer,wt);De.set(Kt.key.toString(),Kt)});const Ye=[];return w.forEach(wt=>{const Kt=De.get(wt.toString());en(!!Kt),Ye.push(Kt)}),Ye}),function(m,w){return d.apply(this,arguments)})(t.datastore,e);var d;return o.forEach(d=>t.recordVersion(d)),o})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(e.toString())}delete(e){this.write(new ca(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Se.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var o;e.mutations.forEach(o=>{t.delete(o.key.toString())}),t.forEach((o,d)=>{const m=Jt.fromPath(d);e.mutations.push(new Jd(m,e.precondition(m)))}),yield(o=(0,Se.Z)(function*(d,m){const w=Ft(d),N=Kh(w.serializer)+"/documents",$={writes:m.map(W=>nh(w.serializer,W))};yield w.co("Commit",N,$)}),function(d,m){return o.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ln();t=Nn.min()}const o=this.readVersions.get(e.key.toString());if(o){if(!t.isEqual(o))throw new St(rt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Nn.min())?Ai.exists(!1):Ai.updateTime(t):Ai.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Nn.min()))throw new St(rt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ai.updateTime(t)}return Ai.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class $_{constructor(e,t,o,d,m){this.asyncQueue=e,this.datastore=t,this.options=o,this.updateFunction=d,this.deferred=m,this.Vc=o.maxAttempts,this.Co=new wd(this.asyncQueue,"transaction_retry")}run(){this.Vc-=1,this.Sc()}Sc(){var e=this;this.Co.Ao((0,Se.Z)(function*(){const t=new fv(e.datastore),o=e.Dc(t);o&&o.then(d=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(d)}).catch(m=>{e.Cc(m)}))}).catch(d=>{e.Cc(d)})}))}Dc(e){try{const t=this.updateFunction(e);return!T(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Cc(e){this.Vc>0&&this.xc(e)?(this.Vc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Sc(),Promise.resolve()))):this.deferred.reject(e)}xc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!_(t)}return!1}}class Mm{constructor(e,t,o,d){var m=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=o,this.databaseInfo=d,this.user=On.UNAUTHENTICATED,this.clientId=ia.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var w=(0,Se.Z)(function*(N){mt("FirestoreClient","Received user=",N.uid),yield m.authCredentialListener(N),m.user=N});return function(N){return w.apply(this,arguments)}}()),this.appCheckCredentials.start(o,w=>(mt("FirestoreClient","Received new app check token=",w),this.appCheckCredentialListener(w,this.user)))}getConfiguration(){var e=this;return(0,Se.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new St(rt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Ei;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Se.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(o){const d=Ut(o,"Failed to shutdown persistence");t.reject(d)}})),t.promise}}function xg(i,e){return Sp.apply(this,arguments)}function Sp(){return Sp=(0,Se.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),mt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield i.getConfiguration();yield e.initialize(t);let o=t.initialUser;i.setCredentialChangeListener(function(){var d=(0,Se.Z)(function*(m){o.isEqual(m)||(yield cm(e.localStore,m),o=m)});return function(m){return d.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}),Sp.apply(this,arguments)}function Nm(i,e){return xm.apply(this,arguments)}function xm(){return xm=(0,Se.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const t=yield km(i);mt("FirestoreClient","Initializing OnlineComponentProvider");const o=yield i.getConfiguration();yield e.initialize(t,o),i.setCredentialChangeListener(d=>J(e.remoteStore,d)),i.setAppCheckTokenChangeListener((d,m)=>J(e.remoteStore,m)),i._onlineComponents=e}),xm.apply(this,arguments)}function H_(i){return"FirebaseError"===i.name?i.code===rt.FAILED_PRECONDITION||i.code===rt.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code}function km(i){return Rm.apply(this,arguments)}function Rm(){return Rm=(0,Se.Z)(function*(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){mt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield xg(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!H_(t))throw t;si("Error using user provided cache. Falling back to memory cache: "+t),yield xg(i,new Ed)}}else mt("FirestoreClient","Using default OfflineComponentProvider"),yield xg(i,new Ed);return i._offlineComponents}),Rm.apply(this,arguments)}function kg(i){return Tf.apply(this,arguments)}function Tf(){return Tf=(0,Se.Z)(function*(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(mt("FirestoreClient","Using user provided OnlineComponentProvider"),yield Nm(i,i._uninitializedComponentsProvider._online)):(mt("FirestoreClient","Using default OnlineComponentProvider"),yield Nm(i,new If))),i._onlineComponents}),Tf.apply(this,arguments)}function Id(i){return km(i).then(e=>e.persistence)}function Om(i){return km(i).then(e=>e.localStore)}function Ch(i){return kg(i).then(e=>e.remoteStore)}function Pm(i){return kg(i).then(e=>e.syncEngine)}function Td(i){return Fm.apply(this,arguments)}function Fm(){return Fm=(0,Se.Z)(function*(i){const e=yield kg(i),t=e.eventManager;return t.onListen=xl.bind(null,e.syncEngine),t.onUnlisten=tv.bind(null,e.syncEngine),t}),Fm.apply(this,arguments)}function Sd(i,e,t={}){const o=new Ei;return i.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return function(d,m,w,N,$){const W=new Ng({next:De=>{m.enqueueAndForget(()=>fa(d,re));const Ye=De.docs.has(w);!Ye&&De.fromCache?$.reject(new St(rt.UNAVAILABLE,"Failed to get document because the client is offline.")):Ye&&De.fromCache&&N&&"server"===N.source?$.reject(new St(rt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):$.resolve(De)},error:De=>$.reject(De)}),re=new bp(Nu(w.path),W,{includeMetadataChanges:!0,xu:!0});return Fi(d,re)}(yield Td(i),i.asyncQueue,e,t,o)})),o.promise}function kl(i,e,t={}){const o=new Ei;return i.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return function(d,m,w,N,$){const W=new Ng({next:De=>{m.enqueueAndForget(()=>fa(d,re)),De.fromCache&&"server"===N.source?$.reject(new St(rt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):$.resolve(De)},error:De=>$.reject(De)}),re=new bp(w,W,{includeMetadataChanges:!0,xu:!0});return Fi(d,re)}(yield Td(i),i.asyncQueue,e,t,o)})),o.promise}const Eh=new Map;function Ad(i,e,t){if(!t)throw new St(rt.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function Ih(i,e,t,o){if(!0===e&&!0===o)throw new St(rt.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function Th(i){if(!Jt.isDocumentKey(i))throw new St(rt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Sh(i){if(Jt.isDocumentKey(i))throw new St(rt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Lc(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(t=i).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof i?"a function":ln()}function qr(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new St(rt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Lc(i);throw new St(rt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}function Vm(i,e){if(e<=0)throw new St(rt.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}class Um{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new St(rt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new St(rt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Ih("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Nf{constructor(e,t,o,d){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=o,this._app=d,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Um({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new St(rt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new St(rt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Um(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new tc;switch(t.type){case"firstParty":return new _l(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new St(rt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Eh.get(e);t&&(mt("ComponentProvider","Removing Datastore"),Eh.delete(e),t.terminate())}(this),Promise.resolve()}}class os{constructor(e,t,o){this.converter=t,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new bu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new os(this.firestore,e,this._key)}}class zo{constructor(e,t,o){this.converter=t,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new zo(this.firestore,e,this._query)}}class bu extends zo{constructor(e,t,o){super(e,t,Nu(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new os(this.firestore,null,new Jt(e))}withConverter(e){return new bu(this.firestore,e,this._path)}}function $m(i,e,...t){if(i=(0,Fe.m9)(i),Ad("collection","path",e),i instanceof Nf){const o=Ir.fromString(e,...t);return Sh(o),new bu(i,null,o)}{if(!(i instanceof os||i instanceof bu))throw new St(rt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Ir.fromString(e,...t));return Sh(o),new bu(i.firestore,null,o)}}function Og(i,e,...t){if(i=(0,Fe.m9)(i),1===arguments.length&&(e=ia.A()),Ad("doc","path",e),i instanceof Nf){const o=Ir.fromString(e,...t);return Th(o),new os(i,null,new Jt(o))}{if(!(i instanceof os||i instanceof bu))throw new St(rt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Ir.fromString(e,...t));return Th(o),new os(i.firestore,i instanceof bu?i.converter:null,new Jt(o))}}function Hm(i,e){return i=(0,Fe.m9)(i),e=(0,Fe.m9)(e),(i instanceof os||i instanceof bu)&&(e instanceof os||e instanceof bu)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function jm(i,e){return i=(0,Fe.m9)(i),e=(0,Fe.m9)(e),i instanceof zo&&e instanceof zo&&i.firestore===e.firestore&&id(i._query,e._query)&&i.converter===e.converter}class G_{constructor(){this.Nc=Promise.resolve(),this.kc=[],this.Oc=!1,this.$c=[],this.Mc=null,this.Fc=!1,this.Bc=!1,this.Lc=[],this.Co=new wd(this,"async_queue_retry"),this.qc=()=>{const t=_f();t&&mt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Co.vo()};const e=_f();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.qc)}get isShuttingDown(){return this.Oc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Uc(),this.Kc(e)}enterRestrictedMode(e){if(!this.Oc){this.Oc=!0,this.Bc=e||!1;const t=_f();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.qc)}}enqueue(e){if(this.Uc(),this.Oc)return new Promise(()=>{});const t=new Ei;return this.Kc(()=>this.Oc&&this.Bc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.kc.push(e),this.Gc()))}Gc(){var e=this;return(0,Se.Z)(function*(){if(0!==e.kc.length){try{yield e.kc[0](),e.kc.shift(),e.Co.reset()}catch(t){if(!fi(t))throw t;mt("AsyncQueue","Operation failed with retryable error: "+t)}e.kc.length>0&&e.Co.Ao(()=>e.Gc())}})()}Kc(e){const t=this.Nc.then(()=>(this.Fc=!0,e().catch(o=>{throw this.Mc=o,this.Fc=!1,Er("INTERNAL UNHANDLED ERROR: ",function(m){let w=m.message||"";return m.stack&&(w=m.stack.includes(m.message)?m.stack:m.message+"\n"+m.stack),w}(o)),o}).then(o=>(this.Fc=!1,o))));return this.Nc=t,t}enqueueAfterDelay(e,t,o){this.Uc(),this.Lc.indexOf(e)>-1&&(t=0);const d=$t.createAndSchedule(this,e,t,o,m=>this.Qc(m));return this.$c.push(d),d}Uc(){this.Mc&&ln()}verifyOperationInProgress(){}zc(){var e=this;return(0,Se.Z)(function*(){let t;do{t=e.Nc,yield t}while(t!==e.Nc)})()}jc(e){for(const t of this.$c)if(t.timerId===e)return!0;return!1}Wc(e){return this.zc().then(()=>{this.$c.sort((t,o)=>t.targetTimeMs-o.targetTimeMs);for(const t of this.$c)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.zc()})}Hc(e){this.Lc.push(e)}Qc(e){const t=this.$c.indexOf(e);this.$c.splice(t,1)}}function Mp(i){return function(e,t){if("object"!=typeof e||null===e)return!1;const o=e;for(const d of["next","error","complete"])if(d in o&&"function"==typeof o[d])return!0;return!1}(i)}class Gm{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ei,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,o){this._progressObserver={next:e,error:t,complete:o}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Li extends Nf{constructor(e,t,o,d){super(e,t,o,d),this.type="firestore",this._queue=new G_,this._persistenceKey=d?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Np(this),this._firestoreClient.terminate()}}function co(i){return i._firestoreClient||Np(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function Np(i){var e,t,o;const d=i._freezeSettings(),m=(N=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new sc(i._databaseId,N,i._persistenceKey,(W=d).host,W.ssl,W.experimentalForceLongPolling,W.experimentalAutoDetectLongPolling,W.useFetchStreams));var N,W;i._firestoreClient=new Mm(i._authCredentials,i._appCheckCredentials,i._queue,m),(null===(t=d.cache)||void 0===t?void 0:t._offlineComponentProvider)&&(null===(o=d.cache)||void 0===o?void 0:o._onlineComponentProvider)&&(i._firestoreClient._uninitializedComponentsProvider={_offlineKind:d.cache.kind,_offline:d.cache._offlineComponentProvider,_online:d.cache._onlineComponentProvider})}function Zm(i,e,t){const o=new Ei;return i.asyncQueue.enqueue((0,Se.Z)(function*(){try{yield xg(i,t),yield Nm(i,e),o.resolve()}catch(d){const m=d;if(!H_(m))throw m;si("Error enabling indexeddb cache. Falling back to memory cache: "+m),o.reject(m)}})).then(()=>o.promise)}function Ym(i){if(i._initialized||i._terminated)throw new St(rt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Ku{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ku(Dn.fromBase64String(e))}catch(t){throw new St(rt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ku(Dn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ju{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new St(rt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Vc{constructor(e){this._methodName=e}}class Ah{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new St(rt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new St(rt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return jn(this._lat,e._lat)||jn(this._long,e._long)}}const J_=/^__.*__$/;class Q_{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return null!==this.fieldMask?new ul(e,this.data,this.fieldMask,t,this.fieldTransforms):new Oi(e,this.data,t,this.fieldTransforms)}}class Km{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return new ul(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Jm(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ln()}}class xp{constructor(e,t,o,d,m,w){this.settings=e,this.databaseId=t,this.serializer=o,this.ignoreUndefinedProperties=d,void 0===m&&this.Jc(),this.fieldTransforms=m||[],this.fieldMask=w||[]}get path(){return this.settings.path}get Yc(){return this.settings.Yc}Zc(e){return new xp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Xc(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),d=this.Zc({path:o,ta:!1});return d.ea(e),d}na(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),d=this.Zc({path:o,ta:!1});return d.Jc(),d}sa(e){return this.Zc({path:void 0,ta:!0})}ia(e){return Rp(e,this.settings.methodName,this.settings.ra||!1,this.path,this.settings.oa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Jc(){if(this.path)for(let e=0;e<this.path.length;e++)this.ea(this.path.get(e))}ea(e){if(0===e.length)throw this.ia("Document fields must not be empty");if(Jm(this.Yc)&&J_.test(e))throw this.ia('Document fields cannot begin and end with "__"')}}class X_{constructor(e,t,o){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=o||kc(e)}ua(e,t,o,d=!1){return new xp({Yc:e,methodName:t,oa:o,path:vr.emptyPath(),ta:!1,ra:d},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Md(i){const e=i._freezeSettings(),t=kc(i._databaseId);return new X_(i._databaseId,!!e.ignoreUndefinedProperties,t)}function kp(i,e,t,o,d,m={}){const w=i.ua(m.merge||m.mergeFields?2:0,e,t,d);Vg("Data must be an object, but it was:",w,o);const N=ry(o,w);let $,W;if(m.merge)$=new bn(w.fieldMask),W=w.fieldTransforms;else if(m.mergeFields){const re=[];for(const De of m.mergeFields){const Ye=Qu(e,De,t);if(!w.contains(Ye))throw new St(rt.INVALID_ARGUMENT,`Field '${Ye}' is specified in your field mask but missing from your input data.`);iy(re,Ye)||re.push(Ye)}$=new bn(re),W=w.fieldTransforms.filter(De=>$.covers(De.field))}else $=null,W=w.fieldTransforms;return new Q_(new ao(N),$,W)}class Fg extends Vc{_toFieldTransform(e){if(2!==e.Yc)throw e.ia(1===e.Yc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Fg}}function ey(i,e,t){return new xp({Yc:3,oa:e.settings.oa,methodName:i._methodName,ta:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Qm extends Vc{_toFieldTransform(e){return new al(e.path,new Zl)}isEqual(e){return e instanceof Qm}}class ty extends Vc{constructor(e,t){super(e),this.ca=t}_toFieldTransform(e){const t=ey(this,e,!0),o=this.ca.map(m=>Nd(m,t)),d=new sl(o);return new al(e.path,d)}isEqual(e){return this===e}}class vv extends Vc{constructor(e,t){super(e),this.ca=t}_toFieldTransform(e){const t=ey(this,e,!0),o=this.ca.map(m=>Nd(m,t)),d=new ol(o);return new al(e.path,d)}isEqual(e){return this===e}}class xo extends Vc{constructor(e,t){super(e),this.aa=t}_toFieldTransform(e){const t=new Go(e.serializer,Gf(e.serializer,this.aa));return new al(e.path,t)}isEqual(e){return this===e}}function Lg(i,e,t,o){const d=i.ua(1,e,t);Vg("Data must be an object, but it was:",d,o);const m=[],w=ao.empty();F(o,($,W)=>{const re=Ug(e,$,t);W=(0,Fe.m9)(W);const De=d.na(re);if(W instanceof Fg)m.push(re);else{const Ye=Nd(W,De);null!=Ye&&(m.push(re),w.set(re,Ye))}});const N=new bn(m);return new Km(w,N,d.fieldTransforms)}function Xm(i,e,t,o,d,m){const w=i.ua(1,e,t),N=[Qu(e,o,t)],$=[d];if(m.length%2!=0)throw new St(rt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Ye=0;Ye<m.length;Ye+=2)N.push(Qu(e,m[Ye])),$.push(m[Ye+1]);const W=[],re=ao.empty();for(let Ye=N.length-1;Ye>=0;--Ye)if(!iy(W,N[Ye])){const wt=N[Ye];let Kt=$[Ye];Kt=(0,Fe.m9)(Kt);const _n=w.na(wt);if(Kt instanceof Fg)W.push(wt);else{const Pn=Nd(Kt,_n);null!=Pn&&(W.push(wt),re.set(wt,Pn))}}const De=new bn(W);return new Km(re,De,w.fieldTransforms)}function ny(i,e,t,o=!1){return Nd(t,i.ua(o?4:3,e))}function Nd(i,e){if(e_(i=(0,Fe.m9)(i)))return Vg("Unsupported field value:",e,i),ry(i,e);if(i instanceof Vc)return function(t,o){if(!Jm(o.Yc))throw o.ia(`${t._methodName}() can only be used with update() and set()`);if(!o.path)throw o.ia(`${t._methodName}() is not currently supported inside arrays`);const d=t._toFieldTransform(o);d&&o.fieldTransforms.push(d)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.ta&&4!==e.Yc)throw e.ia("Nested arrays are not supported");return function(t,o){const d=[];let m=0;for(const w of t){let N=Nd(w,o.sa(m));null==N&&(N={nullValue:"NULL_VALUE"}),d.push(N),m++}return{arrayValue:{values:d}}}(i,e)}return function(t,o){if(null===(t=(0,Fe.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Gf(o.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const d=Kr.fromDate(t);return{timestampValue:Ks(o.serializer,d)}}if(t instanceof Kr){const d=new Kr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Ks(o.serializer,d)}}if(t instanceof Ah)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Ku)return{bytesValue:fu(o.serializer,t._byteString)};if(t instanceof os){const d=o.databaseId,m=t.firestore._databaseId;if(!m.isEqual(d))throw o.ia(`Document reference is for database ${m.projectId}/${m.database} but should be for database ${d.projectId}/${d.database}`);return{referenceValue:yc(t.firestore._databaseId||o.databaseId,t._key.path)}}throw o.ia(`Unsupported field value: ${Lc(t)}`)}(i,e)}function ry(i,e){const t={};return H(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):F(i,(o,d)=>{const m=Nd(d,e.Xc(o));null!=m&&(t[o]=m)}),{mapValue:{fields:t}}}function e_(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof Kr||i instanceof Ah||i instanceof Ku||i instanceof os||i instanceof Vc)}function Vg(i,e,t){if(!e_(t)||"object"!=typeof(o=t)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=Lc(t);throw e.ia("an object"===o?i+" a custom object":i+" "+o)}var o}function Qu(i,e,t){if((e=(0,Fe.m9)(e))instanceof Ju)return e._internalPath;if("string"==typeof e)return Ug(i,e);throw Rp("Field path arguments must be of type string or ",i,!1,void 0,t)}const bv=new RegExp("[~\\*/\\[\\]]");function Ug(i,e,t){if(e.search(bv)>=0)throw Rp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new Ju(...e.split("."))._internalPath}catch{throw Rp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function Rp(i,e,t,o,d){const m=o&&!o.isEmpty(),w=void 0!==d;let N=`Function ${e}() called with invalid data`;t&&(N+=" (via `toFirestore()`)"),N+=". ";let $="";return(m||w)&&($+=" (found",m&&($+=` in field ${o}`),w&&($+=` in document ${d}`),$+=")"),new St(rt.INVALID_ARGUMENT,N+i+$)}function iy(i,e){return i.some(t=>t.isEqual(e))}class kf{constructor(e,t,o,d,m){this._firestore=e,this._userDataWriter=t,this._key=o,this._document=d,this._converter=m}get id(){return this._key.path.lastSegment()}get ref(){return new os(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new W0(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Rf("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class W0 extends kf{data(){return super.data()}}function Rf(i,e){return"string"==typeof e?Ug(i,e):e instanceof Ju?e._internalPath:e._delegate._internalPath}function Bg(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new St(rt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Rl{}class Op extends Rl{}function Uc(i,e,...t){let o=[];e instanceof Rl&&o.push(e),o=o.concat(t),function(d){const m=d.filter(N=>N instanceof Na).length,w=d.filter(N=>N instanceof fl).length;if(m>1||m>0&&w>0)throw new St(rt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(o);for(const d of o)i=d._apply(i);return i}class fl extends Op{constructor(e,t,o){super(),this._field=e,this._op=t,this._value=o,this.type="where"}static _create(e,t,o){return new fl(e,t,o)}_apply(e){const t=this._parse(e);return i_(e._query,t),new zo(e.firestore,e.converter,cc(e._query,t))}_parse(e){const t=Md(e.firestore);return function(d,m,w,N,$,W,re){let De;if($.isKeyField()){if("array-contains"===W||"array-contains-any"===W)throw new St(rt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${W}' queries on documentId().`);if("in"===W||"not-in"===W){r_(re,W);const Ye=[];for(const wt of re)Ye.push(ly(N,d,wt));De={arrayValue:{values:Ye}}}else De=ly(N,d,re)}else"in"!==W&&"not-in"!==W&&"array-contains-any"!==W||r_(re,W),De=ny(w,"where",re,"in"===W||"not-in"===W);return Pr.create($,W,De)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Na extends Rl{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Na(e,t)}_parse(e){const t=this._queryConstraints.map(o=>o._parse(e)).filter(o=>o.getFilters().length>0);return 1===t.length?t[0]:Wr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(o,d){let m=o;const w=d.getFlattenedFilters();for(const N of w)i_(m,N),m=cc(m,N)}(e._query,t),new zo(e.firestore,e.converter,cc(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class t_ extends Op{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new t_(e,t)}_apply(e){const t=function(o,d,m){if(null!==o.startAt)throw new St(rt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new St(rt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const w=new au(d,m);return function(N,$){if(null===zd(N)){const W=Gl(N);null!==W&&jg(0,W,$.field)}}(o,w),w}(e._query,this._field,this._direction);return new zo(e.firestore,e.converter,function(o,d){const m=o.explicitOrderBy.concat([d]);return new ua(o.path,o.collectionGroup,m,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}class $g extends Op{constructor(e,t,o){super(),this.type=e,this._limit=t,this._limitType=o}static _create(e,t,o){return new $g(e,t,o)}_apply(e){return new zo(e.firestore,e.converter,dc(e._query,this._limit,this._limitType))}}class xd extends Op{constructor(e,t,o){super(),this.type=e,this._docOrFields=t,this._inclusive=o}static _create(e,t,o){return new xd(e,t,o)}_apply(e){const t=Pp(e,this.type,this._docOrFields,this._inclusive);return new zo(e.firestore,e.converter,(d=t,new ua((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,d,o.endAt)));var o,d}}class Hg extends Op{constructor(e,t,o){super(),this.type=e,this._docOrFields=t,this._inclusive=o}static _create(e,t,o){return new Hg(e,t,o)}_apply(e){const t=Pp(e,this.type,this._docOrFields,this._inclusive);return new zo(e.firestore,e.converter,(d=t,new ua((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,d)));var o,d}}function Pp(i,e,t,o){if(t[0]=(0,Fe.m9)(t[0]),t[0]instanceof kf)return function(d,m,w,N,$){if(!N)throw new St(rt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${w}().`);const W=[];for(const re of uu(d))if(re.field.isKeyField())W.push(ja(m,N.key));else{const De=N.data.field(re.field);if($o(De))throw new St(rt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+re.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===De){const Ye=re.field.canonicalString();throw new St(rt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Ye}' (used as the orderBy) does not exist.`)}W.push(De)}return new Ga(W,$)}(i._query,i.firestore._databaseId,e,t[0]._document,o);{const d=Md(i.firestore);return function(m,w,N,$,W,re){const De=m.explicitOrderBy;if(W.length>De.length)throw new St(rt.INVALID_ARGUMENT,`Too many arguments provided to ${$}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Ye=[];for(let wt=0;wt<W.length;wt++){const Kt=W[wt];if(De[wt].field.isKeyField()){if("string"!=typeof Kt)throw new St(rt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${$}(), but got a ${typeof Kt}`);if(!uc(m)&&-1!==Kt.indexOf("/"))throw new St(rt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${$}() must be a plain document ID, but '${Kt}' contains a slash.`);const _n=m.path.child(Ir.fromString(Kt));if(!Jt.isDocumentKey(_n))throw new St(rt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${$}() must result in a valid document path, but '${_n}' is not because it contains an odd number of segments.`);const Pn=new Jt(_n);Ye.push(ja(w,Pn))}else{const _n=ny(N,$,Kt);Ye.push(_n)}}return new Ga(Ye,re)}(i._query,i.firestore._databaseId,d,e,t,o)}}function ly(i,e,t){if("string"==typeof(t=(0,Fe.m9)(t))){if(""===t)throw new St(rt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!uc(e)&&-1!==t.indexOf("/"))throw new St(rt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const o=e.path.child(Ir.fromString(t));if(!Jt.isDocumentKey(o))throw new St(rt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return ja(i,new Jt(o))}if(t instanceof os)return ja(i,t._key);throw new St(rt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Lc(t)}.`)}function r_(i,e){if(!Array.isArray(i)||0===i.length)throw new St(rt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function i_(i,e){if(e.isInequality()){const o=Gl(i),d=e.field;if(null!==o&&!o.isEqual(d))throw new St(rt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${o.toString()}' and '${d.toString()}'`);const m=zd(i);null!==m&&jg(0,d,m)}const t=function(o,d){for(const m of o)for(const w of m.getFlattenedFilters())if(d.indexOf(w.op)>=0)return w.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new St(rt.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function jg(i,e,t){if(!t.isEqual(e))throw new St(rt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class Gg{convertValue(e,t="none"){switch(ou(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ui(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(vo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ln()}}convertObject(e,t){const o={};return F(e.fields,(d,m)=>{o[d]=this.convertValue(m,t)}),o}convertGeoPoint(e){return new Ah(ui(e.latitude),ui(e.longitude))}convertArray(e,t){return(e.values||[]).map(o=>this.convertValue(o,t))}convertServerTimestamp(e,t){switch(t){case"previous":const o=No(e);return null==o?null:this.convertValue(o,t);case"estimate":return this.convertTimestamp(Ho(e));default:return null}}convertTimestamp(e){const t=yi(e);return new Kr(t.seconds,t.nanos)}convertDocumentKey(e,t){const o=Ir.fromString(e);en(cd(o));const d=new Cl(o.get(1),o.get(3)),m=new Jt(o.popFirst(5));return d.isEqual(t)||Er(`Document ${m} contains a document reference within a different database (${d.projectId}/${d.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),m}}function Lp(i,e,t){let o;return o=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,o}class uy extends Gg{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ku(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new os(this.firestore,null,t)}}class kd{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Bc extends kf{constructor(e,t,o,d,m,w){super(e,t,o,d,w),this._firestore=e,this._firestoreImpl=e,this.metadata=m}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Vp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const o=this._document.data.field(Rf("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,t.serverTimestamps)}}}class Vp extends Bc{data(e={}){return super.data(e)}}class $c{constructor(e,t,o,d){this._firestore=e,this._userDataWriter=t,this._snapshot=d,this.metadata=new kd(d.hasPendingWrites,d.fromCache),this.query=o}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(o=>{e.call(t,new Vp(this._firestore,this._userDataWriter,o.key,o,new kd(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new St(rt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,d){if(o._snapshot.oldDocs.isEmpty()){let m=0;return o._snapshot.docChanges.map(w=>({type:"added",doc:new Vp(o._firestore,o._userDataWriter,w.doc.key,w.doc,new kd(o._snapshot.mutatedKeys.has(w.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:m++}))}{let m=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(w=>d||3!==w.type).map(w=>{const N=new Vp(o._firestore,o._userDataWriter,w.doc.key,w.doc,new kd(o._snapshot.mutatedKeys.has(w.doc.key),o._snapshot.fromCache),o.query.converter);let $=-1,W=-1;return 0!==w.type&&($=m.indexOf(w.doc.key),m=m.delete(w.doc.key)),1!==w.type&&(m=m.add(w.doc),W=m.indexOf(w.doc.key)),{type:Nv(w.type),doc:N,oldIndex:$,newIndex:W}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Nv(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ln()}}function dy(i,e){return i instanceof Bc&&e instanceof Bc?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof $c&&e instanceof $c&&i._firestore===e._firestore&&jm(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}class Rd extends Gg{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ku(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new os(this.firestore,null,t)}}function hy(i,e,t){i=qr(i,os);const o=qr(i.firestore,Li),d=Lp(i.converter,e,t);return Mh(o,[kp(Md(o),"setDoc",i._key,d,null!==i.converter,t).toMutation(i._key,Ai.none())])}function fy(i,e,t,...o){i=qr(i,os);const d=qr(i.firestore,Li),m=Md(d);let w;return w="string"==typeof(e=(0,Fe.m9)(e))||e instanceof Ju?Xm(m,"updateDoc",i._key,e,t,o):Lg(m,"updateDoc",i._key,e),Mh(d,[w.toMutation(i._key,Ai.exists(!0))])}function py(i,...e){var t,o,d;i=(0,Fe.m9)(i);let m={includeMetadataChanges:!1},w=0;"object"!=typeof e[w]||Mp(e[w])||(m=e[w],w++);const N={includeMetadataChanges:m.includeMetadataChanges};if(Mp(e[w])){const De=e[w];e[w]=null===(t=De.next)||void 0===t?void 0:t.bind(De),e[w+1]=null===(o=De.error)||void 0===o?void 0:o.bind(De),e[w+2]=null===(d=De.complete)||void 0===d?void 0:d.bind(De)}let $,W,re;if(i instanceof os)W=qr(i.firestore,Li),re=Nu(i._key.path),$={next:De=>{e[w]&&e[w](zg(W,i,De))},error:e[w+1],complete:e[w+2]};else{const De=qr(i,zo);W=qr(De.firestore,Li),re=De._query;const Ye=new Rd(W);$={next:wt=>{e[w]&&e[w](new $c(W,Ye,De,wt))},error:e[w+1],complete:e[w+2]},Bg(i._query)}return function(De,Ye,wt,Kt){const _n=new Ng(Kt),Pn=new bp(Ye,_n,wt);return De.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return Fi(yield Td(De),Pn)})),()=>{_n.yc(),De.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return fa(yield Td(De),Pn)}))}}(co(W),re,N,$)}function Mh(i,e){return function(t,o){const d=new Ei;return t.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return function L_(i,e,t){return ym.apply(this,arguments)}(yield Pm(t),o,d)})),d.promise}(co(i),e)}function zg(i,e,t){const o=t.docs.get(e._key),d=new Rd(i);return new Bc(i,d,e._key,o,new kd(t.hasPendingWrites,t.fromCache),e.converter)}const Hv={maxAttempts:5};class xh{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Md(e)}set(e,t,o){this._verifyNotCommitted();const d=kh(e,this._firestore),m=Lp(d.converter,t,o),w=kp(this._dataReader,"WriteBatch.set",d._key,m,null!==d.converter,o);return this._mutations.push(w.toMutation(d._key,Ai.none())),this}update(e,t,o,...d){this._verifyNotCommitted();const m=kh(e,this._firestore);let w;return w="string"==typeof(t=(0,Fe.m9)(t))||t instanceof Ju?Xm(this._dataReader,"WriteBatch.update",m._key,t,o,d):Lg(this._dataReader,"WriteBatch.update",m._key,t),this._mutations.push(w.toMutation(m._key,Ai.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=kh(e,this._firestore);return this._mutations=this._mutations.concat(new ca(t._key,Ai.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new St(rt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function kh(i,e){if((i=(0,Fe.m9)(i)).firestore!==e)throw new St(rt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class o_ extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Md(e)}get(e){const t=kh(e,this._firestore),o=new uy(this._firestore);return this._transaction.lookup([t._key]).then(d=>{if(!d||1!==d.length)return ln();const m=d[0];if(m.isFoundDocument())return new kf(this._firestore,o,m.key,m,t.converter);if(m.isNoDocument())return new kf(this._firestore,o,t._key,null,t.converter);throw ln()})}set(e,t,o){const d=kh(e,this._firestore),m=Lp(d.converter,t,o),w=kp(this._dataReader,"Transaction.set",d._key,m,null!==d.converter,o);return this._transaction.set(d._key,w),this}update(e,t,o,...d){const m=kh(e,this._firestore);let w;return w="string"==typeof(t=(0,Fe.m9)(t))||t instanceof Ju?Xm(this._dataReader,"Transaction.update",m._key,t,o,d):Lg(this._dataReader,"Transaction.update",m._key,t),this._transaction.update(m._key,w),this}delete(e){const t=kh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=kh(e,this._firestore),o=new Rd(this._firestore);return super.get(e).then(d=>new Bc(this._firestore,o,t._key,d._document,new kd(!1,!1),t.converter))}}function Of(i,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new St("invalid-argument",`Invalid options passed to function ${i}(): You cannot specify both "merge" and "mergeFields".`);return e}function $s(){if(typeof Uint8Array>"u")throw new St("unimplemented","Uint8Arrays are not available in this environment.")}function zv(){if(!function gr(){return typeof atob<"u"}())throw new St("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(i,e=!0){Yn=Wt.SDK_VERSION,(0,Wt._registerComponent)(new ct.wA("firestore",(t,{instanceIdentifier:o,options:d})=>{const m=t.getProvider("app").getImmediate(),w=new Li(new eu(t.getProvider("auth-internal")),new oi(t.getProvider("app-check-internal")),function(N,$){if(!Object.prototype.hasOwnProperty.apply(N.options,["projectId"]))throw new St(rt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Cl(N.options.projectId,$)}(m,o),m);return d=Object.assign({useFetchStreams:e},d),w._setSettings(d),w},"PUBLIC").setMultipleInstances(!0)),(0,Wt.registerVersion)(vn,"3.10.0",i),(0,Wt.registerVersion)(vn,"3.10.0","esm2017")}();class Pf{constructor(e){this._delegate=e}static fromBase64String(e){return zv(),new Pf(Ku.fromBase64String(e))}static fromUint8Array(e){return $s(),new Pf(Ku.fromUint8Array(e))}toBase64(){return zv(),this._delegate.toBase64()}toUint8Array(){return $s(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Wg(i){return function Zv(i,e){if("object"!=typeof i||null===i)return!1;const t=i;for(const o of e)if(o in t&&"function"==typeof t[o])return!0;return!1}(i,["next","error","complete"])}class Dy{enableIndexedDbPersistence(e,t){return function Pg(i,e){Ym(i=qr(i,Li));const t=co(i);if(t._uninitializedComponentsProvider)throw new St(rt.FAILED_PRECONDITION,"SDK cache is already specified.");si("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const o=i._freezeSettings(),d=new If;return Zm(t,d,new Am(d,o.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function Z_(i){Ym(i=qr(i,Li));const e=co(i);if(e._uninitializedComponentsProvider)throw new St(rt.FAILED_PRECONDITION,"SDK cache is already specified.");si("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=i._freezeSettings(),o=new If;return Zm(e,o,new cv(o,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function Wm(i){if(i._initialized&&!i._terminated)throw new St(rt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Ei;return i._queue.enqueueAndForgetEvenWhileRestricted((0,Se.Z)(function*(){try{yield(t=(0,Se.Z)(function*(o){if(!Jr.D())return Promise.resolve();const d=o+"main";yield Jr.delete(d)}),function(o){return t.apply(this,arguments)})(lf(i._databaseId,i._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class a_{constructor(e,t,o){this._delegate=t,this._persistenceProvider=o,this.INTERNAL={delete:()=>this.terminate()},e instanceof Cl||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&si("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,o={}){!function Bm(i,e,t,o={}){var d;const m=(i=qr(i,Nf))._getSettings();if("firestore.googleapis.com"!==m.host&&m.host!==e&&si("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},m),{host:`${e}:${t}`,ssl:!1})),o.mockUserToken){let w,N;if("string"==typeof o.mockUserToken)w=o.mockUserToken,N=On.MOCK_USER;else{w=(0,Fe.Sg)(o.mockUserToken,null===(d=i._app)||void 0===d?void 0:d.options.projectId);const $=o.mockUserToken.sub||o.mockUserToken.user_id;if(!$)throw new St(rt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");N=new On($)}i._authCredentials=new Vl(new Bo(w,N))}}(this._delegate,e,t,o)}enableNetwork(){return function q_(i){return function Yu(i){return i.asyncQueue.enqueue((0,Se.Z)(function*(){const e=yield Id(i),t=yield Ch(i);return e.setNetworkEnabled(!0),function(o){const d=Ft(o);return d.du.delete(0),mh(d)}(t)}))}(co(i=qr(i,Li)))}(this._delegate)}disableNetwork(){return function qm(i){return function Ap(i){return i.asyncQueue.enqueue((0,Se.Z)(function*(){const e=yield Id(i),t=yield Ch(i);return e.setNetworkEnabled(!1),(o=(0,Se.Z)(function*(d){const m=Ft(d);m.du.add(0),yield _h(m),m.mu.set("Offline")}),function(d){return o.apply(this,arguments)})(t);var o}))}(co(i=qr(i,Li)))}(this._delegate)}enablePersistence(e){let t=!1,o=!1;return e&&(t=!!e.synchronizeTabs,o=!!e.experimentalForceOwningTab,Ih("synchronizeTabs",t,"experimentalForceOwningTab",o)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,o)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function W_(i){return function(e){const t=new Ei;return e.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return function iv(i,e){return Xl.apply(this,arguments)}(yield Pm(e),t)})),t.promise}(co(i=qr(i,Li)))}(this._delegate)}onSnapshotsInSync(e){return function gy(i,e){return function Lm(i,e){const t=new Ng(e);return i.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return o=yield Td(i),d=t,Ft(o).Au.add(d),void d.next();var o,d})),()=>{t.yc(),i.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return o=yield Td(i),d=t,void Ft(o).Au.delete(d);var o,d}))}}(co(i=qr(i,Li)),Mp(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new St("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Xu(this,$m(this._delegate,e))}catch(t){throw Wa(t,"collection()","Firestore.collection()")}}doc(e){try{return new xa(this,Og(this._delegate,e))}catch(t){throw Wa(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new ka(this,function pv(i,e){if(i=qr(i,Nf),Ad("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new St(rt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new zo(i,null,(t=e,new ua(Ir.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Wa(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function Y0(i,e,t){i=qr(i,Li);const o=Object.assign(Object.assign({},Hv),t);return function(d){if(d.maxAttempts<1)throw new St(rt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(o),function(d,m,w){const N=new Ei;return d.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){const $=yield function j_(i){return kg(i).then(e=>e.datastore)}(d);new $_(d.asyncQueue,$,w,m,N).run()})),N.promise}(co(i),d=>e(new o_(i,d)),o)}(this._delegate,t=>e(new Ey(this,t)))}batch(){return co(this._delegate),new Iy(new xh(this._delegate,e=>Mh(this._delegate,e)))}loadBundle(e){return function _v(i,e){const t=co(i=qr(i,Li)),o=new Gm;return function Sf(i,e,t,o){const d=function(m,w){let N;return N="string"==typeof m?(new TextEncoder).encode(m):m,$=function($,W){if($ instanceof Uint8Array)return dv($,W);if($ instanceof ArrayBuffer)return dv(new Uint8Array($),W);if($ instanceof ReadableStream)return $.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(N),new hv($,w);var $}(t,kc(e));i.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){!function uv(i,e,t){const o=Ft(i);var d;(d=(0,Se.Z)(function*(m,w,N){try{const $=yield w.getMetadata();if(yield function(Ye,wt){const Kt=Ft(Ye),_n=Pi(wt.createTime);return Kt.persistence.runTransaction("hasNewerBundle","readonly",Pn=>Kt.xs.getBundleMetadata(Pn,wt.id)).then(Pn=>!!Pn&&Pn.createTime.compareTo(_n)>=0)}(m.localStore,$))return yield w.close(),N._completeWith({taskState:"Success",documentsLoaded:(Ye=$).totalDocuments,bytesLoaded:Ye.totalBytes,totalDocuments:Ye.totalDocuments,totalBytes:Ye.totalBytes}),Promise.resolve(new Set);N._updateProgress(Xy($));const W=new Qy($,m.localStore,w.serializer);let re=yield w._c();for(;re;){const Ye=yield W.$u(re);Ye&&N._updateProgress(Ye),re=yield w._c()}const De=yield W.complete();return yield Fc(m,De.Bu,void 0),yield function(Ye,wt){const Kt=Ft(Ye);return Kt.persistence.runTransaction("Save bundle","readwrite",_n=>Kt.xs.saveBundleMetadata(_n,wt))}(m.localStore,$),N._completeWith(De.progress),Promise.resolve(De.Fu)}catch($){return si("SyncEngine",`Loading bundle failed with ${$}`),N._failWith($),Promise.resolve(new Set)}var Ye}),function(m,w,N){return d.apply(this,arguments)})(o,e,t).then(d=>{o.sharedClientState.notifyBundleLoaded(d)})}(yield Pm(i),d,o)}))}(t,i._databaseId,e,o),o}(this._delegate,e)}namedQuery(e){return function Y_(i,e){return function Af(i,e){return i.asyncQueue.enqueue((0,Se.Z)(function*(){return function(t,o){const d=Ft(t);return d.persistence.runTransaction("Get named query","readonly",m=>d.xs.getNamedQuery(m,o))}(yield Om(i),e)}))}(co(i=qr(i,Li)),e).then(t=>t?new zo(i,null,t.query):null)}(this._delegate,e).then(t=>t?new ka(this,t):null)}}class Up extends Gg{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pf(new Ku(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return xa.forKey(t,this.firestore,null)}}class Ey{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Up(e)}get(e){const t=Du(e);return this._delegate.get(t).then(o=>new Od(this._firestore,new Bc(this._firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,t.converter)))}set(e,t,o){const d=Du(e);return o?(Of("Transaction.set",o),this._delegate.set(d,t,o)):this._delegate.set(d,t),this}update(e,t,o,...d){const m=Du(e);return 2===arguments.length?this._delegate.update(m,t):this._delegate.update(m,t,o,...d),this}delete(e){const t=Du(e);return this._delegate.delete(t),this}}class Iy{constructor(e){this._delegate=e}set(e,t,o){const d=Du(e);return o?(Of("WriteBatch.set",o),this._delegate.set(d,t,o)):this._delegate.set(d,t),this}update(e,t,o,...d){const m=Du(e);return 2===arguments.length?this._delegate.update(m,t):this._delegate.update(m,t,o,...d),this}delete(e){const t=Du(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Oh{constructor(e,t,o){this._firestore=e,this._userDataWriter=t,this._delegate=o}fromFirestore(e,t){const o=new Vp(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Ff(this._firestore,o),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const o=Oh.INSTANCES;let d=o.get(e);d||(d=new WeakMap,o.set(e,d));let m=d.get(t);return m||(m=new Oh(e,new Up(e),t),d.set(t,m)),m}}Oh.INSTANCES=new WeakMap;class xa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Up(e)}static forPath(e,t,o){if(e.length%2!=0)throw new St("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new xa(t,new os(t._delegate,o,new Jt(e)))}static forKey(e,t,o){return new xa(t,new os(t._delegate,o,e))}get id(){return this._delegate.id}get parent(){return new Xu(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Xu(this.firestore,$m(this._delegate,e))}catch(t){throw Wa(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Fe.m9)(e))instanceof os&&Hm(this._delegate,e)}set(e,t){t=Of("DocumentReference.set",t);try{return t?hy(this._delegate,e,t):hy(this._delegate,e)}catch(o){throw Wa(o,"setDoc()","DocumentReference.set()")}}update(e,t,...o){try{return 1===arguments.length?fy(this._delegate,e):fy(this._delegate,e,t,...o)}catch(d){throw Wa(d,"updateDoc()","DocumentReference.update()")}}delete(){return function Lv(i){return Mh(qr(i.firestore,Li),[new ca(i._key,Ai.none())])}(this._delegate)}onSnapshot(...e){const t=Ty(e),o=Sy(e,d=>new Od(this.firestore,new Bc(this.firestore._delegate,this._userDataWriter,d._key,d._document,d.metadata,this._delegate.converter)));return py(this._delegate,t,o)}get(e){let t;return t="cache"===e?.source?function kv(i){i=qr(i,os);const e=qr(i.firestore,Li),t=co(e),o=new Rd(e);return function Ma(i,e){const t=new Ei;return i.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return(o=(0,Se.Z)(function*(d,m,w){try{const N=yield function($,W){const re=Ft($);return re.persistence.runTransaction("read document","readonly",De=>re.localDocuments.getDocument(De,W))}(d,m);N.isFoundDocument()?w.resolve(N):N.isNoDocument()?w.resolve(null):w.reject(new St(rt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(N){const $=Ut(N,`Failed to get document '${m} from cache`);w.reject($)}}),function(d,m,w){return o.apply(this,arguments)})(yield Om(i),e,t);var o})),t.promise}(t,i._key).then(d=>new Bc(e,o,i._key,d,new kd(null!==d&&d.hasLocalMutations,!0),i.converter))}(this._delegate):"server"===e?.source?function Rv(i){i=qr(i,os);const e=qr(i.firestore,Li);return Sd(co(e),i._key,{source:"server"}).then(t=>zg(e,i,t))}(this._delegate):function xv(i){i=qr(i,os);const e=qr(i.firestore,Li);return Sd(co(e),i._key).then(t=>zg(e,i,t))}(this._delegate),t.then(o=>new Od(this.firestore,new Bc(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)))}withConverter(e){return new xa(this.firestore,this._delegate.withConverter(e?Oh.getInstance(this.firestore,e):null))}}function Wa(i,e,t){return i.message=i.message.replace(e,t),i}function Ty(i){for(const e of i)if("object"==typeof e&&!Wg(e))return e;return{}}function Sy(i,e){var t,o;let d;return d=Wg(i[0])?i[0]:Wg(i[1])?i[1]:"function"==typeof i[0]?{next:i[0],error:i[1],complete:i[2]}:{next:i[1],error:i[2],complete:i[3]},{next:m=>{d.next&&d.next(e(m))},error:null===(t=d.error)||void 0===t?void 0:t.bind(d),complete:null===(o=d.complete)||void 0===o?void 0:o.bind(d)}}class Od{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new xa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return dy(this._delegate,e._delegate)}}class Ff extends Od{data(e){const t=this._delegate.data(e);return function na(i,e){i||ln()}(void 0!==t),t}}class ka{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Up(e)}where(e,t,o){try{return new ka(this.firestore,Uc(this._delegate,function wu(i,e,t){const o=e,d=Rf("where",i);return fl._create(d,o,t)}(e,t,o)))}catch(d){throw Wa(d,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new ka(this.firestore,Uc(this._delegate,function Cv(i,e="asc"){const t=e,o=Rf("orderBy",i);return t_._create(o,t)}(e,t)))}catch(o){throw Wa(o,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new ka(this.firestore,Uc(this._delegate,function Ev(i){return Vm("limit",i),$g._create("limit",i,"F")}(e)))}catch(t){throw Wa(t,"limit()","Query.limit()")}}limitToLast(e){try{return new ka(this.firestore,Uc(this._delegate,function n_(i){return Vm("limitToLast",i),$g._create("limitToLast",i,"L")}(e)))}catch(t){throw Wa(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new ka(this.firestore,Uc(this._delegate,function Iv(...i){return xd._create("startAt",i,!0)}(...e)))}catch(t){throw Wa(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new ka(this.firestore,Uc(this._delegate,function sy(...i){return xd._create("startAfter",i,!1)}(...e)))}catch(t){throw Wa(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new ka(this.firestore,Uc(this._delegate,function oy(...i){return Hg._create("endBefore",i,!1)}(...e)))}catch(t){throw Wa(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new ka(this.firestore,Uc(this._delegate,function ay(...i){return Hg._create("endAt",i,!0)}(...e)))}catch(t){throw Wa(t,"endAt()","Query.endAt()")}}isEqual(e){return jm(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function Pv(i){i=qr(i,zo);const e=qr(i.firestore,Li),t=co(e),o=new Rd(e);return function Rg(i,e){const t=new Ei;return i.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return(o=(0,Se.Z)(function*(d,m,w){try{const N=yield ag(d,m,!0),$=new R_(m,N.Wi),W=$.zu(N.documents),re=$.applyChanges(W,!1);w.resolve(re.snapshot)}catch(N){const $=Ut(N,`Failed to execute query '${m} against cache`);w.reject($)}}),function(d,m,w){return o.apply(this,arguments)})(yield Om(i),e,t);var o})),t.promise}(t,i._query).then(d=>new $c(e,o,i,d))}(this._delegate):"server"===e?.source?function Fv(i){i=qr(i,zo);const e=qr(i.firestore,Li),t=co(e),o=new Rd(e);return kl(t,i._query,{source:"server"}).then(d=>new $c(e,o,i,d))}(this._delegate):function Ov(i){i=qr(i,zo);const e=qr(i.firestore,Li),t=co(e),o=new Rd(e);return Bg(i._query),kl(t,i._query).then(d=>new $c(e,o,i,d))}(this._delegate),t.then(o=>new l_(this.firestore,new $c(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)))}onSnapshot(...e){const t=Ty(e),o=Sy(e,d=>new l_(this.firestore,new $c(this.firestore._delegate,this._userDataWriter,this._delegate,d._snapshot)));return py(this._delegate,t,o)}withConverter(e){return new ka(this.firestore,this._delegate.withConverter(e?Oh.getInstance(this.firestore,e):null))}}class Ay{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Ff(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class l_{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new ka(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Ff(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new Ay(this._firestore,t))}forEach(e,t){this._delegate.forEach(o=>{e.call(t,new Ff(this._firestore,o))})}isEqual(e){return dy(this._delegate,e._delegate)}}class Xu extends ka{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new xa(this.firestore,e):null}doc(e){try{return new xa(this.firestore,void 0===e?Og(this._delegate):Og(this._delegate,e))}catch(t){throw Wa(t,"doc()","CollectionReference.doc()")}}add(e){return function Vv(i,e){const t=qr(i.firestore,Li),o=Og(i),d=Lp(i.converter,e);return Mh(t,[kp(Md(i.firestore),"addDoc",o._key,d,null!==i.converter,{}).toMutation(o._key,Ai.exists(!1))]).then(()=>o)}(this._delegate,e).then(t=>new xa(this.firestore,t))}isEqual(e){return Hm(this._delegate,e._delegate)}withConverter(e){return new Xu(this.firestore,this._delegate.withConverter(e?Oh.getInstance(this.firestore,e):null))}}function Du(i){return qr(i,os)}class u_{constructor(...e){this._delegate=new Ju(...e)}static documentId(){return new u_(vr.keyField().canonicalString())}isEqual(e){return(e=(0,Fe.m9)(e))instanceof Ju&&this._delegate._internalPath.isEqual(e._internalPath)}}class Ph{constructor(e){this._delegate=e}static serverTimestamp(){const e=function wy(){return new Qm("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Ph(e)}static delete(){const e=function by(){return new Fg("deleteField")}();return e._methodName="FieldValue.delete",new Ph(e)}static arrayUnion(...e){const t=function K0(...i){return new ty("arrayUnion",i)}(...e);return t._methodName="FieldValue.arrayUnion",new Ph(t)}static arrayRemove(...e){const t=function er(...i){return new vv("arrayRemove",i)}(...e);return t._methodName="FieldValue.arrayRemove",new Ph(t)}static increment(e){const t=function jv(i){return new xo("increment",i)}(e);return t._methodName="FieldValue.increment",new Ph(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Wv={Firestore:a_,GeoPoint:Ah,Timestamp:Kr,Blob:Pf,Transaction:Ey,WriteBatch:Iy,DocumentReference:xa,DocumentSnapshot:Od,Query:ka,QueryDocumentSnapshot:Ff,QuerySnapshot:l_,CollectionReference:Xu,FieldPath:u_,FieldValue:Ph,setLogLevel:function Cy(i){!function Ci(i){pr.setLogLevel(i)}(i)},CACHE_SIZE_UNLIMITED:-1};!function Ny(i){(function My(i,e){i.INTERNAL.registerComponent(new ct.wA("firestore-compat",t=>{const o=t.getProvider("app-compat").getImmediate(),d=t.getProvider("firestore").getImmediate();return e(o,d)},"PUBLIC").setServiceProps(Object.assign({},Wv)))})(i,(e,t)=>new a_(e,t,new Dy)),i.registerVersion("@firebase/firestore-compat","0.3.6")}(Je.Z);var Hc=B(1205),qv=B(6217),xy=B(9260);function ky(i,e){return function Yv(i,e=K.z){return new x.y(t=>{let o;return null!=e?e.schedule(()=>{o=i.onSnapshot({includeMetadataChanges:!0},t)}):o=i.onSnapshot({includeMetadataChanges:!0},t),()=>{o?.()}})}(i,e)}function Ry(i,e){return ky(i,e).pipe((0,de.U)(t=>({payload:t,type:"query"})))}function c_(i,e){return Ry(i,e).pipe((0,he.O)(void 0),ce(),(0,de.U)(([t,o])=>{const d=o.payload.docChanges(),m=d.map(w=>({type:w.type,payload:w}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(o.payload.metadata)&&o.payload.docs.forEach((w,N)=>{const $=d.find(re=>re.doc.ref.isEqual(w.ref)),W=t?.payload.docs.find(re=>re.ref.isEqual(w.ref));$&&JSON.stringify($.doc.metadata)===JSON.stringify(w.metadata)||!$&&W&&JSON.stringify(W.metadata)===JSON.stringify(w.metadata)||m.push({type:"modified",payload:{oldIndex:N,newIndex:N,type:"modified",doc:w}})}),m}))}function Kv(i,e,t){return c_(i,t).pipe((0,we.R)((o,d)=>function Oy(i,e,t){return e.forEach(o=>{t.indexOf(o.type)>-1&&(i=function Jv(i,e){switch(e.type){case"added":if(!i[e.newIndex]||!i[e.newIndex].doc.ref.isEqual(e.doc.ref))return Lf(i,e.newIndex,0,e);break;case"modified":if(null==i[e.oldIndex]||i[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=i.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return Lf(i,e.newIndex,1,e)}break;case"removed":if(i[e.oldIndex]&&i[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Lf(i,e.oldIndex,1)}return i}(i,o))}),i}(o,d.map(m=>m.payload),e),[]),(0,_t.x)(),(0,de.U)(o=>o.map(d=>({type:d.type,payload:d}))))}function Lf(i,e,t,...o){const d=i.slice();return d.splice(e,t,...o),d}function Py(i){return(!i||0===i.length)&&(i=["added","removed","modified"]),i}class d_{constructor(e,t,o){this.ref=e,this.query=t,this.afs=o}stateChanges(e){let t=c_(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,de.U)(o=>o.filter(d=>e.indexOf(d.type)>-1)))),t.pipe((0,he.O)(void 0),ce(),(0,Ue.h)(([o,d])=>d.length>0||!o),(0,de.U)(([o,d])=>d),Ce.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,we.R)((t,o)=>[...t,...o],[]))}snapshotChanges(e){const t=Py(e);return Kv(this.query,t,this.afs.schedulers.outsideAngular).pipe(Ce.iC)}valueChanges(e={}){return Ry(this.query,this.afs.schedulers.outsideAngular).pipe((0,de.U)(t=>t.payload.docs.map(o=>e.idField?Object.assign(Object.assign({},o.data()),{[e.idField]:o.id}):o.data())),Ce.iC)}get(e){return(0,l.D)(this.query.get(e)).pipe(Ce.iC)}add(e){return this.ref.add(e)}doc(e){return new Vf(this.ref.doc(e),this.afs)}}class Vf{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const o=this.ref.collection(e),{ref:d,query:m}=h_(o,t);return new d_(d,m,this.afs)}snapshotChanges(){return function X0(i,e){return ky(i,e).pipe((0,he.O)(void 0),ce(),(0,de.U)(([t,o])=>o.exists?t?.exists?{payload:o,type:"modified"}:{payload:o,type:"added"}:{payload:o,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Ce.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,de.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,l.D)(this.ref.get(e)).pipe(Ce.iC)}}class Qv{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?c_(this.query,this.afs.schedulers.outsideAngular).pipe((0,de.U)(t=>t.filter(o=>e.indexOf(o.type)>-1)),(0,Ue.h)(t=>t.length>0),Ce.iC):c_(this.query,this.afs.schedulers.outsideAngular).pipe(Ce.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,we.R)((t,o)=>[...t,...o],[]))}snapshotChanges(e){const t=Py(e);return Kv(this.query,t,this.afs.schedulers.outsideAngular).pipe(Ce.iC)}valueChanges(e={}){return Ry(this.query,this.afs.schedulers.outsideAngular).pipe((0,de.U)(o=>o.payload.docs.map(d=>e.idField?Object.assign({[e.idField]:d.id},d.data()):d.data())),Ce.iC)}get(e){return(0,l.D)(this.query.get(e)).pipe(Ce.iC)}}const Fy=new v.OlP("angularfire2.enableFirestorePersistence"),Ly=new v.OlP("angularfire2.firestore.persistenceSettings"),Xv=new v.OlP("angularfire2.firestore.settings"),e0=new v.OlP("angularfire2.firestore.use-emulator");function h_(i,e=(t=>t)){return{query:e(i),ref:i}}let Vy=(()=>{class i{constructor(t,o,d,m,w,N,$,W,re,De,Ye,wt,Kt,_n,Pn,Xr,vs){this.schedulers=$;const Vr=(0,Be.on)(t,N,o),Zo=re;De&&(0,Hc.nw)(Vr,N,Ye,Kt,_n,Pn,wt,Xr),[this.firestore,this.persistenceEnabled$]=(0,Be.cc)(`${Vr.name}.firestore`,"AngularFirestore",Vr.name,()=>{const Ji=N.runOutsideAngular(()=>Vr.firestore());if(m&&Ji.settings(m),Zo&&Ji.useEmulator(...Zo),d&&!(0,Ot.PM)(w)){const as=()=>{try{return(0,l.D)(Ji.enablePersistence(W||void 0).then(()=>!0,()=>!1))}catch(qa){return typeof console<"u"&&console.warn(qa),(0,Ee.of)(!1)}};return[Ji,N.runOutsideAngular(as)]}return[Ji,(0,Ee.of)(!1)]},[m,Zo,d])}collection(t,o){let d;d="string"==typeof t?this.firestore.collection(t):t;const{ref:m,query:w}=h_(d,o),N=this.schedulers.ngZone.run(()=>m);return new d_(N,w,this)}collectionGroup(t,o){const d=o||(w=>w),m=this.firestore.collectionGroup(t);return new Qv(d(m),this)}doc(t){let o;o="string"==typeof t?this.firestore.doc(t):t;const d=this.schedulers.ngZone.run(()=>o);return new Vf(d,this)}createId(){return this.firestore.collection("_").doc().id}}return i.\u0275fac=function(t){return new(t||i)(v.LFG(Be.Dh),v.LFG(Be.xv,8),v.LFG(Fy,8),v.LFG(Xv,8),v.LFG(v.Lbi),v.LFG(v.R0b),v.LFG(Ce.HU),v.LFG(Ly,8),v.LFG(e0,8),v.LFG(Hc.zQ,8),v.LFG(Hc.Qv,8),v.LFG(Hc.L6,8),v.LFG(Hc._Q,8),v.LFG(Hc.rT,8),v.LFG(Hc.lh,8),v.LFG(Hc.f7,8),v.LFG(qv.nm,8))},i.\u0275prov=v.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})(),t0=(()=>{class i{constructor(){xy.Z.registerVersion("angularfire",Ce.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:i,providers:[{provide:Fy,useValue:!0},{provide:Ly,useValue:t}]}}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=v.oAB({type:i}),i.\u0275inj=v.cJS({providers:[Vy]}),i})()},2011:(tn,ze,B)=>{B.d(ze,{Dh:()=>Ie,GT:()=>Ce,cc:()=>Ue,hO:()=>_t,on:()=>ce,pX:()=>Ee,xv:()=>Pe});var v=B(4650),K=B(9260),x=B(2122);tn=B.hmd(tn);const l=["ngOnDestroy"],Ee=(Je,Se,Wt,ct={})=>new Proxy(Je,{get:($e,Fe)=>Wt.runOutsideAngular(()=>{var Pt;if(Je[Fe])return!(null===(Pt=ct?.spy)||void 0===Pt)&&Pt.get&&ct.spy.get(Fe,Je[Fe]),Je[Fe];if(l.indexOf(Fe)>-1)return()=>{};const Dt=Se.toPromise().then(se=>{const et=se&&se[Fe];return"function"==typeof et?et.bind(se):et&&et.then?et.then(tt=>Wt.run(()=>tt)):Wt.run(()=>et)});return new Proxy(()=>{},{get:(se,et)=>Dt[et],apply:(se,et,tt)=>Dt.then(Rt=>{var xt;const vt=Rt&&Rt(...tt);return!(null===(xt=ct?.spy)||void 0===xt)&&xt.apply&&ct.spy.apply(Fe,tt,vt),vt})})})}),Ce=(Je,Se)=>{Se.forEach(Wt=>{Object.getOwnPropertyNames(Wt.prototype||Wt).forEach(ct=>{Object.defineProperty(Je.prototype,ct,Object.getOwnPropertyDescriptor(Wt.prototype||Wt,ct))})})};class he{constructor(Se){return Se}}const Ie=new v.OlP("angularfire2.app.options"),Pe=new v.OlP("angularfire2.app.name");function ce(Je,Se,Wt){const $e="object"==typeof Wt&&Wt||{};$e.name=$e.name||"string"==typeof Wt&&Wt||"[DEFAULT]";const Pt=K.Z.apps.filter(Dt=>Dt&&Dt.name===$e.name)[0]||Se.runOutsideAngular(()=>K.Z.initializeApp(Je,$e));try{JSON.stringify(Je)!==JSON.stringify(Pt.options)&&de("error",`${Pt.name} Firebase App already initialized with different options${tn.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new he(Pt)}const de=(Je,...Se)=>{(0,v.X6Q)()&&typeof console<"u"&&console[Je](...Se)},we={provide:he,useFactory:ce,deps:[Ie,v.R0b,[new v.FiY,Pe]]};let _t=(()=>{class Je{constructor(Wt){K.Z.registerVersion("angularfire",x.q4.full,"core"),K.Z.registerVersion("angularfire",x.q4.full,"app-compat"),K.Z.registerVersion("angular",v.q4F.full,Wt.toString())}static initializeApp(Wt,ct){return{ngModule:Je,providers:[{provide:Ie,useValue:Wt},{provide:Pe,useValue:ct}]}}}return Je.\u0275fac=function(Wt){return new(Wt||Je)(v.LFG(v.Lbi))},Je.\u0275mod=v.oAB({type:Je}),Je.\u0275inj=v.cJS({providers:[we]}),Je})();function Ue(Je,Se,Wt,ct,$e){const[,Fe,Pt]=globalThis.\u0275AngularfireInstanceCache.find(Dt=>Dt[0]===Je)||[];if(Fe)return function Be(Je,Se){try{return Je.toString()===Se.toString()}catch{return Je===Se}}($e,Pt)||(Ke("error",`${Se} was already initialized on the ${Wt} Firebase App with different settings.${Ot?" You may need to reload as Firebase is not HMR aware.":""}`),Ke("warn",{is:$e,was:Pt})),Fe;{const Dt=ct();return globalThis.\u0275AngularfireInstanceCache.push([Je,Dt,$e]),Dt}}const Ot=!!tn.hot,Ke=(Je,...Se)=>{(0,v.X6Q)()&&typeof console<"u"&&console[Je](...Se)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2122:(tn,ze,B)=>{B.d(ze,{q4:()=>ye,iC:()=>pi,fc:()=>Ha,HU:()=>su,vb:()=>bl,JM:()=>$a});var v=B(4650),K=B(259),x=B(5861),l=B(9681),Ee=B(2090),Ce=B(4859),he=B(1877),Ie=B(8766);const Pe="@firebase/installations",we="w:0.6.4",_t="FIS_v2",Se=new Ee.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Wt(F){return F instanceof Ee.ZR&&F.code.includes("request-failed")}function ct({projectId:F}){return`https://firebaseinstallations.googleapis.com/v1/projects/${F}/installations`}function $e(F){return{token:F.token,requestStatus:2,expiresIn:Rt(F.expiresIn),creationTime:Date.now()}}function Fe(F,H){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,x.Z)(function*(F,H){const _e=(yield H.json()).error;return Se.create("request-failed",{requestName:F,serverCode:_e.code,serverMessage:_e.message,serverStatus:_e.status})})).apply(this,arguments)}function Dt({apiKey:F}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":F})}function se(F,{refreshToken:H}){const Y=Dt(F);return Y.append("Authorization",function xt(F){return`${_t} ${F}`}(H)),Y}function et(F){return tt.apply(this,arguments)}function tt(){return(tt=(0,x.Z)(function*(F){const H=yield F();return H.status>=500&&H.status<600?F():H})).apply(this,arguments)}function Rt(F){return Number(F.replace("s","000"))}function vt(F,H){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,x.Z)(function*({appConfig:F,heartbeatServiceProvider:H},{fid:Y}){const _e=ct(F),ke=Dt(F),Le=H.getImmediate({optional:!0});if(Le){const Bn=yield Le.getHeartbeatsHeader();Bn&&ke.append("x-firebase-client",Bn)}const gn={method:"POST",headers:ke,body:JSON.stringify({fid:Y,authVersion:_t,appId:F.appId,sdkVersion:we})},bn=yield et(()=>fetch(_e,gn));if(bn.ok){const Bn=yield bn.json();return{fid:Bn.fid||Y,registrationStatus:2,refreshToken:Bn.refreshToken,authToken:$e(Bn.authToken)}}throw yield Fe("Create Installation",bn)})).apply(this,arguments)}function lt(F){return new Promise(H=>{setTimeout(H,F)})}const dt=/^[cdef][\w-]{21}$/;function We(){try{const F=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(F),F[0]=112+F[0]%16;const Y=function Xt(F){return function Qe(F){return btoa(String.fromCharCode(...F)).replace(/\+/g,"-").replace(/\//g,"_")}(F).substr(0,22)}(F);return dt.test(Y)?Y:""}catch{return""}}function qt(F){return`${F.appName}!${F.appId}`}const pn=new Map;function Lt(F,H){const Y=qt(F);hn(Y,H),function zn(F,H){const Y=function hr(){return!Wn&&"BroadcastChannel"in self&&(Wn=new BroadcastChannel("[Firebase] FID Change"),Wn.onmessage=F=>{hn(F.data.key,F.data.fid)}),Wn}();Y&&Y.postMessage({key:F,fid:H}),function ar(){0===pn.size&&Wn&&(Wn.close(),Wn=null)}()}(Y,H)}function hn(F,H){const Y=pn.get(F);if(Y)for(const _e of Y)_e(H)}let Wn=null;const qn="firebase-installations-store";let _r=null;function yr(){return _r||(_r=(0,Ie.X3)("firebase-installations-database",1,{upgrade:(F,H)=>{0===H&&F.createObjectStore(qn)}})),_r}function Tt(F,H){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,x.Z)(function*(F,H){const Y=qt(F),ke=(yield yr()).transaction(qn,"readwrite"),Le=ke.objectStore(qn),Bt=yield Le.get(Y);return yield Le.put(H,Y),yield ke.done,(!Bt||Bt.fid!==H.fid)&&Lt(F,H.fid),H})).apply(this,arguments)}function Zn(F){return He.apply(this,arguments)}function He(){return(He=(0,x.Z)(function*(F){const H=qt(F),_e=(yield yr()).transaction(qn,"readwrite");yield _e.objectStore(qn).delete(H),yield _e.done})).apply(this,arguments)}function un(F,H){return q.apply(this,arguments)}function q(){return(q=(0,x.Z)(function*(F,H){const Y=qt(F),ke=(yield yr()).transaction(qn,"readwrite"),Le=ke.objectStore(qn),Bt=yield Le.get(Y),gn=H(Bt);return void 0===gn?yield Le.delete(Y):yield Le.put(gn,Y),yield ke.done,gn&&(!Bt||Bt.fid!==gn.fid)&&Lt(F,gn.fid),gn})).apply(this,arguments)}function oe(F){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,x.Z)(function*(F){let H;const Y=yield un(F.appConfig,_e=>{const ke=Ct(_e),Le=Mt(F,ke);return H=Le.registrationPromise,Le.installationEntry});return""===Y.fid?{installationEntry:yield H}:{installationEntry:Y,registrationPromise:H}})).apply(this,arguments)}function Ct(F){return fn(F||{fid:We(),registrationStatus:0})}function Mt(F,H){if(0===H.registrationStatus){if(!navigator.onLine)return{installationEntry:H,registrationPromise:Promise.reject(Se.create("app-offline"))};const Y={fid:H.fid,registrationStatus:1,registrationTime:Date.now()},_e=function Nt(F,H){return ht.apply(this,arguments)}(F,Y);return{installationEntry:Y,registrationPromise:_e}}return 1===H.registrationStatus?{installationEntry:H,registrationPromise:jt(F)}:{installationEntry:H}}function ht(){return(ht=(0,x.Z)(function*(F,H){try{const Y=yield vt(F,H);return Tt(F.appConfig,Y)}catch(Y){throw Wt(Y)&&409===Y.customData.serverCode?yield Zn(F.appConfig):yield Tt(F.appConfig,{fid:H.fid,registrationStatus:0}),Y}})).apply(this,arguments)}function jt(F){return wn.apply(this,arguments)}function wn(){return(wn=(0,x.Z)(function*(F){let H=yield cn(F.appConfig);for(;1===H.registrationStatus;)yield lt(100),H=yield cn(F.appConfig);if(0===H.registrationStatus){const{installationEntry:Y,registrationPromise:_e}=yield oe(F);return _e||Y}return H})).apply(this,arguments)}function cn(F){return un(F,H=>{if(!H)throw Se.create("installation-not-found");return fn(H)})}function fn(F){return function ir(F){return 1===F.registrationStatus&&F.registrationTime+1e4<Date.now()}(F)?{fid:F.fid,registrationStatus:0}:F}function En(F,H){return zr.apply(this,arguments)}function zr(){return(zr=(0,x.Z)(function*({appConfig:F,heartbeatServiceProvider:H},Y){const _e=Kn(F,Y),ke=se(F,Y),Le=H.getImmediate({optional:!0});if(Le){const Bn=yield Le.getHeartbeatsHeader();Bn&&ke.append("x-firebase-client",Bn)}const gn={method:"POST",headers:ke,body:JSON.stringify({installation:{sdkVersion:we,appId:F.appId}})},bn=yield et(()=>fetch(_e,gn));if(bn.ok)return $e(yield bn.json());throw yield Fe("Generate Auth Token",bn)})).apply(this,arguments)}function Kn(F,{fid:H}){return`${ct(F)}/${H}/authTokens:generate`}function Nr(F){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,x.Z)(function*(F,H=!1){let Y;const _e=yield un(F.appConfig,Le=>{if(!In(Le))throw Se.create("not-registered");const Bt=Le.authToken;if(!H&&Dr(Bt))return Le;if(1===Bt.requestStatus)return Y=rn(F,H),Le;{if(!navigator.onLine)throw Se.create("app-offline");const gn=fe(Le);return Y=an(F,gn),gn}});return Y?yield Y:_e.authToken})).apply(this,arguments)}function rn(F,H){return nt.apply(this,arguments)}function nt(){return(nt=(0,x.Z)(function*(F,H){let Y=yield kt(F.appConfig);for(;1===Y.authToken.requestStatus;)yield lt(100),Y=yield kt(F.appConfig);const _e=Y.authToken;return 0===_e.requestStatus?Nr(F,H):_e})).apply(this,arguments)}function kt(F){return un(F,H=>{if(!In(H))throw Se.create("not-registered");return function Te(F){return 1===F.requestStatus&&F.requestTime+1e4<Date.now()}(H.authToken)?Object.assign(Object.assign({},H),{authToken:{requestStatus:0}}):H})}function an(F,H){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,x.Z)(function*(F,H){try{const Y=yield En(F,H),_e=Object.assign(Object.assign({},H),{authToken:Y});return yield Tt(F.appConfig,_e),Y}catch(Y){if(!Wt(Y)||401!==Y.customData.serverCode&&404!==Y.customData.serverCode){const _e=Object.assign(Object.assign({},H),{authToken:{requestStatus:0}});yield Tt(F.appConfig,_e)}else yield Zn(F.appConfig);throw Y}})).apply(this,arguments)}function In(F){return void 0!==F&&2===F.registrationStatus}function Dr(F){return 2===F.requestStatus&&!function ve(F){const H=Date.now();return H<F.creationTime||F.creationTime+F.expiresIn<H+36e5}(F)}function fe(F){const H={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},F),{authToken:H})}function je(){return(je=(0,x.Z)(function*(F){const H=F,{installationEntry:Y,registrationPromise:_e}=yield oe(H);return _e?_e.catch(console.error):Nr(H).catch(console.error),Y.fid})).apply(this,arguments)}function mn(){return(mn=(0,x.Z)(function*(F,H=!1){const Y=F;return yield Hn(Y),(yield Nr(Y,H)).token})).apply(this,arguments)}function Hn(F){return fr.apply(this,arguments)}function fr(){return(fr=(0,x.Z)(function*(F){const{registrationPromise:H}=yield oe(F);H&&(yield H)})).apply(this,arguments)}function Ur(F){return Se.create("missing-app-config-values",{valueName:F})}const Vi="installations",wr=F=>{const H=F.getProvider("app").getImmediate(),Y=function Ln(F){if(!F||!F.options)throw Ur("App Configuration");if(!F.name)throw Ur("App Name");const H=["projectId","apiKey","appId"];for(const Y of H)if(!F.options[Y])throw Ur(Y);return{appName:F.name,projectId:F.options.projectId,apiKey:F.options.apiKey,appId:F.options.appId}}(H);return{app:H,appConfig:Y,heartbeatServiceProvider:(0,l._getProvider)(H,"heartbeat"),_delete:()=>Promise.resolve()}},bi=F=>{const H=F.getProvider("app").getImmediate(),Y=(0,l._getProvider)(H,Vi).getImmediate();return{getId:()=>function st(F){return je.apply(this,arguments)}(Y),getToken:ke=>function Yt(F){return mn.apply(this,arguments)}(Y,ke)}};(function Qi(){(0,l._registerComponent)(new Ce.wA(Vi,wr,"PUBLIC")),(0,l._registerComponent)(new Ce.wA("installations-internal",bi,"PRIVATE"))})(),(0,l.registerVersion)(Pe,"0.6.4"),(0,l.registerVersion)(Pe,"0.6.4","esm2017");const Ni="@firebase/remote-config",ei=new Ee.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class xi{constructor(H,Y,_e,ke){this.client=H,this.storage=Y,this.storageCache=_e,this.logger=ke}isCachedDataFresh(H,Y){if(!Y)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const _e=Date.now()-Y,ke=_e<=H;return this.logger.debug(`Config fetch cache check. Cache age millis: ${_e}. Cache max age millis (minimumFetchIntervalMillis setting): ${H}. Is cache hit: ${ke}.`),ke}fetch(H){var Y=this;return(0,x.Z)(function*(){const[_e,ke]=yield Promise.all([Y.storage.getLastSuccessfulFetchTimestampMillis(),Y.storage.getLastSuccessfulFetchResponse()]);if(ke&&Y.isCachedDataFresh(H.cacheMaxAgeMillis,_e))return ke;H.eTag=ke&&ke.eTag;const Le=yield Y.client.fetch(H),Bt=[Y.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Le.status&&Bt.push(Y.storage.setLastSuccessfulFetchResponse(Le)),yield Promise.all(Bt),Le})()}}function hi(F=navigator){return F.languages&&F.languages[0]||F.language}class ma{constructor(H,Y,_e,ke,Le,Bt){this.firebaseInstallations=H,this.sdkVersion=Y,this.namespace=_e,this.projectId=ke,this.apiKey=Le,this.appId=Bt}fetch(H){var Y=this;return(0,x.Z)(function*(){const[_e,ke]=yield Promise.all([Y.firebaseInstallations.getId(),Y.firebaseInstallations.getToken()]),Bt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${Y.projectId}/namespaces/${Y.namespace}:fetch?key=${Y.apiKey}`,gn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":H.eTag||"*"},bn={sdk_version:Y.sdkVersion,app_instance_id:_e,app_instance_id_token:ke,app_id:Y.appId,language_code:hi()},Bn={method:"POST",headers:gn,body:JSON.stringify(bn)},gr=fetch(Bt,Bn),Dn=new Promise((No,Ho)=>{H.signal.addEventListener(()=>{const sc=new Error("The operation was aborted.");sc.name="AbortError",Ho(sc)})});let oo;try{yield Promise.race([gr,Dn]),oo=yield gr}catch(No){let Ho="fetch-client-network";throw"AbortError"===No?.name&&(Ho="fetch-timeout"),ei.create(Ho,{originalErrorMessage:No?.message})}let yi=oo.status;const ui=oo.headers.get("ETag")||void 0;let vo,$o;if(200===oo.status){let No;try{No=yield oo.json()}catch(Ho){throw ei.create("fetch-client-parse",{originalErrorMessage:Ho?.message})}vo=No.entries,$o=No.state}if("INSTANCE_STATE_UNSPECIFIED"===$o?yi=500:"NO_CHANGE"===$o?yi=304:("NO_TEMPLATE"===$o||"EMPTY_CONFIG"===$o)&&(vo={}),304!==yi&&200!==yi)throw ei.create("fetch-status",{httpStatus:yi});return{status:yi,eTag:ui,config:vo}})()}}class xe{constructor(H,Y){this.client=H,this.storage=Y}fetch(H){var Y=this;return(0,x.Z)(function*(){const _e=(yield Y.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return Y.attemptFetch(H,_e)})()}attemptFetch(H,{throttleEndTimeMillis:Y,backoffCount:_e}){var ke=this;return(0,x.Z)(function*(){yield function Rr(F,H){return new Promise((Y,_e)=>{const ke=Math.max(H-Date.now(),0),Le=setTimeout(Y,ke);F.addEventListener(()=>{clearTimeout(Le),_e(ei.create("fetch-throttle",{throttleEndTimeMillis:H}))})})}(H.signal,Y);try{const Le=yield ke.client.fetch(H);return yield ke.storage.deleteThrottleMetadata(),Le}catch(Le){if(!function Re(F){if(!(F instanceof Ee.ZR&&F.customData))return!1;const H=Number(F.customData.httpStatus);return 429===H||500===H||503===H||504===H}(Le))throw Le;const Bt={throttleEndTimeMillis:Date.now()+(0,Ee.$s)(_e),backoffCount:_e+1};return yield ke.storage.setThrottleMetadata(Bt),ke.attemptFetch(H,Bt)}})()}}class Zt{constructor(H,Y,_e,ke,Le){this.app=H,this._client=Y,this._storageCache=_e,this._storage=ke,this._logger=Le,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Tn(F,H){const Y=F.target.error||void 0;return ei.create(H,{originalErrorMessage:Y&&Y?.message})}const kn="app_namespace_store";class ho{constructor(H,Y,_e,ke=function Ti(){return new Promise((F,H)=>{try{const Y=indexedDB.open("firebase_remote_config",1);Y.onerror=_e=>{H(Tn(_e,"storage-open"))},Y.onsuccess=_e=>{F(_e.target.result)},Y.onupgradeneeded=_e=>{0===_e.oldVersion&&_e.target.result.createObjectStore(kn,{keyPath:"compositeKey"})}}catch(Y){H(ei.create("storage-open",{originalErrorMessage:Y?.message}))}})}()){this.appId=H,this.appName=Y,this.namespace=_e,this.openDbPromise=ke}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(H){return this.set("last_fetch_status",H)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(H){return this.set("last_successful_fetch_timestamp_millis",H)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(H){return this.set("last_successful_fetch_response",H)}getActiveConfig(){return this.get("active_config")}setActiveConfig(H){return this.set("active_config",H)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(H){return this.set("active_config_etag",H)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(H){return this.set("throttle_metadata",H)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(H){var Y=this;return(0,x.Z)(function*(){const _e=yield Y.openDbPromise;return new Promise((ke,Le)=>{const gn=_e.transaction([kn],"readonly").objectStore(kn),bn=Y.createCompositeKey(H);try{const Bn=gn.get(bn);Bn.onerror=gr=>{Le(Tn(gr,"storage-get"))},Bn.onsuccess=gr=>{const Dn=gr.target.result;ke(Dn?Dn.value:void 0)}}catch(Bn){Le(ei.create("storage-get",{originalErrorMessage:Bn?.message}))}})})()}set(H,Y){var _e=this;return(0,x.Z)(function*(){const ke=yield _e.openDbPromise;return new Promise((Le,Bt)=>{const bn=ke.transaction([kn],"readwrite").objectStore(kn),Bn=_e.createCompositeKey(H);try{const gr=bn.put({compositeKey:Bn,value:Y});gr.onerror=Dn=>{Bt(Tn(Dn,"storage-set"))},gr.onsuccess=()=>{Le()}}catch(gr){Bt(ei.create("storage-set",{originalErrorMessage:gr?.message}))}})})()}delete(H){var Y=this;return(0,x.Z)(function*(){const _e=yield Y.openDbPromise;return new Promise((ke,Le)=>{const gn=_e.transaction([kn],"readwrite").objectStore(kn),bn=Y.createCompositeKey(H);try{const Bn=gn.delete(bn);Bn.onerror=gr=>{Le(Tn(gr,"storage-delete"))},Bn.onsuccess=()=>{ke()}}catch(Bn){Le(ei.create("storage-delete",{originalErrorMessage:Bn?.message}))}})})()}createCompositeKey(H){return[this.appId,this.appName,this.namespace,H].join()}}class Bi{constructor(H){this.storage=H}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var H=this;return(0,x.Z)(function*(){const Y=H.storage.getLastFetchStatus(),_e=H.storage.getLastSuccessfulFetchTimestampMillis(),ke=H.storage.getActiveConfig(),Le=yield Y;Le&&(H.lastFetchStatus=Le);const Bt=yield _e;Bt&&(H.lastSuccessfulFetchTimestampMillis=Bt);const gn=yield ke;gn&&(H.activeConfig=gn)})()}setLastFetchStatus(H){return this.lastFetchStatus=H,this.storage.setLastFetchStatus(H)}setLastSuccessfulFetchTimestampMillis(H){return this.lastSuccessfulFetchTimestampMillis=H,this.storage.setLastSuccessfulFetchTimestampMillis(H)}setActiveConfig(H){return this.activeConfig=H,this.storage.setActiveConfig(H)}}function Qs(){return qo.apply(this,arguments)}function qo(){return(qo=(0,x.Z)(function*(){if(!(0,Ee.hl)())return!1;try{return yield(0,Ee.eu)()}catch{return!1}})).apply(this,arguments)}!function $i(){(0,l._registerComponent)(new Ce.wA("remote-config",function F(H,{instanceIdentifier:Y}){const _e=H.getProvider("app").getImmediate(),ke=H.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw ei.create("registration-window");if(!(0,Ee.hl)())throw ei.create("indexed-db-unavailable");const{projectId:Le,apiKey:Bt,appId:gn}=_e.options;if(!Le)throw ei.create("registration-project-id");if(!Bt)throw ei.create("registration-api-key");if(!gn)throw ei.create("registration-app-id");const bn=new ho(gn,_e.name,Y=Y||"firebase"),Bn=new Bi(bn),gr=new he.Yd(Ni);gr.logLevel=he.in.ERROR;const Dn=new ma(ke,l.SDK_VERSION,Y,Le,Bt,gn),oo=new xe(Dn,bn),yi=new xi(oo,bn,Bn,gr),ui=new Zt(_e,yi,Bn,bn,gr);return function xr(F){const H=(0,Ee.m9)(F);H._initializePromise||(H._initializePromise=H._storageCache.loadFromStorage().then(()=>{H._isInitializationComplete=!0}))}(ui),ui},"PUBLIC").setMultipleInstances(!0)),(0,l.registerVersion)(Ni,"0.4.4"),(0,l.registerVersion)(Ni,"0.4.4","esm2017")}();const Hi="/firebase-messaging-sw.js",ji="/firebase-cloud-messaging-push-scope",bs="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ro="google.c.a.c_id",hs="google.c.a.c_l",Xs="google.c.a.ts",Co="google.c.a.e";var Ns=(()=>{return(F=Ns||(Ns={})).PUSH_RECEIVED="push-received",F.NOTIFICATION_CLICKED="notification-clicked",Ns;var F})();function es(F){const H=new Uint8Array(F);return btoa(String.fromCharCode(...H)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ki(F){const Y=(F+"=".repeat((4-F.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),_e=atob(Y),ke=new Uint8Array(_e.length);for(let Le=0;Le<_e.length;++Le)ke[Le]=_e.charCodeAt(Le);return ke}const xs="fcm_token_details_db",$r="fcm_token_object_Store";function ts(F){return Eo.apply(this,arguments)}function Eo(){return Eo=(0,x.Z)(function*(F){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Le=>Le.name).includes(xs))return null;let H=null;return(yield(0,Ie.X3)(xs,5,{upgrade:(_e=(0,x.Z)(function*(ke,Le,Bt,gn){var bn;if(Le<2||!ke.objectStoreNames.contains($r))return;const Bn=gn.objectStore($r),gr=yield Bn.index("fcmSenderId").get(F);if(yield Bn.clear(),gr)if(2===Le){const Dn=gr;if(!Dn.auth||!Dn.p256dh||!Dn.endpoint)return;H={token:Dn.fcmToken,createTime:null!==(bn=Dn.createTime)&&void 0!==bn?bn:Date.now(),subscriptionOptions:{auth:Dn.auth,p256dh:Dn.p256dh,endpoint:Dn.endpoint,swScope:Dn.swScope,vapidKey:"string"==typeof Dn.vapidKey?Dn.vapidKey:es(Dn.vapidKey)}}}else if(3===Le){const Dn=gr;H={token:Dn.fcmToken,createTime:Dn.createTime,subscriptionOptions:{auth:es(Dn.auth),p256dh:es(Dn.p256dh),endpoint:Dn.endpoint,swScope:Dn.swScope,vapidKey:es(Dn.vapidKey)}}}else if(4===Le){const Dn=gr;H={token:Dn.fcmToken,createTime:Dn.createTime,subscriptionOptions:{auth:es(Dn.auth),p256dh:es(Dn.p256dh),endpoint:Dn.endpoint,swScope:Dn.swScope,vapidKey:es(Dn.vapidKey)}}}}),function(Le,Bt,gn,bn){return _e.apply(this,arguments)})})).close(),yield(0,Ie.Lj)(xs),yield(0,Ie.Lj)("fcm_vapid_details_db"),yield(0,Ie.Lj)("undefined"),ni(H)?H:null;var _e}),Eo.apply(this,arguments)}function ni(F){if(!F||!F.subscriptionOptions)return!1;const{subscriptionOptions:H}=F;return"number"==typeof F.createTime&&F.createTime>0&&"string"==typeof F.token&&F.token.length>0&&"string"==typeof H.auth&&H.auth.length>0&&"string"==typeof H.p256dh&&H.p256dh.length>0&&"string"==typeof H.endpoint&&H.endpoint.length>0&&"string"==typeof H.swScope&&H.swScope.length>0&&"string"==typeof H.vapidKey&&H.vapidKey.length>0}const Si="firebase-messaging-store";let gi=null;function fs(){return gi||(gi=(0,Ie.X3)("firebase-messaging-database",1,{upgrade:(F,H)=>{0===H&&F.createObjectStore(Si)}})),gi}function Yo(F){return js.apply(this,arguments)}function js(){return(js=(0,x.Z)(function*(F){const H=Di(F),_e=yield(yield fs()).transaction(Si).objectStore(Si).get(H);if(_e)return _e;{const ke=yield ts(F.appConfig.senderId);if(ke)return yield ri(F,ke),ke}})).apply(this,arguments)}function ri(F,H){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,x.Z)(function*(F,H){const Y=Di(F),ke=(yield fs()).transaction(Si,"readwrite");return yield ke.objectStore(Si).put(H,Y),yield ke.done,H})).apply(this,arguments)}function Fo(F){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,x.Z)(function*(F){const H=Di(F),_e=(yield fs()).transaction(Si,"readwrite");yield _e.objectStore(Si).delete(H),yield _e.done})).apply(this,arguments)}function Di({appConfig:F}){return F.appId}const Qr=new Ee.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function xn(F,H){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,x.Z)(function*(F,H){const Y=yield to(F),_e=Et(H),ke={method:"POST",headers:Y,body:JSON.stringify(_e)};let Le;try{Le=yield(yield fetch(zi(F.appConfig),ke)).json()}catch(Bt){throw Qr.create("token-subscribe-failed",{errorInfo:Bt?.toString()})}if(Le.error)throw Qr.create("token-subscribe-failed",{errorInfo:Le.error.message});if(!Le.token)throw Qr.create("token-subscribe-no-token");return Le.token})).apply(this,arguments)}function fo(F,H){return Io.apply(this,arguments)}function Io(){return(Io=(0,x.Z)(function*(F,H){const Y=yield to(F),_e=Et(H.subscriptionOptions),ke={method:"PATCH",headers:Y,body:JSON.stringify(_e)};let Le;try{Le=yield(yield fetch(`${zi(F.appConfig)}/${H.token}`,ke)).json()}catch(Bt){throw Qr.create("token-update-failed",{errorInfo:Bt?.toString()})}if(Le.error)throw Qr.create("token-update-failed",{errorInfo:Le.error.message});if(!Le.token)throw Qr.create("token-update-no-token");return Le.token})).apply(this,arguments)}function eo(F,H){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,x.Z)(function*(F,H){const _e={method:"DELETE",headers:yield to(F)};try{const Le=yield(yield fetch(`${zi(F.appConfig)}/${H}`,_e)).json();if(Le.error)throw Qr.create("token-unsubscribe-failed",{errorInfo:Le.error.message})}catch(ke){throw Qr.create("token-unsubscribe-failed",{errorInfo:ke?.toString()})}})).apply(this,arguments)}function zi({projectId:F}){return`https://fcmregistrations.googleapis.com/v1/projects/${F}/registrations`}function to(F){return no.apply(this,arguments)}function no(){return(no=(0,x.Z)(function*({appConfig:F,installations:H}){const Y=yield H.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":F.apiKey,"x-goog-firebase-installations-auth":`FIS ${Y}`})})).apply(this,arguments)}function Et({p256dh:F,auth:H,endpoint:Y,vapidKey:_e}){const ke={web:{endpoint:Y,auth:H,p256dh:F}};return _e!==bs&&(ke.web.applicationPubKey=_e),ke}const nr=6048e5;function ro(F){return ps.apply(this,arguments)}function ps(){return(ps=(0,x.Z)(function*(F){const H=yield Ya(F.swRegistration,F.vapidKey),Y={vapidKey:F.vapidKey,swScope:F.swRegistration.scope,endpoint:H.endpoint,auth:es(H.getKey("auth")),p256dh:es(H.getKey("p256dh"))},_e=yield Yo(F.firebaseDependencies);if(_e){if(j(_e.subscriptionOptions,Y))return Date.now()>=_e.createTime+nr?Ra(F,{token:_e.token,createTime:Date.now(),subscriptionOptions:Y}):_e.token;try{yield eo(F.firebaseDependencies,_e.token)}catch(ke){console.warn(ke)}return po(F.firebaseDependencies,Y)}return po(F.firebaseDependencies,Y)})).apply(this,arguments)}function ii(F){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,x.Z)(function*(F){const H=yield Yo(F.firebaseDependencies);H&&(yield eo(F.firebaseDependencies,H.token),yield Fo(F.firebaseDependencies));const Y=yield F.swRegistration.pushManager.getSubscription();return!Y||Y.unsubscribe()})).apply(this,arguments)}function Ra(F,H){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,x.Z)(function*(F,H){try{const Y=yield fo(F.firebaseDependencies,H),_e=Object.assign(Object.assign({},H),{token:Y,createTime:Date.now()});return yield ri(F.firebaseDependencies,_e),Y}catch(Y){throw yield ii(F),Y}})).apply(this,arguments)}function po(F,H){return ws.apply(this,arguments)}function ws(){return(ws=(0,x.Z)(function*(F,H){const _e={token:yield xn(F,H),createTime:Date.now(),subscriptionOptions:H};return yield ri(F,_e),_e.token})).apply(this,arguments)}function Ya(F,H){return jr.apply(this,arguments)}function jr(){return(jr=(0,x.Z)(function*(F,H){return(yield F.pushManager.getSubscription())||F.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ki(H)})})).apply(this,arguments)}function j(F,H){return H.vapidKey===F.vapidKey&&H.endpoint===F.endpoint&&H.auth===F.auth&&H.p256dh===F.p256dh}function V(F){const H={from:F.from,collapseKey:F.collapse_key,messageId:F.fcmMessageId};return function O(F,H){if(!H.notification)return;F.notification={};const Y=H.notification.title;Y&&(F.notification.title=Y);const _e=H.notification.body;_e&&(F.notification.body=_e);const ke=H.notification.image;ke&&(F.notification.image=ke);const Le=H.notification.icon;Le&&(F.notification.icon=Le)}(H,F),function ee(F,H){!H.data||(F.data=H.data)}(H,F),function qe(F,H){var Y,_e,ke,Le,Bt;if(!(H.fcmOptions||null!==(Y=H.notification)&&void 0!==Y&&Y.click_action))return;F.fcmOptions={};const gn=null!==(ke=null===(_e=H.fcmOptions)||void 0===_e?void 0:_e.link)&&void 0!==ke?ke:null===(Le=H.notification)||void 0===Le?void 0:Le.click_action;gn&&(F.fcmOptions.link=gn);const bn=null===(Bt=H.fcmOptions)||void 0===Bt?void 0:Bt.analytics_label;bn&&(F.fcmOptions.analyticsLabel=bn)}(H,F),H}function dn(F){return"object"==typeof F&&!!F&&Ro in F}function sr(F,H){const Y=[];for(let _e=0;_e<F.length;_e++)Y.push(F.charAt(_e)),_e<H.length&&Y.push(H.charAt(_e));return Y.join("")}function Gs(F){return Qr.create("missing-app-config-values",{valueName:F})}sr("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),sr("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class go{constructor(H,Y,_e){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ke=function ks(F){if(!F||!F.options)throw Gs("App Configuration Object");if(!F.name)throw Gs("App Name");const H=["projectId","apiKey","appId","messagingSenderId"],{options:Y}=F;for(const _e of H)if(!Y[_e])throw Gs(_e);return{appName:F.name,projectId:Y.projectId,apiKey:Y.apiKey,appId:Y.appId,senderId:Y.messagingSenderId}}(H);this.firebaseDependencies={app:H,appConfig:ke,installations:Y,analyticsProvider:_e}}_delete(){return Promise.resolve()}}function li(F){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,x.Z)(function*(F){try{F.swRegistration=yield navigator.serviceWorker.register(Hi,{scope:ji}),F.swRegistration.update().catch(()=>{})}catch(H){throw Qr.create("failed-service-worker-registration",{browserErrorMessage:H?.message})}})).apply(this,arguments)}function mo(F,H){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,x.Z)(function*(F,H){if(!H&&!F.swRegistration&&(yield li(F)),H||!F.swRegistration){if(!(H instanceof ServiceWorkerRegistration))throw Qr.create("invalid-sw-registration");F.swRegistration=H}})).apply(this,arguments)}function ns(F,H){return _a.apply(this,arguments)}function _a(){return(_a=(0,x.Z)(function*(F,H){H?F.vapidKey=H:F.vapidKey||(F.vapidKey=bs)})).apply(this,arguments)}function Os(){return(Os=(0,x.Z)(function*(F,H){if(!navigator)throw Qr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Qr.create("permission-blocked");return yield ns(F,H?.vapidKey),yield mo(F,H?.serviceWorkerRegistration),ro(F)})).apply(this,arguments)}function ea(F,H,Y){return ta.apply(this,arguments)}function ta(){return(ta=(0,x.Z)(function*(F,H,Y){const _e=ya(H);(yield F.firebaseDependencies.analyticsProvider.get()).logEvent(_e,{message_id:Y[Ro],message_name:Y[hs],message_time:Y[Xs],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ya(F){switch(F){case Ns.NOTIFICATION_CLICKED:return"notification_open";case Ns.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function To(){return(To=(0,x.Z)(function*(F,H){const Y=H.data;if(!Y.isFirebaseMessaging)return;F.onMessageHandler&&Y.messageType===Ns.PUSH_RECEIVED&&("function"==typeof F.onMessageHandler?F.onMessageHandler(V(Y)):F.onMessageHandler.next(V(Y)));const _e=Y.data;dn(_e)&&"1"===_e[Co]&&(yield ea(F,Y.messageType,_e))})).apply(this,arguments)}const Pa="@firebase/messaging",mi=F=>{const H=new go(F.getProvider("app").getImmediate(),F.getProvider("installations-internal").getImmediate(),F.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",Y=>function Ds(F,H){return To.apply(this,arguments)}(H,Y)),H},gs=F=>{const H=F.getProvider("messaging").getImmediate();return{getToken:_e=>function Oa(F,H){return Os.apply(this,arguments)}(H,_e)}};function Vo(){return So.apply(this,arguments)}function So(){return(So=(0,x.Z)(function*(){try{yield(0,Ee.eu)()}catch{return!1}return typeof window<"u"&&(0,Ee.hl)()&&(0,Ee.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Or(){(0,l._registerComponent)(new Ce.wA("messaging",mi,"PUBLIC")),(0,l._registerComponent)(new Ce.wA("messaging-internal",gs,"PRIVATE")),(0,l.registerVersion)(Pa,"0.12.4"),(0,l.registerVersion)(Pa,"0.12.4","esm2017")}();const Ua="analytics",Cu="firebase_id",Fl="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ao="https://www.googletagmanager.com/gtag/js",Zr=new he.Yd("@firebase/analytics"),Ps=new Ee.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function k(F){if(!F.startsWith(Ao)){const H=Ps.create("invalid-gtag-resource",{gtagURL:F});return Zr.warn(H.message),""}return F}function Z(F){return Promise.all(F.map(H=>H.catch(Y=>Y)))}function X(F,H){const Y=function L(F,H){let Y;return window.trustedTypes&&(Y=window.trustedTypes.createPolicy(F,H)),Y}("firebase-js-sdk-policy",{createScriptURL:k}),_e=document.createElement("script"),ke=`${Ao}?l=${F}&id=${H}`;_e.src=Y?Y?.createScriptURL(ke):ke,_e.async=!0,document.head.appendChild(_e)}function ot(F,H,Y,_e,ke,Le){return bt.apply(this,arguments)}function bt(){return(bt=(0,x.Z)(function*(F,H,Y,_e,ke,Le){const Bt=_e[ke];try{if(Bt)yield H[Bt];else{const bn=(yield Z(Y)).find(Bn=>Bn.measurementId===ke);bn&&(yield H[bn.appId])}}catch(gn){Zr.error(gn)}F("config",ke,Le)})).apply(this,arguments)}function vn(F,H,Y,_e,ke){return On.apply(this,arguments)}function On(){return(On=(0,x.Z)(function*(F,H,Y,_e,ke){try{let Le=[];if(ke&&ke.send_to){let Bt=ke.send_to;Array.isArray(Bt)||(Bt=[Bt]);const gn=yield Z(Y);for(const bn of Bt){const Bn=gn.find(Dn=>Dn.measurementId===bn),gr=Bn&&H[Bn.appId];if(!gr){Le=[];break}Le.push(gr)}}0===Le.length&&(Le=Object.values(H)),yield Promise.all(Le),F("event",_e,ke||{})}catch(Le){Zr.error(Le)}})).apply(this,arguments)}function Jn(F){const H=window.document.getElementsByTagName("script");for(const Y of Object.values(H))if(Y.src&&Y.src.includes(Ao)&&Y.src.includes(F))return Y;return null}const si=new class Er{constructor(H={},Y=1e3){this.throttleMetadata=H,this.intervalMillis=Y}getThrottleMetadata(H){return this.throttleMetadata[H]}setThrottleMetadata(H,Y){this.throttleMetadata[H]=Y}deleteThrottleMetadata(H){delete this.throttleMetadata[H]}};function zs(F){return new Headers({Accept:"application/json","x-goog-api-key":F})}function ln(F){return en.apply(this,arguments)}function en(){return(en=(0,x.Z)(function*(F){var H;const{appId:Y,apiKey:_e}=F,ke={method:"GET",headers:zs(_e)},Le=Fl.replace("{app-id}",Y),Bt=yield fetch(Le,ke);if(200!==Bt.status&&304!==Bt.status){let gn="";try{const bn=yield Bt.json();null!==(H=bn.error)&&void 0!==H&&H.message&&(gn=bn.error.message)}catch{}throw Ps.create("config-fetch-failed",{httpStatus:Bt.status,responseMessage:gn})}return Bt.json()})).apply(this,arguments)}function na(F){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,x.Z)(function*(F,H=si,Y){const{appId:_e,apiKey:ke,measurementId:Le}=F.options;if(!_e)throw Ps.create("no-app-id");if(!ke){if(Le)return{measurementId:Le,appId:_e};throw Ps.create("no-api-key")}const Bt=H.getThrottleMetadata(_e)||{backoffCount:0,throttleEndTimeMillis:Date.now()},gn=new tc;return setTimeout((0,x.Z)(function*(){gn.abort()}),void 0!==Y?Y:6e4),rt({appId:_e,apiKey:ke,measurementId:Le},Bt,gn,H)})).apply(this,arguments)}function rt(F,H,Y){return St.apply(this,arguments)}function St(){return(St=(0,x.Z)(function*(F,{throttleEndTimeMillis:H,backoffCount:Y},_e,ke=si){var Le;const{appId:Bt,measurementId:gn}=F;try{yield Ei(_e,H)}catch(bn){if(gn)return Zr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${gn} provided in the "measurementId" field in the local Firebase config. [${bn?.message}]`),{appId:Bt,measurementId:gn};throw bn}try{const bn=yield ln(F);return ke.deleteThrottleMetadata(Bt),bn}catch(bn){const Bn=bn;if(!Bo(Bn)){if(ke.deleteThrottleMetadata(Bt),gn)return Zr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${gn} provided in the "measurementId" field in the local Firebase config. [${Bn?.message}]`),{appId:Bt,measurementId:gn};throw bn}const gr=503===Number(null===(Le=Bn?.customData)||void 0===Le?void 0:Le.httpStatus)?(0,Ee.$s)(Y,ke.intervalMillis,30):(0,Ee.$s)(Y,ke.intervalMillis),Dn={throttleEndTimeMillis:Date.now()+gr,backoffCount:Y+1};return ke.setThrottleMetadata(Bt,Dn),Zr.debug(`Calling attemptFetch again in ${gr} millis`),rt(F,Dn,_e,ke)}})).apply(this,arguments)}function Ei(F,H){return new Promise((Y,_e)=>{const ke=Math.max(H-Date.now(),0),Le=setTimeout(Y,ke);F.addEventListener(()=>{clearTimeout(Le),_e(Ps.create("fetch-throttle",{throttleEndTimeMillis:H}))})})}function Bo(F){if(!(F instanceof Ee.ZR&&F.customData))return!1;const H=Number(F.customData.httpStatus);return 429===H||500===H||503===H||504===H}class tc{constructor(){this.listeners=[]}addEventListener(H){this.listeners.push(H)}abort(){this.listeners.forEach(H=>H())}}let Vl,tu;function ml(){return(ml=(0,x.Z)(function*(F,H,Y,_e,ke){if(ke&&ke.global)F("event",Y,_e);else{const Le=yield H;F("event",Y,Object.assign(Object.assign({},_e),{send_to:Le}))}})).apply(this,arguments)}function Kr(F){tu=F}function Nn(F){Vl=F}function sa(){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,x.Z)(function*(){if(!(0,Ee.hl)())return Zr.warn(Ps.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Ee.eu)()}catch(F){return Zr.warn(Ps.create("indexeddb-unavailable",{errorInfo:F?.toString()}).message),!1}return!0})).apply(this,arguments)}function vr(){return(vr=(0,x.Z)(function*(F,H,Y,_e,ke,Le,Bt){var gn;const bn=na(F);bn.then(yi=>{Y[yi.measurementId]=yi.appId,F.options.measurementId&&yi.measurementId!==F.options.measurementId&&Zr.warn(`The measurement ID in the local Firebase config (${F.options.measurementId}) does not match the measurement ID fetched from the server (${yi.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(yi=>Zr.error(yi)),H.push(bn);const Bn=sa().then(yi=>{if(yi)return _e.getId()}),[gr,Dn]=yield Promise.all([bn,Bn]);Jn(Le)||X(Le,gr.measurementId),tu&&(ke("consent","default",tu),Kr(void 0)),ke("js",new Date);const oo=null!==(gn=Bt?.config)&&void 0!==gn?gn:{};return oo.origin="firebase",oo.update=!0,null!=Dn&&(oo[Cu]=Dn),ke("config",gr.measurementId,oo),Vl&&(ke("set",Vl),Nn(void 0)),gr.measurementId})).apply(this,arguments)}class Jt{constructor(H){this.app=H}_delete(){return delete ms[this.app.options.appId],Promise.resolve()}}let ms={},Ja=[];const Ls={};let Ul,cr,_o="dataLayer",Bl=!1;function ru(F,H,Y){!function Vs(){const F=[];if((0,Ee.ru)()&&F.push("This is a browser extension environment."),(0,Ee.zI)()||F.push("Cookies are not available."),F.length>0){const H=F.map((_e,ke)=>`(${ke+1}) ${_e}`).join(" "),Y=Ps.create("invalid-analytics-context",{errorInfo:H});Zr.warn(Y.message)}}();const _e=F.options.appId;if(!_e)throw Ps.create("no-app-id");if(!F.options.apiKey){if(!F.options.measurementId)throw Ps.create("no-api-key");Zr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${F.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ms[_e])throw Ps.create("already-exists",{id:_e});if(!Bl){!function be(F){let H=[];Array.isArray(window[F])?H=window[F]:window[F]=H}(_o);const{wrappedGtag:Le,gtagCore:Bt}=function pr(F,H,Y,_e,ke){let Le=function(...Bt){window[_e].push(arguments)};return window[ke]&&"function"==typeof window[ke]&&(Le=window[ke]),window[ke]=function Yn(F,H,Y,_e){function Le(){return(Le=(0,x.Z)(function*(Bt,gn,bn){try{"event"===Bt?yield vn(F,H,Y,gn,bn):"config"===Bt?yield ot(F,H,Y,_e,gn,bn):"consent"===Bt?F("consent","update",bn):F("set",gn)}catch(Bn){Zr.error(Bn)}})).apply(this,arguments)}return function ke(Bt,gn,bn){return Le.apply(this,arguments)}}(Le,F,H,Y),{gtagCore:Le,wrappedGtag:window[ke]}}(ms,Ja,Ls,_o,"gtag");cr=Le,Ul=Bt,Bl=!0}return ms[_e]=function yl(F,H,Y,_e,ke,Le,Bt){return vr.apply(this,arguments)}(F,Ja,Ls,H,Ul,_o,Y),new Jt(F)}function oa(){return yo.apply(this,arguments)}function yo(){return(yo=(0,x.Z)(function*(){if((0,Ee.ru)()||!(0,Ee.zI)()||!(0,Ee.hl)())return!1;try{return yield(0,Ee.eu)()}catch{return!1}})).apply(this,arguments)}const Ri="@firebase/analytics";!function $l(){(0,l._registerComponent)(new Ce.wA(Ua,(H,{options:Y})=>ru(H.getProvider("app").getImmediate(),H.getProvider("installations-internal").getImmediate(),Y),"PUBLIC")),(0,l._registerComponent)(new Ce.wA("analytics-internal",function F(H){try{const Y=H.getProvider(Ua).getImmediate();return{logEvent:(_e,ke,Le)=>function fi(F,H,Y,_e){F=(0,Ee.m9)(F),function eu(F,H,Y,_e,ke){return ml.apply(this,arguments)}(cr,ms[F.app.options.appId],H,Y,_e).catch(ke=>Zr.error(ke))}(Y,_e,ke,Le)}}catch(Y){throw Ps.create("interop-component-reg-failed",{reason:Y})}},"PRIVATE")),(0,l.registerVersion)(Ri,"0.9.5"),(0,l.registerVersion)(Ri,"0.9.5","esm2017")}();var va=B(4408),Es=B(7565);const A=new class T extends Es.v{}(class vl extends va.o{constructor(H,Y){super(H,Y),this.scheduler=H,this.work=Y}schedule(H,Y=0){return Y>0?super.schedule(H,Y):(this.delay=Y,this.state=H,this.scheduler.flush(this),this)}execute(H,Y){return Y>0||this.closed?super.execute(H,Y):this._execute(H,Y)}requestAsyncId(H,Y,_e=0){return null!=_e&&_e>0||null==_e&&this.delay>0?super.requestAsyncId(H,Y,_e):(H.flush(this),0)}});var R=B(4986),U=B(8505),Q=B(5363),le=B(9468);const ye=new v.GfV("7.5.0"),ft="__angularfire_symbol__analyticsIsSupportedValue",nn="__angularfire_symbol__analyticsIsSupported",or="__angularfire_symbol__remoteConfigIsSupportedValue",Qt="__angularfire_symbol__remoteConfigIsSupported",Qn="__angularfire_symbol__messagingIsSupportedValue",Yi="__angularfire_symbol__messagingIsSupported";function $a(F,H,Y){if(H){if(1===H.length)return H[0];const Le=H.filter(Bt=>Bt.app===Y);if(1===Le.length)return Le[0]}return Y.container.getProvider(F).getImmediate({optional:!0})}globalThis[nn]||(globalThis[nn]=oa().then(F=>globalThis[ft]=F).catch(()=>globalThis[ft]=!1)),globalThis[Yi]||(globalThis[Yi]=Vo().then(F=>globalThis[Qn]=F).catch(()=>globalThis[Qn]=!1)),globalThis[Qt]||(globalThis[Qt]=Qs().then(F=>globalThis[or]=F).catch(()=>globalThis[or]=!1));const bl=(F,H)=>{const Y=H?[H]:(0,K.C6)(),_e=[];return Y.forEach(ke=>{ke.container.getProvider(F).instances.forEach(Bt=>{_e.includes(Bt)||_e.push(Bt)})}),_e};function ba(){}class wl{constructor(H,Y=A){this.zone=H,this.delegate=Y}now(){return this.delegate.now()}schedule(H,Y,_e){const ke=this.zone;return this.delegate.schedule(function(Bt){ke.runGuarded(()=>{H.apply(this,[Bt])})},Y,_e)}}class Ld{constructor(H){this.zone=H,this.task=null}call(H,Y){const _e=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ba,{},ba,ba)),Y.pipe((0,U.b)({next:_e,complete:_e,error:_e})).subscribe(H).add(_e)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let su=(()=>{class F{constructor(Y){this.ngZone=Y,this.outsideAngular=Y.runOutsideAngular(()=>new wl(Zone.current)),this.insideAngular=Y.run(()=>new wl(Zone.current,R.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return F.\u0275fac=function(Y){return new(Y||F)(v.LFG(v.R0b))},F.\u0275prov=v.Yz7({token:F,factory:F.\u0275fac,providedIn:"root"}),F})();function Dl(){const F=globalThis.\u0275AngularFireScheduler;if(!F)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return F}function Ha(F){return F.pipe((0,Q.Q)(Dl().outsideAngular))}function pi(F){return Dl(),function Hl(F){return function(Y){return(Y=Y.lift(new Ld(F.ngZone))).pipe((0,le.R)(F.outsideAngular),(0,Q.Q)(F.insideAngular))}}(Dl())(F)}},2090:(tn,ze,B)=>{B.d(ze,{$s:()=>an,BH:()=>Fe,G6:()=>dt,L:()=>Pe,LL:()=>Lt,Pz:()=>$e,Sg:()=>Pt,UG:()=>et,US:()=>Ce,ZB:()=>we,ZR:()=>pn,aH:()=>ct,b$:()=>xt,eu:()=>We,hl:()=>pt,jU:()=>tt,m9:()=>Dr,ne:()=>Ct,pd:()=>oe,r3:()=>qn,ru:()=>Rt,tV:()=>ce,uI:()=>se,vZ:()=>Fn,w1:()=>Ze,xO:()=>un,xb:()=>yr,z$:()=>Dt,zI:()=>Xt,zd:()=>q});const l=function(ve){const fe=[];let Te=0;for(let st=0;st<ve.length;st++){let je=ve.charCodeAt(st);je<128?fe[Te++]=je:je<2048?(fe[Te++]=je>>6|192,fe[Te++]=63&je|128):55296==(64512&je)&&st+1<ve.length&&56320==(64512&ve.charCodeAt(st+1))?(je=65536+((1023&je)<<10)+(1023&ve.charCodeAt(++st)),fe[Te++]=je>>18|240,fe[Te++]=je>>12&63|128,fe[Te++]=je>>6&63|128,fe[Te++]=63&je|128):(fe[Te++]=je>>12|224,fe[Te++]=je>>6&63|128,fe[Te++]=63&je|128)}return fe},Ce={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ve,fe){if(!Array.isArray(ve))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Te=fe?this.byteToCharMapWebSafe_:this.byteToCharMap_,st=[];for(let je=0;je<ve.length;je+=3){const Yt=ve[je],mn=je+1<ve.length,Hn=mn?ve[je+1]:0,fr=je+2<ve.length,me=fr?ve[je+2]:0;let Ae=(15&Hn)<<2|me>>6,at=63&me;fr||(at=64,mn||(Ae=64)),st.push(Te[Yt>>2],Te[(3&Yt)<<4|Hn>>4],Te[Ae],Te[at])}return st.join("")},encodeString(ve,fe){return this.HAS_NATIVE_SUPPORT&&!fe?btoa(ve):this.encodeByteArray(l(ve),fe)},decodeString(ve,fe){return this.HAS_NATIVE_SUPPORT&&!fe?atob(ve):function(ve){const fe=[];let Te=0,st=0;for(;Te<ve.length;){const je=ve[Te++];if(je<128)fe[st++]=String.fromCharCode(je);else if(je>191&&je<224){const Yt=ve[Te++];fe[st++]=String.fromCharCode((31&je)<<6|63&Yt)}else if(je>239&&je<365){const fr=((7&je)<<18|(63&ve[Te++])<<12|(63&ve[Te++])<<6|63&ve[Te++])-65536;fe[st++]=String.fromCharCode(55296+(fr>>10)),fe[st++]=String.fromCharCode(56320+(1023&fr))}else{const Yt=ve[Te++],mn=ve[Te++];fe[st++]=String.fromCharCode((15&je)<<12|(63&Yt)<<6|63&mn)}}return fe.join("")}(this.decodeStringToByteArray(ve,fe))},decodeStringToByteArray(ve,fe){this.init_();const Te=fe?this.charToByteMapWebSafe_:this.charToByteMap_,st=[];for(let je=0;je<ve.length;){const Yt=Te[ve.charAt(je++)],Hn=je<ve.length?Te[ve.charAt(je)]:0;++je;const me=je<ve.length?Te[ve.charAt(je)]:64;++je;const ie=je<ve.length?Te[ve.charAt(je)]:64;if(++je,null==Yt||null==Hn||null==me||null==ie)throw new he;st.push(Yt<<2|Hn>>4),64!==me&&(st.push(Hn<<4&240|me>>2),64!==ie&&st.push(me<<6&192|ie))}return st},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ve=0;ve<this.ENCODED_VALS.length;ve++)this.byteToCharMap_[ve]=this.ENCODED_VALS.charAt(ve),this.charToByteMap_[this.byteToCharMap_[ve]]=ve,this.byteToCharMapWebSafe_[ve]=this.ENCODED_VALS_WEBSAFE.charAt(ve),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ve]]=ve,ve>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ve)]=ve,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ve)]=ve)}}};class he extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Pe=function(ve){return function(ve){const fe=l(ve);return Ce.encodeByteArray(fe,!0)}(ve).replace(/\./g,"")},ce=function(ve){try{return Ce.decodeString(ve,!0)}catch(fe){console.error("base64Decode failed: ",fe)}return null};function we(ve,fe){if(!(fe instanceof Object))return fe;switch(fe.constructor){case Date:return new Date(fe.getTime());case Object:void 0===ve&&(ve={});break;case Array:ve=[];break;default:return fe}for(const Te in fe)!fe.hasOwnProperty(Te)||!_t(Te)||(ve[Te]=we(ve[Te],fe[Te]));return ve}function _t(ve){return"__proto__"!==ve}const Je=()=>{try{return function Ue(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const ve=process.env.__FIREBASE_DEFAULTS__;return ve?JSON.parse(ve):void 0})()||(()=>{if(typeof document>"u")return;let ve;try{ve=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const fe=ve&&ce(ve[1]);return fe&&JSON.parse(fe)})()}catch(ve){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${ve}`)}},ct=()=>{var ve;return null===(ve=Je())||void 0===ve?void 0:ve.config},$e=ve=>{var fe;return null===(fe=Je())||void 0===fe?void 0:fe[`_${ve}`]};class Fe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((fe,Te)=>{this.resolve=fe,this.reject=Te})}wrapCallback(fe){return(Te,st)=>{Te?this.reject(Te):this.resolve(st),"function"==typeof fe&&(this.promise.catch(()=>{}),1===fe.length?fe(Te):fe(Te,st))}}}function Pt(ve,fe){if(ve.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const st=fe||"demo-project",je=ve.iat||0,Yt=ve.sub||ve.user_id;if(!Yt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const mn=Object.assign({iss:`https://securetoken.google.com/${st}`,aud:st,iat:je,exp:je+3600,auth_time:je,sub:Yt,user_id:Yt,firebase:{sign_in_provider:"custom",identities:{}}},ve);return[Pe(JSON.stringify({alg:"none",type:"JWT"})),Pe(JSON.stringify(mn)),""].join(".")}function Dt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function se(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Dt())}function et(){var ve;const fe=null===(ve=Je())||void 0===ve?void 0:ve.forceEnvironment;if("node"===fe)return!0;if("browser"===fe)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function tt(){return"object"==typeof self&&self.self===self}function Rt(){const ve="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ve&&void 0!==ve.id}function xt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ze(){const ve=Dt();return ve.indexOf("MSIE ")>=0||ve.indexOf("Trident/")>=0}function dt(){return!et()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function pt(){try{return"object"==typeof indexedDB}catch{return!1}}function We(){return new Promise((ve,fe)=>{try{let Te=!0;const st="validate-browser-context-for-indexeddb-analytics-module",je=self.indexedDB.open(st);je.onsuccess=()=>{je.result.close(),Te||self.indexedDB.deleteDatabase(st),ve(!0)},je.onupgradeneeded=()=>{Te=!1},je.onerror=()=>{var Yt;fe((null===(Yt=je.error)||void 0===Yt?void 0:Yt.message)||"")}}catch(Te){fe(Te)}})}function Xt(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class pn extends Error{constructor(fe,Te,st){super(Te),this.code=fe,this.customData=st,this.name="FirebaseError",Object.setPrototypeOf(this,pn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Lt.prototype.create)}}class Lt{constructor(fe,Te,st){this.service=fe,this.serviceName=Te,this.errors=st}create(fe,...Te){const st=Te[0]||{},je=`${this.service}/${fe}`,Yt=this.errors[fe],mn=Yt?function An(ve,fe){return ve.replace(It,(Te,st)=>{const je=fe[st];return null!=je?String(je):`<${st}?>`})}(Yt,st):"Error";return new pn(je,`${this.serviceName}: ${mn} (${je}).`,st)}}const It=/\{\$([^}]+)}/g;function qn(ve,fe){return Object.prototype.hasOwnProperty.call(ve,fe)}function yr(ve){for(const fe in ve)if(Object.prototype.hasOwnProperty.call(ve,fe))return!1;return!0}function Fn(ve,fe){if(ve===fe)return!0;const Te=Object.keys(ve),st=Object.keys(fe);for(const je of Te){if(!st.includes(je))return!1;const Yt=ve[je],mn=fe[je];if(Zn(Yt)&&Zn(mn)){if(!Fn(Yt,mn))return!1}else if(Yt!==mn)return!1}for(const je of st)if(!Te.includes(je))return!1;return!0}function Zn(ve){return null!==ve&&"object"==typeof ve}function un(ve){const fe=[];for(const[Te,st]of Object.entries(ve))Array.isArray(st)?st.forEach(je=>{fe.push(encodeURIComponent(Te)+"="+encodeURIComponent(je))}):fe.push(encodeURIComponent(Te)+"="+encodeURIComponent(st));return fe.length?"&"+fe.join("&"):""}function q(ve){const fe={};return ve.replace(/^\?/,"").split("&").forEach(st=>{if(st){const[je,Yt]=st.split("=");fe[decodeURIComponent(je)]=decodeURIComponent(Yt)}}),fe}function oe(ve){const fe=ve.indexOf("?");if(!fe)return"";const Te=ve.indexOf("#",fe);return ve.substring(fe,Te>0?Te:void 0)}function Ct(ve,fe){const Te=new Mt(ve,fe);return Te.subscribe.bind(Te)}class Mt{constructor(fe,Te){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Te,this.task.then(()=>{fe(this)}).catch(st=>{this.error(st)})}next(fe){this.forEachObserver(Te=>{Te.next(fe)})}error(fe){this.forEachObserver(Te=>{Te.error(fe)}),this.close(fe)}complete(){this.forEachObserver(fe=>{fe.complete()}),this.close()}subscribe(fe,Te,st){let je;if(void 0===fe&&void 0===Te&&void 0===st)throw new Error("Missing Observer.");je=function ht(ve,fe){if("object"!=typeof ve||null===ve)return!1;for(const Te of fe)if(Te in ve&&"function"==typeof ve[Te])return!0;return!1}(fe,["next","error","complete"])?fe:{next:fe,error:Te,complete:st},void 0===je.next&&(je.next=jt),void 0===je.error&&(je.error=jt),void 0===je.complete&&(je.complete=jt);const Yt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?je.error(this.finalError):je.complete()}catch{}}),this.observers.push(je),Yt}unsubscribeOne(fe){void 0===this.observers||void 0===this.observers[fe]||(delete this.observers[fe],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(fe){if(!this.finalized)for(let Te=0;Te<this.observers.length;Te++)this.sendOne(Te,fe)}sendOne(fe,Te){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[fe])try{Te(this.observers[fe])}catch(st){typeof console<"u"&&console.error&&console.error(st)}})}close(fe){this.finalized||(this.finalized=!0,void 0!==fe&&(this.finalError=fe),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function jt(){}function an(ve,fe=1e3,Te=2){const st=fe*Math.pow(Te,ve),je=Math.round(.5*st*(Math.random()-.5)*2);return Math.min(144e5,st+je)}function Dr(ve){return ve&&ve._delegate?ve._delegate:ve}},1519:(tn,ze,B)=>{B.r(ze),B.d(ze,{AccountModule:()=>Zn});var v=B(6895),K=B(433),x=B(4650);B(655);const Ee=new x.OlP("config"),Ce=new x.OlP("NEW_CONFIG"),he=new x.OlP("INITIAL_CONFIG"),Ie={suffix:"",prefix:"",thousandSeparator:" ",decimalMarker:".",clearIfNotMatch:!1,showTemplate:!1,showMaskTyped:!1,placeHolderCharacter:"_",dropSpecialCharacters:!0,hiddenInput:void 0,shownMaskExpression:"",separatorLimit:"",allowNegativeNumbers:!1,validation:!0,specialCharacters:["-","/","(",")",".",":"," ","+",",","@","[","]",'"',"'"],leadZeroDateTime:!1,patterns:{0:{pattern:new RegExp("\\d")},9:{pattern:new RegExp("\\d"),optional:!0},X:{pattern:new RegExp("\\d"),symbol:"*"},A:{pattern:new RegExp("[a-zA-Z0-9]")},S:{pattern:new RegExp("[a-zA-Z]")},d:{pattern:new RegExp("\\d")},m:{pattern:new RegExp("\\d")},M:{pattern:new RegExp("\\d")},H:{pattern:new RegExp("\\d")},h:{pattern:new RegExp("\\d")},s:{pattern:new RegExp("\\d")}}};let de=(()=>{class He{constructor(q){this._config=q,this.maskExpression="",this.actualValue="",this.shownMaskExpression="",this._formatWithSeparators=(oe,Ve,Ct,Mt)=>{const Nt=oe.split(Ct),ht=Nt.length>1?`${Ct}${Nt[1]}`:"";let jt=Nt[0];const wn=this.separatorLimit.replace(/\s/g,"");wn&&+wn&&(jt="-"===jt[0]?`-${jt.slice(1,jt.length).slice(0,wn.length)}`:jt.slice(0,wn.length));const cn=/(\d+)(\d{3})/;for(;Ve&&cn.test(jt);)jt=jt.replace(cn,"$1"+Ve+"$2");return void 0===Mt?jt+ht:0===Mt?jt:jt+ht.substr(0,Mt+1)},this.percentage=oe=>Number(oe)>=0&&Number(oe)<=100,this.getPrecision=oe=>{const Ve=oe.split(".");return Ve.length>1?Number(Ve[Ve.length-1]):1/0},this.checkAndRemoveSuffix=oe=>{var Ve,Ct,Mt;for(let Nt=(null===(Ve=this.suffix)||void 0===Ve?void 0:Ve.length)-1;Nt>=0;Nt--){const ht=this.suffix.substr(Nt,null===(Ct=this.suffix)||void 0===Ct?void 0:Ct.length);if(oe.includes(ht)&&(Nt-1<0||!oe.includes(this.suffix.substr(Nt-1,null===(Mt=this.suffix)||void 0===Mt?void 0:Mt.length))))return oe.replace(ht,"")}return oe},this.checkInputPrecision=(oe,Ve,Ct)=>{if(Ve<1/0){const Mt=new RegExp(this._charToRegExpExpression(Ct)+`\\d{${Ve}}.*$`),Nt=oe.match(Mt);Nt&&Nt[0].length-1>Ve&&(oe=oe.substring(0,oe.length-(Nt[0].length-1-Ve))),0===Ve&&oe.endsWith(Ct)&&(oe=oe.substring(0,oe.length-1))}return oe},this._shift=new Set,this.clearIfNotMatch=this._config.clearIfNotMatch,this.dropSpecialCharacters=this._config.dropSpecialCharacters,this.maskSpecialCharacters=this._config.specialCharacters,this.maskAvailablePatterns=this._config.patterns,this.prefix=this._config.prefix,this.suffix=this._config.suffix,this.thousandSeparator=this._config.thousandSeparator,this.decimalMarker=this._config.decimalMarker,this.hiddenInput=this._config.hiddenInput,this.showMaskTyped=this._config.showMaskTyped,this.placeHolderCharacter=this._config.placeHolderCharacter,this.validation=this._config.validation,this.separatorLimit=this._config.separatorLimit,this.allowNegativeNumbers=this._config.allowNegativeNumbers,this.leadZeroDateTime=this._config.leadZeroDateTime}applyMaskWithPattern(q,oe){const[Ve,Ct]=oe;return this.customPattern=Ct,this.applyMask(q,Ve)}applyMask(q,oe,Ve=0,Ct=!1,Mt=!1,Nt=(()=>{})){if(null==q||void 0===oe)return"";let ht=0,jt="",wn=!1,cn=!1,fn=1,ir=!1;q.slice(0,this.prefix.length)===this.prefix&&(q=q.slice(this.prefix.length,q.length)),this.suffix&&q?.length>0&&(q=this.checkAndRemoveSuffix(q));const En=q.toString().split("");"IP"===oe&&(this.ipError=En.filter(nt=>"."===nt).length<3&&En.length<7,oe="099.099.099.099");const zr=[];for(let nt=0;nt<q.length;nt++)q[nt].match("\\d")&&zr.push(q[nt]);if("CPF_CNPJ"===oe&&(this.cpfCnpjError=11!==zr.length&&14!==zr.length,oe=zr.length>11?"00.000.000/0000-00":"000.000.000-00"),oe.startsWith("percent")){if(q.match("[a-z]|[A-Z]")||q.match(/[-!$%^&*()_+|~=`{}\[\]:";'<>?,\/.]/)){q=this._stripToDecimal(q);const nt=this.getPrecision(oe);q=this.checkInputPrecision(q,nt,this.decimalMarker)}q.indexOf(".")>0&&!this.percentage(q.substring(0,q.indexOf(".")))&&(q=`${q.substring(0,q.indexOf(".")-1)}${q.substring(q.indexOf("."),q.length)}`),jt=this.percentage(q)?q:q.substring(0,q.length-1)}else if(oe.startsWith("separator")){(q.match("[w\u0430-\u044f\u0410-\u042f]")||q.match("[\u0401\u0451\u0410-\u044f]")||q.match("[a-z]|[A-Z]")||q.match(/[-@#!$%\\^&*()_\xa3\xac'+|~=`{}\[\]:";<>.?\/]/)||q.match("[^A-Za-z0-9,]"))&&(q=this._stripToDecimal(q)),q=q.length>1&&"0"===q[0]&&q[1]!==this.decimalMarker&&!Mt?q.slice(1,q.length):q;const nt=this._charToRegExpExpression(this.thousandSeparator),kt=this._charToRegExpExpression(this.decimalMarker),an='@#!$%^&*()_+|~=`{}\\[\\]:\\s,\\.";<>?\\/'.replace(nt,"").replace(kt,""),Sn=new RegExp("["+an+"]");q.match(Sn)&&(q=q.substring(0,q.length-1));const In=this.getPrecision(oe),Dr=(q=this.checkInputPrecision(q,In,this.decimalMarker)).replace(new RegExp(nt,"g"),"");jt=this._formatWithSeparators(Dr,this.thousandSeparator,this.decimalMarker,In);const ve=jt.indexOf(",")-q.indexOf(","),fe=jt.length-q.length;if(fe>0&&","!==jt[Ve]){cn=!0;let Te=0;do{this._shift.add(Ve+Te),Te++}while(Te<fe)}else 0!==ve&&Ve>0&&!(jt.indexOf(",")>=Ve&&Ve>3)||!(jt.indexOf(".")>=Ve&&Ve>3)&&fe<=0?(this._shift.clear(),cn=!0,fn=fe,this._shift.add(Ve+=fe)):this._shift.clear()}else for(let nt=0,kt=En[0];nt<En.length&&ht!==oe.length;nt++,kt=En[nt])if(this._checkSymbolMask(kt,oe[ht])&&"?"===oe[ht+1])jt+=kt,ht+=2;else if("*"===oe[ht+1]&&wn&&this._checkSymbolMask(kt,oe[ht+2]))jt+=kt,ht+=3,wn=!1;else if(this._checkSymbolMask(kt,oe[ht])&&"*"===oe[ht+1])jt+=kt,wn=!0;else if("?"===oe[ht+1]&&this._checkSymbolMask(kt,oe[ht+2]))jt+=kt,ht+=3;else if(this._checkSymbolMask(kt,oe[ht])){if("H"===oe[ht]&&Number(kt)>2){ht+=1,this._shiftStep(oe,ht,En.length),nt--,this.leadZeroDateTime&&(jt+="0");continue}if("h"===oe[ht]&&"2"===jt&&Number(kt)>3){ht+=1,nt--;continue}if("m"===oe[ht]&&Number(kt)>5){ht+=1,this._shiftStep(oe,ht,En.length),nt--,this.leadZeroDateTime&&(jt+="0");continue}if("s"===oe[ht]&&Number(kt)>5){ht+=1,this._shiftStep(oe,ht,En.length),nt--,this.leadZeroDateTime&&(jt+="0");continue}const an=31;if("d"===oe[ht]&&(Number(kt)>3&&this.leadZeroDateTime||Number(q.slice(ht,ht+2))>an||"/"===q[ht+1])){ht+=1,this._shiftStep(oe,ht,En.length),nt--,this.leadZeroDateTime&&(jt+="0");continue}if("M"===oe[ht]){const In=0===ht&&(Number(kt)>2||Number(q.slice(ht,ht+2))>12||"/"===q[ht+1]),Dr=q.slice(ht-3,ht-1).includes("/")&&("/"===q[ht-2]&&Number(q.slice(ht-1,ht+1))>12&&"/"!==q[ht]||"/"===q[ht]||"/"===q[ht-3]&&Number(q.slice(ht-2,ht))>12&&"/"!==q[ht-1]||"/"===q[ht-1]),ve=Number(q.slice(ht-3,ht-1))<=an&&!q.slice(ht-3,ht-1).includes("/")&&"/"===q[ht-1]&&(Number(q.slice(ht,ht+2))>12||"/"===q[ht+1]),fe=Number(q.slice(ht-3,ht-1))>an&&!q.slice(ht-3,ht-1).includes("/")&&!q.slice(ht-2,ht).includes("/")&&Number(q.slice(ht-2,ht))>12,Te=Number(q.slice(ht-3,ht-1))<=an&&!q.slice(ht-3,ht-1).includes("/")&&"/"!==q[ht-1]&&Number(q.slice(ht-1,ht+1))>12;if(Number(kt)>1&&this.leadZeroDateTime||In||Dr||ve||fe||Te){ht+=1,this._shiftStep(oe,ht,En.length),nt--,this.leadZeroDateTime&&(jt+="0");continue}}jt+=kt,ht++}else-1!==this.maskSpecialCharacters.indexOf(oe[ht])?(jt+=oe[ht],ht++,this._shiftStep(oe,ht,En.length),nt--):this.maskSpecialCharacters.indexOf(kt)>-1&&this.maskAvailablePatterns[oe[ht]]&&this.maskAvailablePatterns[oe[ht]].optional?(!!En[ht]&&"099.099.099.099"!==oe&&"000.000.000-00"!==oe&&"00.000.000/0000-00"!==oe&&(jt+=En[ht]),ht++,nt--):"*"===this.maskExpression[ht+1]&&this._findSpecialChar(this.maskExpression[ht+2])&&this._findSpecialChar(kt)===this.maskExpression[ht+2]&&wn||"?"===this.maskExpression[ht+1]&&this._findSpecialChar(this.maskExpression[ht+2])&&this._findSpecialChar(kt)===this.maskExpression[ht+2]&&wn?(ht+=3,jt+=kt):this.showMaskTyped&&this.maskSpecialCharacters.indexOf(kt)<0&&kt!==this.placeHolderCharacter&&(ir=!0);jt.length+1===oe.length&&-1!==this.maskSpecialCharacters.indexOf(oe[oe.length-1])&&(jt+=oe[oe.length-1]);let Kn=Ve+1;for(;this._shift.has(Kn);)fn++,Kn++;let Nr=Ct?ht:this._shift.has(Ve)?fn:0;ir&&Nr--,Nt(Nr,cn),fn<0&&this._shift.clear();let Fr=!1;Mt&&(Fr=En.every(nt=>this.maskSpecialCharacters.includes(nt)));let rn=`${this.prefix}${Fr?"":jt}${this.suffix}`;return 0===jt.length&&(rn=`${this.prefix}${jt}`),rn}_findSpecialChar(q){return this.maskSpecialCharacters.find(oe=>oe===q)}_checkSymbolMask(q,oe){return this.maskAvailablePatterns=this.customPattern?this.customPattern:this.maskAvailablePatterns,this.maskAvailablePatterns[oe]&&this.maskAvailablePatterns[oe].pattern&&this.maskAvailablePatterns[oe].pattern.test(q)}_stripToDecimal(q){return q.split("").filter((oe,Ve)=>oe.match("^-?\\d")||oe.match("\\s")||"."===oe||","===oe||"-"===oe&&0===Ve&&this.allowNegativeNumbers).join("")}_charToRegExpExpression(q){return q&&(" "===q?"\\s":"[\\^$.|?*+()".indexOf(q)>=0?"\\"+q:q)}_shiftStep(q,oe,Ve){const Ct=/[*?]/g.test(q.slice(0,oe))?Ve:oe;this._shift.add(Ct+this.prefix.length||0)}}return He.\u0275fac=function(q){return new(q||He)(x.LFG(Ee))},He.\u0275prov=x.Yz7({token:He,factory:He.\u0275fac}),He})(),Be=(()=>{class He{static forRoot(q){return{ngModule:He,providers:[{provide:Ce,useValue:q},{provide:he,useValue:Ie},{provide:Ee,useFactory:Ot,deps:[he,Ce]},de]}}static forChild(){return{ngModule:He}}}return He.\u0275fac=function(q){return new(q||He)},He.\u0275mod=x.oAB({type:He}),He.\u0275inj=x.cJS({}),He})();function Ot(He,un){return Object.assign(Object.assign({},He),un instanceof Function?un():un)}const Ke=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};Ke.KeyboardEvent||(Ke.KeyboardEvent=function(He,un){});let Je=(()=>{class He{}return He.\u0275fac=function(q){return new(q||He)},He.\u0275mod=x.oAB({type:He}),He.\u0275inj=x.cJS({imports:[v.ez,K.UX,Be.forRoot()]}),He})();var Se=B(4629),Wt=B(5861),ct=B(1205);function $e(He,un){if(1&He&&(x.TgZ(0,"div",27),x._uU(1),x.qZA()),2&He){const q=x.oxw();x.Gre("alert alert-",q.alertColor,""),x.xp6(1),x.hij(" ",q.alertMsg," ")}}function Fe(He,un){1&He&&(x.TgZ(0,"div"),x._uU(1,"Email is required"),x.qZA())}function Pt(He,un){1&He&&(x.TgZ(0,"div"),x._uU(1,"Email is invalid"),x.qZA())}function Dt(He,un){if(1&He&&(x.TgZ(0,"div",28),x.YNc(1,Fe,2,0,"div",29),x.YNc(2,Pt,2,0,"div",29),x.qZA()),2&He){const q=x.oxw();x.xp6(1),x.Q6J("ngIf",q.f.email.errors.required),x.xp6(1),x.Q6J("ngIf",q.f.email.errors.email)}}function se(He,un){1&He&&x._UZ(0,"i",30)}function et(He,un){1&He&&x._UZ(0,"i",31)}function tt(He,un){1&He&&(x.TgZ(0,"div"),x._uU(1,"Password is required"),x.qZA())}function Rt(He,un){1&He&&(x.TgZ(0,"span"),x._uU(1,"Password must be at least 8 characters."),x.qZA())}function xt(He,un){1&He&&(x.TgZ(0,"span"),x._uU(1," Password must contain alphabetics,numbers and special characters !"),x.qZA())}function vt(He,un){if(1&He&&(x.TgZ(0,"div",28),x.YNc(1,tt,2,0,"div",29),x.YNc(2,Rt,2,0,"span",29),x.YNc(3,xt,2,0,"span",29),x.qZA()),2&He){const q=x.oxw();x.xp6(1),x.Q6J("ngIf",q.f.password.errors.required),x.xp6(1),x.Q6J("ngIf",q.f.password.errors.minlength),x.xp6(1),x.Q6J("ngIf",q.f.password.errors.pattern)}}const Ze=function(He){return{"is-invalid":He}};let lt=(()=>{class He{constructor(q,oe,Ve){this.auth=q,this.formBuilder=oe,this.router=Ve,this.showpassword=!1,this.credentials={email:"",password:""},this.email=new K.NI("",[K.kI.required,K.kI.email]),this.password=new K.NI("",[K.kI.required,K.kI.required,K.kI.minLength(8),K.kI.pattern(/^(?=.*[a-zA-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]+$/)]),this.loginForm=new K.cw({email:this.email,password:this.password}),this.showAlert=!1,this.alertMsg="Please wait! We are logging you in.",this.alertColor="primary",this.inSubmission=!1,this.year=(new Date).getFullYear()}ngOnInit(){}get f(){return this.loginForm.controls}login(){var q=this;return(0,Wt.Z)(function*(){if(q.inSubmission=!0,!q.loginForm.invalid){q.showAlert=!0,q.alertMsg="Please wait! We are logging you in.",q.alertColor="primary";try{yield q.auth.signInWithEmailAndPassword(q.loginForm.value.email,q.loginForm.value.password)}catch{return q.alertMsg="An unexpected error occurred. Please try again later",q.alertColor="danger ",void(q.inSubmission=!1)}q.alertMsg="Success! You are now logged in.",q.alertColor="success ",q.router.navigate(["/email-signature"])}})()}}return He.\u0275fac=function(q){return new(q||He)(x.Y36(ct.zQ),x.Y36(K.qu),x.Y36(Se.F0))},He.\u0275cmp=x.Xpm({type:He,selectors:[["app-login"]],decls:40,vars:14,consts:[[1,"account-pages","mt-5","mb-5"],[1,"container"],[1,"row","justify-content-center"],[1,"col-md-8","col-lg-6","col-xl-5"],[1,"card","overflow-hidden"],[1,"bg-soft-primary","mb-4"],[1,"row"],[1,"col-12","text-center","login-header"],[1,"p-5"],[1,""],[1,"card-body","pt-3"],[1,"p-2"],[1,"form-horizontal",3,"formGroup","ngSubmit"],["role","alert",3,"class",4,"ngIf"],[1,"form-group","mb-3"],["for","email"],["type","email","formControlName","email","id","email","placeholder","Email",1,"form-control","mt-2",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","password"],[1,"input-group","auth-pass-inputgroup"],["formControlName","password","id","password","placeholder","Enter password",1,"form-control",3,"type","ngClass"],["type","button",1,"btn","btn-light",3,"click"],["class","fas fa fa-eye-slash",4,"ngIf"],["class","fas fa fa-eye",4,"ngIf"],[1,"mt-4","text-center"],["type","submit",1,"btn","btn-block"],["routerLink","/account/register",1,"fw-medium"],["role","alert"],[1,"invalid-feedback"],[4,"ngIf"],[1,"fas","fa","fa-eye-slash"],[1,"fas","fa","fa-eye"]],template:function(q,oe){1&q&&(x.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"h5",9),x._uU(10,"Welcome Back !"),x.qZA()()()()(),x.TgZ(11,"div",10),x._UZ(12,"div"),x.TgZ(13,"div",11)(14,"form",12),x.NdJ("ngSubmit",function(){return oe.login()}),x.YNc(15,$e,2,4,"div",13),x.TgZ(16,"div",14)(17,"label",15),x._uU(18,"Email"),x.qZA(),x._UZ(19,"input",16),x.YNc(20,Dt,3,2,"div",17),x.qZA(),x.TgZ(21,"div",14)(22,"label",18),x._uU(23,"Password"),x.qZA(),x.TgZ(24,"div",19),x._UZ(25,"input",20),x.TgZ(26,"button",21),x.NdJ("click",function(){return oe.showpassword=!oe.showpassword}),x.YNc(27,se,1,0,"i",22),x.YNc(28,et,1,0,"i",23),x.qZA(),x.YNc(29,vt,4,3,"div",17),x.qZA()(),x.TgZ(30,"div",24)(31,"button",25),x._uU(32,"Login"),x.qZA()()()()(),x.TgZ(33,"div",24)(34,"p"),x._uU(35,"Don't have an account ? "),x.TgZ(36,"a",26),x._uU(37," Signup "),x.qZA()(),x.TgZ(38,"p"),x._uU(39),x.qZA()()()()()()()),2&q&&(x.xp6(14),x.Q6J("formGroup",oe.loginForm),x.xp6(1),x.Q6J("ngIf",oe.showAlert),x.xp6(4),x.Q6J("ngClass",x.VKq(10,Ze,oe.inSubmission&&oe.f.email.errors)),x.xp6(1),x.Q6J("ngIf",oe.inSubmission&&oe.f.email.errors),x.xp6(5),x.Q6J("type",oe.showpassword?"text":"password")("ngClass",x.VKq(12,Ze,oe.inSubmission&&oe.f.password.errors)),x.xp6(2),x.Q6J("ngIf",!oe.showpassword),x.xp6(1),x.Q6J("ngIf",oe.showpassword),x.xp6(1),x.Q6J("ngIf",oe.inSubmission&&oe.f.password.errors),x.xp6(10),x.hij("\xa9 ",oe.year," Email Signature"))},dependencies:[v.mk,v.O5,Se.yS,K._Y,K.Fj,K.JJ,K.JL,K.sg,K.u],styles:[".card[_ngcontent-%COMP%]{border:none;background-color:#f5ebeb;border-radius:24px}.login-header[_ngcontent-%COMP%]{background-color:#e4d0d0}button[_ngcontent-%COMP%]{background-color:#d5b4b4}a[_ngcontent-%COMP%]{color:#867070}"]}),He})();var Qe=B(7556);function dt(He,un){if(1&He&&(x.TgZ(0,"div",32),x._uU(1),x.qZA()),2&He){const q=x.oxw();x.Gre("alert alert-",q.alertColor,""),x.xp6(1),x.hij(" ",q.alertMsg," ")}}function pt(He,un){1&He&&(x.TgZ(0,"div"),x._uU(1,"Name is required"),x.qZA())}function We(He,un){if(1&He&&(x.TgZ(0,"div",33),x.YNc(1,pt,2,0,"div",34),x.qZA()),2&He){const q=x.oxw();x.xp6(1),x.Q6J("ngIf",q.f.name.errors.required)}}function Xt(He,un){1&He&&(x.TgZ(0,"div"),x._uU(1,"Email is required"),x.qZA())}function qt(He,un){1&He&&(x.TgZ(0,"div"),x._uU(1,"Email must be a valid email address"),x.qZA())}function pn(He,un){if(1&He&&(x.TgZ(0,"div",33),x.YNc(1,Xt,2,0,"div",34),x.YNc(2,qt,2,0,"div",34),x.qZA()),2&He){const q=x.oxw();x.xp6(1),x.Q6J("ngIf",q.f.email.errors.required),x.xp6(1),x.Q6J("ngIf",q.f.email.errors.email)}}function Lt(He,un){1&He&&(x.TgZ(0,"div"),x._uU(1,"Age is required"),x.qZA())}function An(He,un){if(1&He&&(x.TgZ(0,"div",33),x.YNc(1,Lt,2,0,"div",34),x.qZA()),2&He){const q=x.oxw();x.xp6(1),x.Q6J("ngIf",q.f.age.errors.required)}}function It(He,un){1&He&&x._UZ(0,"i",35)}function hn(He,un){1&He&&x._UZ(0,"i",36)}function zn(He,un){1&He&&(x.TgZ(0,"div"),x._uU(1,"Password is required"),x.qZA())}function Wn(He,un){1&He&&(x.TgZ(0,"span"),x._uU(1,"Password must be at least 8 characters."),x.qZA())}function hr(He,un){1&He&&(x.TgZ(0,"span"),x._uU(1," Password must contain alphabetics,numbers and special characters !"),x.qZA())}function ar(He,un){if(1&He&&(x.TgZ(0,"div",33),x.YNc(1,zn,2,0,"div",34),x.YNc(2,Wn,2,0,"span",34),x.YNc(3,hr,2,0,"span",34),x.qZA()),2&He){const q=x.oxw();x.xp6(1),x.Q6J("ngIf",q.f.password.errors.required),x.xp6(1),x.Q6J("ngIf",q.f.password.errors.minlength),x.xp6(1),x.Q6J("ngIf",q.f.password.errors.pattern)}}function rr(He,un){1&He&&(x.TgZ(0,"div"),x._uU(1,"Phone Number is required"),x.qZA())}function kr(He,un){1&He&&(x.TgZ(0,"span"),x._uU(1,"Phone number should be a valid one."),x.qZA())}function qn(He,un){if(1&He&&(x.TgZ(0,"div",33),x.YNc(1,rr,2,0,"div",34),x.YNc(2,kr,2,0,"span",34),x.qZA()),2&He){const q=x.oxw();x.xp6(1),x.Q6J("ngIf",q.f.phoneNumber.errors.required),x.xp6(1),x.Q6J("ngIf",q.f.phoneNumber.errors.pattern||q.f.phoneNumber.errors.maxLength)}}const _r=function(He){return{"is-invalid":He}},Tt=[{path:"login",component:lt},{path:"register",component:(()=>{class He{constructor(q,oe){this.auth=q,this.router=oe,this.showpassword=!1,this.name=new K.NI("",[K.kI.required,K.kI.minLength(3)]),this.email=new K.NI("",[K.kI.required,K.kI.email]),this.age=new K.NI(null,[K.kI.required,K.kI.max(120)]),this.password=new K.NI("",[K.kI.required,K.kI.minLength(8),K.kI.pattern(/^(?=.*[a-zA-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]+$/)]),this.phoneNumber=new K.NI("",[K.kI.required,K.kI.minLength(10),K.kI.maxLength(10),K.kI.pattern("[0-9]{10}")]),this.year=(new Date).getFullYear(),this.showAlert=!1,this.alertMsg="Please wait! Your account is being created.",this.alertColor="primary",this.inSubmission=!1,this.registerForm=new K.cw({name:this.name,email:this.email,age:this.age,password:this.password,phoneNumber:this.phoneNumber})}get f(){return this.registerForm.controls}register(){var q=this;return(0,Wt.Z)(function*(){if(q.inSubmission=!0,!q.registerForm.invalid){q.showAlert=!0,q.alertMsg="Please wait! Your account is being created.",q.alertColor="primary";try{q.auth.createUser(q.registerForm.value)}catch{return q.alertMsg="An unexpected error occurred. Please try again later",q.alertColor="danger",void(q.inSubmission=!1)}q.alertMsg="Success! Your account has been created.",q.alertColor="success",q.router.navigate(["/email-signature"])}})()}}return He.\u0275fac=function(q){return new(q||He)(x.Y36(Qe.e),x.Y36(Se.F0))},He.\u0275cmp=x.Xpm({type:He,selectors:[["app-register"]],decls:55,vars:26,consts:[[1,"account-pages","my-5","pt-sm-5"],[1,"container"],[1,"row","justify-content-center"],[1,"col-md-8","col-lg-6","col-xl-5"],[1,"card","overflow-hidden"],[1,"bg-soft","bg-primary"],[1,"row"],[1,"col-12","text-center","login-header"],[1,"p-5"],[1,""],[1,"card-body","pt-3"],[1,"p-2"],["name","registerForm","novalidate","",1,"needs-validation",3,"formGroup","ngSubmit"],["role","alert",3,"class",4,"ngIf"],[1,"mb-3"],["for","name",1,"form-label"],["type","text","formControlName","name","id","name","placeholder","Enter name",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","email",1,"form-label"],["type","email","formControlName","email","id","email","placeholder","Enter Email",1,"form-control",3,"ngClass"],[1,"inline-block","mb-2"],["type","number","formControlName","age","id","age","placeholder","Enter age",1,"form-control",3,"ngClass"],[1,"input-group","auth-pass-inputgroup"],["formControlName","password","id","password","placeholder","Enter password",1,"form-control",3,"type","ngClass"],["type","button",1,"btn","btn-light",3,"click"],["class","fas fa fa-eye-slash",4,"ngIf"],["class","fas fa fa-eye",4,"ngIf"],["type","text","formControlName","phoneNumber","id","phoneNumber","placeholder","Enter phoneNumber",1,"form-control",3,"ngClass"],[1,"mt-4","text-center"],["type","submit",1,"btn","btn-block","register"],[1,"mt-5","text-center"],["routerLink","/account/login",1,"fw-medium"],["role","alert"],[1,"invalid-feedback"],[4,"ngIf"],[1,"fas","fa","fa-eye-slash"],[1,"fas","fa","fa-eye"]],template:function(q,oe){1&q&&(x.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"h5",9),x._uU(10,"Create Account"),x.qZA()()()()(),x.TgZ(11,"div",10),x._UZ(12,"div"),x.TgZ(13,"div",11)(14,"form",12),x.NdJ("ngSubmit",function(){return oe.register()}),x.YNc(15,dt,2,4,"div",13),x.TgZ(16,"div",14)(17,"label",15),x._uU(18,"Name"),x.qZA(),x._UZ(19,"input",16),x.YNc(20,We,2,1,"div",17),x.qZA(),x.TgZ(21,"div",14)(22,"label",18),x._uU(23,"Email"),x.qZA(),x._UZ(24,"input",19),x.YNc(25,pn,3,2,"div",17),x.qZA(),x.TgZ(26,"div",14)(27,"label",20),x._uU(28,"Age"),x.qZA(),x._UZ(29,"input",21),x.YNc(30,An,2,1,"div",17),x.qZA(),x.TgZ(31,"div",14)(32,"label",20),x._uU(33,"Password"),x.qZA(),x.TgZ(34,"div",22),x._UZ(35,"input",23),x.TgZ(36,"button",24),x.NdJ("click",function(){return oe.showpassword=!oe.showpassword}),x.YNc(37,It,1,0,"i",25),x.YNc(38,hn,1,0,"i",26),x.qZA(),x.YNc(39,ar,4,3,"div",17),x.qZA()(),x.TgZ(40,"div",14)(41,"label",20),x._uU(42,"Phone Number"),x.qZA(),x._UZ(43,"input",27),x.YNc(44,qn,3,2,"div",17),x.qZA(),x.TgZ(45,"div",28)(46,"button",29),x._uU(47,"Register"),x.qZA()()()()()(),x.TgZ(48,"div",30)(49,"p"),x._uU(50,"Already have an account ?"),x.TgZ(51,"a",31),x._uU(52," Login"),x.qZA()(),x.TgZ(53,"p"),x._uU(54),x.qZA()()()()()()),2&q&&(x.xp6(14),x.Q6J("formGroup",oe.registerForm),x.xp6(1),x.Q6J("ngIf",oe.showAlert),x.xp6(4),x.Q6J("ngClass",x.VKq(16,_r,oe.inSubmission&&oe.f.name.errors)),x.xp6(1),x.Q6J("ngIf",oe.inSubmission&&oe.f.name.errors),x.xp6(4),x.Q6J("ngClass",x.VKq(18,_r,oe.inSubmission&&oe.f.email.errors)),x.xp6(1),x.Q6J("ngIf",oe.inSubmission&&oe.f.email.errors),x.xp6(4),x.Q6J("ngClass",x.VKq(20,_r,oe.inSubmission&&oe.f.age.errors)),x.xp6(1),x.Q6J("ngIf",oe.inSubmission&&oe.f.age.errors),x.xp6(5),x.Q6J("type",oe.showpassword?"text":"password")("ngClass",x.VKq(22,_r,oe.inSubmission&&oe.f.password.errors)),x.xp6(2),x.Q6J("ngIf",!oe.showpassword),x.xp6(1),x.Q6J("ngIf",oe.showpassword),x.xp6(1),x.Q6J("ngIf",oe.inSubmission&&oe.f.password.errors),x.xp6(4),x.Q6J("ngClass",x.VKq(24,_r,oe.inSubmission&&oe.f.phoneNumber.errors)),x.xp6(1),x.Q6J("ngIf",oe.inSubmission&&oe.f.phoneNumber.errors),x.xp6(10),x.hij("\xa9 ",oe.year," Email Signature"))},dependencies:[v.mk,v.O5,Se.yS,K._Y,K.Fj,K.wV,K.JJ,K.JL,K.sg,K.u],styles:[".login-header[_ngcontent-%COMP%]{background-color:#e4d0d0}.register[_ngcontent-%COMP%]{background-color:#d5b4b4}a[_ngcontent-%COMP%]{color:#867070}"]}),He})()}];let Fn=(()=>{class He{}return He.\u0275fac=function(q){return new(q||He)},He.\u0275mod=x.oAB({type:He}),He.\u0275inj=x.cJS({imports:[Se.Bz.forChild(Tt),Se.Bz]}),He})(),Zn=(()=>{class He{}return He.\u0275fac=function(q){return new(q||He)},He.\u0275mod=x.oAB({type:He}),He.\u0275inj=x.cJS({imports:[v.ez,Fn,Je,K.UX,K.u5]}),He})()},7556:(tn,ze,B)=>{B.d(ze,{e:()=>he});var v=B(5861),K=B(4004),x=B(1005),l=B(4650),Ee=B(1205),Ce=B(3101);let he=(()=>{class Ie{constructor(ce,de){this.auth=ce,this.db=de,this.userCollection=de.collection("users"),this.auth.user.subscribe(console.log),this.isAuthenticated$=ce.user.pipe((0,K.U)(we=>!!we)),this.isAuthenticatedWithDelay$=this.isAuthenticated$.pipe((0,x.g)(100))}createUser(ce){var de=this;return(0,v.Z)(function*(){if(!ce.password)throw new Error("Password not provided");const we=yield de.auth.createUserWithEmailAndPassword(ce.email,ce.password);if(!we.user)throw new Error("User can't be found");yield de.userCollection.doc(we.user?.uid).set({name:ce.name,email:ce.email,age:ce.age,phoneNumber:ce.phoneNumber}),yield we.user.updateProfile({displayName:ce.name})})()}}return Ie.\u0275fac=function(ce){return new(ce||Ie)(l.LFG(Ee.zQ),l.LFG(Ce.ST))},Ie.\u0275prov=l.Yz7({token:Ie,factory:Ie.\u0275fac,providedIn:"root"}),Ie})()},3091:(tn,ze,B)=>{B.r(ze),B.d(ze,{SignatureModule:()=>yg});var v=B(6895),K=B(4629),x=B(5861),l=B(4650),Ee=B(7556),Ce=B(1205),he=B(433),Ie=B(1135),Pe=B(3101),ce=B(9751),de=B(9646),we=B(8996),_t=B(4986),Ue=B(4482),Be=B(5403),Ke=B(4004),Je=B(3900),Se=B(2122),Wt=B(2011),ct=B(3942),$e=B(9681),Fe=B(2090),Pt=B(4859);const Dt="firebasestorage.googleapis.com",se="storageBucket";class xt extends Fe.ZR{constructor(f,s,h=0){super(Ze(f),`Firebase Storage: ${s} (${Ze(f)})`),this.status_=h,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,xt.prototype)}get status(){return this.status_}set status(f){this.status_=f}_codeEquals(f){return Ze(f)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(f){this.customData.serverResponse=f,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var vt=(()=>{return(u=vt||(vt={})).UNKNOWN="unknown",u.OBJECT_NOT_FOUND="object-not-found",u.BUCKET_NOT_FOUND="bucket-not-found",u.PROJECT_NOT_FOUND="project-not-found",u.QUOTA_EXCEEDED="quota-exceeded",u.UNAUTHENTICATED="unauthenticated",u.UNAUTHORIZED="unauthorized",u.UNAUTHORIZED_APP="unauthorized-app",u.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",u.INVALID_CHECKSUM="invalid-checksum",u.CANCELED="canceled",u.INVALID_EVENT_NAME="invalid-event-name",u.INVALID_URL="invalid-url",u.INVALID_DEFAULT_BUCKET="invalid-default-bucket",u.NO_DEFAULT_BUCKET="no-default-bucket",u.CANNOT_SLICE_BLOB="cannot-slice-blob",u.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",u.NO_DOWNLOAD_URL="no-download-url",u.INVALID_ARGUMENT="invalid-argument",u.INVALID_ARGUMENT_COUNT="invalid-argument-count",u.APP_DELETED="app-deleted",u.INVALID_ROOT_OPERATION="invalid-root-operation",u.INVALID_FORMAT="invalid-format",u.INTERNAL_ERROR="internal-error",u.UNSUPPORTED_ENVIRONMENT="unsupported-environment",vt;var u})();function Ze(u){return"storage/"+u}function lt(){return new xt(vt.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function qt(){return new xt(vt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function pn(){return new xt(vt.CANCELED,"User canceled the upload/download.")}function hn(){return new xt(vt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function ar(u){return new xt(vt.INVALID_ARGUMENT,u)}function rr(){return new xt(vt.APP_DELETED,"The Firebase app was deleted.")}function kr(u){return new xt(vt.INVALID_ROOT_OPERATION,"The operation '"+u+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function qn(u,f){return new xt(vt.INVALID_FORMAT,"String does not match format '"+u+"': "+f)}function _r(u){throw new xt(vt.INTERNAL_ERROR,"Internal error: "+u)}class yr{constructor(f,s){this.bucket=f,this.path_=s}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const f=encodeURIComponent;return"/b/"+f(this.bucket)+"/o/"+f(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(f,s){let h;try{h=yr.makeFromUrl(f,s)}catch{return new yr(f,"")}if(""===h.path)return h;throw function An(u){return new xt(vt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+u+"'.")}(f)}static makeFromUrl(f,s){let h=null;const b="([A-Za-z0-9.\\-_]+)",ae=new RegExp("^gs://"+b+"(/(.*))?$","i");function Oe(vi){vi.path_=decodeURIComponent(vi.path)}const Gt=s.replace(/[.]/g,"\\."),Fi=[{regex:ae,indices:{bucket:1,path:3},postModify:function S(vi){"/"===vi.path.charAt(vi.path.length-1)&&(vi.path_=vi.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Gt}/v[A-Za-z0-9_]+/b/${b}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:Oe},{regex:new RegExp(`^https?://${s===Dt?"(?:storage.googleapis.com|storage.cloud.google.com)":s}/${b}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:Oe}];for(let vi=0;vi<Fi.length;vi++){const fa=Fi[vi],Aa=fa.regex.exec(f);if(Aa){let pa=Aa[fa.indices.path];pa||(pa=""),h=new yr(Aa[fa.indices.bucket],pa),fa.postModify(h);break}}if(null==h)throw function Lt(u){return new xt(vt.INVALID_URL,"Invalid URL '"+u+"'.")}(f);return h}}class Tt{constructor(f){this.promise_=Promise.reject(f)}getPromise(){return this.promise_}cancel(f=!1){}}function oe(u){return"string"==typeof u||u instanceof String}function Ve(u){return Ct()&&u instanceof Blob}function Ct(){return typeof Blob<"u"&&!(0,Fe.UG)()}function Mt(u,f,s,h){if(h<f)throw ar(`Invalid value for '${u}'. Expected ${f} or greater.`);if(h>s)throw ar(`Invalid value for '${u}'. Expected ${s} or less.`)}function Nt(u,f,s){let h=f;return null==s&&(h=`https://${f}`),`${s}://${h}/v0${u}`}function ht(u){const f=encodeURIComponent;let s="?";for(const h in u)u.hasOwnProperty(h)&&(s=s+(f(h)+"=")+f(u[h])+"&");return s=s.slice(0,-1),s}var jt=(()=>{return(u=jt||(jt={}))[u.NO_ERROR=0]="NO_ERROR",u[u.NETWORK_ERROR=1]="NETWORK_ERROR",u[u.ABORT=2]="ABORT",jt;var u})();function wn(u,f){const s=u>=500&&u<600,b=-1!==[408,429].indexOf(u),S=-1!==f.indexOf(u);return s||b||S}class cn{constructor(f,s,h,b,S,J,ae,pe,Oe,ut,Gt,$t=!0){this.url_=f,this.method_=s,this.headers_=h,this.body_=b,this.successCodes_=S,this.additionalRetryCodes_=J,this.callback_=ae,this.errorCallback_=pe,this.timeout_=Oe,this.progressCallback_=ut,this.connectionFactory_=Gt,this.retry=$t,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Ut,on)=>{this.resolve_=Ut,this.reject_=on,this.start_()})}start_(){const s=(h,b)=>{const S=this.resolve_,J=this.reject_,ae=b.connection;if(b.wasSuccessCode)try{const pe=this.callback_(ae,ae.getResponse());!function He(u){return void 0!==u}(pe)?S():S(pe)}catch(pe){J(pe)}else if(null!==ae){const pe=lt();pe.serverResponse=ae.getErrorText(),J(this.errorCallback_?this.errorCallback_(ae,pe):pe)}else J(b.canceled?this.appDelete_?rr():pn():qt())};this.canceled_?s(0,new fn(!1,null,!0)):this.backoffId_=function Fn(u,f,s){let h=1,b=null,S=null,J=!1,ae=0;function pe(){return 2===ae}let Oe=!1;function ut(...dr){Oe||(Oe=!0,f.apply(null,dr))}function Gt(dr){b=setTimeout(()=>{b=null,u(Ut,pe())},dr)}function $t(){S&&clearTimeout(S)}function Ut(dr,...Tr){if(Oe)return void $t();if(dr)return $t(),void ut.call(null,dr,...Tr);if(pe()||J)return $t(),void ut.call(null,dr,...Tr);let Fi;h<64&&(h*=2),1===ae?(ae=2,Fi=0):Fi=1e3*(h+Math.random()),Gt(Fi)}let on=!1;function Gn(dr){on||(on=!0,$t(),!Oe&&(null!==b?(dr||(ae=2),clearTimeout(b),Gt(0)):dr||(ae=1)))}return Gt(0),S=setTimeout(()=>{J=!0,Gn(!0)},s),Gn}((h,b)=>{if(b)return void h(!1,new fn(!1,null,!0));const S=this.connectionFactory_();this.pendingConnection_=S;const J=ae=>{null!==this.progressCallback_&&this.progressCallback_(ae.loaded,ae.lengthComputable?ae.total:-1)};null!==this.progressCallback_&&S.addUploadProgressListener(J),S.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&S.removeUploadProgressListener(J),this.pendingConnection_=null;const ae=S.getErrorCode()===jt.NO_ERROR,pe=S.getStatus();if(!ae||wn(pe,this.additionalRetryCodes_)&&this.retry){const ut=S.getErrorCode()===jt.ABORT;return void h(!1,new fn(!1,null,ut))}const Oe=-1!==this.successCodes_.indexOf(pe);h(!0,new fn(Oe,S))})},s,this.timeout_)}getPromise(){return this.promise_}cancel(f){this.canceled_=!0,this.appDelete_=f||!1,null!==this.backoffId_&&function Zn(u){u(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class fn{constructor(f,s,h){this.wasSuccessCode=f,this.connection=s,this.canceled=!!h}}function rn(...u){const f=function Fr(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==f){const s=new f;for(let h=0;h<u.length;h++)s.append(u[h]);return s.getBlob()}if(Ct())return new Blob(u);throw new xt(vt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const an={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Sn{constructor(f,s){this.data=f,this.contentType=s||null}}function In(u,f){switch(u){case an.RAW:return new Sn(Dr(f));case an.BASE64:case an.BASE64URL:return new Sn(fe(u,f));case an.DATA_URL:return new Sn(function st(u){const f=new Te(u);return f.base64?fe(an.BASE64,f.rest):function ve(u){let f;try{f=decodeURIComponent(u)}catch{throw qn(an.DATA_URL,"Malformed data URL.")}return Dr(f)}(f.rest)}(f),function je(u){return new Te(u).contentType}(f))}throw lt()}function Dr(u){const f=[];for(let s=0;s<u.length;s++){let h=u.charCodeAt(s);h<=127?f.push(h):h<=2047?f.push(192|h>>6,128|63&h):55296==(64512&h)?s<u.length-1&&56320==(64512&u.charCodeAt(s+1))?(h=65536|(1023&h)<<10|1023&u.charCodeAt(++s),f.push(240|h>>18,128|h>>12&63,128|h>>6&63,128|63&h)):f.push(239,191,189):56320==(64512&h)?f.push(239,191,189):f.push(224|h>>12,128|h>>6&63,128|63&h)}return new Uint8Array(f)}function fe(u,f){switch(u){case an.BASE64:{const b=-1!==f.indexOf("-"),S=-1!==f.indexOf("_");if(b||S)throw qn(u,"Invalid character '"+(b?"-":"_")+"' found: is it base64url encoded?");break}case an.BASE64URL:{const b=-1!==f.indexOf("+"),S=-1!==f.indexOf("/");if(b||S)throw qn(u,"Invalid character '"+(b?"+":"/")+"' found: is it base64 encoded?");f=f.replace(/-/g,"+").replace(/_/g,"/");break}}let s;try{s=function kt(u){if(typeof atob>"u")throw function hr(u){return new xt(vt.UNSUPPORTED_ENVIRONMENT,`${u} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(u)}(f)}catch(b){throw b.message.includes("polyfill")?b:qn(u,"Invalid character found")}const h=new Uint8Array(s.length);for(let b=0;b<s.length;b++)h[b]=s.charCodeAt(b);return h}class Te{constructor(f){this.base64=!1,this.contentType=null;const s=f.match(/^data:([^,]+)?,/);if(null===s)throw qn(an.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const h=s[1]||null;null!=h&&(this.base64=function Yt(u,f){return u.length>=f.length&&u.substring(u.length-f.length)===f}(h,";base64"),this.contentType=this.base64?h.substring(0,h.length-7):h),this.rest=f.substring(f.indexOf(",")+1)}}class mn{constructor(f,s){let h=0,b="";Ve(f)?(this.data_=f,h=f.size,b=f.type):f instanceof ArrayBuffer?(s?this.data_=new Uint8Array(f):(this.data_=new Uint8Array(f.byteLength),this.data_.set(new Uint8Array(f))),h=this.data_.length):f instanceof Uint8Array&&(s?this.data_=f:(this.data_=new Uint8Array(f.length),this.data_.set(f)),h=f.length),this.size_=h,this.type_=b}size(){return this.size_}type(){return this.type_}slice(f,s){if(Ve(this.data_)){const b=function nt(u,f,s){return u.webkitSlice?u.webkitSlice(f,s):u.mozSlice?u.mozSlice(f,s):u.slice?u.slice(f,s):null}(this.data_,f,s);return null===b?null:new mn(b)}{const h=new Uint8Array(this.data_.buffer,f,s-f);return new mn(h,!0)}}static getBlob(...f){if(Ct()){const s=f.map(h=>h instanceof mn?h.data_:h);return new mn(rn.apply(null,s))}{const s=f.map(J=>oe(J)?In(an.RAW,J).data:J.data_);let h=0;s.forEach(J=>{h+=J.byteLength});const b=new Uint8Array(h);let S=0;return s.forEach(J=>{for(let ae=0;ae<J.length;ae++)b[S++]=J[ae]}),new mn(b,!0)}}uploadData(){return this.data_}}function Hn(u){let f;try{f=JSON.parse(u)}catch{return null}return function q(u){return"object"==typeof u&&!Array.isArray(u)}(f)?f:null}function ge(u){const f=u.lastIndexOf("/",u.length-2);return-1===f?u:u.slice(f+1)}function ie(u,f){return f}class Ae{constructor(f,s,h,b){this.server=f,this.local=s||f,this.writable=!!h,this.xform=b||ie}}let at=null;function Mn(){if(at)return at;const u=[];u.push(new Ae("bucket")),u.push(new Ae("generation")),u.push(new Ae("metageneration")),u.push(new Ae("name","fullPath",!0));const s=new Ae("name");s.xform=function f(S,J){return function zt(u){return!oe(u)||u.length<2?u:ge(u)}(J)},u.push(s);const b=new Ae("size");return b.xform=function h(S,J){return void 0!==J?Number(J):J},u.push(b),u.push(new Ae("timeCreated")),u.push(new Ae("updated")),u.push(new Ae("md5Hash",null,!0)),u.push(new Ae("cacheControl",null,!0)),u.push(new Ae("contentDisposition",null,!0)),u.push(new Ae("contentEncoding",null,!0)),u.push(new Ae("contentLanguage",null,!0)),u.push(new Ae("contentType",null,!0)),u.push(new Ae("metadata","customMetadata",!0)),at=u,at}function Vi(u,f,s){const h=Hn(f);return null===h?null:function Ur(u,f,s){const h={type:"file"},b=s.length;for(let S=0;S<b;S++){const J=s[S];h[J.local]=J.xform(h,f[J.server])}return function Ln(u,f){Object.defineProperty(u,"ref",{get:function s(){const S=new yr(u.bucket,u.fullPath);return f._makeStorageReference(S)}})}(h,u),h}(u,h,s)}function wr(u,f){const s={},h=f.length;for(let b=0;b<h;b++){const S=f[b];S.writable&&(s[S.server]=u[S.local])}return JSON.stringify(s)}const bi="prefixes";class ai{constructor(f,s,h,b){this.url=f,this.method=s,this.handler=h,this.timeout=b,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Br(u){if(!u)throw lt()}function ci(u,f){return function s(h,b){const S=Vi(u,b,f);return Br(null!==S),S}}function lr(u){return function f(s,h){let b;return b=401===s.getStatus()?s.getErrorText().includes("Firebase App Check token is invalid")?function We(){return new xt(vt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function pt(){return new xt(vt.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===s.getStatus()?function dt(u){return new xt(vt.QUOTA_EXCEEDED,"Quota for bucket '"+u+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(u.bucket):403===s.getStatus()?function Xt(u){return new xt(vt.UNAUTHORIZED,"User does not have permission to access '"+u+"'.")}(u.path):h,b.status=s.getStatus(),b.serverResponse=h.serverResponse,b}}function Ss(u){const f=lr(u);return function s(h,b){let S=f(h,b);return 404===h.getStatus()&&(S=function Qe(u){return new xt(vt.OBJECT_NOT_FOUND,"Object '"+u+"' does not exist.")}(u.path)),S.serverResponse=b.serverResponse,S}}function ls(u,f,s){const b=Nt(f.fullServerUrl(),u.host,u._protocol),J=u.maxOperationRetryTime,ae=new ai(b,"GET",ci(u,s),J);return ae.errorHandler=Ss(f),ae}function us(u,f,s,h,b){const S={};S.prefix=f.isRoot?"":f.path+"/",s&&s.length>0&&(S.delimiter=s),h&&(S.pageToken=h),b&&(S.maxResults=b);const ae=Nt(f.bucketOnlyServerUrl(),u.host,u._protocol),Oe=u.maxOperationRetryTime,ut=new ai(ae,"GET",function ei(u,f){return function s(h,b){const S=function Yr(u,f,s){const h=Hn(s);return null===h?null:function Ni(u,f,s){const h={prefixes:[],items:[],nextPageToken:s.nextPageToken};if(s[bi])for(const b of s[bi]){const S=b.replace(/\/$/,""),J=u._makeStorageReference(new yr(f,S));h.prefixes.push(J)}if(s.items)for(const b of s.items){const S=u._makeStorageReference(new yr(f,b.name));h.items.push(S)}return h}(u,f,h)}(u,f,b);return Br(null!==S),S}}(u,f.bucket),Oe);return ut.urlParams=S,ut.errorHandler=lr(f),ut}function As(u,f,s){const h=Object.assign({},s);return h.fullPath=u.path,h.size=f.size(),h.contentType||(h.contentType=function xr(u,f){return u&&u.contentType||f&&f.type()||"application/octet-stream"}(null,f)),h}class ti{constructor(f,s,h,b){this.current=f,this.total=s,this.finalized=!!h,this.metadata=b||null}}function Hs(u,f){let s=null;try{s=u.getResponseHeader("X-Goog-Upload-Status")}catch{Br(!1)}return Br(!!s&&-1!==(f||["active"]).indexOf(s)),s}const ko={STATE_CHANGED:"state_changed"},xi={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function hi(u){switch(u){case"running":case"pausing":case"canceling":return xi.RUNNING;case"paused":return xi.PAUSED;case"success":return xi.SUCCESS;case"canceled":return xi.CANCELED;default:return xi.ERROR}}class ma{constructor(f,s,h){if(function un(u){return"function"==typeof u}(f)||null!=s||null!=h)this.next=f,this.error=s??void 0,this.complete=h??void 0;else{const S=f;this.next=S.next,this.error=S.error,this.complete=S.complete}}}function Rr(u){return(...f)=>{Promise.resolve().then(()=>u(...f))}}class Ge extends class xe{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=jt.NO_ERROR,this.sendPromise_=new Promise(f=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=jt.ABORT,f()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=jt.NETWORK_ERROR,f()}),this.xhr_.addEventListener("load",()=>{f()})})}send(f,s,h,b){if(this.sent_)throw _r("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(s,f,!0),void 0!==b)for(const S in b)b.hasOwnProperty(S)&&this.xhr_.setRequestHeader(S,b[S].toString());return void 0!==h?this.xhr_.send(h):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw _r("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw _r("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw _r("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw _r("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(f){return this.xhr_.getResponseHeader(f)}addUploadProgressListener(f){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",f)}removeUploadProgressListener(f){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",f)}}{initXhr(){this.xhr_.responseType="text"}}function yt(){return new Ge}class ur{constructor(f,s,h=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=f,this._blob=s,this._metadata=h,this._mappings=Mn(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=b=>{if(this._request=void 0,this._chunkMultiplier=1,b._codeEquals(vt.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const S=this.isExponentialBackoffExpired();if(wn(b.status,[])){if(!S)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();b=qt()}this._error=b,this._transition("error")}},this._metadataErrorHandler=b=>{this._request=void 0,b._codeEquals(vt.CANCELED)?this.completeTransitions_():(this._error=b,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((b,S)=>{this._resolve=b,this._reject=S,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const f=this._transferred;return s=>this._updateProgress(f+s)}_shouldDoResumable(f){return f.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(f){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([s,h])=>{switch(this._state){case"running":f(s,h);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((f,s)=>{const h=function wi(u,f,s,h,b){const S=f.bucketOnlyServerUrl(),J=As(f,h,b),ae={name:J.fullPath},pe=Nt(S,u.host,u._protocol),ut={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${h.size()}`,"X-Goog-Upload-Header-Content-Type":J.contentType,"Content-Type":"application/json; charset=utf-8"},Gt=wr(J,s),on=new ai(pe,"POST",function Ut(Gn){let dr;Hs(Gn);try{dr=Gn.getResponseHeader("X-Goog-Upload-URL")}catch{Br(!1)}return Br(oe(dr)),dr},u.maxUploadRetryTime);return on.urlParams=ae,on.headers=ut,on.body=Gt,on.errorHandler=lr(f),on}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),b=this._ref.storage._makeRequest(h,yt,f,s);this._request=b,b.getPromise().then(S=>{this._request=void 0,this._uploadUrl=S,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const f=this._uploadUrl;this._resolveToken((s,h)=>{const b=function ga(u,f,s,h){const pe=new ai(s,"POST",function S(Oe){const ut=Hs(Oe,["active","final"]);let Gt=null;try{Gt=Oe.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Br(!1)}Gt||Br(!1);const $t=Number(Gt);return Br(!isNaN($t)),new ti($t,h.size(),"final"===ut)},u.maxUploadRetryTime);return pe.headers={"X-Goog-Upload-Command":"query"},pe.errorHandler=lr(f),pe}(this._ref.storage,this._ref._location,f,this._blob),S=this._ref.storage._makeRequest(b,yt,s,h);this._request=S,S.getPromise().then(J=>{this._request=void 0,this._updateProgress(J.current),this._needToFetchStatus=!1,J.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const f=262144*this._chunkMultiplier,s=new ti(this._transferred,this._blob.size()),h=this._uploadUrl;this._resolveToken((b,S)=>{let J;try{J=function Wo(u,f,s,h,b,S,J,ae){const pe=new ti(0,0);if(J?(pe.current=J.current,pe.total=J.total):(pe.current=0,pe.total=h.size()),h.size()!==pe.total)throw function zn(){return new xt(vt.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const Oe=pe.total-pe.current;let ut=Oe;b>0&&(ut=Math.min(ut,b));const Gt=pe.current;let Ut="";Ut=0===ut?"finalize":Oe===ut?"upload, finalize":"upload";const on={"X-Goog-Upload-Command":Ut,"X-Goog-Upload-Offset":`${pe.current}`},Gn=h.slice(Gt,Gt+ut);if(null===Gn)throw hn();const Fi=new ai(s,"POST",function dr(vi,fa){const Aa=Hs(vi,["active","final"]),Oc=pe.current+ut,pa=h.size();let Pc;return Pc="final"===Aa?ci(f,S)(vi,fa):null,new ti(Oc,pa,"final"===Aa,Pc)},f.maxUploadRetryTime);return Fi.headers=on,Fi.body=Gn.uploadData(),Fi.progressCallback=ae||null,Fi.errorHandler=lr(u),Fi}(this._ref._location,this._ref.storage,h,this._blob,f,this._mappings,s,this._makeProgressCallback())}catch(pe){return this._error=pe,void this._transition("error")}const ae=this._ref.storage._makeRequest(J,yt,b,S,!1);this._request=ae,ae.getPromise().then(pe=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(pe.current),pe.finalized?(this._metadata=pe.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((f,s)=>{const h=ls(this._ref.storage,this._ref._location,this._mappings),b=this._ref.storage._makeRequest(h,yt,f,s);this._request=b,b.getPromise().then(S=>{this._request=void 0,this._metadata=S,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((f,s)=>{const h=function Cr(u,f,s,h,b){const S=f.bucketOnlyServerUrl(),J={"X-Goog-Upload-Protocol":"multipart"},pe=function ae(){let Fi="";for(let vi=0;vi<2;vi++)Fi+=Math.random().toString().slice(2);return Fi}();J["Content-Type"]="multipart/related; boundary="+pe;const Oe=As(f,h,b),ut=wr(Oe,s),Ut=mn.getBlob("--"+pe+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+ut+"\r\n--"+pe+"\r\nContent-Type: "+Oe.contentType+"\r\n\r\n",h,"\r\n--"+pe+"--");if(null===Ut)throw hn();const on={name:Oe.fullPath},Gn=Nt(S,u.host,u._protocol),Tr=u.maxUploadRetryTime,Gr=new ai(Gn,"POST",ci(u,s),Tr);return Gr.urlParams=on,Gr.headers=J,Gr.body=Ut.uploadData(),Gr.errorHandler=lr(f),Gr}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),b=this._ref.storage._makeRequest(h,yt,f,s);this._request=b,b.getPromise().then(S=>{this._request=void 0,this._metadata=S,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(f){const s=this._transferred;this._transferred=f,this._transferred!==s&&this._notifyObservers()}_transition(f){if(this._state!==f)switch(f){case"canceling":case"pausing":this._state=f,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const s="paused"===this._state;this._state=f,s&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=f,this._notifyObservers();break;case"canceled":this._error=pn(),this._state=f,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const f=hi(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:f,metadata:this._metadata,task:this,ref:this._ref}}on(f,s,h,b){const S=new ma(s||void 0,h||void 0,b||void 0);return this._addObserver(S),()=>{this._removeObserver(S)}}then(f,s){return this._promise.then(f,s)}catch(f){return this.then(null,f)}_addObserver(f){this._observers.push(f),this._notifyObserver(f)}_removeObserver(f){const s=this._observers.indexOf(f);-1!==s&&this._observers.splice(s,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(s=>{this._notifyObserver(s)})}_finishPromise(){if(void 0!==this._resolve){let f=!0;switch(hi(this._state)){case xi.SUCCESS:Rr(this._resolve.bind(null,this.snapshot))();break;case xi.CANCELED:case xi.ERROR:Rr(this._reject.bind(null,this._error))();break;default:f=!1}f&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(f){switch(hi(this._state)){case xi.RUNNING:case xi.PAUSED:f.next&&Rr(f.next.bind(f,this.snapshot))();break;case xi.SUCCESS:f.complete&&Rr(f.complete.bind(f))();break;default:f.error&&Rr(f.error.bind(f,this._error))()}}resume(){const f="paused"===this._state||"pausing"===this._state;return f&&this._transition("running"),f}pause(){const f="running"===this._state;return f&&this._transition("pausing"),f}cancel(){const f="running"===this._state||"pausing"===this._state;return f&&this._transition("canceling"),f}}class Ti{constructor(f,s){this._service=f,this._location=s instanceof yr?s:yr.makeFromUrl(s,f.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(f,s){return new Ti(f,s)}get root(){const f=new yr(this._location.bucket,"");return this._newRef(this._service,f)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return ge(this._location.path)}get storage(){return this._service}get parent(){const f=function fr(u){if(0===u.length)return null;const f=u.lastIndexOf("/");return-1===f?"":u.slice(0,f)}(this._location.path);if(null===f)return null;const s=new yr(this._location.bucket,f);return new Ti(this._service,s)}_throwIfRoot(f){if(""===this._location.path)throw kr(f)}}function qo(u,f,s){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,x.Z)(function*(u,f,s){const b=yield ji(u,{pageToken:s});f.prefixes.push(...b.prefixes),f.items.push(...b.items),null!=b.nextPageToken&&(yield qo(u,f,b.nextPageToken))})).apply(this,arguments)}function ji(u,f){null!=f&&"number"==typeof f.maxResults&&Mt("options.maxResults",1,1e3,f.maxResults);const s=f||{},h=us(u.storage,u._location,"/",s.pageToken,s.maxResults);return u.storage.makeRequestWithTokens(h,yt)}function Ro(u){u._throwIfRoot("getDownloadURL");const f=function Xi(u,f,s){const b=Nt(f.fullServerUrl(),u.host,u._protocol),J=u.maxOperationRetryTime,ae=new ai(b,"GET",function Ts(u,f){return function s(h,b){const S=Vi(u,b,f);return Br(null!==S),function Un(u,f,s,h){const b=Hn(f);if(null===b||!oe(b.downloadTokens))return null;const S=b.downloadTokens;if(0===S.length)return null;const J=encodeURIComponent;return S.split(",").map(Oe=>{const Gt=u.fullPath;return Nt("/b/"+J(u.bucket)+"/o/"+J(Gt),s,h)+ht({alt:"media",token:Oe})})[0]}(S,b,u.host,u._protocol)}}(u,s),J);return ae.errorHandler=Ss(f),ae}(u.storage,u._location,Mn());return u.storage.makeRequestWithTokens(f,yt).then(s=>{if(null===s)throw function Wn(){return new xt(vt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return s})}function Xs(u,f){const s=function me(u,f){const s=f.split("/").filter(h=>h.length>0).join("/");return 0===u.length?s:u+"/"+s}(u._location.path,f),h=new yr(u._location.bucket,s);return new Ti(u.storage,h)}function Ns(u,f){if(u instanceof Oo){const s=u;if(null==s._bucket)throw function It(){return new xt(vt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+se+"' property when initializing the app?")}();const h=new Ti(s,s._bucket);return null!=f?Ns(h,f):h}return void 0!==f?Xs(u,f):u}function es(u,f){if(f&&function Co(u){return/^[A-Za-z]+:\/\//.test(u)}(f)){if(u instanceof Oo)return function Ms(u,f){return new Ti(u,f)}(u,f);throw ar("To use ref(service, url), the first argument must be a Storage instance.")}return Ns(u,f)}function ki(u,f){const s=f?.[se];return null==s?null:yr.makeFromBucketSpec(s,u)}class Oo{constructor(f,s,h,b,S){this.app=f,this._authProvider=s,this._appCheckProvider=h,this._url=b,this._firebaseVersion=S,this._bucket=null,this._host=Dt,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=b?yr.makeFromBucketSpec(b,this._host):ki(this._host,this.app.options)}get host(){return this._host}set host(f){this._host=f,this._bucket=null!=this._url?yr.makeFromBucketSpec(this._url,f):ki(f,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(f){Mt("time",0,Number.POSITIVE_INFINITY,f),this._maxUploadRetryTime=f}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(f){Mt("time",0,Number.POSITIVE_INFINITY,f),this._maxOperationRetryTime=f}_getAuthToken(){var f=this;return(0,x.Z)(function*(){if(f._overrideAuthToken)return f._overrideAuthToken;const s=f._authProvider.getImmediate({optional:!0});if(s){const h=yield s.getToken();if(null!==h)return h.accessToken}return null})()}_getAppCheckToken(){var f=this;return(0,x.Z)(function*(){const s=f._appCheckProvider.getImmediate({optional:!0});return s?(yield s.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(f=>f.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(f){return new Ti(this,f)}_makeRequest(f,s,h,b,S=!0){if(this._deleted)return new Tt(rr());{const J=function Nr(u,f,s,h,b,S,J=!0){const ae=ht(u.urlParams),pe=u.url+ae,Oe=Object.assign({},u.headers);return function zr(u,f){f&&(u["X-Firebase-GMPID"]=f)}(Oe,f),function ir(u,f){null!==f&&f.length>0&&(u.Authorization="Firebase "+f)}(Oe,s),function En(u,f){u["X-Firebase-Storage-Version"]="webjs/"+(f??"AppManager")}(Oe,S),function Kn(u,f){null!==f&&(u["X-Firebase-AppCheck"]=f)}(Oe,h),new cn(pe,u.method,Oe,u.body,u.successCodes,u.additionalRetryCodes,u.handler,u.errorHandler,u.timeout,u.progressCallback,b,J)}(f,this._appId,h,b,s,this._firebaseVersion,S);return this._requests.add(J),J.getPromise().then(()=>this._requests.delete(J),()=>this._requests.delete(J)),J}}makeRequestWithTokens(f,s){var h=this;return(0,x.Z)(function*(){const[b,S]=yield Promise.all([h._getAuthToken(),h._getAppCheckToken()]);return h._makeRequest(f,s,b,S).getPromise()})()}}const $r="@firebase/storage";function Fo(u,f){return es(u=(0,Fe.m9)(u),f)}function Lo(u,{instanceIdentifier:f}){const s=u.getProvider("app").getImmediate(),h=u.getProvider("auth-internal"),b=u.getProvider("app-check-internal");return new Oo(s,h,b,f,$e.SDK_VERSION)}!function fo(){(0,$e._registerComponent)(new Pt.wA("storage",Lo,"PUBLIC").setMultipleInstances(!0)),(0,$e.registerVersion)($r,"0.11.2",""),(0,$e.registerVersion)($r,"0.11.2","esm2017")}();class Io{constructor(f,s,h){this._delegate=f,this.task=s,this.ref=h}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class eo{constructor(f,s){this._delegate=f,this._ref=s,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Io(this._delegate.snapshot,this,this._ref)}then(f,s){return this._delegate.then(h=>{if(f)return f(new Io(h,this,this._ref))},s)}on(f,s,h,b){let S;return s&&(S="function"==typeof s?J=>s(new Io(J,this,this._ref)):{next:s.next?J=>s.next(new Io(J,this,this._ref)):void 0,complete:s.complete||void 0,error:s.error||void 0}),this._delegate.on(f,S,h||void 0,b||void 0)}}class Qo{constructor(f,s){this._delegate=f,this._service=s}get prefixes(){return this._delegate.prefixes.map(f=>new zi(f,this._service))}get items(){return this._delegate.items.map(f=>new zi(f,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class zi{constructor(f,s){this._delegate=f,this.storage=s}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(f){const s=function Jo(u,f){return Xs(u,f)}(this._delegate,f);return new zi(s,this.storage)}get root(){return new zi(this._delegate.root,this.storage)}get parent(){const f=this._delegate.parent;return null==f?null:new zi(f,this.storage)}put(f,s){return this._throwIfRoot("put"),new eo(function Si(u,f,s){return function wo(u,f,s){return u._throwIfRoot("uploadBytesResumable"),new ur(u,new mn(f),s)}(u=(0,Fe.m9)(u),f,s)}(this._delegate,f,s),this)}putString(f,s=an.RAW,h){this._throwIfRoot("putString");const b=In(s,f),S=Object.assign({},h);return null==S.contentType&&null!=b.contentType&&(S.contentType=b.contentType),new eo(new ur(this._delegate,new mn(b.data,!0),S),this)}listAll(){return function js(u){return function Qs(u){const f={prefixes:[],items:[]};return qo(u,f).then(()=>f)}(u=(0,Fe.m9)(u))}(this._delegate).then(f=>new Qo(f,this.storage))}list(f){return function Yo(u,f){return ji(u=(0,Fe.m9)(u),f)}(this._delegate,f||void 0).then(s=>new Qo(s,this.storage))}getMetadata(){return function gi(u){return function bs(u){u._throwIfRoot("getMetadata");const f=ls(u.storage,u._location,Mn());return u.storage.makeRequestWithTokens(f,yt)}(u=(0,Fe.m9)(u))}(this._delegate)}updateMetadata(f){return function fs(u,f){return function Gi(u,f){u._throwIfRoot("updateMetadata");const s=function ds(u,f,s,h){const S=Nt(f.fullServerUrl(),u.host,u._protocol),ae=wr(s,h),Oe=u.maxOperationRetryTime,ut=new ai(S,"PATCH",ci(u,h),Oe);return ut.headers={"Content-Type":"application/json; charset=utf-8"},ut.body=ae,ut.errorHandler=Ss(f),ut}(u.storage,u._location,f,Mn());return u.storage.makeRequestWithTokens(s,yt)}(u=(0,Fe.m9)(u),f)}(this._delegate,f)}getDownloadURL(){return function ri(u){return Ro(u=(0,Fe.m9)(u))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function Ko(u){return function hs(u){u._throwIfRoot("deleteObject");const f=function Ui(u,f){const h=Nt(f.fullServerUrl(),u.host,u._protocol),ae=new ai(h,"DELETE",function J(pe,Oe){},u.maxOperationRetryTime);return ae.successCodes=[200,204],ae.errorHandler=Ss(f),ae}(u.storage,u._location);return u.storage.makeRequestWithTokens(f,yt)}(u=(0,Fe.m9)(u))}(this._delegate)}_throwIfRoot(f){if(""===this._delegate._location.path)throw kr(f)}}class to{constructor(f,s){this.app=f,this._delegate=s}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(f){if(no(f))throw ar("ref() expected a child path but got a URL, use refFromURL instead.");return new zi(Fo(this._delegate,f),this)}refFromURL(f){if(!no(f))throw ar("refFromURL() expected a full URL but got a child path, use ref() instead.");try{yr.makeFromUrl(f,this._delegate.host)}catch{throw ar("refFromUrl() expected a valid full URL but got an invalid one.")}return new zi(Fo(this._delegate,f),this)}setMaxUploadRetryTime(f){this._delegate.maxUploadRetryTime=f}setMaxOperationRetryTime(f){this._delegate.maxOperationRetryTime=f}useEmulator(f,s,h={}){!function Lr(u,f,s,h={}){!function xs(u,f,s,h={}){u.host=`${f}:${s}`,u._protocol="http";const{mockUserToken:b}=h;b&&(u._overrideAuthToken="string"==typeof b?b:(0,Fe.Sg)(b,u.app.options.projectId))}(u,f,s,h)}(this._delegate,f,s,h)}}function no(u){return/^[A-Za-z]+:\/\//.test(u)}function ps(u,{instanceIdentifier:f}){const s=u.getProvider("app-compat").getImmediate(),h=u.getProvider("storage").getImmediate({identifier:f});return new to(s,h)}!function ii(u){const f={TaskState:xi,TaskEvent:ko,StringFormat:an,Storage:to,Reference:zi};u.INTERNAL.registerComponent(new Pt.wA("storage-compat",ps,"PUBLIC").setServiceProps(f).setMultipleInstances(!0)),u.registerVersion("@firebase/storage-compat","0.3.2")}(ct.Z);var Xo=B(6217);function po(u){const f=function Zi(u){return new ce.y(f=>{const s=J=>f.next(J);s(u.snapshot);const S=u.on("state_changed",s);return u.then(J=>{s(J),f.complete()},J=>{s(u.snapshot),(J=>{f.error(J)})(J)}),function(){S()}}).pipe(function Ot(u,f=_t.z){return(0,Ue.e)((s,h)=>{let b=null,S=null,J=null;const ae=()=>{if(b){b.unsubscribe(),b=null;const Oe=S;S=null,h.next(Oe)}};function pe(){const Oe=J+u,ut=f.now();if(ut<Oe)return b=this.schedule(void 0,Oe-ut),void h.add(b);ae()}s.subscribe((0,Be.x)(h,Oe=>{S=Oe,J=f.now(),b||(b=f.schedule(pe,u),h.add(b))},()=>{ae(),h.complete()},void 0,()=>{S=b=null}))})}(0))}(u);return{task:u,then:u.then.bind(u),catch:u.catch.bind(u),pause:u.pause.bind(u),cancel:u.cancel.bind(u),resume:u.resume.bind(u),snapshotChanges:()=>f,percentageChanges:()=>f.pipe((0,Ke.U)(s=>s.bytesTransferred/s.totalBytes*100))}}function ws(u){return{getDownloadURL:()=>(0,de.of)(void 0).pipe(Se.fc,(0,Je.w)(()=>u.getDownloadURL()),Se.iC),getMetadata:()=>(0,de.of)(void 0).pipe(Se.fc,(0,Je.w)(()=>u.getMetadata()),Se.iC),delete:()=>(0,we.D)(u.delete()),child:f=>ws(u.child(f)),updateMetadata:f=>(0,we.D)(u.updateMetadata(f)),put:(f,s)=>po(u.put(f,s)),putString:(f,s,h)=>po(u.putString(f,s,h)),list:f=>(0,we.D)(u.list(f)),listAll:()=>(0,we.D)(u.listAll())}}B(9260);const Ya=new l.OlP("angularfire2.storageBucket"),jr=new l.OlP("angularfire2.storage.maxUploadRetryTime"),j=new l.OlP("angularfire2.storage.maxOperationRetryTime"),V=new l.OlP("angularfire2.storage.use-emulator");let O=(()=>{class u{constructor(s,h,b,S,J,ae,pe,Oe,ut,Gt){const $t=(0,Wt.on)(s,J,h);this.storage=(0,Wt.cc)(`${$t.name}.storage.${b}`,"AngularFireStorage",$t.name,()=>{const Ut=J.runOutsideAngular(()=>$t.storage(b||void 0)),on=ut;return on&&Ut.useEmulator(...on),pe&&Ut.setMaxUploadRetryTime(pe),Oe&&Ut.setMaxOperationRetryTime(Oe),Ut},[pe,Oe])}ref(s){return ws(this.storage.ref(s))}refFromURL(s){return ws(this.storage.refFromURL(s))}upload(s,h,b){return ws(this.storage.ref(s)).put(h,b)}}return u.\u0275fac=function(s){return new(s||u)(l.LFG(Wt.Dh),l.LFG(Wt.xv,8),l.LFG(Ya,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Se.HU),l.LFG(jr,8),l.LFG(j,8),l.LFG(V,8),l.LFG(Xo.nm,8))},u.\u0275prov=l.Yz7({token:u,factory:u.\u0275fac,providedIn:"any"}),u})(),sr=(()=>{class u{constructor(s,h,b){this.db=s,this.auth=h,this.storage=b,this.user=null,this.basicData=new Ie.X(null),this.basicData$=this.basicData.asObservable(),this.imageData=new Ie.X(null),this.imageData$=this.imageData.asObservable(),this.socialMediaData=new Ie.X(null),this.socialMediaData$=this.socialMediaData.asObservable(),this.designData=new Ie.X(null),this.designData$=this.designData.asObservable(),this.signCollection=s.collection("signature"),h.user.subscribe(S=>this.user=S)}createSign(s){var h=this;return(0,x.Z)(function*(){return h.signCollection.doc(h.user?.uid).set(s)})()}setData(s){this.basicData.next(s)}setImageData(s){this.imageData.next(s)}setSocialMediaData(s){this.socialMediaData.next(s)}setDesignData(s){this.designData.next(s)}getSignatureData(){return this.db.collection("signature").snapshotChanges()}}return u.\u0275fac=function(s){return new(s||u)(l.LFG(Pe.ST),l.LFG(Ce.zQ),l.LFG(O))},u.\u0275prov=l.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})(),ks=(()=>{class u{constructor(s,h,b){this.formBuilder=s,this.sharedService=h,this.auth=b,this.basicData=[],this.user=null,this.getBFData=[],this.fname=new he.NI("Sam",[he.kI.required]),this.lname=new he.NI("Smith",[he.kI.required]),this.email=new he.NI("sam@gmail.com",[he.kI.required]),this.mobileNo=new he.NI("8888888888",[he.kI.required]),this.company=new he.NI("My Company",[he.kI.required]),this.position=new he.NI("Software Developer",[he.kI.required]),this.department=new he.NI("IT",[he.kI.required]),this.address=new he.NI("Street, City, Pin",[he.kI.required]),this.contactFields=new he.NI("",[he.kI.required]),b.user.subscribe(S=>this.user=S),this.typeValidationForm=this.formBuilder.group({fname:this.fname,lname:this.lname,email:this.email,mobileNo:this.mobileNo,company:this.company,position:this.position,department:this.department,address:this.address}),this.FormData=this.typeValidationForm.controls,this.sharedService.basicData$.subscribe(S=>{this.basicData=S})}get f(){return this.typeValidationForm.controls}ngOnInit(){this.sharedService.setData(this.FormData),this.getBasicForm()}getBasicForm(){this.sharedService.getSignatureData().subscribe(s=>{if(this.getBFData=[],s.forEach((b,S)=>{b.payload.doc.data().uid==this.user?.uid&&this.getBFData.push({uid:b.payload.doc.uid,...b.payload.doc.data()})}),this.getBFData.length>0){var h=this.getBFData[0].basicForm;this.typeValidationForm.patchValue({fname:h.fname,lname:h.lname,email:h.email,mobileNo:h.mobileNo,company:h.company,position:h.position,department:h.department,address:h.address})}})}}return u.\u0275fac=function(s){return new(s||u)(l.Y36(he.qu),l.Y36(sr),l.Y36(Ce.zQ))},u.\u0275cmp=l.Xpm({type:u,selectors:[["app-basic-form"]],decls:61,vars:1,consts:[[1,"container"],[1,"row"],[1,"col-md-12","col-lg-6","col-xl-12"],[1,"card","overflow-hidden","shadow","p-3","mb-5","rounded"],[1,"card-body","pt-0"],[1,"p-2"],["name","registerForm",1,"needs-validation",3,"formGroup"],[1,"mb-3","row","col-md-12"],[1,"col-md-4"],["for","name",1,"form-label"],[1,"col-md-8"],["type","text","formControlName","fname","id","name","placeholder","Enter name",1,"form-control"],["for","lastName",1,"form-label"],["type","text","formControlName","lname","id","lastName","placeholder","Enter name",1,"form-control"],["for","email",1,"form-label"],["type","text","formControlName","email","id","email","placeholder","Enter Email",1,"form-control"],["for","number",1,"form-label"],["type","text","formControlName","mobileNo","id","number","placeholder","Enter Mobile Number",1,"form-control"],["for","company",1,"form-label"],["type","text","formControlName","company","id","company","placeholder","Enter company",1,"form-control"],["for","position",1,"inline-block","mb-2"],["type","text","formControlName","position","id","position","placeholder","Enter position",1,"form-control"],["for","department",1,"inline-block","mb-2"],["type","text","formControlName","department","id","department","placeholder","Enter department",1,"form-control"],[1,"row","col-md-12"],[1,"inline-block","mb-2"],["type","text","formControlName","address","id","department","placeholder","Enter Address ",1,"form-control"]],template:function(s,h){1&s&&(l.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"form",6)(7,"p")(8,"b"),l._uU(9,"Personal Details"),l.qZA()(),l.TgZ(10,"div",7)(11,"div",8)(12,"label",9),l._uU(13,"First Name"),l.qZA()(),l.TgZ(14,"div",10),l._UZ(15,"input",11),l.qZA()(),l.TgZ(16,"div",7)(17,"div",8)(18,"label",12),l._uU(19,"Last Name"),l.qZA()(),l.TgZ(20,"div",10),l._UZ(21,"input",13),l.qZA()(),l.TgZ(22,"div",7)(23,"div",8)(24,"label",14),l._uU(25,"Email"),l.qZA()(),l.TgZ(26,"div",10),l._UZ(27,"input",15),l.qZA()(),l.TgZ(28,"div",7)(29,"div",8)(30,"label",16),l._uU(31,"Mobile Number"),l.qZA()(),l.TgZ(32,"div",10),l._UZ(33,"input",17),l.qZA()(),l.TgZ(34,"p")(35,"b"),l._uU(36,"Company Details"),l.qZA()(),l.TgZ(37,"div",7)(38,"div",8)(39,"label",18),l._uU(40,"Company"),l.qZA()(),l.TgZ(41,"div",10),l._UZ(42,"input",19),l.qZA()(),l.TgZ(43,"div",7)(44,"div",8)(45,"label",20),l._uU(46,"Position"),l.qZA()(),l.TgZ(47,"div",10),l._UZ(48,"input",21),l.qZA()(),l.TgZ(49,"div",7)(50,"div",8)(51,"label",22),l._uU(52,"Department"),l.qZA()(),l.TgZ(53,"div",10),l._UZ(54,"input",23),l.qZA()(),l.TgZ(55,"div",24)(56,"div",8)(57,"label",25),l._uU(58,"Address"),l.qZA()(),l.TgZ(59,"div",10),l._UZ(60,"input",26),l.qZA()()()()()()()()()),2&s&&(l.xp6(6),l.Q6J("formGroup",h.typeValidationForm))},dependencies:[he._Y,he.Fj,he.JJ,he.JL,he.sg,he.u],styles:[".card[_ngcontent-%COMP%]{border:none;background-color:#f5ebeb;border-radius:24px}"]}),u})(),Gs=(()=>{class u{constructor(s,h,b){this.formBuilder=s,this.sharedService=h,this.auth=b,this.designData=[],this.user=null,this.getDesignData=[],this.fontFamily=new he.NI("arial",[he.kI.required]),this.fontSize=new he.NI(16,[he.kI.required]),this.templateColor=new he.NI("#4A4F50",[he.kI.required]),this.backgroundColor=new he.NI("#FFFFFF",[he.kI.required]),b.user.subscribe(S=>this.user=S),this.typeValidationForm=this.formBuilder.group({fontFamily:this.fontFamily,fontSize:this.fontSize,templateColor:this.templateColor,backgroundColor:this.backgroundColor}),this.FormData=this.typeValidationForm.controls,this.sharedService.designData$.subscribe(S=>{this.designData=S})}get f(){return this.typeValidationForm.controls}ngOnInit(){this.sharedService.setDesignData(this.FormData),this.getDesignForm()}getDesignForm(){this.sharedService.getSignatureData().subscribe(s=>{if(this.getDesignData=[],s.forEach((b,S)=>{b.payload.doc.data().uid==this.user?.uid&&this.getDesignData.push({uid:b.payload.doc.uid,...b.payload.doc.data()})}),this.getDesignData.length>0){var h=this.getDesignData[0].designForm;this.typeValidationForm.patchValue({backgroundColor:h.backgroundColor,fontFamily:h.fontFamily,fontSize:h.fontSize,templateColor:h.templateColor})}})}}return u.\u0275fac=function(s){return new(s||u)(l.Y36(he.qu),l.Y36(sr),l.Y36(Ce.zQ))},u.\u0275cmp=l.Xpm({type:u,selectors:[["app-design"]],decls:55,vars:1,consts:[[1,"container"],[1,"row"],[1,"col-md-12","col-lg-6","col-xl-12"],[1,"card","overflow-hidden","shadow","p-3","mb-5","rounded"],[1,"card-body","pt-0","pb-5","mb-5"],[1,"p-2"],[1,"col-md-12"],[3,"formGroup"],[1,"mb-3","row"],[1,"col-md-4"],[1,""],[1,"col-md-8"],["id","fonFomily","formControlName","fontFamily",1,"form-control"],["value","arial","selected","",1,"bg-slate-700"],["value","inter",1,"bg-slate-700"],["value","verdana",1,"bg-slate-700"],["value","tahoma",1,"bg-slate-700"],["value","trebuchet",1,"bg-slate-700"],["value","timeNewRoman",1,"bg-slate-700"],["value","georgia",1,"bg-slate-700"],["value","garamond",1,"bg-slate-700"],["value","courierNew",1,"bg-slate-700"],["value","brushScriptMt",1,"bg-slate-700"],["type","range","min","10","max","30","formControlName","fontSize",1,"form-range"],[1,"mb-4","row"],[1,"inline-block","mb-2","col-span-1"],["type","color","value","#fefefe","formControlName","templateColor",1,""],[1,"mb-5","row"],["type","color","formControlName","backgroundColor"]],template:function(s,h){1&s&&(l.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"p")(8,"b"),l._uU(9,"Layout"),l.qZA()()(),l.TgZ(10,"form",7)(11,"div",8)(12,"div",9)(13,"label",10),l._uU(14,"Font family"),l.qZA()(),l.TgZ(15,"div",11)(16,"select",12)(17,"option",13),l._uU(18,"Arial (sans-serif)"),l.qZA(),l.TgZ(19,"option",14),l._uU(20,"Inter, sans-serif"),l.qZA(),l.TgZ(21,"option",15),l._uU(22,"Verdana (sans-serif)"),l.qZA(),l.TgZ(23,"option",16),l._uU(24,"Tahoma (sans-serif)"),l.qZA(),l.TgZ(25,"option",17),l._uU(26,"Trebuchet MS (sans-serif)"),l.qZA(),l.TgZ(27,"option",18),l._uU(28,"Times New Roman (serif)"),l.qZA(),l.TgZ(29,"option",19),l._uU(30,"Georgia (serif)"),l.qZA(),l.TgZ(31,"option",20),l._uU(32,"Garamond (serif)"),l.qZA(),l.TgZ(33,"option",21),l._uU(34,"Courier New (monospace)"),l.qZA(),l.TgZ(35,"option",22),l._uU(36,"Brush Script MT (cursive)"),l.qZA()()()(),l.TgZ(37,"div",8)(38,"div",9)(39,"label",10),l._uU(40,"Font size"),l.qZA()(),l.TgZ(41,"div",11),l._UZ(42,"input",23),l.qZA()(),l.TgZ(43,"div",24)(44,"div",9)(45,"label",25),l._uU(46,"Template color"),l.qZA()(),l.TgZ(47,"div",11),l._UZ(48,"input",26),l.qZA()(),l.TgZ(49,"div",27)(50,"div",9)(51,"label",25),l._uU(52,"Background color"),l.qZA()(),l.TgZ(53,"div",11),l._UZ(54,"input",28),l.qZA()()()()()()()()()),2&s&&(l.xp6(10),l.Q6J("formGroup",h.typeValidationForm))},dependencies:[he._Y,he.YN,he.Kr,he.Fj,he.eT,he.EJ,he.JJ,he.JL,he.sg,he.u],styles:[".card[_ngcontent-%COMP%]{border:none;background-color:#f5ebeb;border-radius:24px}"]}),u})();var go=B(4351),li=B(9300);class Rs{}class mo{}class Wi{constructor(f){this.normalizedNames=new Map,this.lazyUpdate=null,f?this.lazyInit="string"==typeof f?()=>{this.headers=new Map,f.split("\n").forEach(s=>{const h=s.indexOf(":");if(h>0){const b=s.slice(0,h),S=b.toLowerCase(),J=s.slice(h+1).trim();this.maybeSetNormalizedName(b,S),this.headers.has(S)?this.headers.get(S).push(J):this.headers.set(S,[J])}})}:()=>{this.headers=new Map,Object.keys(f).forEach(s=>{let h=f[s];const b=s.toLowerCase();"string"==typeof h&&(h=[h]),h.length>0&&(this.headers.set(b,h),this.maybeSetNormalizedName(s,b))})}:this.headers=new Map}has(f){return this.init(),this.headers.has(f.toLowerCase())}get(f){this.init();const s=this.headers.get(f.toLowerCase());return s&&s.length>0?s[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(f){return this.init(),this.headers.get(f.toLowerCase())||null}append(f,s){return this.clone({name:f,value:s,op:"a"})}set(f,s){return this.clone({name:f,value:s,op:"s"})}delete(f,s){return this.clone({name:f,value:s,op:"d"})}maybeSetNormalizedName(f,s){this.normalizedNames.has(s)||this.normalizedNames.set(s,f)}init(){this.lazyInit&&(this.lazyInit instanceof Wi?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(f=>this.applyUpdate(f)),this.lazyUpdate=null))}copyFrom(f){f.init(),Array.from(f.headers.keys()).forEach(s=>{this.headers.set(s,f.headers.get(s)),this.normalizedNames.set(s,f.normalizedNames.get(s))})}clone(f){const s=new Wi;return s.lazyInit=this.lazyInit&&this.lazyInit instanceof Wi?this.lazyInit:this,s.lazyUpdate=(this.lazyUpdate||[]).concat([f]),s}applyUpdate(f){const s=f.name.toLowerCase();switch(f.op){case"a":case"s":let h=f.value;if("string"==typeof h&&(h=[h]),0===h.length)return;this.maybeSetNormalizedName(f.name,s);const b=("a"===f.op?this.headers.get(s):void 0)||[];b.push(...h),this.headers.set(s,b);break;case"d":const S=f.value;if(S){let J=this.headers.get(s);if(!J)return;J=J.filter(ae=>-1===S.indexOf(ae)),0===J.length?(this.headers.delete(s),this.normalizedNames.delete(s)):this.headers.set(s,J)}else this.headers.delete(s),this.normalizedNames.delete(s)}}forEach(f){this.init(),Array.from(this.normalizedNames.keys()).forEach(s=>f(this.normalizedNames.get(s),this.headers.get(s)))}}class _a{encodeKey(f){return ta(f)}encodeValue(f){return ta(f)}decodeKey(f){return decodeURIComponent(f)}decodeValue(f){return decodeURIComponent(f)}}const Os=/%(\d[a-f0-9])/gi,ea={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function ta(u){return encodeURIComponent(u).replace(Os,(f,s)=>ea[s]??f)}function ya(u){return`${u}`}class Ds{constructor(f={}){if(this.updates=null,this.cloneFrom=null,this.encoder=f.encoder||new _a,f.fromString){if(f.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Oa(u,f){const s=new Map;return u.length>0&&u.replace(/^\?/,"").split("&").forEach(b=>{const S=b.indexOf("="),[J,ae]=-1==S?[f.decodeKey(b),""]:[f.decodeKey(b.slice(0,S)),f.decodeValue(b.slice(S+1))],pe=s.get(J)||[];pe.push(ae),s.set(J,pe)}),s}(f.fromString,this.encoder)}else f.fromObject?(this.map=new Map,Object.keys(f.fromObject).forEach(s=>{const h=f.fromObject[s],b=Array.isArray(h)?h.map(ya):[ya(h)];this.map.set(s,b)})):this.map=null}has(f){return this.init(),this.map.has(f)}get(f){this.init();const s=this.map.get(f);return s?s[0]:null}getAll(f){return this.init(),this.map.get(f)||null}keys(){return this.init(),Array.from(this.map.keys())}append(f,s){return this.clone({param:f,value:s,op:"a"})}appendAll(f){const s=[];return Object.keys(f).forEach(h=>{const b=f[h];Array.isArray(b)?b.forEach(S=>{s.push({param:h,value:S,op:"a"})}):s.push({param:h,value:b,op:"a"})}),this.clone(s)}set(f,s){return this.clone({param:f,value:s,op:"s"})}delete(f,s){return this.clone({param:f,value:s,op:"d"})}toString(){return this.init(),this.keys().map(f=>{const s=this.encoder.encodeKey(f);return this.map.get(f).map(h=>s+"="+this.encoder.encodeValue(h)).join("&")}).filter(f=>""!==f).join("&")}clone(f){const s=new Ds({encoder:this.encoder});return s.cloneFrom=this.cloneFrom||this,s.updates=(this.updates||[]).concat(f),s}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(f=>this.map.set(f,this.cloneFrom.map.get(f))),this.updates.forEach(f=>{switch(f.op){case"a":case"s":const s=("a"===f.op?this.map.get(f.param):void 0)||[];s.push(ya(f.value)),this.map.set(f.param,s);break;case"d":if(void 0===f.value){this.map.delete(f.param);break}{let h=this.map.get(f.param)||[];const b=h.indexOf(ya(f.value));-1!==b&&h.splice(b,1),h.length>0?this.map.set(f.param,h):this.map.delete(f.param)}}}),this.cloneFrom=this.updates=null)}}class Pa{constructor(){this.map=new Map}set(f,s){return this.map.set(f,s),this}get(f){return this.map.has(f)||this.map.set(f,f.defaultValue()),this.map.get(f)}delete(f){return this.map.delete(f),this}has(f){return this.map.has(f)}keys(){return this.map.keys()}}function mi(u){return typeof ArrayBuffer<"u"&&u instanceof ArrayBuffer}function gs(u){return typeof Blob<"u"&&u instanceof Blob}function Or(u){return typeof FormData<"u"&&u instanceof FormData}class So{constructor(f,s,h,b){let S;if(this.url=s,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=f.toUpperCase(),function pl(u){switch(u){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||b?(this.body=void 0!==h?h:null,S=b):S=h,S&&(this.reportProgress=!!S.reportProgress,this.withCredentials=!!S.withCredentials,S.responseType&&(this.responseType=S.responseType),S.headers&&(this.headers=S.headers),S.context&&(this.context=S.context),S.params&&(this.params=S.params)),this.headers||(this.headers=new Wi),this.context||(this.context=new Pa),this.params){const J=this.params.toString();if(0===J.length)this.urlWithParams=s;else{const ae=s.indexOf("?");this.urlWithParams=s+(-1===ae?"?":ae<s.length-1?"&":"")+J}}else this.params=new Ds,this.urlWithParams=s}serializeBody(){return null===this.body?null:mi(this.body)||gs(this.body)||Or(this.body)||function Vo(u){return typeof URLSearchParams<"u"&&u instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ds?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Or(this.body)?null:gs(this.body)?this.body.type||null:mi(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ds?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(f={}){const s=f.method||this.method,h=f.url||this.url,b=f.responseType||this.responseType,S=void 0!==f.body?f.body:this.body,J=void 0!==f.withCredentials?f.withCredentials:this.withCredentials,ae=void 0!==f.reportProgress?f.reportProgress:this.reportProgress;let pe=f.headers||this.headers,Oe=f.params||this.params;const ut=f.context??this.context;return void 0!==f.setHeaders&&(pe=Object.keys(f.setHeaders).reduce((Gt,$t)=>Gt.set($t,f.setHeaders[$t]),pe)),f.setParams&&(Oe=Object.keys(f.setParams).reduce((Gt,$t)=>Gt.set($t,f.setParams[$t]),Oe)),new So(s,h,S,{params:Oe,headers:pe,context:ut,reportProgress:ae,responseType:b,withCredentials:J})}}var _i=(()=>((_i=_i||{})[_i.Sent=0]="Sent",_i[_i.UploadProgress=1]="UploadProgress",_i[_i.ResponseHeader=2]="ResponseHeader",_i[_i.DownloadProgress=3]="DownloadProgress",_i[_i.Response=4]="Response",_i[_i.User=5]="User",_i))();class Fa{constructor(f,s=200,h="OK"){this.headers=f.headers||new Wi,this.status=void 0!==f.status?f.status:s,this.statusText=f.statusText||h,this.url=f.url||null,this.ok=this.status>=200&&this.status<300}}class La extends Fa{constructor(f={}){super(f),this.type=_i.ResponseHeader}clone(f={}){return new La({headers:f.headers||this.headers,status:void 0!==f.status?f.status:this.status,statusText:f.statusText||this.statusText,url:f.url||this.url||void 0})}}class Ka extends Fa{constructor(f={}){super(f),this.type=_i.Response,this.body=void 0!==f.body?f.body:null}clone(f={}){return new Ka({body:void 0!==f.body?f.body:this.body,headers:f.headers||this.headers,status:void 0!==f.status?f.status:this.status,statusText:f.statusText||this.statusText,url:f.url||this.url||void 0})}}class gl extends Fa{constructor(f){super(f,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${f.url||"(unknown url)"}`:`Http failure response for ${f.url||"(unknown url)"}: ${f.status} ${f.statusText}`,this.error=f.error||null}}function qi(u,f){return{body:f,headers:u.headers,context:u.context,observe:u.observe,params:u.params,reportProgress:u.reportProgress,responseType:u.responseType,withCredentials:u.withCredentials}}let Va=(()=>{class u{constructor(s){this.handler=s}request(s,h,b={}){let S;if(s instanceof So)S=s;else{let pe,Oe;pe=b.headers instanceof Wi?b.headers:new Wi(b.headers),b.params&&(Oe=b.params instanceof Ds?b.params:new Ds({fromObject:b.params})),S=new So(s,h,void 0!==b.body?b.body:null,{headers:pe,context:b.context,params:Oe,reportProgress:b.reportProgress,responseType:b.responseType||"json",withCredentials:b.withCredentials})}const J=(0,de.of)(S).pipe((0,go.b)(pe=>this.handler.handle(pe)));if(s instanceof So||"events"===b.observe)return J;const ae=J.pipe((0,li.h)(pe=>pe instanceof Ka));switch(b.observe||"body"){case"body":switch(S.responseType){case"arraybuffer":return ae.pipe((0,Ke.U)(pe=>{if(null!==pe.body&&!(pe.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return pe.body}));case"blob":return ae.pipe((0,Ke.U)(pe=>{if(null!==pe.body&&!(pe.body instanceof Blob))throw new Error("Response is not a Blob.");return pe.body}));case"text":return ae.pipe((0,Ke.U)(pe=>{if(null!==pe.body&&"string"!=typeof pe.body)throw new Error("Response is not a string.");return pe.body}));default:return ae.pipe((0,Ke.U)(pe=>pe.body))}case"response":return ae;default:throw new Error(`Unreachable: unhandled observe type ${b.observe}}`)}}delete(s,h={}){return this.request("DELETE",s,h)}get(s,h={}){return this.request("GET",s,h)}head(s,h={}){return this.request("HEAD",s,h)}jsonp(s,h){return this.request("JSONP",s,{params:(new Ds).append(h,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(s,h={}){return this.request("OPTIONS",s,h)}patch(s,h,b={}){return this.request("PATCH",s,qi(b,h))}post(s,h,b={}){return this.request("POST",s,qi(b,h))}put(s,h,b={}){return this.request("PUT",s,qi(b,h))}}return u.\u0275fac=function(s){return new(s||u)(l.LFG(Rs))},u.\u0275prov=l.Yz7({token:u,factory:u.\u0275fac}),u})();class Pl{constructor(f,s){this.next=f,this.interceptor=s}handle(f){return this.interceptor.intercept(f,this.next)}}const Ua=new l.OlP("HTTP_INTERCEPTORS");let Cu=(()=>{class u{intercept(s,h){return h.handle(s)}}return u.\u0275fac=function(s){return new(s||u)},u.\u0275prov=l.Yz7({token:u,factory:u.\u0275fac}),u})();const L=/^\)\]\}',?\n/;let be=(()=>{class u{constructor(s){this.xhrFactory=s}handle(s){if("JSONP"===s.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new ce.y(h=>{const b=this.xhrFactory.build();if(b.open(s.method,s.urlWithParams),s.withCredentials&&(b.withCredentials=!0),s.headers.forEach((Ut,on)=>b.setRequestHeader(Ut,on.join(","))),s.headers.has("Accept")||b.setRequestHeader("Accept","application/json, text/plain, */*"),!s.headers.has("Content-Type")){const Ut=s.detectContentTypeHeader();null!==Ut&&b.setRequestHeader("Content-Type",Ut)}if(s.responseType){const Ut=s.responseType.toLowerCase();b.responseType="json"!==Ut?Ut:"text"}const S=s.serializeBody();let J=null;const ae=()=>{if(null!==J)return J;const Ut=b.statusText||"OK",on=new Wi(b.getAllResponseHeaders()),Gn=function X(u){return"responseURL"in u&&u.responseURL?u.responseURL:/^X-Request-URL:/m.test(u.getAllResponseHeaders())?u.getResponseHeader("X-Request-URL"):null}(b)||s.url;return J=new La({headers:on,status:b.status,statusText:Ut,url:Gn}),J},pe=()=>{let{headers:Ut,status:on,statusText:Gn,url:dr}=ae(),Tr=null;204!==on&&(Tr=typeof b.response>"u"?b.responseText:b.response),0===on&&(on=Tr?200:0);let Gr=on>=200&&on<300;if("json"===s.responseType&&"string"==typeof Tr){const Fi=Tr;Tr=Tr.replace(L,"");try{Tr=""!==Tr?JSON.parse(Tr):null}catch(vi){Tr=Fi,Gr&&(Gr=!1,Tr={error:vi,text:Tr})}}Gr?(h.next(new Ka({body:Tr,headers:Ut,status:on,statusText:Gn,url:dr||void 0})),h.complete()):h.error(new gl({error:Tr,headers:Ut,status:on,statusText:Gn,url:dr||void 0}))},Oe=Ut=>{const{url:on}=ae(),Gn=new gl({error:Ut,status:b.status||0,statusText:b.statusText||"Unknown Error",url:on||void 0});h.error(Gn)};let ut=!1;const Gt=Ut=>{ut||(h.next(ae()),ut=!0);let on={type:_i.DownloadProgress,loaded:Ut.loaded};Ut.lengthComputable&&(on.total=Ut.total),"text"===s.responseType&&!!b.responseText&&(on.partialText=b.responseText),h.next(on)},$t=Ut=>{let on={type:_i.UploadProgress,loaded:Ut.loaded};Ut.lengthComputable&&(on.total=Ut.total),h.next(on)};return b.addEventListener("load",pe),b.addEventListener("error",Oe),b.addEventListener("timeout",Oe),b.addEventListener("abort",Oe),s.reportProgress&&(b.addEventListener("progress",Gt),null!==S&&b.upload&&b.upload.addEventListener("progress",$t)),b.send(S),h.next({type:_i.Sent}),()=>{b.removeEventListener("error",Oe),b.removeEventListener("abort",Oe),b.removeEventListener("load",pe),b.removeEventListener("timeout",Oe),s.reportProgress&&(b.removeEventListener("progress",Gt),null!==S&&b.upload&&b.upload.removeEventListener("progress",$t)),b.readyState!==b.DONE&&b.abort()}})}}return u.\u0275fac=function(s){return new(s||u)(l.LFG(v.JF))},u.\u0275prov=l.Yz7({token:u,factory:u.\u0275fac}),u})();const ot=new l.OlP("XSRF_COOKIE_NAME"),bt=new l.OlP("XSRF_HEADER_NAME");class vn{}let On=(()=>{class u{constructor(s,h,b){this.doc=s,this.platform=h,this.cookieName=b,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const s=this.doc.cookie||"";return s!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,v.Mx)(s,this.cookieName),this.lastCookieString=s),this.lastToken}}return u.\u0275fac=function(s){return new(s||u)(l.LFG(v.K0),l.LFG(l.Lbi),l.LFG(ot))},u.\u0275prov=l.Yz7({token:u,factory:u.\u0275fac}),u})(),Yn=(()=>{class u{constructor(s,h){this.tokenService=s,this.headerName=h}intercept(s,h){const b=s.url.toLowerCase();if("GET"===s.method||"HEAD"===s.method||b.startsWith("http://")||b.startsWith("https://"))return h.handle(s);const S=this.tokenService.getToken();return null!==S&&!s.headers.has(this.headerName)&&(s=s.clone({headers:s.headers.set(this.headerName,S)})),h.handle(s)}}return u.\u0275fac=function(s){return new(s||u)(l.LFG(vn),l.LFG(bt))},u.\u0275prov=l.Yz7({token:u,factory:u.\u0275fac}),u})(),pr=(()=>{class u{constructor(s,h){this.backend=s,this.injector=h,this.chain=null}handle(s){if(null===this.chain){const h=this.injector.get(Ua,[]);this.chain=h.reduceRight((b,S)=>new Pl(b,S),this.backend)}return this.chain.handle(s)}}return u.\u0275fac=function(s){return new(s||u)(l.LFG(mo),l.LFG(l.zs3))},u.\u0275prov=l.Yz7({token:u,factory:u.\u0275fac}),u})(),mt=(()=>{class u{static disable(){return{ngModule:u,providers:[{provide:Yn,useClass:Cu}]}}static withOptions(s={}){return{ngModule:u,providers:[s.cookieName?{provide:ot,useValue:s.cookieName}:[],s.headerName?{provide:bt,useValue:s.headerName}:[]]}}}return u.\u0275fac=function(s){return new(s||u)},u.\u0275mod=l.oAB({type:u}),u.\u0275inj=l.cJS({providers:[Yn,{provide:Ua,useExisting:Yn,multi:!0},{provide:vn,useClass:On},{provide:ot,useValue:"XSRF-TOKEN"},{provide:bt,useValue:"X-XSRF-TOKEN"}]}),u})(),Er=(()=>{class u{}return u.\u0275fac=function(s){return new(s||u)},u.\u0275mod=l.oAB({type:u}),u.\u0275inj=l.cJS({providers:[Va,{provide:Rs,useClass:pr},be,{provide:mo,useExisting:be}],imports:[mt.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),u})(),ln=(()=>{class u{constructor(s,h,b,S){this.formBuilder=s,this.sharedService=h,this.httpClient=b,this.auth=S,this.user=null,this.socialMediaData=[],this.facebookLink=new he.NI("",[he.kI.required]),this.twitterLink=new he.NI("",[he.kI.required]),this.youtubeLink=new he.NI("",[he.kI.required]),this.instagramLink=new he.NI("",[he.kI.required]),this.linkedinLink=new he.NI("",[he.kI.required]),this.pinterestLink=new he.NI("",[he.kI.required]),this.getBFData=[],S.user.subscribe(J=>this.user=J),this.typeValidationForm=this.formBuilder.group({facebookLink:this.facebookLink,twitterLink:this.twitterLink,youtubeLink:this.youtubeLink,instagramLink:this.instagramLink,linkedinLink:this.linkedinLink,pinterestLink:this.pinterestLink}),this.FormData=this.typeValidationForm.controls,this.sharedService.socialMediaData$.subscribe(J=>{this.socialMediaData=J})}get f(){return this.typeValidationForm.controls}ngOnInit(){this.sharedService.setSocialMediaData(this.FormData),this.getSocialForm()}getSocialForm(){this.sharedService.getSignatureData(),this.sharedService.getSignatureData().subscribe(h=>{if(this.getBFData=[],h.forEach((S,J)=>{S.payload.doc.data().uid==this.user?.uid&&this.getBFData.push({uid:S.payload.doc.uid,...S.payload.doc.data()})}),this.getBFData.length>0){var b=this.getBFData[0].socialMedia;this.typeValidationForm.patchValue({facebookLink:b.facebookLink,twitterLink:b.twitterLink,youtubeLink:b.youtubeLink,instagramLink:b.instagramLink,linkedinLink:b.linkedinLink,pinterestLink:b.pinterestLink})}})}}return u.\u0275fac=function(s){return new(s||u)(l.Y36(he.qu),l.Y36(sr),l.Y36(Va),l.Y36(Ce.zQ))},u.\u0275cmp=l.Xpm({type:u,selectors:[["app-social-form"]],decls:47,vars:1,consts:[[1,"container"],[1,"row"],[1,"col-md-12","col-lg-6","col-xl-12"],[1,"card","overflow-hidden","shadow","p-3","mb-5","rounded"],[1,"card-body","pt-0"],[1,"col-md-12"],[1,"p-2"],[3,"formGroup"],[1,"mb-3","row"],[1,"wrapper","col-3","col-lg-2"],[1,"social-icons","icon-circle","icon-zoom","list-unstyled","list-inline"],["src","assets/images/facebook.png","alt","facebook"],[1,"col-9","col-lg-8","mt-4"],["type","text","formControlName","facebookLink","placeholder","Social Media Link",1,"form-control"],["src","assets/images/twitter.png","alt","twitter"],["type","text","formControlName","twitterLink","placeholder","Social Media Link",1,"form-control"],["src","assets/images/youtube.png","alt","youtube"],["type","text","formControlName","youtubeLink","placeholder","Social Media Link",1,"form-control"],["src","assets/images/instagram.png","alt","instagram"],["type","text","formControlName","instagramLink","placeholder","Social Media Link",1,"form-control"],["src","assets/images/linkedin.png","alt","linkedin"],["type","text","formControlName","linkedinLink","placeholder","Social Media Link",1,"form-control"],["src","assets/images/pinterest.png","alt","pinterest"],["type","text","formControlName","pinterestLink","placeholder","Social Media Link",1,"form-control"]],template:function(s,h){1&s&&(l.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"p")(7,"b"),l._uU(8,"Social Media Links"),l.qZA()()(),l.TgZ(9,"div",6)(10,"form",7)(11,"div",8)(12,"div",9)(13,"div",10),l._UZ(14,"img",11),l.qZA()(),l.TgZ(15,"div",12),l._UZ(16,"input",13),l.qZA()(),l.TgZ(17,"div",8)(18,"div",9)(19,"div",10),l._UZ(20,"img",14),l.qZA()(),l.TgZ(21,"div",12),l._UZ(22,"input",15),l.qZA()(),l.TgZ(23,"div",8)(24,"div",9)(25,"div",10),l._UZ(26,"img",16),l.qZA()(),l.TgZ(27,"div",12),l._UZ(28,"input",17),l.qZA()(),l.TgZ(29,"div",8)(30,"div",9)(31,"div",10),l._UZ(32,"img",18),l.qZA()(),l.TgZ(33,"div",12),l._UZ(34,"input",19),l.qZA()(),l.TgZ(35,"div",8)(36,"div",9)(37,"div",10),l._UZ(38,"img",20),l.qZA()(),l.TgZ(39,"div",12),l._UZ(40,"input",21),l.qZA()(),l.TgZ(41,"div",8)(42,"div",9)(43,"div",10),l._UZ(44,"img",22),l.qZA()(),l.TgZ(45,"div",12),l._UZ(46,"input",23),l.qZA()()()()()()()()()),2&s&&(l.xp6(10),l.Q6J("formGroup",h.typeValidationForm))},dependencies:[he._Y,he.Fj,he.JJ,he.JL,he.sg,he.u],styles:[".card[_ngcontent-%COMP%]{border:none;background-color:#f5ebeb;border-radius:24px}img[_ngcontent-%COMP%]{width:30px;height:20px;margin-top:10px}.wrapper[_ngcontent-%COMP%], .copyright[_ngcontent-%COMP%]{padding:20px;text-align:center}hr[_ngcontent-%COMP%]{margin:30px 20px;border-top:2px solid #1C1E26;border-bottom:2px solid #38404D}.list-unstyled[_ngcontent-%COMP%]{padding-left:0;list-style:none}.list-inline[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline-block;padding-right:5px;padding-left:5px;margin-bottom:10px}"]}),u})(),en=(()=>{class u{constructor(){this.name="!!!",this.viewMode="tab1",this.tabValue="general"}ngOnInit(){}tabChange(s){this.tabValue=s}}return u.\u0275fac=function(s){return new(s||u)},u.\u0275cmp=l.Xpm({type:u,selectors:[["app-form-nav-bar"]],decls:19,vars:9,consts:[[1,"row"],[1,"text-center","col-12","col-lg-12"],[1,"active",3,"click"],[3,"click"],[1,"col-12","col-lg-12"],[3,"hidden"]],template:function(s,h){1&s&&(l.TgZ(0,"div",0)(1,"ul",1)(2,"li")(3,"a",2),l.NdJ("click",function(){return h.tabChange("general")}),l._uU(4,"General"),l.qZA()(),l.TgZ(5,"li")(6,"a",3),l.NdJ("click",function(){return h.tabChange("social")}),l._uU(7,"Social"),l.qZA()(),l.TgZ(8,"li")(9,"a",3),l.NdJ("click",function(){return h.tabChange("design")}),l._uU(10,"Design"),l.qZA()()()(),l.TgZ(11,"div",0)(12,"div",4)(13,"div",5),l._UZ(14,"app-basic-form"),l.qZA(),l.TgZ(15,"div",5),l._UZ(16,"app-social-form"),l.qZA(),l.TgZ(17,"div",5),l._UZ(18,"app-design"),l.qZA()()()),2&s&&(l.xp6(3),l.ekj("color","general"===h.tabValue),l.xp6(3),l.ekj("color","social"===h.tabValue),l.xp6(3),l.ekj("color","design"===h.tabValue),l.xp6(4),l.Q6J("hidden","general"!==h.tabValue),l.xp6(2),l.Q6J("hidden","social"!==h.tabValue),l.xp6(2),l.Q6J("hidden","design"!==h.tabValue))},dependencies:[ks,Gs,ln],styles:[".main[_ngcontent-%COMP%]{background-color:#f0f8ff}.color[_ngcontent-%COMP%]{color:#dd2022}ul[_ngcontent-%COMP%]{margin:6;padding:0}ul[_ngcontent-%COMP%], li[_ngcontent-%COMP%]{display:inline-block}li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;color:#0c0909;padding:10px 25px;text-decoration:none;border-radius:40px}li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#cf8788;color:#fff}.icon[_ngcontent-%COMP%]{margin-right:10px}"]}),u})();var na=B(1481);function Ft(u,f){1&u&&(l.TgZ(0,"span",10),l._uU(1,"|"),l.qZA())}function rt(u,f){if(1&u&&(l.TgZ(0,"span")(1,"label")(2,"span",10),l._uU(3,"M"),l.qZA(),l._uU(4),l.qZA(),l._UZ(5,"br"),l.qZA()),2&u){const s=l.oxw();l.xp6(4),l.hij(" : ",s.sharedData.mobileNo.value,"")}}function St(u,f){if(1&u&&(l.TgZ(0,"span")(1,"label")(2,"span",10),l._uU(3,"C"),l.qZA(),l._uU(4),l.qZA(),l._UZ(5,"br"),l.qZA()),2&u){const s=l.oxw();l.xp6(4),l.hij(" : ",s.sharedData.company.value,"")}}function Ei(u,f){if(1&u&&(l.TgZ(0,"span")(1,"label")(2,"span",10),l._uU(3,"E"),l.qZA(),l._uU(4),l.qZA(),l._UZ(5,"br"),l.qZA()),2&u){const s=l.oxw();l.xp6(4),l.hij(" : ",s.sharedData.email.value,"")}}function Bo(u,f){if(1&u&&(l.TgZ(0,"span")(1,"label")(2,"span",10),l._uU(3,"A"),l.qZA(),l._uU(4),l.qZA()()),2&u){const s=l.oxw();l.xp6(4),l.hij(" : ",s.sharedData.address.value,"")}}function tc(u,f){if(1&u&&(l.TgZ(0,"div",29),l._uU(1),l.qZA()),2&u){const s=l.oxw();l.Gre("alert alert-",s.alertColor,""),l.xp6(1),l.hij(" ",s.showSuccessMessage," ")}}let Vl=(()=>{class u{constructor(s,h,b,S){this.sharedService=s,this.auth=h,this._router=b,this.sanitizer=S,this.user=null,this.showSuccess=!1,this.showSuccessMessage="",this.alertColor="primary",h.user.subscribe(J=>this.user=J)}ngOnInit(){this.getBasicData(),this.getSocialMediaData(),this.getDesignData()}getBasicData(){this.sharedService.basicData$.subscribe(s=>{s&&(this.sharedData=s)})}getSocialMediaData(){this.sharedService.socialMediaData$.subscribe(s=>{s&&(this.socialMediaData=s)})}getDesignData(){this.sharedService.designData$.subscribe(s=>{s&&(this.designData=s)})}onSubmit(){var s=this;return(0,x.Z)(function*(){if(s.user?.uid){s.data={uid:s.user?.uid,basicForm:{fname:s.sharedData.fname.value,lname:s.sharedData.lname.value,email:s.sharedData.email.value,mobileNo:s.sharedData.mobileNo.value,company:s.sharedData.company.value,position:s.sharedData.position.value,department:s.sharedData.department.value,address:s.sharedData.address.value},socialMedia:{facebookLink:s.socialMediaData.facebookLink.value,twitterLink:s.socialMediaData.twitterLink.value,youtubeLink:s.socialMediaData.youtubeLink.value,instagramLink:s.socialMediaData.instagramLink.value,linkedinLink:s.socialMediaData.linkedinLink.value,pinterestLink:s.socialMediaData.pinterestLink.value},designForm:{fontFamily:s.designData.fontFamily.value,fontSize:s.designData.fontSize.value,templateColor:s.designData.templateColor.value,backgroundColor:s.designData.backgroundColor.value}};try{yield s.sharedService.createSign(s.data),s.showSuccessMessage="Success! New signature has been saved.",s.showSuccess=!0,s.alertColor="success",setTimeout(()=>{s.showSuccess=!1},2e3)}catch{s.showSuccessMessage="An unexpected error occurred. Please try again later",s.alertColor="danger "}}else s._router.navigateByUrl("/login")})()}copyToClip(){let s;if(s=document.getElementById("email-signature"),s=s.innerHTML,s){let h=function(b){b.clipboardData.setData("text/html",s),b.clipboardData.setData("text/plain",s),b.preventDefault()};document.addEventListener("copy",h),document.execCommand("copy"),document.removeEventListener("copy",h),this.showSuccess=!0,this.showSuccessMessage="Success!  Signature has been copied.",this.alertColor="success",setTimeout(()=>{this.showSuccess=!1},2e3)}else this.showSuccess=!0,this.showSuccessMessage="An unexpected error occurred. Please try again later",this.alertColor="danger ",setTimeout(()=>{this.showSuccess=!1},2e3)}}return u.\u0275fac=function(s){return new(s||u)(l.Y36(sr),l.Y36(Ce.zQ),l.Y36(K.F0),l.Y36(na.H7))},u.\u0275cmp=l.Xpm({type:u,selectors:[["app-signature"]],decls:68,vars:30,consts:[[1,"container"],[1,"card","shadow","mb-5","rounded"],[1,"card-header"],[1,"header-text"],["id","email-signature",1,"card-body","m-3","p-3"],["elementContentToCopy",""],[1,"p-2"],[1,"main"],[2,"width","100%","display","flex"],[2,"width","60%","margin-left","20px"],[2,"font-weight","bold"],["style"," font-weight: bold;",4,"ngIf"],[4,"ngIf"],[1,"col-md-12",2,"display","flex","margin-top","10px","margin-left","20px"],[1,"wrapper","col-md-2"],[1,"social-icons","icon-circle","icon-zoom","list-unstyled","list-inline",2,"width","20px","height","20px"],["target","_blank",3,"href"],["src","https://cdn0.iconfinder.com/data/icons/social-messaging-ui-color-shapes-2-free/128/social-facebook-2019-circle-512.png","alt","",2,"width","20px","height","20px"],["src","https://png.pngtree.com/png-vector/20221018/ourmid/pngtree-twitter-social-media-round-icon-png-image_6315985.png","alt","",2,"width","20px","height","20px"],[1,"social-icons","icon-circle","icon-zoom","list-unstyled","list-inline",2,"width","27px","height","22px"],["src","https://www.freepnglogos.com/uploads/youtube-logo-icon-transparent---32.png","alt","",2,"width","27px","height","22px"],["src","https://www.freepnglogos.com/uploads/logo-ig-png/logo-ig-instagram-new-logo-vector-download-13.png","alt","",2,"width","20px","height","20px"],["src","https://www.freepnglogos.com/uploads/linkedin-basic-round-social-logo-png-13.png","alt","",2,"width","20px","height","20px"],["src","https://www.freepnglogos.com/uploads/pinterest-logo-p-png-0.png","alt","",2,"width","20px","height","20px"],[1,"row","m-2"],[1,"col-md-12"],[1,"btn",3,"click"],["type","submit",1,"btn","float-end",3,"click"],["role","alert","style","position: fixed; bottom: 40px; right: 40px;",3,"class",4,"ngIf"],["role","alert",2,"position","fixed","bottom","40px","right","40px"]],template:function(s,h){1&s&&(l.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h5",3),l._uU(4,"Signature Preview"),l.qZA()(),l.TgZ(5,"div",4,5)(7,"div",6)(8,"div",7)(9,"div",8)(10,"div",9)(11,"span")(12,"label",10),l._uU(13),l.qZA(),l._uU(14," \xa0 "),l.TgZ(15,"label",10),l._uU(16),l.qZA(),l._UZ(17,"br"),l.TgZ(18,"label"),l._uU(19),l.qZA(),l._uU(20," \xa0 "),l.YNc(21,Ft,2,0,"span",11),l._uU(22," \xa0 "),l.TgZ(23,"label"),l._uU(24),l.qZA(),l._UZ(25,"br"),l.YNc(26,rt,6,1,"span",12),l.YNc(27,St,6,1,"span",12),l.YNc(28,Ei,6,1,"span",12),l.YNc(29,Bo,5,1,"span",12),l.qZA()()()(),l.TgZ(30,"div",13)(31,"div")(32,"div",14)(33,"div",15)(34,"a",16),l._UZ(35,"img",17),l.qZA()()()(),l.TgZ(36,"div")(37,"div",14)(38,"div",15)(39,"a",16),l._UZ(40,"img",18),l.qZA()()()(),l.TgZ(41,"div")(42,"div",14)(43,"div",19)(44,"a",16),l._UZ(45,"img",20),l.qZA()()()(),l.TgZ(46,"div")(47,"div",14)(48,"div",15)(49,"a",16),l._UZ(50,"img",21),l.qZA()()()(),l.TgZ(51,"div")(52,"div",14)(53,"div",15)(54,"a",16),l._UZ(55,"img",22),l.qZA()()()(),l.TgZ(56,"div")(57,"div",14)(58,"div",15)(59,"a",16),l._UZ(60,"img",23),l.qZA()()()()()()(),l.TgZ(61,"div",24)(62,"div",25)(63,"button",26),l.NdJ("click",function(){return h.copyToClip()}),l._uU(64," Copy Signature "),l.qZA(),l.TgZ(65,"button",27),l.NdJ("click",function(){return h.onSubmit()}),l._uU(66," Save Signature "),l.qZA()()()(),l.YNc(67,tc,2,4,"div",28),l.qZA()),2&s&&(l.xp6(7),l.Udp("background",h.designData.backgroundColor.value),l.xp6(4),l.Udp("font-family",h.designData.fontFamily.value)("font-size",h.designData.fontSize.value,"px")("color",h.designData.templateColor.value),l.xp6(2),l.hij(" ",h.sharedData.fname.value,""),l.xp6(3),l.Oqu(h.sharedData.lname.value),l.xp6(3),l.Oqu(h.sharedData.position.value),l.xp6(2),l.Q6J("ngIf",h.sharedData.department.value.length>0),l.xp6(3),l.Oqu(h.sharedData.department.value),l.xp6(2),l.Q6J("ngIf",h.sharedData.mobileNo.value.length>0),l.xp6(1),l.Q6J("ngIf",h.sharedData.company.value.length>0),l.xp6(1),l.Q6J("ngIf",h.sharedData.email.value.length>0),l.xp6(1),l.Q6J("ngIf",h.sharedData.address.value.length>0),l.xp6(1),l.Udp("font-family",h.designData.fontFamily.value)("font-size",h.designData.fontSize.value,"px")("color",h.designData.templateColor.value),l.xp6(4),l.MGl("href","",h.socialMediaData.facebookLink.value," ",l.LSH),l.xp6(5),l.MGl("href","",h.socialMediaData.twitterLink.value," ",l.LSH),l.xp6(5),l.MGl("href","",h.socialMediaData.youtubeLink.value," ",l.LSH),l.xp6(5),l.MGl("href","",h.socialMediaData.instagramLink.value," ",l.LSH),l.xp6(5),l.MGl("href","",h.socialMediaData.linkedinLink.value," ",l.LSH),l.xp6(5),l.MGl("href","",h.socialMediaData.pinterestLink.value," ",l.LSH),l.xp6(8),l.Q6J("ngIf",h.showSuccess))},dependencies:[v.O5],styles:[".card[_ngcontent-%COMP%]{border:none;background-color:#f5ebeb;border-radius:24px}.login-header[_ngcontent-%COMP%]{background-color:#e4d0d0}button[_ngcontent-%COMP%]{background-color:#d5b4b4}.top[_ngcontent-%COMP%]{display:flex}.image[_ngcontent-%COMP%]{width:20%;height:20%}.icon[_ngcontent-%COMP%]{display:inline-block;padding-right:5px;padding-left:5px;margin-bottom:10px}.card-header[_ngcontent-%COMP%]{height:60px;background-color:#867070}.header-text[_ngcontent-%COMP%]{padding-top:10px}.social-icons[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{font-size:1.4em}.social-icons[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{width:50px;height:50px;line-height:50px;text-align:center;color:#fff;color:#fffc;transition:all .3s ease-in-out}.social-icons.icon-circle[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{border-radius:50%}.social-icons.icon-rounded[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{border-radius:5px}.social-icons.icon-flat[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{border-radius:0}.social-icons[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]:hover, .social-icons[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]:active{color:#fff;box-shadow:1px 1px 3px #333}.social-icons.icon-zoom[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]:hover, .social-icons.icon-zoom[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]:active{transform:scale(1.1)}.social-icons.icon-rotate[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]:hover, .social-icons.icon-rotate[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]:active{transform:scale(1.1) rotate(360deg)}.social-icons[_ngcontent-%COMP%]   .fa-adn[_ngcontent-%COMP%]{background-color:#504e54}.social-icons[_ngcontent-%COMP%]   .fa-apple[_ngcontent-%COMP%]{background-color:#aeb5c5}.social-icons[_ngcontent-%COMP%]   .fa-android[_ngcontent-%COMP%]{background-color:#a5c63b}.social-icons[_ngcontent-%COMP%]   .fa-bitbucket[_ngcontent-%COMP%], .social-icons[_ngcontent-%COMP%]   .fa-bitbucket-square[_ngcontent-%COMP%]{background-color:#036}.social-icons[_ngcontent-%COMP%]   .fa-bitcoin[_ngcontent-%COMP%], .social-icons[_ngcontent-%COMP%]   .fa-btc[_ngcontent-%COMP%]{background-color:#f7931a}.social-icons[_ngcontent-%COMP%]   .fa-css3[_ngcontent-%COMP%]{background-color:#1572b7}.social-icons[_ngcontent-%COMP%]   .fa-dribbble[_ngcontent-%COMP%]{background-color:#f46899}.social-icons[_ngcontent-%COMP%]   .fa-dropbox[_ngcontent-%COMP%]{background-color:#018bd3}.social-icons[_ngcontent-%COMP%]   .fa-facebook[_ngcontent-%COMP%], .social-icons[_ngcontent-%COMP%]   .fa-facebook-square[_ngcontent-%COMP%]{background-color:#3c599f}.social-icons[_ngcontent-%COMP%]   .fa-flickr[_ngcontent-%COMP%]{background-color:#ff0084}.social-icons[_ngcontent-%COMP%]   .fa-foursquare[_ngcontent-%COMP%]{background-color:#0086be}.social-icons[_ngcontent-%COMP%]   .fa-github[_ngcontent-%COMP%], .social-icons[_ngcontent-%COMP%]   .fa-github-alt[_ngcontent-%COMP%], .social-icons[_ngcontent-%COMP%]   .fa-github-square[_ngcontent-%COMP%]{background-color:#070709}.social-icons[_ngcontent-%COMP%]   .fa-google-plus[_ngcontent-%COMP%], .social-icons[_ngcontent-%COMP%]   .fa-google-plus-square[_ngcontent-%COMP%]{background-color:#cf3d2e}.social-icons[_ngcontent-%COMP%]   .fa-html5[_ngcontent-%COMP%]{background-color:#e54d26}.social-icons[_ngcontent-%COMP%]   .fa-instagram[_ngcontent-%COMP%]{background-color:#a1755c}.social-icons[_ngcontent-%COMP%]   .fa-linkedin[_ngcontent-%COMP%], .social-icons[_ngcontent-%COMP%]   .fa-linkedin-square[_ngcontent-%COMP%]{background-color:#0085ae}.social-icons[_ngcontent-%COMP%]   .fa-linux[_ngcontent-%COMP%]{background-color:#fbc002;color:#333}.social-icons[_ngcontent-%COMP%]   .fa-maxcdn[_ngcontent-%COMP%]{background-color:#f6ae1c}.social-icons[_ngcontent-%COMP%]   .fa-pagelines[_ngcontent-%COMP%]{background-color:#241e20;color:#3984ea}.social-icons[_ngcontent-%COMP%]   .fa-pinterest[_ngcontent-%COMP%], .social-icons[_ngcontent-%COMP%]   .fa-pinterest-square[_ngcontent-%COMP%]{background-color:#cc2127}.social-icons[_ngcontent-%COMP%]   .fa-renren[_ngcontent-%COMP%]{background-color:#025dac}.social-icons[_ngcontent-%COMP%]   .fa-skype[_ngcontent-%COMP%]{background-color:#01aef2}.social-icons[_ngcontent-%COMP%]   .fa-stack-exchange[_ngcontent-%COMP%]{background-color:#245590}.social-icons[_ngcontent-%COMP%]   .fa-stack-overflow[_ngcontent-%COMP%]{background-color:#ff7300}.social-icons[_ngcontent-%COMP%]   .fa-trello[_ngcontent-%COMP%]{background-color:#265a7f}.social-icons[_ngcontent-%COMP%]   .fa-tumblr[_ngcontent-%COMP%], .social-icons[_ngcontent-%COMP%]   .fa-tumblr-square[_ngcontent-%COMP%]{background-color:#314e6c}.social-icons[_ngcontent-%COMP%]   .fa-twitter[_ngcontent-%COMP%], .social-icons[_ngcontent-%COMP%]   .fa-twitter-square[_ngcontent-%COMP%]{background-color:#32ccfe}.social-icons[_ngcontent-%COMP%]   .fa-vimeo-square[_ngcontent-%COMP%]{background-color:#229acc}.social-icons[_ngcontent-%COMP%]   .fa-vk[_ngcontent-%COMP%]{background-color:#375474}.social-icons[_ngcontent-%COMP%]   .fa-weibo[_ngcontent-%COMP%]{background-color:#d72b2b}.social-icons[_ngcontent-%COMP%]   .fa-windows[_ngcontent-%COMP%]{background-color:#12b6f3}.social-icons[_ngcontent-%COMP%]   .fa-xing[_ngcontent-%COMP%], .social-icons[_ngcontent-%COMP%]   .fa-xing-square[_ngcontent-%COMP%]{background-color:#00555c}.social-icons[_ngcontent-%COMP%]   .fa-youtube[_ngcontent-%COMP%], .social-icons[_ngcontent-%COMP%]   .fa-youtube-play[_ngcontent-%COMP%], .social-icons[_ngcontent-%COMP%]   .fa-youtube-square[_ngcontent-%COMP%]{background-color:#c52f30}"]}),u})();function eu(u,f){if(1&u){const s=l.EpF();l.TgZ(0,"div",7)(1,"button",8),l.NdJ("click",function(b){l.CHM(s);const S=l.oxw();return l.KtG(S.logout(b))}),l._uU(2,"Log Out"),l.qZA()()}}let ml=(()=>{class u{constructor(s,h,b){this.auth=s,this.afAuth=h,this._router=b,this.user=null}ngOnInit(){this.afAuth.user.subscribe(s=>this.user=s)}logout(s){var h=this;return(0,x.Z)(function*(){s.preventDefault(),yield h.afAuth.signOut(),h._router.navigateByUrl("/login")})()}}return u.\u0275fac=function(s){return new(s||u)(l.Y36(Ee.e),l.Y36(Ce.zQ),l.Y36(K.F0))},u.\u0275cmp=l.Xpm({type:u,selectors:[["app-home"]],decls:12,vars:1,consts:[[1,"main","pt-4","pb-3"],[1,"container"],[1,"row","m-3"],[1,"col-8","col-lg-10","text-center"],["class","col-4 col-lg-2 text-end",4,"ngIf"],[1,"row"],[1,"col-12","col-lg-6","mt-4"],[1,"col-4","col-lg-2","text-end"],[1,"btn","btn-block",3,"click"]],template:function(s,h){1&s&&(l.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h4"),l._uU(5,"Email Signature"),l.qZA()(),l.YNc(6,eu,3,0,"div",4),l.qZA(),l.TgZ(7,"div",5)(8,"div",6),l._UZ(9,"app-form-nav-bar"),l.qZA(),l.TgZ(10,"div",6),l._UZ(11,"app-signature"),l.qZA()()()()),2&s&&(l.xp6(6),l.Q6J("ngIf",null!==h.user))},dependencies:[v.O5,en,Vl],styles:[".card[_ngcontent-%COMP%]{border:none;background-color:#f5ebeb;border-radius:24px}.main[_ngcontent-%COMP%]{background-color:#e4d0d0}button[_ngcontent-%COMP%]{background-color:#d5b4b4}a[_ngcontent-%COMP%]{color:#867070}"]}),u})();function _l(u,f){if(1&u){const s=l.EpF();l.TgZ(0,"ngx-dropzone-remove-badge",1),l.NdJ("click",function(b){l.CHM(s);const S=l.oxw();return l.KtG(S._remove(b))}),l.qZA()}}const Ba=[[["ngx-dropzone-label"]]],oi=["ngx-dropzone-label"],ra=["fileInput"];function Eu(u,f){1&u&&l.Hsn(0,2,["*ngIf","!_hasPreviews"])}const ia=[[["ngx-dropzone-preview"]],"*",[["ngx-dropzone-label"]]],jn=["ngx-dropzone-preview","*","ngx-dropzone-label"];function Fs(u,f){if(1&u){const s=l.EpF();l.TgZ(0,"ngx-dropzone-remove-badge",2),l.NdJ("click",function(b){l.CHM(s);const S=l.oxw();return l.KtG(S._remove(b))}),l.qZA()}}let Nn=(()=>{class u{}return u.\u0275fac=function(s){return new(s||u)},u.\u0275dir=l.lG2({type:u,selectors:[["ngx-dropzone-label"]]}),u})();function sa(u){return null!=u&&"false"!=`${u}`}let yl=(()=>{class u{}return u.\u0275fac=function(s){return new(s||u)},u.\u0275cmp=l.Xpm({type:u,selectors:[["ngx-dropzone-remove-badge"]],decls:3,vars:0,consts:[["x1","0","y1","0","x2","10","y2","10"],["x1","0","y1","10","x2","10","y2","0"]],template:function(s,h){1&s&&(l.O4$(),l.TgZ(0,"svg"),l._UZ(1,"line",0)(2,"line",1),l.qZA())},styles:["[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;height:22px;width:22px;position:absolute;top:5px;right:5px;border-radius:50%;background:#bbb;color:#333;cursor:pointer}[_nghost-%COMP%]:hover{background:#aeaeae}[_nghost-%COMP%] > svg[_ngcontent-%COMP%]{height:10px;width:10px}[_nghost-%COMP%] > svg[_ngcontent-%COMP%] > line[_ngcontent-%COMP%]{stroke-width:2px;stroke:#fff}"]}),u})();var vr=(()=>{return(u=vr||(vr={}))[u.BACKSPACE=8]="BACKSPACE",u[u.DELETE=46]="DELETE",vr;var u})();let Jt=(()=>{class u{constructor(s){this.sanitizer=s,this._removable=!1,this.removed=new l.vpe,this.tabIndex=0}set file(s){this._file=s}get file(){return this._file}get removable(){return this._removable}set removable(s){this._removable=sa(s)}keyEvent(s){switch(s.keyCode){case vr.BACKSPACE:case vr.DELETE:this.remove()}}get hostStyle(){return this.sanitizer.bypassSecurityTrustStyle("\n\t\t\tdisplay: flex;\n\t\t\theight: 140px;\n\t\t\tmin-height: 140px;\n\t\t\tmin-width: 180px;\n\t\t\tmax-width: 180px;\n\t\t\tjustify-content: center;\n\t\t\talign-items: center;\n\t\t\tpadding: 0 20px;\n\t\t\tmargin: 10px;\n\t\t\tborder-radius: 5px;\n\t\t\tposition: relative;\n\t\t")}_remove(s){s.stopPropagation(),this.remove()}remove(){this._removable&&this.removed.next(this.file)}readFile(){var s=this;return(0,x.Z)(function*(){return new Promise((h,b)=>{const S=new FileReader;if(S.onload=J=>{h(J.target.result)},S.onerror=J=>{console.error(`FileReader failed on file ${s.file.name}.`),b(J)},!s.file)return b("No file to read. Please provide a file using the [file] Input property.");S.readAsDataURL(s.file)})})()}}return u.\u0275fac=function(s){return new(s||u)(l.Y36(na.H7))},u.\u0275cmp=l.Xpm({type:u,selectors:[["ngx-dropzone-preview"]],hostVars:3,hostBindings:function(s,h){1&s&&l.NdJ("keyup",function(S){return h.keyEvent(S)}),2&s&&(l.Ikx("tabindex",h.tabIndex),l.Akn(h.hostStyle))},inputs:{file:"file",removable:"removable"},outputs:{removed:"removed"},ngContentSelectors:oi,decls:2,vars:1,consts:[[3,"click",4,"ngIf"],[3,"click"]],template:function(s,h){1&s&&(l.F$t(Ba),l.Hsn(0),l.YNc(1,_l,1,0,"ngx-dropzone-remove-badge",0)),2&s&&(l.xp6(1),l.Q6J("ngIf",h.removable))},dependencies:[yl,v.O5],styles:["[_nghost-%COMP%]{background-image:linear-gradient(to top,#ededed,#efefef,#f1f1f1,#f4f4f4,#f6f6f6)}[_nghost-%COMP%]:hover, [_nghost-%COMP%]:focus{background-image:linear-gradient(to top,#e3e3e3,#ebeaea,#e8e7e7,#ebeaea,#f4f4f4);outline:0}[_nghost-%COMP%]:hover   ngx-dropzone-remove-badge[_ngcontent-%COMP%], [_nghost-%COMP%]:focus   ngx-dropzone-remove-badge[_ngcontent-%COMP%]{opacity:1}[_nghost-%COMP%]   ngx-dropzone-remove-badge[_ngcontent-%COMP%]{opacity:0}[_nghost-%COMP%]     ngx-dropzone-label{overflow-wrap:break-word}"]}),u})(),ms=(()=>{class u{parseFileList(s,h,b,S){const J=[],ae=[];for(let Oe=0;Oe<s.length;Oe++){const ut=s.item(Oe);this.isAccepted(ut,h)?b&&ut.size>b?this.rejectFile(ae,ut,"size"):!S&&J.length>=1?this.rejectFile(ae,ut,"no_multiple"):J.push(ut):this.rejectFile(ae,ut,"type")}return{addedFiles:J,rejectedFiles:ae}}isAccepted(s,h){if("*"===h)return!0;const b=h.split(",").map(pe=>pe.toLowerCase().trim()),S=s.type.toLowerCase(),J=s.name.toLowerCase();return!!b.find(pe=>pe.endsWith("/*")?S.split("/")[0]===pe.split("/")[0]:pe.startsWith(".")?J.endsWith(pe):pe==S)}rejectFile(s,h,b){const S=h;S.reason=b,s.push(S)}}return u.\u0275fac=function(s){return new(s||u)},u.\u0275prov=l.Yz7({token:u,factory:u.\u0275fac}),u})(),Ja=(()=>{class u{constructor(s){this.service=s,this.change=new l.vpe,this.accept="*",this._disabled=!1,this._multiple=!0,this._maxFileSize=void 0,this._expandable=!1,this._disableClick=!1,this._processDirectoryDrop=!1,this._isHovered=!1}get _hasPreviews(){return!!this._previewChildren.length}get disabled(){return this._disabled}set disabled(s){this._disabled=sa(s),this._isHovered&&(this._isHovered=!1)}get multiple(){return this._multiple}set multiple(s){this._multiple=sa(s)}get maxFileSize(){return this._maxFileSize}set maxFileSize(s){this._maxFileSize=function Ir(u){return isNaN(parseFloat(u))||isNaN(Number(u))?null:Number(u)}(s)}get expandable(){return this._expandable}set expandable(s){this._expandable=sa(s)}get disableClick(){return this._disableClick}set disableClick(s){this._disableClick=sa(s)}get processDirectoryDrop(){return this._processDirectoryDrop}set processDirectoryDrop(s){this._processDirectoryDrop=sa(s)}_onClick(){this.disableClick||this.showFileSelector()}_onDragOver(s){this.disabled||(this.preventDefault(s),this._isHovered=!0)}_onDragLeave(){this._isHovered=!1}_onDrop(s){if(!this.disabled)if(this.preventDefault(s),this._isHovered=!1,this.processDirectoryDrop&&DataTransferItem.prototype.webkitGetAsEntry){const h=s.dataTransfer.items;if(h.length>0){const b=[],S=[];for(let ae=0;ae<h.length;ae++){const pe=h[ae].webkitGetAsEntry();pe.isFile?b.push(s.dataTransfer.files[ae]):pe.isDirectory&&S.push(pe)}const J=new DataTransfer;if(b.forEach(ae=>{J.items.add(ae)}),!S.length&&J.items.length&&this.handleFileDrop(J.files),S.length){const ae=[];for(const pe of S)ae.push(this.extractFilesFromDirectory(pe));Promise.all(ae).then(pe=>{pe.reduce((Oe,ut)=>[...Oe,...ut]).forEach(Oe=>{J.items.add(Oe)}),this.handleFileDrop(J.files)})}}}else this.handleFileDrop(s.dataTransfer.files)}extractFilesFromDirectory(s){function h(S){return b.apply(this,arguments)}function b(){return(b=(0,x.Z)(function*(S){try{return yield new Promise((J,ae)=>S.file(J,ae))}catch(J){console.log("Error converting a fileEntry to a File: ",J)}})).apply(this,arguments)}return new Promise((S,J)=>{const ae=[],pe=s.createReader(),Oe=()=>{pe.readEntries(function(){var ut=(0,x.Z)(function*(Gt){if(Gt.length){const $t=Gt.filter(Ut=>Ut.isFile);for(const Ut of $t){const on=yield h(Ut);ae.push(on)}Oe()}else S(ae)});return function(Gt){return ut.apply(this,arguments)}}())};Oe()})}showFileSelector(){this.disabled||this._fileInput.nativeElement.click()}_onFilesSelected(s){this.handleFileDrop(s.target.files),this._fileInput.nativeElement.value="",this.preventDefault(s)}handleFileDrop(s){const h=this.service.parseFileList(s,this.accept,this.maxFileSize,this.multiple);this.change.next({addedFiles:h.addedFiles,rejectedFiles:h.rejectedFiles,source:this})}preventDefault(s){s.preventDefault(),s.stopPropagation()}}return u.\u0275fac=function(s){return new(s||u)(l.Y36(ms,2))},u.\u0275cmp=l.Xpm({type:u,selectors:[["ngx-dropzone"],["","ngx-dropzone",""]],contentQueries:function(s,h,b){if(1&s&&l.Suo(b,Jt,5),2&s){let S;l.iGM(S=l.CRH())&&(h._previewChildren=S)}},viewQuery:function(s,h){if(1&s&&l.Gf(ra,7),2&s){let b;l.iGM(b=l.CRH())&&(h._fileInput=b.first)}},hostVars:8,hostBindings:function(s,h){1&s&&l.NdJ("click",function(){return h._onClick()})("dragover",function(S){return h._onDragOver(S)})("dragleave",function(){return h._onDragLeave()})("drop",function(S){return h._onDrop(S)}),2&s&&l.ekj("ngx-dz-disabled",h.disabled)("expandable",h.expandable)("unclickable",h.disableClick)("ngx-dz-hovered",h._isHovered)},inputs:{accept:"accept",disabled:"disabled",multiple:"multiple",maxFileSize:"maxFileSize",expandable:"expandable",disableClick:"disableClick",processDirectoryDrop:"processDirectoryDrop",id:"id",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedBy:["aria-describedby","ariaDescribedBy"]},outputs:{change:"change"},features:[l._Bn([ms])],ngContentSelectors:jn,decls:5,vars:8,consts:[["type","file",3,"id","multiple","accept","disabled","change"],["fileInput",""],[4,"ngIf"]],template:function(s,h){1&s&&(l.F$t(ia),l.TgZ(0,"input",0,1),l.NdJ("change",function(S){return h._onFilesSelected(S)}),l.qZA(),l.YNc(2,Eu,1,0,"ng-content",2),l.Hsn(3),l.Hsn(4,1)),2&s&&(l.Q6J("id",h.id)("multiple",h.multiple)("accept",h.accept)("disabled",h.disabled),l.uIk("aria-label",h.ariaLabel)("aria-labelledby",h.ariaLabelledby)("aria-describedby",h.ariaDescribedBy),l.xp6(2),l.Q6J("ngIf",!h._hasPreviews))},dependencies:[v.O5],styles:["[_nghost-%COMP%]{display:flex;align-items:center;height:180px;background:#fff;cursor:pointer;color:#717386;border:2px dashed #717386;border-radius:5px;font-size:16px;overflow-x:auto}.ngx-dz-hovered[_nghost-%COMP%]{border-style:solid}.ngx-dz-disabled[_nghost-%COMP%]{opacity:.5;cursor:no-drop;pointer-events:none}.expandable[_nghost-%COMP%]{overflow:hidden;height:unset;min-height:180px;flex-wrap:wrap}.unclickable[_nghost-%COMP%]{cursor:default}[_nghost-%COMP%]     ngx-dropzone-label{text-align:center;z-index:10;margin:10px auto}[_nghost-%COMP%]   input[_ngcontent-%COMP%]{width:.1px;height:.1px;opacity:0;overflow:hidden;position:absolute;z-index:-1}[_nghost-%COMP%]   input[_ngcontent-%COMP%]:focus +   ngx-dropzone-label{outline:1px dotted #000;outline:-webkit-focus-ring-color auto 5px}"]}),u})(),Ls=(()=>{class u extends Jt{constructor(s){super(s),this.defaultImgLoading="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBzdHlsZT0ibWFyZ2luOiBhdXRvOyBiYWNrZ3JvdW5kOiByZ2IoMjQxLCAyNDIsIDI0Mykgbm9uZSByZXBlYXQgc2Nyb2xsIDAlIDAlOyBkaXNwbGF5OiBibG9jazsgc2hhcGUtcmVuZGVyaW5nOiBhdXRvOyIgd2lkdGg9IjIyNHB4IiBoZWlnaHQ9IjIyNHB4IiB2aWV3Qm94PSIwIDAgMTAwIDEwMCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ieE1pZFlNaWQiPgo8Y2lyY2xlIGN4PSI1MCIgY3k9IjUwIiByPSIxNCIgc3Ryb2tlLXdpZHRoPSIzIiBzdHJva2U9IiM4NWEyYjYiIHN0cm9rZS1kYXNoYXJyYXk9IjIxLjk5MTE0ODU3NTEyODU1MiAyMS45OTExNDg1NzUxMjg1NTIiIGZpbGw9Im5vbmUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCI+CiAgPGFuaW1hdGVUcmFuc2Zvcm0gYXR0cmlidXRlTmFtZT0idHJhbnNmb3JtIiB0eXBlPSJyb3RhdGUiIGR1cj0iMS4xNjI3OTA2OTc2NzQ0MTg0cyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIGtleVRpbWVzPSIwOzEiIHZhbHVlcz0iMCA1MCA1MDszNjAgNTAgNTAiPjwvYW5pbWF0ZVRyYW5zZm9ybT4KPC9jaXJjbGU+CjxjaXJjbGUgY3g9IjUwIiBjeT0iNTAiIHI9IjEwIiBzdHJva2Utd2lkdGg9IjMiIHN0cm9rZT0iI2JiY2VkZCIgc3Ryb2tlLWRhc2hhcnJheT0iMTUuNzA3OTYzMjY3OTQ4OTY2IDE1LjcwNzk2MzI2Nzk0ODk2NiIgc3Ryb2tlLWRhc2hvZmZzZXQ9IjE1LjcwNzk2MzI2Nzk0ODk2NiIgZmlsbD0ibm9uZSIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIj4KICA8YW5pbWF0ZVRyYW5zZm9ybSBhdHRyaWJ1dGVOYW1lPSJ0cmFuc2Zvcm0iIHR5cGU9InJvdGF0ZSIgZHVyPSIxLjE2Mjc5MDY5NzY3NDQxODRzIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSIga2V5VGltZXM9IjA7MSIgdmFsdWVzPSIwIDUwIDUwOy0zNjAgNTAgNTAiPjwvYW5pbWF0ZVRyYW5zZm9ybT4KPC9jaXJjbGU+CjwhLS0gW2xkaW9dIGdlbmVyYXRlZCBieSBodHRwczovL2xvYWRpbmcuaW8vIC0tPjwvc3ZnPg==",this.imageSrc=this.sanitizer.bypassSecurityTrustUrl(this.defaultImgLoading)}set file(s){this._file=s,this.renderImage()}get file(){return this._file}ngOnInit(){this.renderImage()}renderImage(){this.readFile().then(s=>setTimeout(()=>this.imageSrc=s)).catch(s=>console.error(s))}}return u.\u0275fac=function(s){return new(s||u)(l.Y36(na.H7))},u.\u0275cmp=l.Xpm({type:u,selectors:[["ngx-dropzone-image-preview"]],inputs:{file:"file"},features:[l._Bn([{provide:Jt,useExisting:u}]),l.qOj],ngContentSelectors:oi,decls:3,vars:2,consts:[[3,"src"],[3,"click",4,"ngIf"],[3,"click"]],template:function(s,h){1&s&&(l.F$t(Ba),l._UZ(0,"img",0),l.Hsn(1),l.YNc(2,Fs,1,0,"ngx-dropzone-remove-badge",1)),2&s&&(l.Q6J("src",h.imageSrc,l.LSH),l.xp6(2),l.Q6J("ngIf",h.removable))},dependencies:[yl,v.O5],styles:["[_nghost-%COMP%]{min-width:unset!important;max-width:unset!important;padding:0!important}[_nghost-%COMP%]:hover   img[_ngcontent-%COMP%], [_nghost-%COMP%]:focus   img[_ngcontent-%COMP%]{opacity:.7}[_nghost-%COMP%]:hover   ngx-dropzone-remove-badge[_ngcontent-%COMP%], [_nghost-%COMP%]:focus   ngx-dropzone-remove-badge[_ngcontent-%COMP%]{opacity:1}[_nghost-%COMP%]   ngx-dropzone-remove-badge[_ngcontent-%COMP%]{opacity:0}[_nghost-%COMP%]   img[_ngcontent-%COMP%]{max-height:100%;border-radius:5px;opacity:.8}[_nghost-%COMP%]     ngx-dropzone-label{position:absolute;overflow-wrap:break-word}"]}),u})(),nu=(()=>{class u{}return u.\u0275fac=function(s){return new(s||u)},u.\u0275mod=l.oAB({type:u}),u.\u0275inj=l.cJS({imports:[[v.ez]]}),u})();function Ul(u,f){if(1&u){const s=l.EpF();l.TgZ(0,"ngx-dropzone-image-preview",11),l.NdJ("removed",function(){l.CHM(s);const b=l.oxw();return l.KtG(b.onRemove())}),l._UZ(1,"ngx-dropzone-label"),l.qZA()}if(2&u){const s=l.oxw();l.Q6J("removable",!0)("file",s.logo)}}function cr(u,f){if(1&u&&(l.TgZ(0,"div",12),l._uU(1),l.qZA()),2&u){const s=l.oxw();l.Gre("alert alert-",s.alertColor,""),l.xp6(1),l.hij(" ",s.showSuccessMessage," ")}}const Gc=[{path:"",redirectTo:"email-signature",pathMatch:"full"},{path:"",component:ml},{path:"email-signature",component:ml,data:{authOnly:!0}},{path:"General-Form",component:ks},{path:"Image-Form",component:(()=>{class u{constructor(s,h,b){this.formBuilder=s,this.sharedService=h,this.auth=b,this.user=null,this.FormData=[],this.imageData=[],this.typesubmit=!1,this.imageType=!0,this.sizeError=!1,this.imageChangedEvent="",this.getImageData=[],this.showSuccessMessage="",this.alertColor="primary",this.dimensionError=!1,this.profileImage=new he.NI("assets/images/profile.jpg",[he.kI.required]),b.user.subscribe(S=>this.user=S),this.typeValidationForm=this.formBuilder.group({profileImage:this.profileImage}),this.FormData.push(this.typeValidationForm.controls),this.sharedService.imageData$.subscribe(S=>{this.imageData=S})}ngOnInit(){this.sharedService.setImageData(this.FormData),this.getImageForm()}get f(){return this.typeValidationForm.controls}onFileSelected(s){const h=s.addedFiles[0];if(this.validateImageDimensions(h),"image/png"==s.addedFiles[0].type||"image/jpg"==s.addedFiles[0].type||"image/jpeg"==s.addedFiles[0].type){if(this.imageType=!0,s.addedFiles[0].size>102400)this.sizeError=!0;else if(this.sizeError=!1,this.logo=h,s.addedFiles[0]){var b=new FileReader;b.onload=S=>{this.f.profileImage.setValue(S.target.result)},b.readAsDataURL(s.addedFiles[0])}}else this.imageType=!1}validateImageDimensions(s){const h=new Image;h.onload=()=>{h.width<=100&&h.height<=100?this.dimensionError=!0:(this.showSuccessMessage="Image should be 100X100px.",this.dimensionError=!0,this.alertColor="danger",setTimeout(()=>{this.dimensionError=!1},2e3))},h.src=URL.createObjectURL(s)}onRemove(){this.logo="",this.typeValidationForm.patchValue({profileImage:this.logo})}getImageForm(){this.sharedService.getSignatureData().subscribe(s=>{this.getImageData=[],s.forEach((b,S)=>{b.payload.doc.data().uid==this.user?.uid&&this.getImageData.push({uid:b.payload.doc.uid,...b.payload.doc.data()})}),this.getImageData.length>0&&this.typeValidationForm.patchValue({profileImage:this.getImageData[0].imageForm.profileImage})})}}return u.\u0275fac=function(s){return new(s||u)(l.Y36(he.qu),l.Y36(sr),l.Y36(Ce.zQ))},u.\u0275cmp=l.Xpm({type:u,selectors:[["app-image-form"]],decls:14,vars:3,consts:[[1,"container"],[1,"row"],[1,"col-md-12","col-lg-6","col-xl-12"],[1,"card","overflow-hidden","shadow","p-3","mb-5","rounded"],[1,"card-body","pt-0"],[1,"p-2"],[1,"inline-block","mb-2","ml-0"],[1,"col-md-4","mt-4"],["accept","image/jpeg,image/jpg,image/png",3,"multiple","change"],["ngProjectAs","ngx-dropzone-preview",5,["ngx-dropzone-preview"],3,"removable","file","removed",4,"ngIf"],["role","alert","style","position: fixed; bottom: 40px; right: 40px;",3,"class",4,"ngIf"],["ngProjectAs","ngx-dropzone-preview",5,["ngx-dropzone-preview"],3,"removable","file","removed"],["role","alert",2,"position","fixed","bottom","40px","right","40px"]],template:function(s,h){1&s&&(l.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"label",6),l._uU(7,"Logo / Photo"),l.qZA(),l.TgZ(8,"div",7)(9,"ngx-dropzone",8),l.NdJ("change",function(S){return h.onFileSelected(S)}),l.TgZ(10,"ngx-dropzone-label"),l._uU(11,"Choose File"),l.qZA(),l.YNc(12,Ul,2,2,"ngx-dropzone-image-preview",9),l.qZA()()()()()()(),l.YNc(13,cr,2,4,"div",10),l.qZA()),2&s&&(l.xp6(9),l.Q6J("multiple",!1),l.xp6(3),l.Q6J("ngIf",h.logo),l.xp6(1),l.Q6J("ngIf",h.dimensionError))},dependencies:[v.O5,Ja,Nn,Ls],styles:[".card[_ngcontent-%COMP%]{border:none;background-color:#f5ebeb;border-radius:24px}"]}),u})()},{path:"Social-Form",component:ln},{path:"Design-Form",component:Gs}];let Vs=(()=>{class u{}return u.\u0275fac=function(s){return new(s||u)},u.\u0275mod=l.oAB({type:u}),u.\u0275inj=l.cJS({imports:[K.Bz.forChild(Gc),K.Bz]}),u})();var ru=B(515),_s=B(7579),Qa=B(8421),oa=B(5577),yo=B(1144),it=B(576),iu=B(3268);const Jr=["addListener","removeListener"],Iu=["addEventListener","removeEventListener"],aa=["on","off"];function fi(u,f,s,h){if((0,it.m)(s)&&(h=s,s=void 0),h)return fi(u,f,s).pipe((0,iu.Z)(h));const[b,S]=function $l(u){return(0,it.m)(u.addEventListener)&&(0,it.m)(u.removeEventListener)}(u)?Iu.map(J=>ae=>u[J](f,ae,s)):function Ri(u){return(0,it.m)(u.addListener)&&(0,it.m)(u.removeListener)}(u)?Jr.map(nc(u,f)):function io(u){return(0,it.m)(u.on)&&(0,it.m)(u.off)}(u)?aa.map(nc(u,f)):[];if(!b&&(0,yo.z)(u))return(0,oa.z)(J=>fi(J,f,s))((0,Qa.Xf)(u));if(!b)throw new TypeError("Invalid event target");return new ce.y(J=>{const ae=(...pe)=>J.next(1<pe.length?pe:pe[0]);return b(ae),()=>S(ae)})}function nc(u,f){return s=>h=>u[s](f,h)}var va=B(5963);const{isArray:vl}=Array;function Es(u){return 1===u.length&&vl(u[0])?u[0]:u}B(9841);var R=B(5032);new ce.y(R.Z);var le=B(3269);function ye(...u){const f=(0,le.jO)(u),s=Es(u);return s.length?new ce.y(h=>{let b=s.map(()=>[]),S=s.map(()=>!1);h.add(()=>{b=S=null});for(let J=0;!h.closed&&J<s.length;J++)(0,Qa.Xf)(s[J]).subscribe((0,Be.x)(h,ae=>{if(b[J].push(ae),b.every(pe=>pe.length)){const pe=b.map(Oe=>Oe.shift());h.next(f?f(...pe):pe),b.some((Oe,ut)=>!Oe.length&&S[ut])&&h.complete()}},()=>{S[J]=!0,!b[J].length&&h.complete()}));return()=>{b=S=null}}):ru.E}B(6451);var nn=B(7272);function Qt(u){return(0,Ue.e)((f,s)=>{(0,Qa.Xf)(u).subscribe((0,Be.x)(s,()=>s.complete(),R.Z)),!s.closed&&f.subscribe(s)})}var Qn=B(5698),la=(B(8675),B(1884),B(8505)),Zs=B(4671);function Xa(...u){const f=(0,le.jO)(u);return(0,Ue.e)((s,h)=>{const b=u.length,S=new Array(b);let J=u.map(()=>!1),ae=!1;for(let pe=0;pe<b;pe++)(0,Qa.Xf)(u[pe]).subscribe((0,Be.x)(h,Oe=>{S[pe]=Oe,!ae&&!J[pe]&&(J[pe]=!0,(ae=J.every(Zs.y))&&(J=null))},R.Z));s.subscribe((0,Be.x)(h,pe=>{if(ae){const Oe=[pe,...S];h.next(f?f(...Oe):Oe)}}))})}B(1005),B(3099);const pi=["*"],ja=["dialog"];function Tl(u){return null!=u}function Da(u){return(u||document.body).getBoundingClientRect()}typeof Element<"u"&&!Element.prototype.closest&&(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(u){let f=this;if(!document.documentElement.contains(f))return null;do{if(f.matches(u))return f;f=f.parentElement||f.parentNode}while(null!==f&&1===f.nodeType);return null});const Xn={animation:!0,transitionTimerDelayMs:5};let Us=(()=>{class u{constructor(){this.animation=Xn.animation}}return u.\u0275fac=function(s){return new(s||u)},u.\u0275prov=(0,l.Yz7)({factory:function(){return new u},token:u,providedIn:"root"}),u})();const Yd=()=>{},{transitionTimerDelayMs:Kd}=Xn,Sl=new Map,ys=(u,f,s,h)=>{let b=h.context||{};const S=Sl.get(f);if(S)switch(h.runningTransition){case"continue":return ru.E;case"stop":u.run(()=>S.transition$.complete()),b=Object.assign(S.context,b),Sl.delete(f)}const J=s(f,h.animation,b)||Yd;if(!h.animation||"none"===window.getComputedStyle(f).transitionProperty)return u.run(()=>J()),(0,de.of)(void 0).pipe(function jf(u){return f=>new ce.y(s=>f.subscribe(J=>u.run(()=>s.next(J)),J=>u.run(()=>s.error(J)),()=>u.run(()=>s.complete())))}(u));const ae=new _s.x,pe=new _s.x,Oe=ae.pipe(function or(...u){return f=>(0,nn.z)(f,(0,de.of)(...u))}(!0));Sl.set(f,{transition$:ae,complete:()=>{pe.next(),pe.complete()},context:b});const ut=function qd(u){const{transitionDelay:f,transitionDuration:s}=window.getComputedStyle(u);return 1e3*(parseFloat(f)+parseFloat(s))}(f);return u.runOutsideAngular(()=>{const Gt=fi(f,"transitionend").pipe(Qt(Oe),(0,li.h)(({target:Ut})=>Ut===f));(function T(...u){return 1===(u=Es(u)).length?(0,Qa.Xf)(u[0]):new ce.y(function A(u){return f=>{let s=[];for(let h=0;s&&!f.closed&&h<u.length;h++)s.push((0,Qa.Xf)(u[h]).subscribe((0,Be.x)(f,b=>{if(s){for(let S=0;S<s.length;S++)S!==h&&s[S].unsubscribe();s=null}f.next(b)})))}}(u))})((0,va.H)(ut+Kd).pipe(Qt(Oe)),Gt,pe).pipe(Qt(Oe)).subscribe(()=>{Sl.delete(f),u.run(()=>{J(),ae.next(),ae.complete()})})}),ae.asObservable()};let Pu=(()=>{class u{}return u.\u0275fac=function(s){return new(s||u)},u.\u0275mod=l.oAB({type:u}),u.\u0275inj=l.cJS({imports:[v.ez]}),u})(),gc=(()=>{class u{}return u.\u0275fac=function(s){return new(s||u)},u.\u0275mod=l.oAB({type:u}),u.\u0275inj=l.cJS({imports:[v.ez]}),u})(),mc=(()=>{class u{}return u.\u0275fac=function(s){return new(s||u)},u.\u0275mod=l.oAB({type:u}),u.\u0275inj=l.cJS({}),u})(),z=(()=>{class u{}return u.\u0275fac=function(s){return new(s||u)},u.\u0275mod=l.oAB({type:u}),u.\u0275inj=l.cJS({imports:[v.ez]}),u})(),gt=(()=>{class u{}return u.\u0275fac=function(s){return new(s||u)},u.\u0275mod=l.oAB({type:u}),u.\u0275inj=l.cJS({}),u})();var Ar=(()=>{return(u=Ar||(Ar={}))[u.Tab=9]="Tab",u[u.Enter=13]="Enter",u[u.Escape=27]="Escape",u[u.Space=32]="Space",u[u.PageUp=33]="PageUp",u[u.PageDown=34]="PageDown",u[u.End=35]="End",u[u.Home=36]="Home",u[u.ArrowLeft=37]="ArrowLeft",u[u.ArrowUp=38]="ArrowUp",u[u.ArrowRight=39]="ArrowRight",u[u.ArrowDown=40]="ArrowDown",Ar;var u})();typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const Uu=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function zp(u){const f=Array.from(u.querySelectorAll(Uu)).filter(s=>-1!==s.tabIndex);return[f[0],f[f.length-1]]}new class ef{getAllStyles(f){return window.getComputedStyle(f)}getStyle(f,s){return this.getAllStyles(f)[s]}isStaticPositioned(f){return"static"===(this.getStyle(f,"position")||"static")}offsetParent(f){let s=f.offsetParent||document.documentElement;for(;s&&s!==document.documentElement&&this.isStaticPositioned(s);)s=s.offsetParent;return s||document.documentElement}position(f,s=!0){let h,b={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(f,"position"))h=f.getBoundingClientRect(),h={top:h.top,bottom:h.bottom,left:h.left,right:h.right,height:h.height,width:h.width};else{const S=this.offsetParent(f);h=this.offset(f,!1),S!==document.documentElement&&(b=this.offset(S,!1)),b.top+=S.clientTop,b.left+=S.clientLeft}return h.top-=b.top,h.bottom-=b.top,h.left-=b.left,h.right-=b.left,s&&(h.top=Math.round(h.top),h.bottom=Math.round(h.bottom),h.left=Math.round(h.left),h.right=Math.round(h.right)),h}offset(f,s=!0){const h=f.getBoundingClientRect(),b_top=window.pageYOffset-document.documentElement.clientTop,b_left=window.pageXOffset-document.documentElement.clientLeft;let S={height:h.height||f.offsetHeight,width:h.width||f.offsetWidth,top:h.top+b_top,bottom:h.bottom+b_top,left:h.left+b_left,right:h.right+b_left};return s&&(S.height=Math.round(S.height),S.width=Math.round(S.width),S.top=Math.round(S.top),S.bottom=Math.round(S.bottom),S.left=Math.round(S.left),S.right=Math.round(S.right)),S}positionElements(f,s,h,b){const[S="top",J="center"]=h.split("-"),ae=b?this.offset(f,!1):this.position(f,!1),pe=this.getAllStyles(s),Oe=parseFloat(pe.marginTop),ut=parseFloat(pe.marginBottom),Gt=parseFloat(pe.marginLeft),$t=parseFloat(pe.marginRight);let Ut=0,on=0;switch(S){case"top":Ut=ae.top-(s.offsetHeight+Oe+ut);break;case"bottom":Ut=ae.top+ae.height;break;case"left":on=ae.left-(s.offsetWidth+Gt+$t);break;case"right":on=ae.left+ae.width}switch(J){case"top":Ut=ae.top;break;case"bottom":Ut=ae.top+ae.height-s.offsetHeight;break;case"left":on=ae.left;break;case"right":on=ae.left+ae.width-s.offsetWidth;break;case"center":"top"===S||"bottom"===S?on=ae.left+ae.width/2-s.offsetWidth/2:Ut=ae.top+ae.height/2-s.offsetHeight/2}s.style.transform=`translate(${Math.round(on)}px, ${Math.round(Ut)}px)`;const Gn=s.getBoundingClientRect(),dr=document.documentElement,Tr=window.innerHeight||dr.clientHeight,Gr=window.innerWidth||dr.clientWidth;return Gn.left>=0&&Gn.top>=0&&Gn.right<=Gr&&Gn.bottom<=Tr}},new Date(1882,10,12),new Date(2174,10,25);let rf=(()=>{class u{}return u.\u0275fac=function(s){return new(s||u)},u.\u0275mod=l.oAB({type:u}),u.\u0275inj=l.cJS({imports:[v.ez,he.u5]}),u})(),ng=(()=>{class u{}return u.\u0275fac=function(s){return new(s||u)},u.\u0275mod=l.oAB({type:u}),u.\u0275inj=l.cJS({}),u})(),rg=(()=>{class u{constructor(s){this._ngbConfig=s,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(s){this._animation=s}}return u.\u0275fac=function(s){return new(s||u)(l.LFG(Us))},u.\u0275prov=(0,l.Yz7)({factory:function(){return new u((0,l.LFG)(Us))},token:u,providedIn:"root"}),u})();class Mc{constructor(f,s,h){this.nodes=f,this.viewRef=s,this.componentRef=h}}const um=()=>{};let ig=(()=>{class u{constructor(s){this._document=s}compensate(){const s=this._getWidth();return this._isPresent(s)?this._adjustBody(s):um}_adjustBody(s){const h=this._document.body,b=h.style.paddingRight,S=parseFloat(window.getComputedStyle(h)["padding-right"]);return h.style["padding-right"]=`${S+s}px`,()=>h.style["padding-right"]=b}_isPresent(s){const h=this._document.body.getBoundingClientRect();return window.innerWidth-(h.left+h.right)>=s-.1*s}_getWidth(){const s=this._document.createElement("div");s.className="modal-scrollbar-measure";const h=this._document.body;h.appendChild(s);const b=s.getBoundingClientRect().width-s.clientWidth;return h.removeChild(s),b}}return u.\u0275fac=function(s){return new(s||u)(l.LFG(v.K0))},u.\u0275prov=(0,l.Yz7)({factory:function(){return new u((0,l.LFG)(v.K0))},token:u,providedIn:"root"}),u})(),br=(()=>{class u{constructor(s,h){this._el=s,this._zone=h}ngOnInit(){this._zone.onStable.asObservable().pipe((0,Qn.q)(1)).subscribe(()=>{ys(this._zone,this._el.nativeElement,(s,h)=>{h&&Da(s),s.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return ys(this._zone,this._el.nativeElement,({classList:s})=>s.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return u.\u0275fac=function(s){return new(s||u)(l.Y36(l.SBq),l.Y36(l.R0b))},u.\u0275cmp=l.Xpm({type:u,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:6,hostBindings:function(s,h){2&s&&(l.Tol("modal-backdrop"+(h.backdropClass?" "+h.backdropClass:"")),l.ekj("show",!h.animation)("fade",h.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(s,h){},encapsulation:2}),u})();class fh{close(f){}dismiss(f){}}class sf{constructor(f,s,h,b){this._windowCmptRef=f,this._contentRef=s,this._backdropCmptRef=h,this._beforeDismiss=b,this._closed=new _s.x,this._dismissed=new _s.x,this._hidden=new _s.x,f.instance.dismissEvent.subscribe(S=>{this.dismiss(S)}),this.result=new Promise((S,J)=>{this._resolve=S,this._reject=J}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Qt(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Qt(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(f){this._windowCmptRef&&(this._closed.next(f),this._resolve(f),this._removeModalElements())}_dismiss(f){this._dismissed.next(f),this._reject(f),this._removeModalElements()}dismiss(f){if(this._windowCmptRef)if(this._beforeDismiss){const s=this._beforeDismiss();s&&s.then?s.then(h=>{!1!==h&&this._dismiss(f)},()=>{}):!1!==s&&this._dismiss(f)}else this._dismiss(f)}_removeModalElements(){const f=this._windowCmptRef.instance.hide(),s=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,de.of)(void 0);f.subscribe(()=>{const{nativeElement:h}=this._windowCmptRef.location;h.parentNode.removeChild(h),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),s.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:h}=this._backdropCmptRef.location;h.parentNode.removeChild(h),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),ye(f,s).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Jl=(()=>{return(u=Jl||(Jl={}))[u.BACKDROP_CLICK=0]="BACKDROP_CLICK",u[u.ESC=1]="ESC",Jl;var u})();let af=(()=>{class u{constructor(s,h,b){this._document=s,this._elRef=h,this._zone=b,this._closed$=new _s.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new l.vpe,this.shown=new _s.x,this.hidden=new _s.x}dismiss(s){this.dismissEvent.emit(s)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,Qn.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:s}=this._elRef,h={animation:this.animation,runningTransition:"stop"},J=ye(ys(this._zone,s,()=>s.classList.remove("show"),h),ys(this._zone,this._dialogEl.nativeElement,()=>{},h));return J.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),J}_show(){const s={animation:this.animation,runningTransition:"continue"};ye(ys(this._zone,this._elRef.nativeElement,(S,J)=>{J&&Da(S),S.classList.add("show")},s),ys(this._zone,this._dialogEl.nativeElement,()=>{},s)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:s}=this._elRef;this._zone.runOutsideAngular(()=>{fi(s,"keydown").pipe(Qt(this._closed$),(0,li.h)(b=>b.which===Ar.Escape)).subscribe(b=>{this.keyboard?requestAnimationFrame(()=>{b.defaultPrevented||this._zone.run(()=>this.dismiss(Jl.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let h=!1;fi(this._dialogEl.nativeElement,"mousedown").pipe(Qt(this._closed$),(0,la.b)(()=>h=!1),(0,Je.w)(()=>fi(s,"mouseup").pipe(Qt(this._closed$),(0,Qn.q)(1))),(0,li.h)(({target:b})=>s===b)).subscribe(()=>{h=!0}),fi(s,"click").pipe(Qt(this._closed$)).subscribe(({target:b})=>{s===b&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!h&&this._zone.run(()=>this.dismiss(Jl.BACKDROP_CLICK))),h=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:s}=this._elRef;if(!s.contains(document.activeElement)){const h=s.querySelector("[ngbAutofocus]"),b=zp(s)[0];(h||b||s).focus()}}_restoreFocus(){const s=this._document.body,h=this._elWithFocus;let b;b=h&&h.focus&&s.contains(h)?h:s,this._zone.runOutsideAngular(()=>{setTimeout(()=>b.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&ys(this._zone,this._elRef.nativeElement,({classList:s})=>(s.add("modal-static"),()=>s.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return u.\u0275fac=function(s){return new(s||u)(l.Y36(v.K0),l.Y36(l.SBq),l.Y36(l.R0b))},u.\u0275cmp=l.Xpm({type:u,selectors:[["ngb-modal-window"]],viewQuery:function(s,h){if(1&s&&l.Gf(ja,7),2&s){let b;l.iGM(b=l.CRH())&&(h._dialogEl=b.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(s,h){2&s&&(l.uIk("aria-modal",!0)("aria-labelledby",h.ariaLabelledBy)("aria-describedby",h.ariaDescribedBy),l.Tol("modal d-block"+(h.windowClass?" "+h.windowClass:"")),l.ekj("fade",h.animation))},inputs:{backdrop:"backdrop",keyboard:"keyboard",animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",centered:"centered",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:pi,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(s,h){1&s&&(l.F$t(),l.TgZ(0,"div",0,1)(2,"div",2),l.Hsn(3),l.qZA()()),2&s&&l.Tol("modal-dialog"+(h.size?" modal-"+h.size:"")+(h.centered?" modal-dialog-centered":"")+(h.scrollable?" modal-dialog-scrollable":"")+(h.modalDialogClass?" "+h.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}"],encapsulation:2}),u})(),lf=(()=>{class u{constructor(s,h,b,S,J,ae){this._applicationRef=s,this._injector=h,this._document=b,this._scrollBar=S,this._rendererFactory=J,this._ngZone=ae,this._activeWindowCmptHasChanged=new _s.x,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new l.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const pe=this._windowCmpts[this._windowCmpts.length-1];((u,f,s,h=!1)=>{u.runOutsideAngular(()=>{const b=fi(f,"focusin").pipe(Qt(s),(0,Ke.U)(S=>S.target));fi(f,"keydown").pipe(Qt(s),(0,li.h)(S=>S.which===Ar.Tab),Xa(b)).subscribe(([S,J])=>{const[ae,pe]=zp(f);(J===ae||J===f)&&S.shiftKey&&(pe.focus(),S.preventDefault()),J===pe&&!S.shiftKey&&(ae.focus(),S.preventDefault())}),h&&fi(f,"click").pipe(Qt(s),Xa(b),(0,Ke.U)(S=>S[1])).subscribe(S=>S.focus())})})(this._ngZone,pe.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(pe.location.nativeElement)}})}open(s,h,b,S){const J=S.container instanceof HTMLElement?S.container:Tl(S.container)?this._document.querySelector(S.container):this._document.body,ae=this._rendererFactory.createRenderer(null,null),pe=this._scrollBar.compensate(),Oe=()=>{this._modalRefs.length||(ae.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!J)throw new Error(`The specified modal container "${S.container||"body"}" was not found in the DOM.`);const ut=new fh,Gt=this._getContentRef(s,S.injector||h,b,ut,S);let $t=!1!==S.backdrop?this._attachBackdrop(s,J):void 0,Ut=this._attachWindowComponent(s,J,Gt),on=new sf(Ut,Gt,$t,S.beforeDismiss);return this._registerModalRef(on),this._registerWindowCmpt(Ut),on.result.then(pe,pe),on.result.then(Oe,Oe),ut.close=Gn=>{on.close(Gn)},ut.dismiss=Gn=>{on.dismiss(Gn)},this._applyWindowOptions(Ut.instance,S),1===this._modalRefs.length&&ae.addClass(this._document.body,"modal-open"),$t&&$t.instance&&(this._applyBackdropOptions($t.instance,S),$t.changeDetectorRef.detectChanges()),Ut.changeDetectorRef.detectChanges(),on}get activeInstances(){return this._activeInstances}dismissAll(s){this._modalRefs.forEach(h=>h.dismiss(s))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(s,h){let S=s.resolveComponentFactory(br).create(this._injector);return this._applicationRef.attachView(S.hostView),h.appendChild(S.location.nativeElement),S}_attachWindowComponent(s,h,b){let J=s.resolveComponentFactory(af).create(this._injector,b.nodes);return this._applicationRef.attachView(J.hostView),h.appendChild(J.location.nativeElement),J}_applyWindowOptions(s,h){this._windowAttributes.forEach(b=>{Tl(h[b])&&(s[b]=h[b])})}_applyBackdropOptions(s,h){this._backdropAttributes.forEach(b=>{Tl(h[b])&&(s[b]=h[b])})}_getContentRef(s,h,b,S,J){return b?b instanceof l.Rgc?this._createFromTemplateRef(b,S):function za(u){return"string"==typeof u}(b)?this._createFromString(b):this._createFromComponent(s,h,b,S,J):new Mc([])}_createFromTemplateRef(s,h){const S=s.createEmbeddedView({$implicit:h,close(J){h.close(J)},dismiss(J){h.dismiss(J)}});return this._applicationRef.attachView(S),new Mc([S.rootNodes],S)}_createFromString(s){const h=this._document.createTextNode(`${s}`);return new Mc([[h]])}_createFromComponent(s,h,b,S,J){const ae=s.resolveComponentFactory(b),pe=l.zs3.create({providers:[{provide:fh,useValue:S}],parent:h}),Oe=ae.create(pe),ut=Oe.location.nativeElement;return J.scrollable&&ut.classList.add("component-host-scrollable"),this._applicationRef.attachView(Oe.hostView),new Mc([[ut]],Oe.hostView,Oe)}_setAriaHidden(s){const h=s.parentElement;h&&s!==this._document.body&&(Array.from(h.children).forEach(b=>{b!==s&&"SCRIPT"!==b.nodeName&&(this._ariaHiddenValues.set(b,b.getAttribute("aria-hidden")),b.setAttribute("aria-hidden","true"))}),this._setAriaHidden(h))}_revertAriaHidden(){this._ariaHiddenValues.forEach((s,h)=>{s?h.setAttribute("aria-hidden",s):h.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(s){const h=()=>{const b=this._modalRefs.indexOf(s);b>-1&&(this._modalRefs.splice(b,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(s),this._activeInstances.emit(this._modalRefs),s.result.then(h,h)}_registerWindowCmpt(s){this._windowCmpts.push(s),this._activeWindowCmptHasChanged.next(),s.onDestroy(()=>{const h=this._windowCmpts.indexOf(s);h>-1&&(this._windowCmpts.splice(h,1),this._activeWindowCmptHasChanged.next())})}}return u.\u0275fac=function(s){return new(s||u)(l.LFG(l.z2F),l.LFG(l.zs3),l.LFG(v.K0),l.LFG(ig),l.LFG(l.FYo),l.LFG(l.R0b))},u.\u0275prov=(0,l.Yz7)({factory:function(){return new u((0,l.LFG)(l.z2F),(0,l.LFG)(l.gxx),(0,l.LFG)(v.K0),(0,l.LFG)(ig),(0,l.LFG)(l.FYo),(0,l.LFG)(l.R0b))},token:u,providedIn:"root"}),u})(),uf=(()=>{class u{constructor(s,h,b,S){this._moduleCFR=s,this._injector=h,this._modalStack=b,this._config=S}open(s,h={}){const b=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),h);return this._modalStack.open(this._moduleCFR,this._injector,s,b)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(s){this._modalStack.dismissAll(s)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return u.\u0275fac=function(s){return new(s||u)(l.LFG(l._Vd),l.LFG(l.zs3),l.LFG(lf),l.LFG(rg))},u.\u0275prov=(0,l.Yz7)({factory:function(){return new u((0,l.LFG)(l._Vd),(0,l.LFG)(l.gxx),(0,l.LFG)(lf),(0,l.LFG)(rg))},token:u,providedIn:"root"}),u})(),op=(()=>{class u{}return u.\u0275fac=function(s){return new(s||u)},u.\u0275mod=l.oAB({type:u}),u.\u0275inj=l.cJS({providers:[uf]}),u})(),lg=(()=>{class u{}return u.\u0275fac=function(s){return new(s||u)},u.\u0275mod=l.oAB({type:u}),u.\u0275inj=l.cJS({imports:[v.ez]}),u})(),vd=(()=>{class u{}return u.\u0275fac=function(s){return new(s||u)},u.\u0275mod=l.oAB({type:u}),u.\u0275inj=l.cJS({imports:[v.ez]}),u})(),fm=(()=>{class u{}return u.\u0275fac=function(s){return new(s||u)},u.\u0275mod=l.oAB({type:u}),u.\u0275inj=l.cJS({imports:[v.ez]}),u})(),kc=(()=>{class u{}return u.\u0275fac=function(s){return new(s||u)},u.\u0275mod=l.oAB({type:u}),u.\u0275inj=l.cJS({imports:[v.ez]}),u})(),mp=(()=>{class u{}return u.\u0275fac=function(s){return new(s||u)},u.\u0275mod=l.oAB({type:u}),u.\u0275inj=l.cJS({imports:[v.ez]}),u})(),Wu=(()=>{class u{}return u.\u0275fac=function(s){return new(s||u)},u.\u0275mod=l.oAB({type:u}),u.\u0275inj=l.cJS({imports:[v.ez]}),u})(),Ql=(()=>{class u{}return u.\u0275fac=function(s){return new(s||u)},u.\u0275mod=l.oAB({type:u}),u.\u0275inj=l.cJS({imports:[v.ez]}),u})(),wf=(()=>{class u{}return u.\u0275fac=function(s){return new(s||u)},u.\u0275mod=l.oAB({type:u}),u.\u0275inj=l.cJS({}),u})();new l.OlP("live announcer delay",{providedIn:"root",factory:function vp(){return 100}});let _g=(()=>{class u{}return u.\u0275fac=function(s){return new(s||u)},u.\u0275mod=l.oAB({type:u}),u.\u0275inj=l.cJS({imports:[v.ez]}),u})();const gm=[Pu,gc,mc,z,gt,rf,ng,op,lg,vd,fm,kc,mp,Wu,Ql,wf,_g];let N_=(()=>{class u{}return u.\u0275fac=function(s){return new(s||u)},u.\u0275mod=l.oAB({type:u}),u.\u0275inj=l.cJS({imports:[gm,Pu,gc,mc,z,gt,rf,ng,op,lg,vd,fm,kc,mp,Wu,Ql,wf,_g]}),u})(),yg=(()=>{class u{}return u.\u0275fac=function(s){return new(s||u)},u.\u0275mod=l.oAB({type:u}),u.\u0275inj=l.cJS({imports:[v.ez,Vs,N_,he.UX,he.u5,Er,nu,gc]}),u})()},3543:(tn,ze,B)=>{var v=B(1481),K=B(4650),x=B(2011);const l_firebase={projectId:"email-signature-9cbf1",appId:"1:426124768182:web:53a688307676f4b171c717",storageBucket:"email-signature-9cbf1.appspot.com",apiKey:"AIzaSyBfoC0w2boZqPUc9ajj5W8xzUI_wxBtbdg",authDomain:"email-signature-9cbf1.firebaseapp.com"};var Ee=B(1205),Ce=B(3101),he=B(4629);const Ie=[{path:"account",loadChildren:()=>Promise.resolve().then(B.bind(B,1519)).then(Ue=>Ue.AccountModule)},{path:"email",loadChildren:()=>Promise.resolve().then(B.bind(B,3091)).then(Ue=>Ue.SignatureModule)}];let Pe=(()=>{class Ue{}return Ue.\u0275fac=function(Ot){return new(Ot||Ue)},Ue.\u0275mod=K.oAB({type:Ue}),Ue.\u0275inj=K.cJS({imports:[he.Bz.forRoot(Ie),he.Bz]}),Ue})(),ce=(()=>{class Ue{constructor(){this.title="Email_Signature"}}return Ue.\u0275fac=function(Ot){return new(Ot||Ue)},Ue.\u0275cmp=K.Xpm({type:Ue,selectors:[["app-root"]],decls:1,vars:0,template:function(Ot,Ke){1&Ot&&K._UZ(0,"router-outlet")},dependencies:[he.lC]}),Ue})();var de=B(1519),we=B(3091);let _t=(()=>{class Ue{}return Ue.\u0275fac=function(Ot){return new(Ot||Ue)},Ue.\u0275mod=K.oAB({type:Ue,bootstrap:[ce]}),Ue.\u0275inj=K.cJS({imports:[v.b2,Pe,de.AccountModule,x.hO.initializeApp(l_firebase),Ee.ww,Ce.yb,we.SignatureModule]}),Ue})();(0,K.G48)(),v.q6().bootstrapModule(_t).catch(Ue=>console.error(Ue))},1135:(tn,ze,B)=>{B.d(ze,{X:()=>K});var v=B(7579);class K extends v.x{constructor(l){super(),this._value=l}get value(){return this.getValue()}_subscribe(l){const Ee=super._subscribe(l);return!Ee.closed&&l.next(this._value),Ee}getValue(){const{hasError:l,thrownError:Ee,_value:Ce}=this;if(l)throw Ee;return this._throwIfClosed(),Ce}next(l){super.next(this._value=l)}}},9751:(tn,ze,B)=>{B.d(ze,{y:()=>Ie});var v=B(930),K=B(727),x=B(8822),l=B(9635),Ee=B(2416),Ce=B(576),he=B(2806);let Ie=(()=>{class we{constructor(Ue){Ue&&(this._subscribe=Ue)}lift(Ue){const Be=new we;return Be.source=this,Be.operator=Ue,Be}subscribe(Ue,Be,Ot){const Ke=function de(we){return we&&we instanceof v.Lv||function ce(we){return we&&(0,Ce.m)(we.next)&&(0,Ce.m)(we.error)&&(0,Ce.m)(we.complete)}(we)&&(0,K.Nn)(we)}(Ue)?Ue:new v.Hp(Ue,Be,Ot);return(0,he.x)(()=>{const{operator:Je,source:Se}=this;Ke.add(Je?Je.call(Ke,Se):Se?this._subscribe(Ke):this._trySubscribe(Ke))}),Ke}_trySubscribe(Ue){try{return this._subscribe(Ue)}catch(Be){Ue.error(Be)}}forEach(Ue,Be){return new(Be=Pe(Be))((Ot,Ke)=>{const Je=new v.Hp({next:Se=>{try{Ue(Se)}catch(Wt){Ke(Wt),Je.unsubscribe()}},error:Ke,complete:Ot});this.subscribe(Je)})}_subscribe(Ue){var Be;return null===(Be=this.source)||void 0===Be?void 0:Be.subscribe(Ue)}[x.L](){return this}pipe(...Ue){return(0,l.U)(Ue)(this)}toPromise(Ue){return new(Ue=Pe(Ue))((Be,Ot)=>{let Ke;this.subscribe(Je=>Ke=Je,Je=>Ot(Je),()=>Be(Ke))})}}return we.create=_t=>new we(_t),we})();function Pe(we){var _t;return null!==(_t=we??Ee.v.Promise)&&void 0!==_t?_t:Promise}},7579:(tn,ze,B)=>{B.d(ze,{x:()=>he});var v=B(9751),K=B(727);const l=(0,B(3888).d)(Pe=>function(){Pe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ee=B(8737),Ce=B(2806);let he=(()=>{class Pe extends v.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(de){const we=new Ie(this,this);return we.operator=de,we}_throwIfClosed(){if(this.closed)throw new l}next(de){(0,Ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const we of this.currentObservers)we.next(de)}})}error(de){(0,Ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=de;const{observers:we}=this;for(;we.length;)we.shift().error(de)}})}complete(){(0,Ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:de}=this;for(;de.length;)de.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var de;return(null===(de=this.observers)||void 0===de?void 0:de.length)>0}_trySubscribe(de){return this._throwIfClosed(),super._trySubscribe(de)}_subscribe(de){return this._throwIfClosed(),this._checkFinalizedStatuses(de),this._innerSubscribe(de)}_innerSubscribe(de){const{hasError:we,isStopped:_t,observers:Ue}=this;return we||_t?K.Lc:(this.currentObservers=null,Ue.push(de),new K.w0(()=>{this.currentObservers=null,(0,Ee.P)(Ue,de)}))}_checkFinalizedStatuses(de){const{hasError:we,thrownError:_t,isStopped:Ue}=this;we?de.error(_t):Ue&&de.complete()}asObservable(){const de=new v.y;return de.source=this,de}}return Pe.create=(ce,de)=>new Ie(ce,de),Pe})();class Ie extends he{constructor(ce,de){super(),this.destination=ce,this.source=de}next(ce){var de,we;null===(we=null===(de=this.destination)||void 0===de?void 0:de.next)||void 0===we||we.call(de,ce)}error(ce){var de,we;null===(we=null===(de=this.destination)||void 0===de?void 0:de.error)||void 0===we||we.call(de,ce)}complete(){var ce,de;null===(de=null===(ce=this.destination)||void 0===ce?void 0:ce.complete)||void 0===de||de.call(ce)}_subscribe(ce){var de,we;return null!==(we=null===(de=this.source)||void 0===de?void 0:de.subscribe(ce))&&void 0!==we?we:K.Lc}}},930:(tn,ze,B)=>{B.d(ze,{Hp:()=>Ot,Lv:()=>we});var v=B(576),K=B(727),x=B(2416),l=B(7849),Ee=B(5032);const Ce=Pe("C",void 0,void 0);function Pe(ct,$e,Fe){return{kind:ct,value:$e,error:Fe}}var ce=B(3410),de=B(2806);class we extends K.w0{constructor($e){super(),this.isStopped=!1,$e?(this.destination=$e,(0,K.Nn)($e)&&$e.add(this)):this.destination=Wt}static create($e,Fe,Pt){return new Ot($e,Fe,Pt)}next($e){this.isStopped?Se(function Ie(ct){return Pe("N",ct,void 0)}($e),this):this._next($e)}error($e){this.isStopped?Se(function he(ct){return Pe("E",void 0,ct)}($e),this):(this.isStopped=!0,this._error($e))}complete(){this.isStopped?Se(Ce,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next($e){this.destination.next($e)}_error($e){try{this.destination.error($e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const _t=Function.prototype.bind;function Ue(ct,$e){return _t.call(ct,$e)}class Be{constructor($e){this.partialObserver=$e}next($e){const{partialObserver:Fe}=this;if(Fe.next)try{Fe.next($e)}catch(Pt){Ke(Pt)}}error($e){const{partialObserver:Fe}=this;if(Fe.error)try{Fe.error($e)}catch(Pt){Ke(Pt)}else Ke($e)}complete(){const{partialObserver:$e}=this;if($e.complete)try{$e.complete()}catch(Fe){Ke(Fe)}}}class Ot extends we{constructor($e,Fe,Pt){let Dt;if(super(),(0,v.m)($e)||!$e)Dt={next:$e??void 0,error:Fe??void 0,complete:Pt??void 0};else{let se;this&&x.v.useDeprecatedNextContext?(se=Object.create($e),se.unsubscribe=()=>this.unsubscribe(),Dt={next:$e.next&&Ue($e.next,se),error:$e.error&&Ue($e.error,se),complete:$e.complete&&Ue($e.complete,se)}):Dt=$e}this.destination=new Be(Dt)}}function Ke(ct){x.v.useDeprecatedSynchronousErrorHandling?(0,de.O)(ct):(0,l.h)(ct)}function Se(ct,$e){const{onStoppedNotification:Fe}=x.v;Fe&&ce.z.setTimeout(()=>Fe(ct,$e))}const Wt={closed:!0,next:Ee.Z,error:function Je(ct){throw ct},complete:Ee.Z}},727:(tn,ze,B)=>{B.d(ze,{Lc:()=>Ce,w0:()=>Ee,Nn:()=>he});var v=B(576);const x=(0,B(3888).d)(Pe=>function(de){Pe(this),this.message=de?`${de.length} errors occurred during unsubscription:\n${de.map((we,_t)=>`${_t+1}) ${we.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=de});var l=B(8737);class Ee{constructor(ce){this.initialTeardown=ce,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ce;if(!this.closed){this.closed=!0;const{_parentage:de}=this;if(de)if(this._parentage=null,Array.isArray(de))for(const Ue of de)Ue.remove(this);else de.remove(this);const{initialTeardown:we}=this;if((0,v.m)(we))try{we()}catch(Ue){ce=Ue instanceof x?Ue.errors:[Ue]}const{_finalizers:_t}=this;if(_t){this._finalizers=null;for(const Ue of _t)try{Ie(Ue)}catch(Be){ce=ce??[],Be instanceof x?ce=[...ce,...Be.errors]:ce.push(Be)}}if(ce)throw new x(ce)}}add(ce){var de;if(ce&&ce!==this)if(this.closed)Ie(ce);else{if(ce instanceof Ee){if(ce.closed||ce._hasParent(this))return;ce._addParent(this)}(this._finalizers=null!==(de=this._finalizers)&&void 0!==de?de:[]).push(ce)}}_hasParent(ce){const{_parentage:de}=this;return de===ce||Array.isArray(de)&&de.includes(ce)}_addParent(ce){const{_parentage:de}=this;this._parentage=Array.isArray(de)?(de.push(ce),de):de?[de,ce]:ce}_removeParent(ce){const{_parentage:de}=this;de===ce?this._parentage=null:Array.isArray(de)&&(0,l.P)(de,ce)}remove(ce){const{_finalizers:de}=this;de&&(0,l.P)(de,ce),ce instanceof Ee&&ce._removeParent(this)}}Ee.EMPTY=(()=>{const Pe=new Ee;return Pe.closed=!0,Pe})();const Ce=Ee.EMPTY;function he(Pe){return Pe instanceof Ee||Pe&&"closed"in Pe&&(0,v.m)(Pe.remove)&&(0,v.m)(Pe.add)&&(0,v.m)(Pe.unsubscribe)}function Ie(Pe){(0,v.m)(Pe)?Pe():Pe.unsubscribe()}},2416:(tn,ze,B)=>{B.d(ze,{v:()=>v});const v={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},9841:(tn,ze,B)=>{B.d(ze,{a:()=>ce});var v=B(9751),K=B(4742),x=B(8996),l=B(4671),Ee=B(3268),Ce=B(3269),he=B(1810),Ie=B(5403),Pe=B(9672);function ce(..._t){const Ue=(0,Ce.yG)(_t),Be=(0,Ce.jO)(_t),{args:Ot,keys:Ke}=(0,K.D)(_t);if(0===Ot.length)return(0,x.D)([],Ue);const Je=new v.y(function de(_t,Ue,Be=l.y){return Ot=>{we(Ue,()=>{const{length:Ke}=_t,Je=new Array(Ke);let Se=Ke,Wt=Ke;for(let ct=0;ct<Ke;ct++)we(Ue,()=>{const $e=(0,x.D)(_t[ct],Ue);let Fe=!1;$e.subscribe((0,Ie.x)(Ot,Pt=>{Je[ct]=Pt,Fe||(Fe=!0,Wt--),Wt||Ot.next(Be(Je.slice()))},()=>{--Se||Ot.complete()}))},Ot)},Ot)}}(Ot,Ue,Ke?Se=>(0,he.n)(Ke,Se):l.y));return Be?Je.pipe((0,Ee.Z)(Be)):Je}function we(_t,Ue,Be){_t?(0,Pe.f)(Be,_t,Ue):Ue()}},7272:(tn,ze,B)=>{B.d(ze,{z:()=>Ee});var v=B(8189),x=B(3269),l=B(8996);function Ee(...Ce){return function K(){return(0,v.J)(1)}()((0,l.D)(Ce,(0,x.yG)(Ce)))}},515:(tn,ze,B)=>{B.d(ze,{E:()=>K});const K=new(B(9751).y)(Ee=>Ee.complete())},8996:(tn,ze,B)=>{B.d(ze,{D:()=>$e});var v=B(8421),K=B(5363),x=B(9468),Ce=B(9751),Ie=B(2202),Pe=B(576),ce=B(9672);function we(Fe,Pt){if(!Fe)throw new Error("Iterable cannot be null");return new Ce.y(Dt=>{(0,ce.f)(Dt,Pt,()=>{const se=Fe[Symbol.asyncIterator]();(0,ce.f)(Dt,Pt,()=>{se.next().then(et=>{et.done?Dt.complete():Dt.next(et.value)})},0,!0)})})}var _t=B(3670),Ue=B(8239),Be=B(1144),Ot=B(6495),Ke=B(2206),Je=B(4532),Se=B(3260);function $e(Fe,Pt){return Pt?function ct(Fe,Pt){if(null!=Fe){if((0,_t.c)(Fe))return function l(Fe,Pt){return(0,v.Xf)(Fe).pipe((0,x.R)(Pt),(0,K.Q)(Pt))}(Fe,Pt);if((0,Be.z)(Fe))return function he(Fe,Pt){return new Ce.y(Dt=>{let se=0;return Pt.schedule(function(){se===Fe.length?Dt.complete():(Dt.next(Fe[se++]),Dt.closed||this.schedule())})})}(Fe,Pt);if((0,Ue.t)(Fe))return function Ee(Fe,Pt){return(0,v.Xf)(Fe).pipe((0,x.R)(Pt),(0,K.Q)(Pt))}(Fe,Pt);if((0,Ke.D)(Fe))return we(Fe,Pt);if((0,Ot.T)(Fe))return function de(Fe,Pt){return new Ce.y(Dt=>{let se;return(0,ce.f)(Dt,Pt,()=>{se=Fe[Ie.h](),(0,ce.f)(Dt,Pt,()=>{let et,tt;try{({value:et,done:tt}=se.next())}catch(Rt){return void Dt.error(Rt)}tt?Dt.complete():Dt.next(et)},0,!0)}),()=>(0,Pe.m)(se?.return)&&se.return()})}(Fe,Pt);if((0,Se.L)(Fe))return function Wt(Fe,Pt){return we((0,Se.Q)(Fe),Pt)}(Fe,Pt)}throw(0,Je.z)(Fe)}(Fe,Pt):(0,v.Xf)(Fe)}},8421:(tn,ze,B)=>{B.d(ze,{Xf:()=>_t});var v=B(655),K=B(1144),x=B(8239),l=B(9751),Ee=B(3670),Ce=B(2206),he=B(4532),Ie=B(6495),Pe=B(3260),ce=B(576),de=B(7849),we=B(8822);function _t(ct){if(ct instanceof l.y)return ct;if(null!=ct){if((0,Ee.c)(ct))return function Ue(ct){return new l.y($e=>{const Fe=ct[we.L]();if((0,ce.m)(Fe.subscribe))return Fe.subscribe($e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ct);if((0,K.z)(ct))return function Be(ct){return new l.y($e=>{for(let Fe=0;Fe<ct.length&&!$e.closed;Fe++)$e.next(ct[Fe]);$e.complete()})}(ct);if((0,x.t)(ct))return function Ot(ct){return new l.y($e=>{ct.then(Fe=>{$e.closed||($e.next(Fe),$e.complete())},Fe=>$e.error(Fe)).then(null,de.h)})}(ct);if((0,Ce.D)(ct))return Je(ct);if((0,Ie.T)(ct))return function Ke(ct){return new l.y($e=>{for(const Fe of ct)if($e.next(Fe),$e.closed)return;$e.complete()})}(ct);if((0,Pe.L)(ct))return function Se(ct){return Je((0,Pe.Q)(ct))}(ct)}throw(0,he.z)(ct)}function Je(ct){return new l.y($e=>{(function Wt(ct,$e){var Fe,Pt,Dt,se;return(0,v.mG)(this,void 0,void 0,function*(){try{for(Fe=(0,v.KL)(ct);!(Pt=yield Fe.next()).done;)if($e.next(Pt.value),$e.closed)return}catch(et){Dt={error:et}}finally{try{Pt&&!Pt.done&&(se=Fe.return)&&(yield se.call(Fe))}finally{if(Dt)throw Dt.error}}$e.complete()})})(ct,$e).catch(Fe=>$e.error(Fe))})}},6451:(tn,ze,B)=>{B.d(ze,{T:()=>Ce});var v=B(8189),K=B(8421),x=B(515),l=B(3269),Ee=B(8996);function Ce(...he){const Ie=(0,l.yG)(he),Pe=(0,l._6)(he,1/0),ce=he;return ce.length?1===ce.length?(0,K.Xf)(ce[0]):(0,v.J)(Pe)((0,Ee.D)(ce,Ie)):x.E}},9646:(tn,ze,B)=>{B.d(ze,{of:()=>x});var v=B(3269),K=B(8996);function x(...l){const Ee=(0,v.yG)(l);return(0,K.D)(l,Ee)}},5963:(tn,ze,B)=>{B.d(ze,{H:()=>Ee});var v=B(9751),K=B(4986),x=B(3532);function Ee(Ce=0,he,Ie=K.P){let Pe=-1;return null!=he&&((0,x.K)(he)?Ie=he:Pe=he),new v.y(ce=>{let de=function l(Ce){return Ce instanceof Date&&!isNaN(Ce)}(Ce)?+Ce-Ie.now():Ce;de<0&&(de=0);let we=0;return Ie.schedule(function(){ce.closed||(ce.next(we++),0<=Pe?this.schedule(void 0,Pe):ce.complete())},de)})}},5403:(tn,ze,B)=>{B.d(ze,{x:()=>K});var v=B(930);function K(l,Ee,Ce,he,Ie){return new x(l,Ee,Ce,he,Ie)}class x extends v.Lv{constructor(Ee,Ce,he,Ie,Pe,ce){super(Ee),this.onFinalize=Pe,this.shouldUnsubscribe=ce,this._next=Ce?function(de){try{Ce(de)}catch(we){Ee.error(we)}}:super._next,this._error=Ie?function(de){try{Ie(de)}catch(we){Ee.error(we)}finally{this.unsubscribe()}}:super._error,this._complete=he?function(){try{he()}catch(de){Ee.error(de)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Ee;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ce}=this;super.unsubscribe(),!Ce&&(null===(Ee=this.onFinalize)||void 0===Ee||Ee.call(this))}}}},4351:(tn,ze,B)=>{B.d(ze,{b:()=>x});var v=B(5577),K=B(576);function x(l,Ee){return(0,K.m)(Ee)?(0,v.z)(l,Ee,1):(0,v.z)(l,1)}},6590:(tn,ze,B)=>{B.d(ze,{d:()=>x});var v=B(4482),K=B(5403);function x(l){return(0,v.e)((Ee,Ce)=>{let he=!1;Ee.subscribe((0,K.x)(Ce,Ie=>{he=!0,Ce.next(Ie)},()=>{he||Ce.next(l),Ce.complete()}))})}},1005:(tn,ze,B)=>{B.d(ze,{g:()=>we});var v=B(4986),K=B(7272),x=B(5698),l=B(4482),Ee=B(5403),Ce=B(5032),Ie=B(9718),Pe=B(5577);function ce(_t,Ue){return Ue?Be=>(0,K.z)(Ue.pipe((0,x.q)(1),function he(){return(0,l.e)((_t,Ue)=>{_t.subscribe((0,Ee.x)(Ue,Ce.Z))})}()),Be.pipe(ce(_t))):(0,Pe.z)((Be,Ot)=>_t(Be,Ot).pipe((0,x.q)(1),(0,Ie.h)(Be)))}var de=B(5963);function we(_t,Ue=v.z){const Be=(0,de.H)(_t,Ue);return ce(()=>Be)}},1884:(tn,ze,B)=>{B.d(ze,{x:()=>l});var v=B(4671),K=B(4482),x=B(5403);function l(Ce,he=v.y){return Ce=Ce??Ee,(0,K.e)((Ie,Pe)=>{let ce,de=!0;Ie.subscribe((0,x.x)(Pe,we=>{const _t=he(we);(de||!Ce(ce,_t))&&(de=!1,ce=_t,Pe.next(we))}))})}function Ee(Ce,he){return Ce===he}},9300:(tn,ze,B)=>{B.d(ze,{h:()=>x});var v=B(4482),K=B(5403);function x(l,Ee){return(0,v.e)((Ce,he)=>{let Ie=0;Ce.subscribe((0,K.x)(he,Pe=>l.call(Ee,Pe,Ie++)&&he.next(Pe)))})}},590:(tn,ze,B)=>{B.d(ze,{P:()=>he});var v=B(6805),K=B(9300),x=B(5698),l=B(6590),Ee=B(8068),Ce=B(4671);function he(Ie,Pe){const ce=arguments.length>=2;return de=>de.pipe(Ie?(0,K.h)((we,_t)=>Ie(we,_t,de)):Ce.y,(0,x.q)(1),ce?(0,l.d)(Pe):(0,Ee.T)(()=>new v.K))}},4004:(tn,ze,B)=>{B.d(ze,{U:()=>x});var v=B(4482),K=B(5403);function x(l,Ee){return(0,v.e)((Ce,he)=>{let Ie=0;Ce.subscribe((0,K.x)(he,Pe=>{he.next(l.call(Ee,Pe,Ie++))}))})}},9718:(tn,ze,B)=>{B.d(ze,{h:()=>K});var v=B(4004);function K(x){return(0,v.U)(()=>x)}},8189:(tn,ze,B)=>{B.d(ze,{J:()=>x});var v=B(5577),K=B(4671);function x(l=1/0){return(0,v.z)(K.y,l)}},5577:(tn,ze,B)=>{B.d(ze,{z:()=>Ie});var v=B(4004),K=B(8421),x=B(4482),l=B(9672),Ee=B(5403),he=B(576);function Ie(Pe,ce,de=1/0){return(0,he.m)(ce)?Ie((we,_t)=>(0,v.U)((Ue,Be)=>ce(we,Ue,_t,Be))((0,K.Xf)(Pe(we,_t))),de):("number"==typeof ce&&(de=ce),(0,x.e)((we,_t)=>function Ce(Pe,ce,de,we,_t,Ue,Be,Ot){const Ke=[];let Je=0,Se=0,Wt=!1;const ct=()=>{Wt&&!Ke.length&&!Je&&ce.complete()},$e=Pt=>Je<we?Fe(Pt):Ke.push(Pt),Fe=Pt=>{Ue&&ce.next(Pt),Je++;let Dt=!1;(0,K.Xf)(de(Pt,Se++)).subscribe((0,Ee.x)(ce,se=>{_t?.(se),Ue?$e(se):ce.next(se)},()=>{Dt=!0},void 0,()=>{if(Dt)try{for(Je--;Ke.length&&Je<we;){const se=Ke.shift();Be?(0,l.f)(ce,Be,()=>Fe(se)):Fe(se)}ct()}catch(se){ce.error(se)}}))};return Pe.subscribe((0,Ee.x)(ce,$e,()=>{Wt=!0,ct()})),()=>{Ot?.()}}(we,_t,Pe,de)))}},5363:(tn,ze,B)=>{B.d(ze,{Q:()=>l});var v=B(9672),K=B(4482),x=B(5403);function l(Ee,Ce=0){return(0,K.e)((he,Ie)=>{he.subscribe((0,x.x)(Ie,Pe=>(0,v.f)(Ie,Ee,()=>Ie.next(Pe),Ce),()=>(0,v.f)(Ie,Ee,()=>Ie.complete(),Ce),Pe=>(0,v.f)(Ie,Ee,()=>Ie.error(Pe),Ce)))})}},5026:(tn,ze,B)=>{B.d(ze,{R:()=>l});var v=B(4482),K=B(5403);function x(Ee,Ce,he,Ie,Pe){return(ce,de)=>{let we=he,_t=Ce,Ue=0;ce.subscribe((0,K.x)(de,Be=>{const Ot=Ue++;_t=we?Ee(_t,Be,Ot):(we=!0,Be),Ie&&de.next(_t)},Pe&&(()=>{we&&de.next(_t),de.complete()})))}}function l(Ee,Ce){return(0,v.e)(x(Ee,Ce,arguments.length>=2,!0))}},3099:(tn,ze,B)=>{B.d(ze,{B:()=>Ee});var v=B(8421),K=B(7579),x=B(930),l=B(4482);function Ee(he={}){const{connector:Ie=(()=>new K.x),resetOnError:Pe=!0,resetOnComplete:ce=!0,resetOnRefCountZero:de=!0}=he;return we=>{let _t,Ue,Be,Ot=0,Ke=!1,Je=!1;const Se=()=>{Ue?.unsubscribe(),Ue=void 0},Wt=()=>{Se(),_t=Be=void 0,Ke=Je=!1},ct=()=>{const $e=_t;Wt(),$e?.unsubscribe()};return(0,l.e)(($e,Fe)=>{Ot++,!Je&&!Ke&&Se();const Pt=Be=Be??Ie();Fe.add(()=>{Ot--,0===Ot&&!Je&&!Ke&&(Ue=Ce(ct,de))}),Pt.subscribe(Fe),!_t&&Ot>0&&(_t=new x.Hp({next:Dt=>Pt.next(Dt),error:Dt=>{Je=!0,Se(),Ue=Ce(Wt,Pe,Dt),Pt.error(Dt)},complete:()=>{Ke=!0,Se(),Ue=Ce(Wt,ce),Pt.complete()}}),(0,v.Xf)($e).subscribe(_t))})(we)}}function Ce(he,Ie,...Pe){if(!0===Ie)return void he();if(!1===Ie)return;const ce=new x.Hp({next:()=>{ce.unsubscribe(),he()}});return Ie(...Pe).subscribe(ce)}},8675:(tn,ze,B)=>{B.d(ze,{O:()=>l});var v=B(7272),K=B(3269),x=B(4482);function l(...Ee){const Ce=(0,K.yG)(Ee);return(0,x.e)((he,Ie)=>{(Ce?(0,v.z)(Ee,he,Ce):(0,v.z)(Ee,he)).subscribe(Ie)})}},9468:(tn,ze,B)=>{B.d(ze,{R:()=>K});var v=B(4482);function K(x,l=0){return(0,v.e)((Ee,Ce)=>{Ce.add(x.schedule(()=>Ee.subscribe(Ce),l))})}},3900:(tn,ze,B)=>{B.d(ze,{w:()=>l});var v=B(8421),K=B(4482),x=B(5403);function l(Ee,Ce){return(0,K.e)((he,Ie)=>{let Pe=null,ce=0,de=!1;const we=()=>de&&!Pe&&Ie.complete();he.subscribe((0,x.x)(Ie,_t=>{Pe?.unsubscribe();let Ue=0;const Be=ce++;(0,v.Xf)(Ee(_t,Be)).subscribe(Pe=(0,x.x)(Ie,Ot=>Ie.next(Ce?Ce(_t,Ot,Be,Ue++):Ot),()=>{Pe=null,we()}))},()=>{de=!0,we()}))})}},5698:(tn,ze,B)=>{B.d(ze,{q:()=>l});var v=B(515),K=B(4482),x=B(5403);function l(Ee){return Ee<=0?()=>v.E:(0,K.e)((Ce,he)=>{let Ie=0;Ce.subscribe((0,x.x)(he,Pe=>{++Ie<=Ee&&(he.next(Pe),Ee<=Ie&&he.complete())}))})}},8505:(tn,ze,B)=>{B.d(ze,{b:()=>Ee});var v=B(576),K=B(4482),x=B(5403),l=B(4671);function Ee(Ce,he,Ie){const Pe=(0,v.m)(Ce)||he||Ie?{next:Ce,error:he,complete:Ie}:Ce;return Pe?(0,K.e)((ce,de)=>{var we;null===(we=Pe.subscribe)||void 0===we||we.call(Pe);let _t=!0;ce.subscribe((0,x.x)(de,Ue=>{var Be;null===(Be=Pe.next)||void 0===Be||Be.call(Pe,Ue),de.next(Ue)},()=>{var Ue;_t=!1,null===(Ue=Pe.complete)||void 0===Ue||Ue.call(Pe),de.complete()},Ue=>{var Be;_t=!1,null===(Be=Pe.error)||void 0===Be||Be.call(Pe,Ue),de.error(Ue)},()=>{var Ue,Be;_t&&(null===(Ue=Pe.unsubscribe)||void 0===Ue||Ue.call(Pe)),null===(Be=Pe.finalize)||void 0===Be||Be.call(Pe)}))}):l.y}},8068:(tn,ze,B)=>{B.d(ze,{T:()=>l});var v=B(6805),K=B(4482),x=B(5403);function l(Ce=Ee){return(0,K.e)((he,Ie)=>{let Pe=!1;he.subscribe((0,x.x)(Ie,ce=>{Pe=!0,Ie.next(ce)},()=>Pe?Ie.complete():Ie.error(Ce())))})}function Ee(){return new v.K}},4408:(tn,ze,B)=>{B.d(ze,{o:()=>Ee});var v=B(727);class K extends v.w0{constructor(he,Ie){super()}schedule(he,Ie=0){return this}}const x={setInterval(Ce,he,...Ie){const{delegate:Pe}=x;return Pe?.setInterval?Pe.setInterval(Ce,he,...Ie):setInterval(Ce,he,...Ie)},clearInterval(Ce){const{delegate:he}=x;return(he?.clearInterval||clearInterval)(Ce)},delegate:void 0};var l=B(8737);class Ee extends K{constructor(he,Ie){super(he,Ie),this.scheduler=he,this.work=Ie,this.pending=!1}schedule(he,Ie=0){var Pe;if(this.closed)return this;this.state=he;const ce=this.id,de=this.scheduler;return null!=ce&&(this.id=this.recycleAsyncId(de,ce,Ie)),this.pending=!0,this.delay=Ie,this.id=null!==(Pe=this.id)&&void 0!==Pe?Pe:this.requestAsyncId(de,this.id,Ie),this}requestAsyncId(he,Ie,Pe=0){return x.setInterval(he.flush.bind(he,this),Pe)}recycleAsyncId(he,Ie,Pe=0){if(null!=Pe&&this.delay===Pe&&!1===this.pending)return Ie;null!=Ie&&x.clearInterval(Ie)}execute(he,Ie){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Pe=this._execute(he,Ie);if(Pe)return Pe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(he,Ie){let ce,Pe=!1;try{this.work(he)}catch(de){Pe=!0,ce=de||new Error("Scheduled action threw falsy error")}if(Pe)return this.unsubscribe(),ce}unsubscribe(){if(!this.closed){const{id:he,scheduler:Ie}=this,{actions:Pe}=Ie;this.work=this.state=this.scheduler=null,this.pending=!1,(0,l.P)(Pe,this),null!=he&&(this.id=this.recycleAsyncId(Ie,he,null)),this.delay=null,super.unsubscribe()}}}},7565:(tn,ze,B)=>{B.d(ze,{v:()=>x});var v=B(6063);class K{constructor(Ee,Ce=K.now){this.schedulerActionCtor=Ee,this.now=Ce}schedule(Ee,Ce=0,he){return new this.schedulerActionCtor(this,Ee).schedule(he,Ce)}}K.now=v.l.now;class x extends K{constructor(Ee,Ce=K.now){super(Ee,Ce),this.actions=[],this._active=!1}flush(Ee){const{actions:Ce}=this;if(this._active)return void Ce.push(Ee);let he;this._active=!0;do{if(he=Ee.execute(Ee.state,Ee.delay))break}while(Ee=Ce.shift());if(this._active=!1,he){for(;Ee=Ce.shift();)Ee.unsubscribe();throw he}}}},4986:(tn,ze,B)=>{B.d(ze,{P:()=>l,z:()=>x});var v=B(4408);const x=new(B(7565).v)(v.o),l=x},6063:(tn,ze,B)=>{B.d(ze,{l:()=>v});const v={now:()=>(v.delegate||Date).now(),delegate:void 0}},3410:(tn,ze,B)=>{B.d(ze,{z:()=>v});const v={setTimeout(K,x,...l){const{delegate:Ee}=v;return Ee?.setTimeout?Ee.setTimeout(K,x,...l):setTimeout(K,x,...l)},clearTimeout(K){const{delegate:x}=v;return(x?.clearTimeout||clearTimeout)(K)},delegate:void 0}},2202:(tn,ze,B)=>{B.d(ze,{h:()=>K});const K=function v(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(tn,ze,B)=>{B.d(ze,{L:()=>v});const v="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(tn,ze,B)=>{B.d(ze,{K:()=>K});const K=(0,B(3888).d)(x=>function(){x(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(tn,ze,B)=>{B.d(ze,{_6:()=>Ce,jO:()=>l,yG:()=>Ee});var v=B(576),K=B(3532);function x(he){return he[he.length-1]}function l(he){return(0,v.m)(x(he))?he.pop():void 0}function Ee(he){return(0,K.K)(x(he))?he.pop():void 0}function Ce(he,Ie){return"number"==typeof x(he)?he.pop():Ie}},4742:(tn,ze,B)=>{B.d(ze,{D:()=>Ee});const{isArray:v}=Array,{getPrototypeOf:K,prototype:x,keys:l}=Object;function Ee(he){if(1===he.length){const Ie=he[0];if(v(Ie))return{args:Ie,keys:null};if(function Ce(he){return he&&"object"==typeof he&&K(he)===x}(Ie)){const Pe=l(Ie);return{args:Pe.map(ce=>Ie[ce]),keys:Pe}}}return{args:he,keys:null}}},8737:(tn,ze,B)=>{function v(K,x){if(K){const l=K.indexOf(x);0<=l&&K.splice(l,1)}}B.d(ze,{P:()=>v})},3888:(tn,ze,B)=>{function v(K){const l=K(Ee=>{Error.call(Ee),Ee.stack=(new Error).stack});return l.prototype=Object.create(Error.prototype),l.prototype.constructor=l,l}B.d(ze,{d:()=>v})},1810:(tn,ze,B)=>{function v(K,x){return K.reduce((l,Ee,Ce)=>(l[Ee]=x[Ce],l),{})}B.d(ze,{n:()=>v})},2806:(tn,ze,B)=>{B.d(ze,{O:()=>l,x:()=>x});var v=B(2416);let K=null;function x(Ee){if(v.v.useDeprecatedSynchronousErrorHandling){const Ce=!K;if(Ce&&(K={errorThrown:!1,error:null}),Ee(),Ce){const{errorThrown:he,error:Ie}=K;if(K=null,he)throw Ie}}else Ee()}function l(Ee){v.v.useDeprecatedSynchronousErrorHandling&&K&&(K.errorThrown=!0,K.error=Ee)}},9672:(tn,ze,B)=>{function v(K,x,l,Ee=0,Ce=!1){const he=x.schedule(function(){l(),Ce?K.add(this.schedule(null,Ee)):this.unsubscribe()},Ee);if(K.add(he),!Ce)return he}B.d(ze,{f:()=>v})},4671:(tn,ze,B)=>{function v(K){return K}B.d(ze,{y:()=>v})},1144:(tn,ze,B)=>{B.d(ze,{z:()=>v});const v=K=>K&&"number"==typeof K.length&&"function"!=typeof K},2206:(tn,ze,B)=>{B.d(ze,{D:()=>K});var v=B(576);function K(x){return Symbol.asyncIterator&&(0,v.m)(x?.[Symbol.asyncIterator])}},576:(tn,ze,B)=>{function v(K){return"function"==typeof K}B.d(ze,{m:()=>v})},3670:(tn,ze,B)=>{B.d(ze,{c:()=>x});var v=B(8822),K=B(576);function x(l){return(0,K.m)(l[v.L])}},6495:(tn,ze,B)=>{B.d(ze,{T:()=>x});var v=B(2202),K=B(576);function x(l){return(0,K.m)(l?.[v.h])}},8239:(tn,ze,B)=>{B.d(ze,{t:()=>K});var v=B(576);function K(x){return(0,v.m)(x?.then)}},3260:(tn,ze,B)=>{B.d(ze,{L:()=>l,Q:()=>x});var v=B(655),K=B(576);function x(Ee){return(0,v.FC)(this,arguments,function*(){const he=Ee.getReader();try{for(;;){const{value:Ie,done:Pe}=yield(0,v.qq)(he.read());if(Pe)return yield(0,v.qq)(void 0);yield yield(0,v.qq)(Ie)}}finally{he.releaseLock()}})}function l(Ee){return(0,K.m)(Ee?.getReader)}},3532:(tn,ze,B)=>{B.d(ze,{K:()=>K});var v=B(576);function K(x){return x&&(0,v.m)(x.schedule)}},4482:(tn,ze,B)=>{B.d(ze,{A:()=>K,e:()=>x});var v=B(576);function K(l){return(0,v.m)(l?.lift)}function x(l){return Ee=>{if(K(Ee))return Ee.lift(function(Ce){try{return l(Ce,this)}catch(he){this.error(he)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(tn,ze,B)=>{B.d(ze,{Z:()=>l});var v=B(4004);const{isArray:K}=Array;function l(Ee){return(0,v.U)(Ce=>function x(Ee,Ce){return K(Ce)?Ee(...Ce):Ee(Ce)}(Ee,Ce))}},5032:(tn,ze,B)=>{function v(){}B.d(ze,{Z:()=>v})},9635:(tn,ze,B)=>{B.d(ze,{U:()=>x,z:()=>K});var v=B(4671);function K(...l){return x(l)}function x(l){return 0===l.length?v.y:1===l.length?l[0]:function(Ce){return l.reduce((he,Ie)=>Ie(he),Ce)}}},7849:(tn,ze,B)=>{B.d(ze,{h:()=>x});var v=B(2416),K=B(3410);function x(l){K.z.setTimeout(()=>{const{onUnhandledError:Ee}=v.v;if(!Ee)throw l;Ee(l)})}},4532:(tn,ze,B)=>{function v(K){return new TypeError(`You provided ${null!==K&&"object"==typeof K?"an invalid object":`'${K}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}B.d(ze,{z:()=>v})},655:(tn,ze,B)=>{function l(Ze,lt){var Qe={};for(var dt in Ze)Object.prototype.hasOwnProperty.call(Ze,dt)&&lt.indexOf(dt)<0&&(Qe[dt]=Ze[dt]);if(null!=Ze&&"function"==typeof Object.getOwnPropertySymbols){var pt=0;for(dt=Object.getOwnPropertySymbols(Ze);pt<dt.length;pt++)lt.indexOf(dt[pt])<0&&Object.prototype.propertyIsEnumerable.call(Ze,dt[pt])&&(Qe[dt[pt]]=Ze[dt[pt]])}return Qe}function we(Ze,lt,Qe,dt){return new(Qe||(Qe=Promise))(function(We,Xt){function qt(An){try{Lt(dt.next(An))}catch(It){Xt(It)}}function pn(An){try{Lt(dt.throw(An))}catch(It){Xt(It)}}function Lt(An){An.done?We(An.value):function pt(We){return We instanceof Qe?We:new Qe(function(Xt){Xt(We)})}(An.value).then(qt,pn)}Lt((dt=dt.apply(Ze,lt||[])).next())})}function ct(Ze){return this instanceof ct?(this.v=Ze,this):new ct(Ze)}function $e(Ze,lt,Qe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var pt,dt=Qe.apply(Ze,lt||[]),We=[];return pt={},Xt("next"),Xt("throw"),Xt("return"),pt[Symbol.asyncIterator]=function(){return this},pt;function Xt(hn){dt[hn]&&(pt[hn]=function(zn){return new Promise(function(Wn,hr){We.push([hn,zn,Wn,hr])>1||qt(hn,zn)})})}function qt(hn,zn){try{!function pn(hn){hn.value instanceof ct?Promise.resolve(hn.value.v).then(Lt,An):It(We[0][2],hn)}(dt[hn](zn))}catch(Wn){It(We[0][3],Wn)}}function Lt(hn){qt("next",hn)}function An(hn){qt("throw",hn)}function It(hn,zn){hn(zn),We.shift(),We.length&&qt(We[0][0],We[0][1])}}function Pt(Ze){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Qe,lt=Ze[Symbol.asyncIterator];return lt?lt.call(Ze):(Ze=function Ot(Ze){var lt="function"==typeof Symbol&&Symbol.iterator,Qe=lt&&Ze[lt],dt=0;if(Qe)return Qe.call(Ze);if(Ze&&"number"==typeof Ze.length)return{next:function(){return Ze&&dt>=Ze.length&&(Ze=void 0),{value:Ze&&Ze[dt++],done:!Ze}}};throw new TypeError(lt?"Object is not iterable.":"Symbol.iterator is not defined.")}(Ze),Qe={},dt("next"),dt("throw"),dt("return"),Qe[Symbol.asyncIterator]=function(){return this},Qe);function dt(We){Qe[We]=Ze[We]&&function(Xt){return new Promise(function(qt,pn){!function pt(We,Xt,qt,pn){Promise.resolve(pn).then(function(Lt){We({value:Lt,done:qt})},Xt)}(qt,pn,(Xt=Ze[We](Xt)).done,Xt.value)})}}}B.d(ze,{FC:()=>$e,KL:()=>Pt,_T:()=>l,mG:()=>we,qq:()=>ct})},6895:(tn,ze,B)=>{B.d(ze,{Do:()=>Wt,EM:()=>Po,HT:()=>Ee,JF:()=>Yo,K0:()=>he,Mn:()=>dt,Mx:()=>Ts,NF:()=>Oo,O5:()=>xr,PM:()=>$r,S$:()=>Ke,Tn:()=>Rt,UT:()=>pt,V_:()=>ce,Ye:()=>ct,Zx:()=>bs,b0:()=>Se,bD:()=>Ns,ez:()=>Ms,mk:()=>lr,ol:()=>Qe,p6:()=>ht,q:()=>x,sg:()=>Xi,tP:()=>hi,w_:()=>Ce,x:()=>tt});var v=B(4650);let K=null;function x(){return K}function Ee(k){K||(K=k)}class Ce{}const he=new v.OlP("DocumentToken");let Ie=(()=>{class k{historyGo(L){throw new Error("Not implemented")}}return k.\u0275fac=function(L){return new(L||k)},k.\u0275prov=v.Yz7({token:k,factory:function(){return function Pe(){return(0,v.LFG)(de)}()},providedIn:"platform"}),k})();const ce=new v.OlP("Location Initialized");let de=(()=>{class k extends Ie{constructor(L){super(),this._doc=L,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return x().getBaseHref(this._doc)}onPopState(L){const X=x().getGlobalEventTarget(this._doc,"window");return X.addEventListener("popstate",L,!1),()=>X.removeEventListener("popstate",L)}onHashChange(L){const X=x().getGlobalEventTarget(this._doc,"window");return X.addEventListener("hashchange",L,!1),()=>X.removeEventListener("hashchange",L)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(L){this.location.pathname=L}pushState(L,X,be){we()?this._history.pushState(L,X,be):this.location.hash=be}replaceState(L,X,be){we()?this._history.replaceState(L,X,be):this.location.hash=be}forward(){this._history.forward()}back(){this._history.back()}historyGo(L=0){this._history.go(L)}getState(){return this._history.state}}return k.\u0275fac=function(L){return new(L||k)(v.LFG(he))},k.\u0275prov=v.Yz7({token:k,factory:function(){return function _t(){return new de((0,v.LFG)(he))}()},providedIn:"platform"}),k})();function we(){return!!window.history.pushState}function Ue(k,Z){if(0==k.length)return Z;if(0==Z.length)return k;let L=0;return k.endsWith("/")&&L++,Z.startsWith("/")&&L++,2==L?k+Z.substring(1):1==L?k+Z:k+"/"+Z}function Be(k){const Z=k.match(/#|\?|$/),L=Z&&Z.index||k.length;return k.slice(0,L-("/"===k[L-1]?1:0))+k.slice(L)}function Ot(k){return k&&"?"!==k[0]?"?"+k:k}let Ke=(()=>{class k{historyGo(L){throw new Error("Not implemented")}}return k.\u0275fac=function(L){return new(L||k)},k.\u0275prov=v.Yz7({token:k,factory:function(){return(0,v.f3M)(Se)},providedIn:"root"}),k})();const Je=new v.OlP("appBaseHref");let Se=(()=>{class k extends Ke{constructor(L,X){super(),this._platformLocation=L,this._removeListenerFns=[],this._baseHref=X??this._platformLocation.getBaseHrefFromDOM()??(0,v.f3M)(he).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(L){this._removeListenerFns.push(this._platformLocation.onPopState(L),this._platformLocation.onHashChange(L))}getBaseHref(){return this._baseHref}prepareExternalUrl(L){return Ue(this._baseHref,L)}path(L=!1){const X=this._platformLocation.pathname+Ot(this._platformLocation.search),be=this._platformLocation.hash;return be&&L?`${X}${be}`:X}pushState(L,X,be,ot){const bt=this.prepareExternalUrl(be+Ot(ot));this._platformLocation.pushState(L,X,bt)}replaceState(L,X,be,ot){const bt=this.prepareExternalUrl(be+Ot(ot));this._platformLocation.replaceState(L,X,bt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(L=0){this._platformLocation.historyGo?.(L)}}return k.\u0275fac=function(L){return new(L||k)(v.LFG(Ie),v.LFG(Je,8))},k.\u0275prov=v.Yz7({token:k,factory:k.\u0275fac,providedIn:"root"}),k})(),Wt=(()=>{class k extends Ke{constructor(L,X){super(),this._platformLocation=L,this._baseHref="",this._removeListenerFns=[],null!=X&&(this._baseHref=X)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(L){this._removeListenerFns.push(this._platformLocation.onPopState(L),this._platformLocation.onHashChange(L))}getBaseHref(){return this._baseHref}path(L=!1){let X=this._platformLocation.hash;return null==X&&(X="#"),X.length>0?X.substring(1):X}prepareExternalUrl(L){const X=Ue(this._baseHref,L);return X.length>0?"#"+X:X}pushState(L,X,be,ot){let bt=this.prepareExternalUrl(be+Ot(ot));0==bt.length&&(bt=this._platformLocation.pathname),this._platformLocation.pushState(L,X,bt)}replaceState(L,X,be,ot){let bt=this.prepareExternalUrl(be+Ot(ot));0==bt.length&&(bt=this._platformLocation.pathname),this._platformLocation.replaceState(L,X,bt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(L=0){this._platformLocation.historyGo?.(L)}}return k.\u0275fac=function(L){return new(L||k)(v.LFG(Ie),v.LFG(Je,8))},k.\u0275prov=v.Yz7({token:k,factory:k.\u0275fac}),k})(),ct=(()=>{class k{constructor(L){this._subject=new v.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=L;const X=this._locationStrategy.getBaseHref();this._baseHref=Be(Pt(X)),this._locationStrategy.onPopState(be=>{this._subject.emit({url:this.path(!0),pop:!0,state:be.state,type:be.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(L=!1){return this.normalize(this._locationStrategy.path(L))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(L,X=""){return this.path()==this.normalize(L+Ot(X))}normalize(L){return k.stripTrailingSlash(function Fe(k,Z){return k&&Z.startsWith(k)?Z.substring(k.length):Z}(this._baseHref,Pt(L)))}prepareExternalUrl(L){return L&&"/"!==L[0]&&(L="/"+L),this._locationStrategy.prepareExternalUrl(L)}go(L,X="",be=null){this._locationStrategy.pushState(be,"",L,X),this._notifyUrlChangeListeners(this.prepareExternalUrl(L+Ot(X)),be)}replaceState(L,X="",be=null){this._locationStrategy.replaceState(be,"",L,X),this._notifyUrlChangeListeners(this.prepareExternalUrl(L+Ot(X)),be)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(L=0){this._locationStrategy.historyGo?.(L)}onUrlChange(L){return this._urlChangeListeners.push(L),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(X=>{this._notifyUrlChangeListeners(X.url,X.state)})),()=>{const X=this._urlChangeListeners.indexOf(L);this._urlChangeListeners.splice(X,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(L="",X){this._urlChangeListeners.forEach(be=>be(L,X))}subscribe(L,X,be){return this._subject.subscribe({next:L,error:X,complete:be})}}return k.normalizeQueryParams=Ot,k.joinWithSlash=Ue,k.stripTrailingSlash=Be,k.\u0275fac=function(L){return new(L||k)(v.LFG(Ke))},k.\u0275prov=v.Yz7({token:k,factory:function(){return function $e(){return new ct((0,v.LFG)(Ke))}()},providedIn:"root"}),k})();function Pt(k){return k.replace(/\/index.html$/,"")}var se=(()=>((se=se||{})[se.Decimal=0]="Decimal",se[se.Percent=1]="Percent",se[se.Currency=2]="Currency",se[se.Scientific=3]="Scientific",se))(),tt=(()=>((tt=tt||{})[tt.Format=0]="Format",tt[tt.Standalone=1]="Standalone",tt))(),Rt=(()=>((Rt=Rt||{})[Rt.Narrow=0]="Narrow",Rt[Rt.Abbreviated=1]="Abbreviated",Rt[Rt.Wide=2]="Wide",Rt[Rt.Short=3]="Short",Rt))(),xt=(()=>((xt=xt||{})[xt.Short=0]="Short",xt[xt.Medium=1]="Medium",xt[xt.Long=2]="Long",xt[xt.Full=3]="Full",xt))(),vt=(()=>((vt=vt||{})[vt.Decimal=0]="Decimal",vt[vt.Group=1]="Group",vt[vt.List=2]="List",vt[vt.PercentSign=3]="PercentSign",vt[vt.PlusSign=4]="PlusSign",vt[vt.MinusSign=5]="MinusSign",vt[vt.Exponential=6]="Exponential",vt[vt.SuperscriptingExponent=7]="SuperscriptingExponent",vt[vt.PerMille=8]="PerMille",vt[vt.Infinity=9]="Infinity",vt[vt.NaN=10]="NaN",vt[vt.TimeSeparator=11]="TimeSeparator",vt[vt.CurrencyDecimal=12]="CurrencyDecimal",vt[vt.CurrencyGroup=13]="CurrencyGroup",vt))();function Qe(k,Z,L){const X=(0,v.cg1)(k),ot=Tt([X[v.wAp.DayPeriodsFormat],X[v.wAp.DayPeriodsStandalone]],Z);return Tt(ot,L)}function dt(k,Z,L){const X=(0,v.cg1)(k),ot=Tt([X[v.wAp.DaysFormat],X[v.wAp.DaysStandalone]],Z);return Tt(ot,L)}function pt(k,Z,L){const X=(0,v.cg1)(k),ot=Tt([X[v.wAp.MonthsFormat],X[v.wAp.MonthsStandalone]],Z);return Tt(ot,L)}function pn(k,Z){return Tt((0,v.cg1)(k)[v.wAp.DateFormat],Z)}function Lt(k,Z){return Tt((0,v.cg1)(k)[v.wAp.TimeFormat],Z)}function An(k,Z){return Tt((0,v.cg1)(k)[v.wAp.DateTimeFormat],Z)}function It(k,Z){const L=(0,v.cg1)(k),X=L[v.wAp.NumberSymbols][Z];if(typeof X>"u"){if(Z===vt.CurrencyDecimal)return L[v.wAp.NumberSymbols][vt.Decimal];if(Z===vt.CurrencyGroup)return L[v.wAp.NumberSymbols][vt.Group]}return X}function kr(k){if(!k[v.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${k[v.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Tt(k,Z){for(let L=Z;L>-1;L--)if(typeof k[L]<"u")return k[L];throw new Error("Locale data API: locale data undefined")}function Fn(k){const[Z,L]=k.split(":");return{hours:+Z,minutes:+L}}const q=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,oe={},Ve=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Ct=(()=>((Ct=Ct||{})[Ct.Short=0]="Short",Ct[Ct.ShortGMT=1]="ShortGMT",Ct[Ct.Long=2]="Long",Ct[Ct.Extended=3]="Extended",Ct))(),Mt=(()=>((Mt=Mt||{})[Mt.FullYear=0]="FullYear",Mt[Mt.Month=1]="Month",Mt[Mt.Date=2]="Date",Mt[Mt.Hours=3]="Hours",Mt[Mt.Minutes=4]="Minutes",Mt[Mt.Seconds=5]="Seconds",Mt[Mt.FractionalSeconds=6]="FractionalSeconds",Mt[Mt.Day=7]="Day",Mt))(),Nt=(()=>((Nt=Nt||{})[Nt.DayPeriods=0]="DayPeriods",Nt[Nt.Days=1]="Days",Nt[Nt.Months=2]="Months",Nt[Nt.Eras=3]="Eras",Nt))();function ht(k,Z,L,X){let be=function je(k){if(mn(k))return k;if("number"==typeof k&&!isNaN(k))return new Date(k);if("string"==typeof k){if(k=k.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(k)){const[be,ot=1,bt=1]=k.split("-").map(vn=>+vn);return jt(be,ot-1,bt)}const L=parseFloat(k);if(!isNaN(k-L))return new Date(L);let X;if(X=k.match(q))return function Yt(k){const Z=new Date(0);let L=0,X=0;const be=k[8]?Z.setUTCFullYear:Z.setFullYear,ot=k[8]?Z.setUTCHours:Z.setHours;k[9]&&(L=Number(k[9]+k[10]),X=Number(k[9]+k[11])),be.call(Z,Number(k[1]),Number(k[2])-1,Number(k[3]));const bt=Number(k[4]||0)-L,vn=Number(k[5]||0)-X,On=Number(k[6]||0),Yn=Math.floor(1e3*parseFloat("0."+(k[7]||0)));return ot.call(Z,bt,vn,On,Yn),Z}(X)}const Z=new Date(k);if(!mn(Z))throw new Error(`Unable to convert "${k}" into a date`);return Z}(k);Z=wn(L,Z)||Z;let vn,bt=[];for(;Z;){if(vn=Ve.exec(Z),!vn){bt.push(Z);break}{bt=bt.concat(vn.slice(1));const pr=bt.pop();if(!pr)break;Z=pr}}let On=be.getTimezoneOffset();X&&(On=fe(X,On),be=function st(k,Z,L){const X=L?-1:1,be=k.getTimezoneOffset();return function Te(k,Z){return(k=new Date(k.getTime())).setMinutes(k.getMinutes()+Z),k}(k,X*(fe(Z,be)-be))}(be,X,!0));let Yn="";return bt.forEach(pr=>{const Jn=function ve(k){if(Dr[k])return Dr[k];let Z;switch(k){case"G":case"GG":case"GGG":Z=Kn(Nt.Eras,Rt.Abbreviated);break;case"GGGG":Z=Kn(Nt.Eras,Rt.Wide);break;case"GGGGG":Z=Kn(Nt.Eras,Rt.Narrow);break;case"y":Z=En(Mt.FullYear,1,0,!1,!0);break;case"yy":Z=En(Mt.FullYear,2,0,!0,!0);break;case"yyy":Z=En(Mt.FullYear,3,0,!1,!0);break;case"yyyy":Z=En(Mt.FullYear,4,0,!1,!0);break;case"Y":Z=In(1);break;case"YY":Z=In(2,!0);break;case"YYY":Z=In(3);break;case"YYYY":Z=In(4);break;case"M":case"L":Z=En(Mt.Month,1,1);break;case"MM":case"LL":Z=En(Mt.Month,2,1);break;case"MMM":Z=Kn(Nt.Months,Rt.Abbreviated);break;case"MMMM":Z=Kn(Nt.Months,Rt.Wide);break;case"MMMMM":Z=Kn(Nt.Months,Rt.Narrow);break;case"LLL":Z=Kn(Nt.Months,Rt.Abbreviated,tt.Standalone);break;case"LLLL":Z=Kn(Nt.Months,Rt.Wide,tt.Standalone);break;case"LLLLL":Z=Kn(Nt.Months,Rt.Narrow,tt.Standalone);break;case"w":Z=Sn(1);break;case"ww":Z=Sn(2);break;case"W":Z=Sn(1,!0);break;case"d":Z=En(Mt.Date,1);break;case"dd":Z=En(Mt.Date,2);break;case"c":case"cc":Z=En(Mt.Day,1);break;case"ccc":Z=Kn(Nt.Days,Rt.Abbreviated,tt.Standalone);break;case"cccc":Z=Kn(Nt.Days,Rt.Wide,tt.Standalone);break;case"ccccc":Z=Kn(Nt.Days,Rt.Narrow,tt.Standalone);break;case"cccccc":Z=Kn(Nt.Days,Rt.Short,tt.Standalone);break;case"E":case"EE":case"EEE":Z=Kn(Nt.Days,Rt.Abbreviated);break;case"EEEE":Z=Kn(Nt.Days,Rt.Wide);break;case"EEEEE":Z=Kn(Nt.Days,Rt.Narrow);break;case"EEEEEE":Z=Kn(Nt.Days,Rt.Short);break;case"a":case"aa":case"aaa":Z=Kn(Nt.DayPeriods,Rt.Abbreviated);break;case"aaaa":Z=Kn(Nt.DayPeriods,Rt.Wide);break;case"aaaaa":Z=Kn(Nt.DayPeriods,Rt.Narrow);break;case"b":case"bb":case"bbb":Z=Kn(Nt.DayPeriods,Rt.Abbreviated,tt.Standalone,!0);break;case"bbbb":Z=Kn(Nt.DayPeriods,Rt.Wide,tt.Standalone,!0);break;case"bbbbb":Z=Kn(Nt.DayPeriods,Rt.Narrow,tt.Standalone,!0);break;case"B":case"BB":case"BBB":Z=Kn(Nt.DayPeriods,Rt.Abbreviated,tt.Format,!0);break;case"BBBB":Z=Kn(Nt.DayPeriods,Rt.Wide,tt.Format,!0);break;case"BBBBB":Z=Kn(Nt.DayPeriods,Rt.Narrow,tt.Format,!0);break;case"h":Z=En(Mt.Hours,1,-12);break;case"hh":Z=En(Mt.Hours,2,-12);break;case"H":Z=En(Mt.Hours,1);break;case"HH":Z=En(Mt.Hours,2);break;case"m":Z=En(Mt.Minutes,1);break;case"mm":Z=En(Mt.Minutes,2);break;case"s":Z=En(Mt.Seconds,1);break;case"ss":Z=En(Mt.Seconds,2);break;case"S":Z=En(Mt.FractionalSeconds,1);break;case"SS":Z=En(Mt.FractionalSeconds,2);break;case"SSS":Z=En(Mt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":Z=Fr(Ct.Short);break;case"ZZZZZ":Z=Fr(Ct.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":Z=Fr(Ct.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":Z=Fr(Ct.Long);break;default:return null}return Dr[k]=Z,Z}(pr);Yn+=Jn?Jn(be,L,On):"''"===pr?"'":pr.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Yn}function jt(k,Z,L){const X=new Date(0);return X.setFullYear(k,Z,L),X.setHours(0,0,0),X}function wn(k,Z){const L=function lt(k){return(0,v.cg1)(k)[v.wAp.LocaleId]}(k);if(oe[L]=oe[L]||{},oe[L][Z])return oe[L][Z];let X="";switch(Z){case"shortDate":X=pn(k,xt.Short);break;case"mediumDate":X=pn(k,xt.Medium);break;case"longDate":X=pn(k,xt.Long);break;case"fullDate":X=pn(k,xt.Full);break;case"shortTime":X=Lt(k,xt.Short);break;case"mediumTime":X=Lt(k,xt.Medium);break;case"longTime":X=Lt(k,xt.Long);break;case"fullTime":X=Lt(k,xt.Full);break;case"short":const be=wn(k,"shortTime"),ot=wn(k,"shortDate");X=cn(An(k,xt.Short),[be,ot]);break;case"medium":const bt=wn(k,"mediumTime"),vn=wn(k,"mediumDate");X=cn(An(k,xt.Medium),[bt,vn]);break;case"long":const On=wn(k,"longTime"),Yn=wn(k,"longDate");X=cn(An(k,xt.Long),[On,Yn]);break;case"full":const pr=wn(k,"fullTime"),Jn=wn(k,"fullDate");X=cn(An(k,xt.Full),[pr,Jn])}return X&&(oe[L][Z]=X),X}function cn(k,Z){return Z&&(k=k.replace(/\{([^}]+)}/g,function(L,X){return null!=Z&&X in Z?Z[X]:L})),k}function fn(k,Z,L="-",X,be){let ot="";(k<0||be&&k<=0)&&(be?k=1-k:(k=-k,ot=L));let bt=String(k);for(;bt.length<Z;)bt="0"+bt;return X&&(bt=bt.slice(bt.length-Z)),ot+bt}function En(k,Z,L=0,X=!1,be=!1){return function(ot,bt){let vn=function zr(k,Z){switch(k){case Mt.FullYear:return Z.getFullYear();case Mt.Month:return Z.getMonth();case Mt.Date:return Z.getDate();case Mt.Hours:return Z.getHours();case Mt.Minutes:return Z.getMinutes();case Mt.Seconds:return Z.getSeconds();case Mt.FractionalSeconds:return Z.getMilliseconds();case Mt.Day:return Z.getDay();default:throw new Error(`Unknown DateType value "${k}".`)}}(k,ot);if((L>0||vn>-L)&&(vn+=L),k===Mt.Hours)0===vn&&-12===L&&(vn=12);else if(k===Mt.FractionalSeconds)return function ir(k,Z){return fn(k,3).substring(0,Z)}(vn,Z);const On=It(bt,vt.MinusSign);return fn(vn,Z,On,X,be)}}function Kn(k,Z,L=tt.Format,X=!1){return function(be,ot){return function Nr(k,Z,L,X,be,ot){switch(L){case Nt.Months:return pt(Z,be,X)[k.getMonth()];case Nt.Days:return dt(Z,be,X)[k.getDay()];case Nt.DayPeriods:const bt=k.getHours(),vn=k.getMinutes();if(ot){const Yn=function qn(k){const Z=(0,v.cg1)(k);return kr(Z),(Z[v.wAp.ExtraData][2]||[]).map(X=>"string"==typeof X?Fn(X):[Fn(X[0]),Fn(X[1])])}(Z),pr=function _r(k,Z,L){const X=(0,v.cg1)(k);kr(X);const ot=Tt([X[v.wAp.ExtraData][0],X[v.wAp.ExtraData][1]],Z)||[];return Tt(ot,L)||[]}(Z,be,X),Jn=Yn.findIndex(Ci=>{if(Array.isArray(Ci)){const[mt,Er]=Ci,si=bt>=mt.hours&&vn>=mt.minutes,zs=bt<Er.hours||bt===Er.hours&&vn<Er.minutes;if(mt.hours<Er.hours){if(si&&zs)return!0}else if(si||zs)return!0}else if(Ci.hours===bt&&Ci.minutes===vn)return!0;return!1});if(-1!==Jn)return pr[Jn]}return Qe(Z,be,X)[bt<12?0:1];case Nt.Eras:return function We(k,Z){return Tt((0,v.cg1)(k)[v.wAp.Eras],Z)}(Z,X)[k.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${L}`)}}(be,ot,k,Z,L,X)}}function Fr(k){return function(Z,L,X){const be=-1*X,ot=It(L,vt.MinusSign),bt=be>0?Math.floor(be/60):Math.ceil(be/60);switch(k){case Ct.Short:return(be>=0?"+":"")+fn(bt,2,ot)+fn(Math.abs(be%60),2,ot);case Ct.ShortGMT:return"GMT"+(be>=0?"+":"")+fn(bt,1,ot);case Ct.Long:return"GMT"+(be>=0?"+":"")+fn(bt,2,ot)+":"+fn(Math.abs(be%60),2,ot);case Ct.Extended:return 0===X?"Z":(be>=0?"+":"")+fn(bt,2,ot)+":"+fn(Math.abs(be%60),2,ot);default:throw new Error(`Unknown zone width "${k}"`)}}}function an(k){return jt(k.getFullYear(),k.getMonth(),k.getDate()+(4-k.getDay()))}function Sn(k,Z=!1){return function(L,X){let be;if(Z){const ot=new Date(L.getFullYear(),L.getMonth(),1).getDay()-1,bt=L.getDate();be=1+Math.floor((bt+ot)/7)}else{const ot=an(L),bt=function kt(k){const Z=jt(k,0,1).getDay();return jt(k,0,1+(Z<=4?4:11)-Z)}(ot.getFullYear()),vn=ot.getTime()-bt.getTime();be=1+Math.round(vn/6048e5)}return fn(be,k,It(X,vt.MinusSign))}}function In(k,Z=!1){return function(L,X){return fn(an(L).getFullYear(),k,It(X,vt.MinusSign),Z)}}const Dr={};function fe(k,Z){k=k.replace(/:/g,"");const L=Date.parse("Jan 01, 1970 00:00:00 "+k)/6e4;return isNaN(L)?Z:L}function mn(k){return k instanceof Date&&!isNaN(k.valueOf())}const Hn=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Yr(k){const Z=parseInt(k);if(isNaN(Z))throw new Error("Invalid integer literal when parsing "+k);return Z}function Ts(k,Z){Z=encodeURIComponent(Z);for(const L of k.split(";")){const X=L.indexOf("="),[be,ot]=-1==X?[L,""]:[L.slice(0,X),L.slice(X+1)];if(be.trim()===Z)return decodeURIComponent(ot)}return null}let lr=(()=>{class k{constructor(L,X,be,ot){this._iterableDiffers=L,this._keyValueDiffers=X,this._ngEl=be,this._renderer=ot,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(L){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof L?L.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(L){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof L?L.split(/\s+/):L,this._rawClass&&((0,v.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const L=this._iterableDiffer.diff(this._rawClass);L&&this._applyIterableChanges(L)}else if(this._keyValueDiffer){const L=this._keyValueDiffer.diff(this._rawClass);L&&this._applyKeyValueChanges(L)}}_applyKeyValueChanges(L){L.forEachAddedItem(X=>this._toggleClass(X.key,X.currentValue)),L.forEachChangedItem(X=>this._toggleClass(X.key,X.currentValue)),L.forEachRemovedItem(X=>{X.previousValue&&this._toggleClass(X.key,!1)})}_applyIterableChanges(L){L.forEachAddedItem(X=>{if("string"!=typeof X.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,v.AaK)(X.item)}`);this._toggleClass(X.item,!0)}),L.forEachRemovedItem(X=>this._toggleClass(X.item,!1))}_applyClasses(L){L&&(Array.isArray(L)||L instanceof Set?L.forEach(X=>this._toggleClass(X,!0)):Object.keys(L).forEach(X=>this._toggleClass(X,!!L[X])))}_removeClasses(L){L&&(Array.isArray(L)||L instanceof Set?L.forEach(X=>this._toggleClass(X,!1)):Object.keys(L).forEach(X=>this._toggleClass(X,!1)))}_toggleClass(L,X){(L=L.trim())&&L.split(/\s+/g).forEach(be=>{X?this._renderer.addClass(this._ngEl.nativeElement,be):this._renderer.removeClass(this._ngEl.nativeElement,be)})}}return k.\u0275fac=function(L){return new(L||k)(v.Y36(v.ZZ4),v.Y36(v.aQg),v.Y36(v.SBq),v.Y36(v.Qsj))},k.\u0275dir=v.lG2({type:k,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),k})();class cs{constructor(Z,L,X,be){this.$implicit=Z,this.ngForOf=L,this.index=X,this.count=be}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Xi=(()=>{class k{constructor(L,X,be){this._viewContainer=L,this._template=X,this._differs=be,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(L){this._ngForOf=L,this._ngForOfDirty=!0}set ngForTrackBy(L){this._trackByFn=L}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(L){L&&(this._template=L)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const L=this._ngForOf;!this._differ&&L&&(this._differ=this._differs.find(L).create(this.ngForTrackBy))}if(this._differ){const L=this._differ.diff(this._ngForOf);L&&this._applyChanges(L)}}_applyChanges(L){const X=this._viewContainer;L.forEachOperation((be,ot,bt)=>{if(null==be.previousIndex)X.createEmbeddedView(this._template,new cs(be.item,this._ngForOf,-1,-1),null===bt?void 0:bt);else if(null==bt)X.remove(null===ot?void 0:ot);else if(null!==ot){const vn=X.get(ot);X.move(vn,bt),ds(vn,be)}});for(let be=0,ot=X.length;be<ot;be++){const vn=X.get(be).context;vn.index=be,vn.count=ot,vn.ngForOf=this._ngForOf}L.forEachIdentityChange(be=>{ds(X.get(be.currentIndex),be)})}static ngTemplateContextGuard(L,X){return!0}}return k.\u0275fac=function(L){return new(L||k)(v.Y36(v.s_b),v.Y36(v.Rgc),v.Y36(v.ZZ4))},k.\u0275dir=v.lG2({type:k,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),k})();function ds(k,Z){k.context.$implicit=Z.item}let xr=(()=>{class k{constructor(L,X){this._viewContainer=L,this._context=new As,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=X}set ngIf(L){this._context.$implicit=this._context.ngIf=L,this._updateView()}set ngIfThen(L){Cr("ngIfThen",L),this._thenTemplateRef=L,this._thenViewRef=null,this._updateView()}set ngIfElse(L){Cr("ngIfElse",L),this._elseTemplateRef=L,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(L,X){return!0}}return k.\u0275fac=function(L){return new(L||k)(v.Y36(v.s_b),v.Y36(v.Rgc))},k.\u0275dir=v.lG2({type:k,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),k})();class As{constructor(){this.$implicit=null,this.ngIf=null}}function Cr(k,Z){if(Z&&!Z.createEmbeddedView)throw new Error(`${k} must be a TemplateRef, but received '${(0,v.AaK)(Z)}'.`)}let hi=(()=>{class k{constructor(L){this._viewContainerRef=L,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(L){if(L.ngTemplateOutlet||L.ngTemplateOutletInjector){const X=this._viewContainerRef;if(this._viewRef&&X.remove(X.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:be,ngTemplateOutletContext:ot,ngTemplateOutletInjector:bt}=this;this._viewRef=X.createEmbeddedView(be,ot,bt?{injector:bt}:void 0)}else this._viewRef=null}else this._viewRef&&L.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return k.\u0275fac=function(L){return new(L||k)(v.Y36(v.s_b))},k.\u0275dir=v.lG2({type:k,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[v.TTD]}),k})();let bs=(()=>{class k{constructor(L){this._locale=L}transform(L,X,be){if(!function Ro(k){return!(null==k||""===k||k!=k)}(L))return null;be=be||this._locale;try{return function Vi(k,Z,L){return function Ln(k,Z,L,X,be,ot,bt=!1){let vn="",On=!1;if(isFinite(k)){let Yn=function Qi(k){let X,be,ot,bt,vn,Z=Math.abs(k)+"",L=0;for((be=Z.indexOf("."))>-1&&(Z=Z.replace(".","")),(ot=Z.search(/e/i))>0?(be<0&&(be=ot),be+=+Z.slice(ot+1),Z=Z.substring(0,ot)):be<0&&(be=Z.length),ot=0;"0"===Z.charAt(ot);ot++);if(ot===(vn=Z.length))X=[0],be=1;else{for(vn--;"0"===Z.charAt(vn);)vn--;for(be-=ot,X=[],bt=0;ot<=vn;ot++,bt++)X[bt]=Number(Z.charAt(ot))}return be>22&&(X=X.splice(0,21),L=be-1,be=1),{digits:X,exponent:L,integerLen:be}}(k);bt&&(Yn=function bi(k){if(0===k.digits[0])return k;const Z=k.digits.length-k.integerLen;return k.exponent?k.exponent+=2:(0===Z?k.digits.push(0,0):1===Z&&k.digits.push(0),k.integerLen+=2),k}(Yn));let pr=Z.minInt,Jn=Z.minFrac,Ci=Z.maxFrac;if(ot){const en=ot.match(Hn);if(null===en)throw new Error(`${ot} is not a valid digit info`);const na=en[1],Ft=en[3],rt=en[5];null!=na&&(pr=Yr(na)),null!=Ft&&(Jn=Yr(Ft)),null!=rt?Ci=Yr(rt):null!=Ft&&Jn>Ci&&(Ci=Jn)}!function Ni(k,Z,L){if(Z>L)throw new Error(`The minimum number of digits after fraction (${Z}) is higher than the maximum (${L}).`);let X=k.digits,be=X.length-k.integerLen;const ot=Math.min(Math.max(Z,be),L);let bt=ot+k.integerLen,vn=X[bt];if(bt>0){X.splice(Math.max(k.integerLen,bt));for(let Jn=bt;Jn<X.length;Jn++)X[Jn]=0}else{be=Math.max(0,be),k.integerLen=1,X.length=Math.max(1,bt=ot+1),X[0]=0;for(let Jn=1;Jn<bt;Jn++)X[Jn]=0}if(vn>=5)if(bt-1<0){for(let Jn=0;Jn>bt;Jn--)X.unshift(0),k.integerLen++;X.unshift(1),k.integerLen++}else X[bt-1]++;for(;be<Math.max(0,ot);be++)X.push(0);let On=0!==ot;const Yn=Z+k.integerLen,pr=X.reduceRight(function(Jn,Ci,mt,Er){return Er[mt]=(Ci+=Jn)<10?Ci:Ci-10,On&&(0===Er[mt]&&mt>=Yn?Er.pop():On=!1),Ci>=10?1:0},0);pr&&(X.unshift(pr),k.integerLen++)}(Yn,Jn,Ci);let mt=Yn.digits,Er=Yn.integerLen;const si=Yn.exponent;let zs=[];for(On=mt.every(en=>!en);Er<pr;Er++)mt.unshift(0);for(;Er<0;Er++)mt.unshift(0);Er>0?zs=mt.splice(Er,mt.length):(zs=mt,mt=[0]);const ln=[];for(mt.length>=Z.lgSize&&ln.unshift(mt.splice(-Z.lgSize,mt.length).join(""));mt.length>Z.gSize;)ln.unshift(mt.splice(-Z.gSize,mt.length).join(""));mt.length&&ln.unshift(mt.join("")),vn=ln.join(It(L,X)),zs.length&&(vn+=It(L,be)+zs.join("")),si&&(vn+=It(L,vt.Exponential)+"+"+si)}else vn=It(L,vt.Infinity);return vn=k<0&&!On?Z.negPre+vn+Z.negSuf:Z.posPre+vn+Z.posSuf,vn}(k,function wr(k,Z="-"){const L={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},X=k.split(";"),be=X[0],ot=X[1],bt=-1!==be.indexOf(".")?be.split("."):[be.substring(0,be.lastIndexOf("0")+1),be.substring(be.lastIndexOf("0")+1)],vn=bt[0],On=bt[1]||"";L.posPre=vn.substring(0,vn.indexOf("#"));for(let pr=0;pr<On.length;pr++){const Jn=On.charAt(pr);"0"===Jn?L.minFrac=L.maxFrac=pr+1:"#"===Jn?L.maxFrac=pr+1:L.posSuf+=Jn}const Yn=vn.split(",");if(L.gSize=Yn[1]?Yn[1].length:0,L.lgSize=Yn[2]||Yn[1]?(Yn[2]||Yn[1]).length:0,ot){const pr=be.length-L.posPre.length-L.posSuf.length,Jn=ot.indexOf("#");L.negPre=ot.substring(0,Jn).replace(/'/g,""),L.negSuf=ot.slice(Jn+pr).replace(/'/g,"")}else L.negPre=Z+L.posPre,L.negSuf=L.posSuf;return L}(function hn(k,Z){return(0,v.cg1)(k)[v.wAp.NumberFormats][Z]}(Z,se.Percent),It(Z,vt.MinusSign)),Z,vt.Group,vt.Decimal,L,!0).replace(new RegExp("%","g"),It(Z,vt.PercentSign))}(function hs(k){if("string"==typeof k&&!isNaN(Number(k)-parseFloat(k)))return Number(k);if("number"!=typeof k)throw new Error(`${k} is not a number`);return k}(L),be,X)}catch(ot){throw function Rr(k,Z){return new v.vHH(2100,!1)}()}}}return k.\u0275fac=function(L){return new(L||k)(v.Y36(v.soG,16))},k.\u0275pipe=v.Yjl({name:"percent",type:k,pure:!0,standalone:!0}),k})();let Ms=(()=>{class k{}return k.\u0275fac=function(L){return new(L||k)},k.\u0275mod=v.oAB({type:k}),k.\u0275inj=v.cJS({}),k})();const Ns="browser";function Oo(k){return k===Ns}function $r(k){return"server"===k}let Po=(()=>{class k{}return k.\u0275prov=(0,v.Yz7)({token:k,providedIn:"root",factory:()=>new Hr((0,v.LFG)(he),window)}),k})();class Hr{constructor(Z,L){this.document=Z,this.window=L,this.offset=()=>[0,0]}setOffset(Z){this.offset=Array.isArray(Z)?()=>Z:Z}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(Z){this.supportsScrolling()&&this.window.scrollTo(Z[0],Z[1])}scrollToAnchor(Z){if(!this.supportsScrolling())return;const L=function gi(k,Z){const L=k.getElementById(Z)||k.getElementsByName(Z)[0];if(L)return L;if("function"==typeof k.createTreeWalker&&k.body&&(k.body.createShadowRoot||k.body.attachShadow)){const X=k.createTreeWalker(k.body,NodeFilter.SHOW_ELEMENT);let be=X.currentNode;for(;be;){const ot=be.shadowRoot;if(ot){const bt=ot.getElementById(Z)||ot.querySelector(`[name="${Z}"]`);if(bt)return bt}be=X.nextNode()}}return null}(this.document,Z);L&&(this.scrollToElement(L),L.focus())}setHistoryScrollRestoration(Z){if(this.supportScrollRestoration()){const L=this.window.history;L&&L.scrollRestoration&&(L.scrollRestoration=Z)}}scrollToElement(Z){const L=Z.getBoundingClientRect(),X=L.left+this.window.pageXOffset,be=L.top+this.window.pageYOffset,ot=this.offset();this.window.scrollTo(X-ot[0],be-ot[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const Z=Si(this.window.history)||Si(Object.getPrototypeOf(this.window.history));return!(!Z||!Z.writable&&!Z.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Si(k){return Object.getOwnPropertyDescriptor(k,"scrollRestoration")}class Yo{}},4650:(tn,ze,B)=>{B.d(ze,{$8M:()=>yl,$Z:()=>_f,AFp:()=>rw,ALo:()=>Cb,AaK:()=>Ie,Akn:()=>Rl,BQk:()=>Pg,CHM:()=>ro,CRH:()=>Rb,CZH:()=>jy,CqO:()=>q_,D6c:()=>OD,DjV:()=>$c,EJc:()=>Y1,EiD:()=>Ar,EpF:()=>Zm,F$t:()=>Ju,F4k:()=>W_,FYo:()=>nf,FiY:()=>Le,G48:()=>mD,Gf:()=>xb,GfV:()=>uh,Gpc:()=>de,Gre:()=>kd,Hsn:()=>yv,Ikx:()=>s_,JOm:()=>nl,JVY:()=>Vt,KtG:()=>ps,L6k:()=>Cn,LAX:()=>Vn,LFG:()=>pi,LSH:()=>Xh,Lbi:()=>Z1,Lck:()=>Hw,MAs:()=>G_,MGl:()=>Ah,MMx:()=>u0,NdJ:()=>qm,O4$:()=>Vo,OlP:()=>cr,Oqu:()=>jg,PXZ:()=>cD,Q6J:()=>Mp,QGY:()=>Wm,QP$:()=>mn,Qsj:()=>Qp,QtT:()=>rb,R0b:()=>ec,RDi:()=>Jd,Rgc:()=>g_,SBq:()=>Hu,SDv:()=>nb,Sil:()=>J1,Suo:()=>kb,TTD:()=>bs,TgZ:()=>Li,Tol:()=>Uc,Udp:()=>Rf,VKq:()=>gb,W1O:()=>Lb,WLB:()=>mb,X6Q:()=>gD,XFs:()=>Tt,Xpm:()=>nt,Xts:()=>ef,Y36:()=>xc,YKP:()=>ob,YNc:()=>Hm,Yjl:()=>Te,Yz7:()=>Lt,Z0I:()=>zn,ZZ4:()=>O0,_Bn:()=>sb,_UZ:()=>z_,_Vd:()=>$u,_c5:()=>kD,_uU:()=>i_,aQg:()=>P0,c2e:()=>W1,cJS:()=>It,cg1:()=>o_,dDg:()=>oD,dqk:()=>ht,eBb:()=>$n,eFA:()=>mw,ekj:()=>Bg,eoX:()=>fw,f3M:()=>rs,g9A:()=>sw,gxx:()=>hd,h0i:()=>qg,hGG:()=>RD,hij:()=>Fp,iGM:()=>Nb,ifc:()=>Nt,ip1:()=>nw,jDz:()=>lb,kEZ:()=>_b,kL8:()=>by,kYT:()=>Dr,lG2:()=>fe,lcZ:()=>Eb,lqb:()=>gd,lri:()=>dw,mCW:()=>Wl,n5z:()=>Kr,oAB:()=>In,oxw:()=>K_,pB0:()=>ss,pQV:()=>n0,q3G:()=>Bs,q4F:()=>Yl,qLn:()=>Ta,qOj:()=>Mm,qZA:()=>zm,qzn:()=>Ne,rWj:()=>hw,s9C:()=>Vc,sBO:()=>_D,sIi:()=>Ch,s_b:()=>By,soG:()=>Gy,tb:()=>ow,tp0:()=>gn,uIk:()=>Lm,vHH:()=>Be,vpe:()=>Fd,wAp:()=>er,xp6:()=>fh,ynx:()=>Np,z2F:()=>zy,z3N:()=>te,zSh:()=>pd,zs3:()=>yu});var v=B(7579),K=B(727),x=B(9751),l=B(6451),Ee=B(3099);function Ce(n){for(let r in n)if(n[r]===Ce)return r;throw Error("Could not find renamed property on target object.")}function he(n,r){for(const a in r)r.hasOwnProperty(a)&&!n.hasOwnProperty(a)&&(n[a]=r[a])}function Ie(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Ie).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const r=n.toString();if(null==r)return""+r;const a=r.indexOf("\n");return-1===a?r:r.substring(0,a)}function Pe(n,r){return null==n||""===n?null===r?"":r:null==r||""===r?n:n+" "+r}const ce=Ce({__forward_ref__:Ce});function de(n){return n.__forward_ref__=de,n.toString=function(){return Ie(this())},n}function we(n){return _t(n)?n():n}function _t(n){return"function"==typeof n&&n.hasOwnProperty(ce)&&n.__forward_ref__===de}class Be extends Error{constructor(r,a){super(function Ot(n,r){return`NG0${Math.abs(n)}${r?": "+r.trim():""}`}(r,a)),this.code=r}}function Ke(n){return"string"==typeof n?n:null==n?"":String(n)}function $e(n,r){throw new Be(-201,!1)}function We(n,r,a,c){throw new Error(`ASSERTION ERROR: ${n}`+(null==c?"":` [Expected=> ${a} ${c} ${r} <=Actual]`))}function Lt(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function It(n){return{providers:n.providers||[],imports:n.imports||[]}}function hn(n){return Wn(n,kr)||Wn(n,_r)}function zn(n){return null!==hn(n)}function Wn(n,r){return n.hasOwnProperty(r)?n[r]:null}function rr(n){return n&&(n.hasOwnProperty(qn)||n.hasOwnProperty(yr))?n[qn]:null}const kr=Ce({\u0275prov:Ce}),qn=Ce({\u0275inj:Ce}),_r=Ce({ngInjectableDef:Ce}),yr=Ce({ngInjectorDef:Ce});var Tt=(()=>((Tt=Tt||{})[Tt.Default=0]="Default",Tt[Tt.Host=1]="Host",Tt[Tt.Self=2]="Self",Tt[Tt.SkipSelf=4]="SkipSelf",Tt[Tt.Optional=8]="Optional",Tt))();let Fn;function He(n){const r=Fn;return Fn=n,r}function un(n,r,a){const c=hn(n);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:a&Tt.Optional?null:void 0!==r?r:void $e(Ie(n))}function oe(n){return{toString:n}.toString()}var Ve=(()=>((Ve=Ve||{})[Ve.OnPush=0]="OnPush",Ve[Ve.Default=1]="Default",Ve))(),Nt=(()=>{return(n=Nt||(Nt={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Nt;var n})();const ht=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),cn={},fn=[],ir=Ce({\u0275cmp:Ce}),En=Ce({\u0275dir:Ce}),zr=Ce({\u0275pipe:Ce}),Kn=Ce({\u0275mod:Ce}),Nr=Ce({\u0275fac:Ce}),Fr=Ce({__NG_ELEMENT_ID__:Ce});let rn=0;function nt(n){return oe(()=>{const a=!0===n.standalone,c={},p={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:c,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Ve.OnPush,directiveDefs:null,pipeDefs:null,standalone:a,dependencies:a&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||fn,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Nt.Emulated,id:"c"+rn++,styles:n.styles||fn,_:null,setInput:null,schemas:n.schemas||null,tView:null},y=n.dependencies,C=n.features;return p.inputs=ve(n.inputs,c),p.outputs=ve(n.outputs),C&&C.forEach(M=>M(p)),p.directiveDefs=y?()=>("function"==typeof y?y():y).map(an).filter(Sn):null,p.pipeDefs=y?()=>("function"==typeof y?y():y).map(Yt).filter(Sn):null,p})}function an(n){return st(n)||je(n)}function Sn(n){return null!==n}function In(n){return oe(()=>({type:n.type,bootstrap:n.bootstrap||fn,declarations:n.declarations||fn,imports:n.imports||fn,exports:n.exports||fn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Dr(n,r){return oe(()=>{const a=Hn(n,!0);a.declarations=r.declarations||fn,a.imports=r.imports||fn,a.exports=r.exports||fn})}function ve(n,r){if(null==n)return cn;const a={};for(const c in n)if(n.hasOwnProperty(c)){let p=n[c],y=p;Array.isArray(p)&&(y=p[1],p=p[0]),a[p]=c,r&&(r[p]=y)}return a}const fe=nt;function Te(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function st(n){return n[ir]||null}function je(n){return n[En]||null}function Yt(n){return n[zr]||null}function mn(n){const r=st(n)||je(n)||Yt(n);return null!==r&&r.standalone}function Hn(n,r){const a=n[Kn]||null;if(!a&&!0===r)throw new Error(`Type ${Ie(n)} does not have '\u0275mod' property.`);return a}function Cr(n){return Array.isArray(n)&&"object"==typeof n[1]}function ti(n){return Array.isArray(n)&&!0===n[1]}function Hs(n){return 0!=(8&n.flags)}function wi(n){return 2==(2&n.flags)}function ga(n){return 1==(1&n.flags)}function di(n){return null!==n.template}function Wo(n){return 0!=(256&n[2])}function Hi(n,r){return n.hasOwnProperty(Nr)?n[Nr]:null}class ji{constructor(r,a,c){this.previousValue=r,this.currentValue=a,this.firstChange=c}isFirstChange(){return this.firstChange}}function bs(){return Gi}function Gi(n){return n.type.prototype.ngOnChanges&&(n.setInput=hs),Ro}function Ro(){const n=Co(this),r=n?.current;if(r){const a=n.previous;if(a===cn)n.previous=r;else for(let c in r)a[c]=r[c];n.current=null,this.ngOnChanges(r)}}function hs(n,r,a,c){const p=Co(n)||function Ms(n,r){return n[Xs]=r}(n,{previous:cn,current:null}),y=p.current||(p.current={}),C=p.previous,M=this.declaredInputs[a],P=C[M];y[M]=new ji(P&&P.currentValue,r,C===cn),n[c]=r}bs.ngInherit=!0;const Xs="__ngSimpleChanges__";function Co(n){return n[Xs]||null}function ni(n){for(;Array.isArray(n);)n=n[0];return n}function Si(n,r){return ni(r[n])}function gi(n,r){return ni(r[n.index])}function Yo(n,r){return n.data[r]}function js(n,r){return n[r]}function ri(n,r){const a=r[n];return Cr(a)?a:a[0]}function Fo(n){return 64==(64&n[2])}function Di(n,r){return null==r?null:n[r]}function Lr(n){n[18]=0}function Qr(n,r){n[5]+=r;let a=n,c=n[3];for(;null!==c&&(1===r&&1===a[5]||-1===r&&0===a[5]);)c[5]+=r,a=c,c=c[3]}const xn={lFrame:ta(null),bindingsEnabled:!0};function zi(){return xn.bindingsEnabled}function Et(){return xn.lFrame.lView}function nr(){return xn.lFrame.tView}function ro(n){return xn.lFrame.contextLView=n,n[8]}function ps(n){return xn.lFrame.contextLView=null,n}function ii(){let n=Xo();for(;null!==n&&64===n.type;)n=n.parent;return n}function Xo(){return xn.lFrame.currentTNode}function Ra(){const n=xn.lFrame,r=n.currentTNode;return n.isParent?r:r.parent}function Zi(n,r){const a=xn.lFrame;a.currentTNode=n,a.isParent=r}function po(){return xn.lFrame.isParent}function ws(){xn.lFrame.isParent=!1}function O(){const n=xn.lFrame;let r=n.bindingRootIndex;return-1===r&&(r=n.bindingRootIndex=n.tView.bindingStartIndex),r}function ee(){return xn.lFrame.bindingIndex}function dn(){return xn.lFrame.bindingIndex++}function sr(n){const r=xn.lFrame,a=r.bindingIndex;return r.bindingIndex=r.bindingIndex+n,a}function Gs(n){xn.lFrame.inI18n=n}function go(n,r){const a=xn.lFrame;a.bindingIndex=a.bindingRootIndex=n,Rs(r)}function Rs(n){xn.lFrame.currentDirectiveIndex=n}function Wi(){return xn.lFrame.currentQueryIndex}function ns(n){xn.lFrame.currentQueryIndex=n}function _a(n){const r=n[1];return 2===r.type?r.declTNode:1===r.type?n[6]:null}function Oa(n,r,a){if(a&Tt.SkipSelf){let p=r,y=n;for(;!(p=p.parent,null!==p||a&Tt.Host||(p=_a(y),null===p||(y=y[15],10&p.type))););if(null===p)return!1;r=p,n=y}const c=xn.lFrame=ea();return c.currentTNode=r,c.lView=n,!0}function Os(n){const r=ea(),a=n[1];xn.lFrame=r,r.currentTNode=a.firstChild,r.lView=n,r.tView=a,r.contextLView=n,r.bindingIndex=a.bindingStartIndex,r.inI18n=!1}function ea(){const n=xn.lFrame,r=null===n?null:n.child;return null===r?ta(n):r}function ta(n){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=r),r}function ya(){const n=xn.lFrame;return xn.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Ds=ya;function To(){const n=ya();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function mi(){return xn.lFrame.selectedIndex}function gs(n){xn.lFrame.selectedIndex=n}function Or(){const n=xn.lFrame;return Yo(n.tView,n.selectedIndex)}function Vo(){xn.lFrame.currentNamespace="svg"}function gl(n,r){for(let a=r.directiveStart,c=r.directiveEnd;a<c;a++){const y=n.data[a].type.prototype,{ngAfterContentInit:C,ngAfterContentChecked:M,ngAfterViewInit:P,ngAfterViewChecked:G,ngOnDestroy:ne}=y;C&&(n.contentHooks||(n.contentHooks=[])).push(-a,C),M&&((n.contentHooks||(n.contentHooks=[])).push(a,M),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(a,M)),P&&(n.viewHooks||(n.viewHooks=[])).push(-a,P),G&&((n.viewHooks||(n.viewHooks=[])).push(a,G),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(a,G)),null!=ne&&(n.destroyHooks||(n.destroyHooks=[])).push(a,ne)}}function qi(n,r,a){Ua(n,r,3,a)}function Va(n,r,a,c){(3&n[2])===a&&Ua(n,r,a,c)}function Pl(n,r){let a=n[2];(3&a)===r&&(a&=2047,a+=1,n[2]=a)}function Ua(n,r,a,c){const y=c??-1,C=r.length-1;let M=0;for(let P=void 0!==c?65535&n[18]:0;P<C;P++)if("number"==typeof r[P+1]){if(M=r[P],null!=c&&M>=c)break}else r[P]<0&&(n[18]+=65536),(M<y||-1==y)&&(Cu(n,a,r,P),n[18]=(4294901760&n[18])+P+2),P++}function Cu(n,r,a,c){const p=a[c]<0,y=a[c+1],M=n[p?-a[c]:a[c]];if(p){if(n[2]>>11<n[18]>>16&&(3&n[2])===r){n[2]+=2048;try{y.call(M)}finally{}}}else try{y.call(M)}finally{}}class Cs{constructor(r,a,c){this.factory=r,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=c}}function X(n,r,a){let c=0;for(;c<a.length;){const p=a[c];if("number"==typeof p){if(0!==p)break;c++;const y=a[c++],C=a[c++],M=a[c++];n.setAttribute(r,C,M,y)}else{const y=p,C=a[++c];ot(y)?n.setProperty(r,y,C):n.setAttribute(r,y,C),c++}}return c}function be(n){return 3===n||4===n||6===n}function ot(n){return 64===n.charCodeAt(0)}function bt(n,r){if(null!==r&&0!==r.length)if(null===n||0===n.length)n=r.slice();else{let a=-1;for(let c=0;c<r.length;c++){const p=r[c];"number"==typeof p?a=p:0===a||vn(n,a,p,null,-1===a||2===a?r[++c]:null)}}return n}function vn(n,r,a,c,p){let y=0,C=n.length;if(-1===r)C=-1;else for(;y<n.length;){const M=n[y++];if("number"==typeof M){if(M===r){C=-1;break}if(M>r){C=y-1;break}}}for(;y<n.length;){const M=n[y];if("number"==typeof M)break;if(M===a){if(null===c)return void(null!==p&&(n[y+1]=p));if(c===n[y+1])return void(n[y+2]=p)}y++,null!==c&&y++,null!==p&&y++}-1!==C&&(n.splice(C,0,r),y=C+1),n.splice(y++,0,a),null!==c&&n.splice(y++,0,c),null!==p&&n.splice(y++,0,p)}function On(n){return-1!==n}function Yn(n){return 32767&n}function Jn(n,r){let a=function pr(n){return n>>16}(n),c=r;for(;a>0;)c=c[15],a--;return c}let Ci=!0;function mt(n){const r=Ci;return Ci=n,r}let ln=0;const en={};function Ft(n,r){const a=St(n,r);if(-1!==a)return a;const c=r[1];c.firstCreatePass&&(n.injectorIndex=r.length,rt(c.data,n),rt(r,null),rt(c.blueprint,null));const p=Ei(n,r),y=n.injectorIndex;if(On(p)){const C=Yn(p),M=Jn(p,r),P=M[1].data;for(let G=0;G<8;G++)r[y+G]=M[C+G]|P[C+G]}return r[y+8]=p,y}function rt(n,r){n.push(0,0,0,0,0,0,0,0,r)}function St(n,r){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===r[n.injectorIndex+8]?-1:n.injectorIndex}function Ei(n,r){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let a=0,c=null,p=r;for(;null!==p;){if(c=Ir(p),null===c)return-1;if(a++,p=p[15],-1!==c.injectorIndex)return c.injectorIndex|a<<16}return-1}function Bo(n,r,a){!function na(n,r,a){let c;"string"==typeof a?c=a.charCodeAt(0)||0:a.hasOwnProperty(Fr)&&(c=a[Fr]),null==c&&(c=a[Fr]=ln++);const p=255&c;r.data[n+(p>>5)]|=1<<p}(n,r,a)}function Vl(n,r,a){if(a&Tt.Optional||void 0!==n)return n;$e()}function eu(n,r,a,c){if(a&Tt.Optional&&void 0===c&&(c=null),0==(a&(Tt.Self|Tt.Host))){const p=n[9],y=He(void 0);try{return p?p.get(r,c,a&Tt.Optional):un(r,c,a&Tt.Optional)}finally{He(y)}}return Vl(c,0,a)}function ml(n,r,a,c=Tt.Default,p){if(null!==n){if(1024&r[2]){const C=function sa(n,r,a,c,p){let y=n,C=r;for(;null!==y&&null!==C&&1024&C[2]&&!(256&C[2]);){const M=_l(y,C,a,c|Tt.Self,en);if(M!==en)return M;let P=y.parent;if(!P){const G=C[21];if(G){const ne=G.get(a,en,c);if(ne!==en)return ne}P=Ir(C),C=C[15]}y=P}return p}(n,r,a,c,en);if(C!==en)return C}const y=_l(n,r,a,c,en);if(y!==en)return y}return eu(r,a,c,p)}function _l(n,r,a,c,p){const y=function Eu(n){if("string"==typeof n)return n.charCodeAt(0)||0;const r=n.hasOwnProperty(Fr)?n[Fr]:void 0;return"number"==typeof r?r>=0?255&r:tu:r}(a);if("function"==typeof y){if(!Oa(r,n,c))return c&Tt.Host?Vl(p,0,c):eu(r,a,c,p);try{const C=y(c);if(null!=C||c&Tt.Optional)return C;$e()}finally{Ds()}}else if("number"==typeof y){let C=null,M=St(n,r),P=-1,G=c&Tt.Host?r[16][6]:null;for((-1===M||c&Tt.SkipSelf)&&(P=-1===M?Ei(n,r):r[M+8],-1!==P&&jn(c,!1)?(C=r[1],M=Yn(P),r=Jn(P,r)):M=-1);-1!==M;){const ne=r[1];if(ia(y,M,ne.data)){const ue=Ba(M,r,a,C,c,G);if(ue!==en)return ue}P=r[M+8],-1!==P&&jn(c,r[1].data[M+8]===G)&&ia(y,M,r)?(C=ne,M=Yn(P),r=Jn(P,r)):M=-1}}return p}function Ba(n,r,a,c,p,y){const C=r[1],M=C.data[n+8],ne=oi(M,C,a,null==c?wi(M)&&Ci:c!=C&&0!=(3&M.type),p&Tt.Host&&y===M);return null!==ne?ra(r,C,ne,M):en}function oi(n,r,a,c,p){const y=n.providerIndexes,C=r.data,M=1048575&y,P=n.directiveStart,ne=y>>20,Me=p?M+ne:n.directiveEnd;for(let Xe=c?M:M+ne;Xe<Me;Xe++){const At=C[Xe];if(Xe<P&&a===At||Xe>=P&&At.type===a)return Xe}if(p){const Xe=C[P];if(Xe&&di(Xe)&&Xe.type===a)return P}return null}function ra(n,r,a,c){let p=n[a];const y=r.data;if(function Fl(n){return n instanceof Cs}(p)){const C=p;C.resolving&&function Se(n,r){const a=r?`. Dependency path: ${r.join(" > ")} > ${n}`:"";throw new Be(-200,`Circular dependency in DI detected for ${n}${a}`)}(function Je(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Ke(n)}(y[a]));const M=mt(C.canSeeViewProviders);C.resolving=!0;const P=C.injectImpl?He(C.injectImpl):null;Oa(n,c,Tt.Default);try{p=n[a]=C.factory(void 0,y,n,c),r.firstCreatePass&&a>=c.directiveStart&&function Ka(n,r,a){const{ngOnChanges:c,ngOnInit:p,ngDoCheck:y}=r.type.prototype;if(c){const C=Gi(r);(a.preOrderHooks||(a.preOrderHooks=[])).push(n,C),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(n,C)}p&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-n,p),y&&((a.preOrderHooks||(a.preOrderHooks=[])).push(n,y),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(n,y))}(a,y[a],r)}finally{null!==P&&He(P),mt(M),C.resolving=!1,Ds()}}return p}function ia(n,r,a){return!!(a[r+(n>>5)]&1<<n)}function jn(n,r){return!(n&Tt.Self||n&Tt.Host&&r)}class Fs{constructor(r,a){this._tNode=r,this._lView=a}get(r,a,c){return ml(this._tNode,this._lView,r,c,a)}}function tu(){return new Fs(ii(),Et())}function Kr(n){return oe(()=>{const r=n.prototype.constructor,a=r[Nr]||Nn(r),c=Object.prototype;let p=Object.getPrototypeOf(n.prototype).constructor;for(;p&&p!==c;){const y=p[Nr]||Nn(p);if(y&&y!==a)return y;p=Object.getPrototypeOf(p)}return y=>new y})}function Nn(n){return _t(n)?()=>{const r=Nn(we(n));return r&&r()}:Hi(n)}function Ir(n){const r=n[1],a=r.type;return 2===a?r.declTNode:1===a?n[6]:null}function yl(n){return function tc(n,r){if("class"===r)return n.classes;if("style"===r)return n.styles;const a=n.attrs;if(a){const c=a.length;let p=0;for(;p<c;){const y=a[p];if(be(y))break;if(0===y)p+=2;else if("number"==typeof y)for(p++;p<c&&"string"==typeof a[p];)p++;else{if(y===r)return a[p+1];p+=2}}}return null}(ii(),n)}const Jt="__parameters__";function _o(n,r,a){return oe(()=>{const c=function Ls(n){return function(...a){if(n){const c=n(...a);for(const p in c)this[p]=c[p]}}}(r);function p(...y){if(this instanceof p)return c.apply(this,y),this;const C=new p(...y);return M.annotation=C,M;function M(P,G,ne){const ue=P.hasOwnProperty(Jt)?P[Jt]:Object.defineProperty(P,Jt,{value:[]})[Jt];for(;ue.length<=ne;)ue.push(null);return(ue[ne]=ue[ne]||[]).push(C),P}}return a&&(p.prototype=Object.create(a.prototype)),p.prototype.ngMetadataName=n,p.annotationCls=p,p})}class cr{constructor(r,a){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=Lt({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Ri(n,r){void 0===r&&(r=n);for(let a=0;a<n.length;a++){let c=n[a];Array.isArray(c)?(r===n&&(r=n.slice(0,a)),Ri(c,r)):r!==n&&r.push(c)}return r}function io(n,r){n.forEach(a=>Array.isArray(a)?io(a,r):r(a))}function $l(n,r,a){r>=n.length?n.push(a):n.splice(r,0,a)}function va(n,r){return r>=n.length-1?n.pop():n.splice(r,1)[0]}function vl(n,r){const a=[];for(let c=0;c<n;c++)a.push(r);return a}function Q(n,r,a){let c=ye(n,r);return c>=0?n[1|c]=a:(c=~c,function A(n,r,a,c){let p=n.length;if(p==r)n.push(a,c);else if(1===p)n.push(c,n[0]),n[0]=a;else{for(p--,n.push(n[p-1],n[p]);p>r;)n[p]=n[p-2],p--;n[r]=a,n[r+1]=c}}(n,c,r,a)),c}function le(n,r){const a=ye(n,r);if(a>=0)return n[1|a]}function ye(n,r){return function nn(n,r,a){let c=0,p=n.length>>a;for(;p!==c;){const y=c+(p-c>>1),C=n[y<<a];if(r===C)return y<<a;C>r?p=y:c=y+1}return~(p<<a)}(n,r,1)}const bl={},ba="__NG_DI_FLAG__",wl="ngTempTokenPath",su=/\n/gm,rc="__source";let Mo;function Ha(n){const r=Mo;return Mo=n,r}function ic(n,r=Tt.Default){if(void 0===Mo)throw new Be(-203,!1);return null===Mo?un(n,void 0,r):Mo.get(n,r&Tt.Optional?null:void 0,r)}function pi(n,r=Tt.Default){return(function Zn(){return Fn}()||ic)(we(n),r)}function rs(n,r=Tt.Default){return"number"!=typeof r&&(r=0|(r.optional&&8)|(r.host&&1)|(r.self&&2)|(r.skipSelf&&4)),pi(n,r)}function Tu(n){const r=[];for(let a=0;a<n.length;a++){const c=we(n[a]);if(Array.isArray(c)){if(0===c.length)throw new Be(900,!1);let p,y=Tt.Default;for(let C=0;C<c.length;C++){const M=c[C],P=H(M);"number"==typeof P?-1===P?p=M.token:y|=P:p=M}r.push(pi(p,y))}else r.push(pi(c))}return r}function F(n,r){return n[ba]=r,n.prototype[ba]=r,n}function H(n){return n[ba]}const Le=F(_o("Optional"),8),gn=F(_o("SkipSelf"),4);var nl=(()=>((nl=nl||{})[nl.Important=1]="Important",nl[nl.DashCase=2]="DashCase",nl))();const Yc=/^>|^->|<!--|-->|--!>|<!-$/g,Pr=/(<|>)/;const Su=new Map;let $d=0;const Xc="__ngContext__";function bo(n,r){Cr(r)?(n[Xc]=r[20],function Hd(n){Su.set(n[20],n)}(r)):n[Xc]=r}let ua;function rd(n,r){return ua(n,r)}function Gl(n){const r=n[3];return ti(r)?r[3]:r}function lo(n){return dc(n[13])}function cc(n){return dc(n[4])}function dc(n){for(;null!==n&&!ti(n);)n=n[4];return n}function zl(n,r,a,c,p){if(null!=c){let y,C=!1;ti(c)?y=c:Cr(c)&&(C=!0,c=c[0]);const M=ni(c);0===n&&null!==a?null==p?qd(r,a,M):Za(r,a,M,p||null,!0):1===n&&null!==a?Za(r,a,M,p||null,!0):2===n?al(r,M,C):3===n&&r.destroyNode(M),null!=y&&function ll(n,r,a,c,p){const y=a[7];y!==ni(a)&&zl(r,n,c,y,p);for(let M=10;M<a.length;M++){const P=a[M];Pu(P[1],P,n,r,c,y)}}(r,n,y,a,p)}}function cu(n,r){return n.createText(r)}function xu(n,r,a){n.setValue(r,a)}function qs(n,r){return n.createComment(function lu(n){return n.replace(Yc,r=>r.replace(Pr,"\u200b$1\u200b"))}(r))}function rl(n,r,a){return n.createElement(r,a)}function Zd(n,r){const a=n[9],c=a.indexOf(r),p=r[3];512&r[2]&&(r[2]&=-513,Qr(p,-1)),a.splice(c,1)}function jo(n,r){if(n.length<=10)return;const a=10+r,c=n[a];if(c){const p=c[17];null!==p&&p!==n&&Zd(p,c),r>0&&(n[a-1][4]=c[4]);const y=va(n,10+r);!function ku(n,r){Pu(n,r,r[11],2,null,null),r[0]=null,r[6]=null}(c[1],c);const C=y[19];null!==C&&C.detachView(y[1]),c[3]=null,c[4]=null,c[2]&=-65}return c}function Wd(n,r){if(!(128&r[2])){const a=r[11];a.destroyNode&&Pu(n,r,a,3,null,null),function Sr(n){let r=n[13];if(!r)return Da(n[1],n);for(;r;){let a=null;if(Cr(r))a=r[13];else{const c=r[10];c&&(a=c)}if(!a){for(;r&&!r[4]&&r!==n;)Cr(r)&&Da(r[1],r),r=r[3];null===r&&(r=n),Cr(r)&&Da(r[1],r),a=r&&r[4]}r=a}}(r)}}function Da(n,r){if(!(128&r[2])){r[2]&=-65,r[2]|=128,function Wh(n,r){let a;if(null!=n&&null!=(a=n.destroyHooks))for(let c=0;c<a.length;c+=2){const p=r[a[c]];if(!(p instanceof Cs)){const y=a[c+1];if(Array.isArray(y))for(let C=0;C<y.length;C+=2){const M=p[y[C]],P=y[C+1];try{P.call(M)}finally{}}else try{y.call(p)}finally{}}}}(n,r),function jf(n,r){const a=n.cleanup,c=r[7];let p=-1;if(null!==a)for(let y=0;y<a.length-1;y+=2)if("string"==typeof a[y]){const C=a[y+1],M="function"==typeof C?C(r):ni(r[C]),P=c[p=a[y+2]],G=a[y+3];"boolean"==typeof G?M.removeEventListener(a[y],P,G):G>=0?c[p=G]():c[p=-G].unsubscribe(),y+=2}else{const C=c[p=a[y+1]];a[y].call(C)}if(null!==c){for(let y=p+1;y<c.length;y++)(0,c[y])();r[7]=null}}(n,r),1===r[1].type&&r[11].destroy();const a=r[17];if(null!==a&&ti(r[3])){a!==r[3]&&Zd(a,r);const c=r[19];null!==c&&c.detachView(n)}!function Jc(n){Su.delete(n[20])}(r)}}function Xn(n,r,a){return Us(n,r.parent,a)}function Us(n,r,a){let c=r;for(;null!==c&&40&c.type;)c=(r=c).parent;if(null===c)return a[0];if(2&c.flags){const p=n.data[c.directiveStart].encapsulation;if(p===Nt.None||p===Nt.Emulated)return null}return gi(c,a)}function Za(n,r,a,c,p){n.insertBefore(r,a,c,p)}function qd(n,r,a){n.appendChild(r,a)}function Yd(n,r,a,c,p){null!==c?Za(n,r,a,c,p):qd(n,r,a)}function Sl(n,r){return n.parentNode(r)}function hc(n,r,a){return sl(n,r,a)}function Zl(n,r,a){return 40&n.type?gi(n,a):null}let Ru,ad,ca,sl=Zl;function ol(n,r){sl=n,Ru=r}function Ys(n,r,a,c){const p=Xn(n,c,r),y=r[11],M=hc(c.parent||r[6],c,r);if(null!=p)if(Array.isArray(a))for(let P=0;P<a.length;P++)Yd(y,p,a[P],M,!1);else Yd(y,p,a,M,!1);void 0!==Ru&&Ru(y,c,r,a,p)}function Go(n,r){if(null!==r){const a=r.type;if(3&a)return gi(r,n);if(4&a)return fc(-1,n[r.index]);if(8&a){const c=r.child;if(null!==c)return Go(n,c);{const p=n[r.index];return ti(p)?fc(-1,p):ni(p)}}if(32&a)return rd(r,n)()||ni(n[r.index]);{const c=Ou(n,r);return null!==c?Array.isArray(c)?c[0]:Go(Gl(n[16]),c):Go(n,r.next)}}return null}function Ou(n,r){return null!==r?n[16][6].projection[r.projection]:null}function fc(n,r){const a=10+n+1;if(a<r.length){const c=r[a],p=c[1].firstChild;if(null!==p)return Go(c,p)}return r[7]}function al(n,r,a){const c=Sl(n,r);c&&function Gf(n,r,a,c){n.removeChild(r,a,c)}(n,c,r,a)}function sd(n,r,a,c,p,y,C){for(;null!=a;){const M=c[a.index],P=a.type;if(C&&0===r&&(M&&bo(ni(M),c),a.flags|=4),64!=(64&a.flags))if(8&P)sd(n,r,a.child,c,p,y,!1),zl(r,n,p,M,y);else if(32&P){const G=rd(a,c);let ne;for(;ne=G();)zl(r,n,p,ne,y);zl(r,n,p,M,y)}else 16&P?pc(n,r,c,a,p,y):zl(r,n,p,M,y);a=C?a.projectionNext:a.next}}function Pu(n,r,a,c,p,y){sd(a,c,n.firstChild,r,p,y,!1)}function pc(n,r,a,c,p,y){const C=a[16],P=C[6].projection[c.projection];if(Array.isArray(P))for(let G=0;G<P.length;G++)zl(r,n,p,P[G],y);else sd(n,r,P,C[3],p,y,!0)}function od(n,r,a){n.setAttribute(r,"style",a)}function du(n,r,a){""===a?n.removeAttribute(r,"class"):n.setAttribute(r,"class",a)}function Oi(n){return function Fu(){if(void 0===ad&&(ad=null,ht.trustedTypes))try{ad=ht.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return ad}()?.createHTML(n)||n}function Jd(n){ca=n}class hu{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class D extends hu{getTypeName(){return"HTML"}}class g extends hu{getTypeName(){return"Style"}}class _ extends hu{getTypeName(){return"Script"}}class I extends hu{getTypeName(){return"URL"}}class z extends hu{getTypeName(){return"ResourceURL"}}function te(n){return n instanceof hu?n.changingThisBreaksApplicationSecurity:n}function Ne(n,r){const a=function gt(n){return n instanceof hu&&n.getTypeName()||null}(n);if(null!=a&&a!==r){if("ResourceURL"===a&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===r}function Vt(n){return new D(n)}function Cn(n){return new g(n)}function $n(n){return new _(n)}function Vn(n){return new I(n)}function ss(n){return new z(n)}function da(n){const r=new Qd(n);return function Xd(){try{return!!(new window.DOMParser).parseFromString(Oi(""),"text/html")}catch{return!1}}()?new dl(r):r}class dl{constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{const a=(new window.DOMParser).parseFromString(Oi(r),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(r):(a.removeChild(a.firstChild),a)}catch{return null}}}class Qd{constructor(r){if(this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const a=this.inertDocument.createElement("html");this.inertDocument.appendChild(a);const c=this.inertDocument.createElement("body");a.appendChild(c)}}getInertBodyElement(r){const a=this.inertDocument.createElement("template");if("content"in a)return a.innerHTML=Oi(r),a;const c=this.inertDocument.createElement("body");return c.innerHTML=Oi(r),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(c),c}stripCustomNsAttrs(r){const a=r.attributes;for(let p=a.length-1;0<p;p--){const C=a.item(p).name;("xmlns:ns1"===C||0===C.indexOf("ns1:"))&&r.removeAttribute(C)}let c=r.firstChild;for(;c;)c.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(c),c=c.nextSibling}}const Yh=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function Wl(n){return(n=String(n)).match(Yh)?n:"unsafe:"+n}function Ks(n){const r={};for(const a of n.split(","))r[a]=!0;return r}function fu(...n){const r={};for(const a of n)for(const c in a)a.hasOwnProperty(c)&&(r[c]=!0);return r}const eh=Ks("area,br,col,hr,img,wbr"),Pi=Ks("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),yc=Ks("rp,rt"),th=fu(eh,fu(Pi,Ks("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),fu(yc,Ks("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),fu(yc,Pi)),ql=Ks("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Vu=fu(ql,Ks("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ks("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Jh=Ks("script,style,template");class Jg{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(r){let a=r.firstChild,c=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?c=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,c&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let p=this.checkClobberedElement(a,a.nextSibling);if(p){a=p;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(r){const a=r.nodeName.toLowerCase();if(!th.hasOwnProperty(a))return this.sanitizedSomething=!0,!Jh.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const c=r.attributes;for(let p=0;p<c.length;p++){const y=c.item(p),C=y.name,M=C.toLowerCase();if(!Vu.hasOwnProperty(M)){this.sanitizedSomething=!0;continue}let P=y.value;ql[M]&&(P=Wl(P)),this.buf.push(" ",C,'="',Qh(P),'"')}return this.buf.push(">"),!0}endElement(r){const a=r.nodeName.toLowerCase();th.hasOwnProperty(a)&&!eh.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(r){this.buf.push(Qh(r))}checkClobberedElement(r,a){if(a&&(r.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${r.outerHTML}`);return a}}const Yf=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,nh=/([^\#-~ |!])/g;function Qh(n){return n.replace(/&/g,"&amp;").replace(Yf,function(r){return"&#"+(1024*(r.charCodeAt(0)-55296)+(r.charCodeAt(1)-56320)+65536)+";"}).replace(nh,function(r){return"&#"+r.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let rh;function Ar(n,r){let a=null;try{rh=rh||da(n);let c=r?String(r):"";a=rh.getInertBodyElement(c);let p=5,y=c;do{if(0===p)throw new Error("Failed to sanitize html because the input is unstable");p--,c=y,y=a.innerHTML,a=rh.getInertBodyElement(c)}while(c!==y);return Oi((new Jg).sanitizeChildren(ih(a)||a))}finally{if(a){const c=ih(a)||a;for(;c.firstChild;)c.removeChild(c.firstChild)}}}function ih(n){return"content"in n&&function jp(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Bs=(()=>((Bs=Bs||{})[Bs.NONE=0]="NONE",Bs[Bs.HTML=1]="HTML",Bs[Bs.STYLE=2]="STYLE",Bs[Bs.SCRIPT=3]="SCRIPT",Bs[Bs.URL=4]="URL",Bs[Bs.RESOURCE_URL=5]="RESOURCE_URL",Bs))();function Xh(n){const r=function dd(){const n=Et();return n&&n[12]}();return r?r.sanitize(Bs.URL,n)||"":Ne(n,"URL")?te(n):Wl(Ke(n))}const ef=new cr("ENVIRONMENT_INITIALIZER"),hd=new cr("INJECTOR",-1),pu=new cr("INJECTOR_DEF_TYPES");class hl{get(r,a=bl){if(a===bl){const c=new Error(`NullInjectorError: No provider for ${Ie(r)}!`);throw c.name="NullInjectorError",c}return a}}function bc(...n){return{\u0275providers:wc(0,n)}}function wc(n,...r){const a=[],c=new Set;let p;return io(r,y=>{const C=y;fd(C,a,[],c)&&(p||(p=[]),p.push(C))}),void 0!==p&&Kf(p,a),a}function Kf(n,r){for(let a=0;a<n.length;a++){const{providers:p}=n[a];io(p,y=>{r.push(y)})}}function fd(n,r,a,c){if(!(n=we(n)))return!1;let p=null,y=rr(n);const C=!y&&st(n);if(y||C){if(C&&!C.standalone)return!1;p=n}else{const P=n.ngModule;if(y=rr(P),!y)return!1;p=P}const M=c.has(p);if(C){if(M)return!1;if(c.add(p),C.dependencies){const P="function"==typeof C.dependencies?C.dependencies():C.dependencies;for(const G of P)fd(G,r,a,c)}}else{if(!y)return!1;{if(null!=y.imports&&!M){let G;c.add(p);try{io(y.imports,ne=>{fd(ne,r,a,c)&&(G||(G=[]),G.push(ne))})}finally{}void 0!==G&&Kf(G,r)}if(!M){const G=Hi(p)||(()=>new p);r.push({provide:p,useFactory:G,deps:fn},{provide:pu,useValue:p,multi:!0},{provide:ef,useValue:()=>pi(p),multi:!0})}const P=y.providers;null==P||M||io(P,ne=>{r.push(ne)})}}return p!==n&&void 0!==n.providers}const Zp=Ce({provide:String,useValue:Ce});function tf(n){return null!==n&&"object"==typeof n&&Zp in n}function Dc(n){return"function"==typeof n}const pd=new cr("Set Injector scope."),gu={},v_={};let Qf;function Xf(){return void 0===Qf&&(Qf=new hl),Qf}class gd{}class tm extends gd{constructor(r,a,c,p){super(),this.parent=a,this.source=c,this.scopes=p,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ah(r,C=>this.processProvider(C)),this.records.set(hd,oh(void 0,this)),p.has("environment")&&this.records.set(gd,oh(void 0,this));const y=this.records.get(pd);null!=y&&"string"==typeof y.value&&this.scopes.add(y.value),this.injectorDefTypes=new Set(this.get(pu.multi,fn,Tt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();for(const r of this._onDestroyHooks)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(r){this._onDestroyHooks.push(r)}runInContext(r){this.assertNotDestroyed();const a=Ha(this),c=He(void 0);try{return r()}finally{Ha(a),He(c)}}get(r,a=bl,c=Tt.Default){this.assertNotDestroyed();const p=Ha(this),y=He(void 0);try{if(!(c&Tt.SkipSelf)){let M=this.records.get(r);if(void 0===M){const P=function Yp(n){return"function"==typeof n||"object"==typeof n&&n instanceof cr}(r)&&hn(r);M=P&&this.injectableDefInScope(P)?oh(md(r),gu):null,this.records.set(r,M)}if(null!=M)return this.hydrate(r,M)}return(c&Tt.Self?Xf():this.parent).get(r,a=c&Tt.Optional&&a===bl?null:a)}catch(C){if("NullInjectorError"===C.name){if((C[wl]=C[wl]||[]).unshift(Ie(r)),p)throw C;return function Y(n,r,a,c){const p=n[wl];throw r[rc]&&p.unshift(r[rc]),n.message=function _e(n,r,a,c=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let p=Ie(r);if(Array.isArray(r))p=r.map(Ie).join(" -> ");else if("object"==typeof r){let y=[];for(let C in r)if(r.hasOwnProperty(C)){let M=r[C];y.push(C+":"+("string"==typeof M?JSON.stringify(M):Ie(M)))}p=`{${y.join(", ")}}`}return`${a}${c?"("+c+")":""}[${p}]: ${n.replace(su,"\n  ")}`}("\n"+n.message,p,a,c),n.ngTokenPath=p,n[wl]=null,n}(C,r,"R3InjectorError",this.source)}throw C}finally{He(y),Ha(p)}}resolveInjectorInitializers(){const r=Ha(this),a=He(void 0);try{const c=this.get(ef.multi,fn,Tt.Self);for(const p of c)p()}finally{Ha(r),He(a)}}toString(){const r=[],a=this.records;for(const c of a.keys())r.push(Ie(c));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Be(205,!1)}processProvider(r){let a=Dc(r=we(r))?r:we(r&&r.provide);const c=function Bu(n){return tf(n)?oh(void 0,n.useValue):oh(qp(n),gu)}(r);if(Dc(r)||!0!==r.multi)this.records.get(a);else{let p=this.records.get(a);p||(p=oh(void 0,gu,!0),p.factory=()=>Tu(p.multi),this.records.set(a,p)),a=r,p.multi.push(r)}this.records.set(a,c)}hydrate(r,a){return a.value===gu&&(a.value=v_,a.value=a.factory()),"object"==typeof a.value&&a.value&&function b_(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(r){if(!r.providedIn)return!1;const a=we(r.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}}function md(n){const r=hn(n),a=null!==r?r.factory:Hi(n);if(null!==a)return a;if(n instanceof cr)throw new Be(204,!1);if(n instanceof Function)return function _d(n){const r=n.length;if(r>0)throw vl(r,"?"),new Be(204,!1);const a=function hr(n){const r=n&&(n[kr]||n[_r]);if(r){const a=function ar(n){if(n.hasOwnProperty("name"))return n.name;const r=(""+n).match(/^function\s*([^\s(]+)/);return null===r?"":r[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),r}return null}(n);return null!==a?()=>a.factory(n):()=>new n}(n);throw new Be(204,!1)}function qp(n,r,a){let c;if(Dc(n)){const p=we(n);return Hi(p)||md(p)}if(tf(n))c=()=>we(n.useValue);else if(function Wp(n){return!(!n||!n.useFactory)}(n))c=()=>n.useFactory(...Tu(n.deps||[]));else if(function em(n){return!(!n||!n.useExisting)}(n))c=()=>pi(we(n.useExisting));else{const p=we(n&&(n.useClass||n.provide));if(!function nm(n){return!!n.deps}(n))return Hi(p)||md(p);c=()=>new p(...Tu(n.deps))}return c}function oh(n,r,a=!1){return{factory:n,value:r,multi:a?[]:void 0}}function Kp(n){return!!n.\u0275providers}function ah(n,r){for(const a of n)Array.isArray(a)?ah(a,r):Kp(a)?ah(a.\u0275providers,r):r(a)}class Ca{}class lh{resolveComponentFactory(r){throw function Ki(n){const r=Error(`No component factory found for ${Ie(n)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=n,r}(r)}}let $u=(()=>{class n{}return n.NULL=new lh,n})();function im(){return mu(ii(),Et())}function mu(n,r){return new Hu(gi(n,r))}let Hu=(()=>{class n{constructor(a){this.nativeElement=a}}return n.__NG_ELEMENT_ID__=im,n})();function ju(n){return n instanceof Hu?n.nativeElement:n}class nf{}let Qp=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function Ea(){const n=Et(),a=ri(ii().index,n);return(Cr(a)?a:n)[11]}(),n})(),Xp=(()=>{class n{}return n.\u0275prov=Lt({token:n,providedIn:"root",factory:()=>null}),n})();class uh{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const Yl=new uh("14.3.0"),Kl={};function ch(n){return n.ngOriginalError}class Ta{constructor(){this._console=console}handleError(r){const a=this._findOriginalError(r);this._console.error("ERROR",r),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(r){let a=r&&ch(r);for(;a&&ch(a);)a=ch(a);return a||null}}function Gu(n){return n instanceof Function?n():n}function Ac(n,r,a){let c=n.length;for(;;){const p=n.indexOf(r,a);if(-1===p)return p;if(0===p||n.charCodeAt(p-1)<=32){const y=r.length;if(p+y===c||n.charCodeAt(p+y)<=32)return p}a=p+1}}const rf="ng-template";function eg(n,r,a){let c=0;for(;c<n.length;){let p=n[c++];if(a&&"class"===p){if(p=n[c],-1!==Ac(p.toLowerCase(),r,0))return!0}else if(1===p){for(;c<n.length&&"string"==typeof(p=n[c++]);)if(p.toLowerCase()===r)return!0;return!1}}return!1}function np(n){return 4===n.type&&n.value!==rf}function rp(n,r,a){return r===(4!==n.type||a?n.value:rf)}function tg(n,r,a){let c=4;const p=n.attrs||[],y=function ng(n){for(let r=0;r<n.length;r++)if(be(n[r]))return r;return n.length}(p);let C=!1;for(let M=0;M<r.length;M++){const P=r[M];if("number"!=typeof P){if(!C)if(4&c){if(c=2|1&c,""!==P&&!rp(n,P,a)||""===P&&1===r.length){if(Sa(c))return!1;C=!0}}else{const G=8&c?P:r[++M];if(8&c&&null!==n.attrs){if(!eg(n.attrs,G,a)){if(Sa(c))return!1;C=!0}continue}const ue=ip(8&c?"class":P,p,np(n),a);if(-1===ue){if(Sa(c))return!1;C=!0;continue}if(""!==G){let Me;Me=ue>y?"":p[ue+1].toLowerCase();const Xe=8&c?Me:null;if(Xe&&-1!==Ac(Xe,G,0)||2&c&&G!==Me){if(Sa(c))return!1;C=!0}}}}else{if(!C&&!Sa(c)&&!Sa(P))return!1;if(C&&Sa(P))continue;C=!1,c=P|1&c}}return Sa(c)||C}function Sa(n){return 0==(1&n)}function ip(n,r,a,c){if(null===r)return-1;let p=0;if(c||!a){let y=!1;for(;p<r.length;){const C=r[p];if(C===n)return p;if(3===C||6===C)y=!0;else{if(1===C||2===C){let M=r[++p];for(;"string"==typeof M;)M=r[++p];continue}if(4===C)break;if(0===C){p+=4;continue}}p+=y?1:2}return-1}return function rg(n,r){let a=n.indexOf(4);if(a>-1)for(a++;a<n.length;){const c=n[a];if("number"==typeof c)return-1;if(c===r)return a;a++}return-1}(r,n)}function Is(n,r,a=!1){for(let c=0;c<r.length;c++)if(tg(n,r[c],a))return!0;return!1}function Mc(n,r){e:for(let a=0;a<r.length;a++){const c=r[a];if(n.length===c.length){for(let p=0;p<n.length;p++)if(n[p]!==c[p])continue e;return!0}}return!1}function hh(n,r){return n?":not("+r.trim()+")":r}function um(n){let r=n[0],a=1,c=2,p="",y=!1;for(;a<n.length;){let C=n[a];if("string"==typeof C)if(2&c){const M=n[++a];p+="["+C+(M.length>0?'="'+M+'"':"")+"]"}else 8&c?p+="."+C:4&c&&(p+=" "+C);else""!==p&&!Sa(C)&&(r+=hh(y,p),p=""),c=C,y=y||!Sa(c);a++}return""!==p&&(r+=hh(y,p)),r}const br={};function fh(n){sf(nr(),Et(),mi()+n,!1)}function sf(n,r,a,c){if(!c)if(3==(3&r[2])){const y=n.preOrderCheckHooks;null!==y&&qi(r,y,a)}else{const y=n.preOrderHooks;null!==y&&Va(r,y,0,a)}gs(a)}function lp(n,r=null,a=null,c){const p=ph(n,r,a,c);return p.resolveInjectorInitializers(),p}function ph(n,r=null,a=null,c,p=new Set){const y=[a||fn,bc(n)];return c=c||("object"==typeof n?void 0:Ie(n)),new tm(y,r||Xf(),c||null,p)}let yu=(()=>{class n{static create(a,c){if(Array.isArray(a))return lp({name:""},c,a,"");{const p=a.name??"";return lp({name:p},a.parent,a.providers,p)}}}return n.THROW_IF_NOT_FOUND=bl,n.NULL=new hl,n.\u0275prov=Lt({token:n,providedIn:"any",factory:()=>pi(hd)}),n.__NG_ELEMENT_ID__=-1,n})();function xc(n,r=Tt.Default){const a=Et();return null===a?pi(n,r):ml(ii(),a,we(n),r)}function _f(){throw new Error("invalid")}function wd(n,r){return n<<17|r<<2}function Nl(n){return n>>17&32767}function _p(n){return 2|n}function vu(n){return(131068&n)>>2}function Dd(n,r){return-131069&n|r<<2}function yp(n){return 1|n}function on(n,r){const a=n.contentQueries;if(null!==a)for(let c=0;c<a.length;c+=2){const p=a[c],y=a[c+1];if(-1!==y){const C=n.data[y];ns(p),C.contentQueries(2,r[y],y)}}}function Tr(n,r,a,c,p,y,C,M,P,G,ne){const ue=r.blueprint.slice();return ue[0]=p,ue[2]=76|c,(null!==ne||n&&1024&n[2])&&(ue[2]|=1024),Lr(ue),ue[3]=ue[15]=n,ue[8]=a,ue[10]=C||n&&n[10],ue[11]=M||n&&n[11],ue[12]=P||n&&n[12]||null,ue[9]=G||n&&n[9]||null,ue[6]=y,ue[20]=function Kc(){return $d++}(),ue[21]=ne,ue[16]=2==r.type?n[16]:ue,ue}function Gr(n,r,a,c,p){let y=n.data[r];if(null===y)y=Fi(n,r,a,c,p),function ks(){return xn.lFrame.inI18n}()&&(y.flags|=64);else if(64&y.type){y.type=a,y.value=c,y.attrs=p;const C=Ra();y.injectorIndex=null===C?-1:C.injectorIndex}return Zi(y,!0),y}function Fi(n,r,a,c,p){const y=Xo(),C=po(),P=n.data[r]=function R_(n,r,a,c,p,y){return{type:a,index:c,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:p,attrs:y,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,C?y:y&&y.parent,a,r,c,p);return null===n.firstChild&&(n.firstChild=P),null!==y&&(C?null==y.child&&null!==P.parent&&(y.child=P):null===y.next&&(y.next=P)),P}function vi(n,r,a,c){if(0===a)return-1;const p=r.length;for(let y=0;y<a;y++)r.push(c),n.blueprint.push(c),n.data.push(null);return p}function fa(n,r,a){Os(r);try{const c=n.viewQuery;null!==c&&Ep(1,c,a);const p=n.template;null!==p&&Oc(n,r,p,1,a),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&on(n,r),n.staticViewQueries&&Ep(2,n.viewQuery,a);const y=n.components;null!==y&&function dr(n,r){for(let a=0;a<r.length;a++)av(n,r[a])}(r,y)}catch(c){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),c}finally{r[2]&=-5,To()}}function Aa(n,r,a,c){const p=r[2];if(128!=(128&p)){Os(r);try{Lr(r),function qe(n){return xn.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==a&&Oc(n,r,a,2,c);const C=3==(3&p);if(C){const G=n.preOrderCheckHooks;null!==G&&qi(r,G,null)}else{const G=n.preOrderHooks;null!==G&&Va(r,G,0,null),Pl(r,0)}if(function Cm(n){for(let r=lo(n);null!==r;r=cc(r)){if(!r[2])continue;const a=r[9];for(let c=0;c<a.length;c++){const p=a[c],y=p[3];0==(512&p[2])&&Qr(y,1),p[2]|=512}}}(r),function ov(n){for(let r=lo(n);null!==r;r=cc(r))for(let a=10;a<r.length;a++){const c=r[a],p=c[1];Fo(c)&&Aa(p,c,p.template,c[8])}}(r),null!==n.contentQueries&&on(n,r),C){const G=n.contentCheckHooks;null!==G&&qi(r,G)}else{const G=n.contentHooks;null!==G&&Va(r,G,1),Pl(r,1)}!function Ut(n,r){const a=n.hostBindingOpCodes;if(null!==a)try{for(let c=0;c<a.length;c++){const p=a[c];if(p<0)gs(~p);else{const y=p,C=a[++c],M=a[++c];go(C,y),M(2,r[y])}}}finally{gs(-1)}}(n,r);const M=n.components;null!==M&&function Gn(n,r){for(let a=0;a<r.length;a++)Fc(n,r[a])}(r,M);const P=n.viewQuery;if(null!==P&&Ep(2,P,c),C){const G=n.viewCheckHooks;null!==G&&qi(r,G)}else{const G=n.viewHooks;null!==G&&Va(r,G,2),Pl(r,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),r[2]&=-41,512&r[2]&&(r[2]&=-513,Qr(r[3],-1))}finally{To()}}}function Oc(n,r,a,c,p){const y=mi(),C=2&c;try{gs(-1),C&&r.length>22&&sf(n,r,22,!1),a(c,p)}finally{gs(y)}}function pa(n,r,a){if(Hs(r)){const p=r.directiveEnd;for(let y=r.directiveStart;y<p;y++){const C=n.data[y];C.contentQueries&&C.contentQueries(1,a[y],y)}}}function Pc(n,r,a){!zi()||(function V_(n,r,a,c){const p=a.directiveStart,y=a.directiveEnd;n.firstCreatePass||Ft(a,r),bo(c,r);const C=a.initialInputs;for(let M=p;M<y;M++){const P=n.data[M],G=di(P);G&&iv(r,a,P);const ne=ra(r,n,M,a);bo(ne,r),null!==C&&Dm(0,M-p,ne,P,0,C),G&&(ri(a.index,r)[8]=ne)}}(n,r,a,gi(a,r)),128==(128&a.flags)&&function vm(n,r,a){const c=a.directiveStart,p=a.directiveEnd,y=a.index,C=function li(){return xn.lFrame.currentDirectiveIndex}();try{gs(y);for(let M=c;M<p;M++){const P=n.data[M],G=r[M];Rs(M),(null!==P.hostBindings||0!==P.hostVars||null!==P.hostAttrs)&&bm(P,G)}}finally{gs(-1),Rs(C)}}(n,r,a))}function bp(n,r,a=gi){const c=r.localNames;if(null!==c){let p=r.index+1;for(let y=0;y<c.length;y+=2){const C=c[y+1],M=-1===C?a(r,n):n[C];n[p++]=M}}}function x_(n){const r=n.tView;return null===r||r.incompleteFirstPass?n.tView=vg(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):r}function vg(n,r,a,c,p,y,C,M,P,G){const ne=22+c,ue=ne+p,Me=function Qy(n,r){const a=[];for(let c=0;c<r;c++)a.push(c<n?null:br);return a}(ne,ue),Xe="function"==typeof G?G():G;return Me[1]={type:n,blueprint:Me,template:a,queries:null,viewQuery:M,declTNode:r,data:Me.slice().fill(null,ne),bindingStartIndex:ne,expandoStartIndex:ue,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof y?y():y,pipeRegistry:"function"==typeof C?C():C,firstChild:null,schemas:P,consts:Xe,incompleteFirstPass:!1}}function mm(n,r,a,c){const p=Ig(r);null===a?p.push(c):(p.push(a),n.firstCreatePass&&B_(n).push(c,p.length-1))}function O_(n,r,a){for(let c in n)if(n.hasOwnProperty(c)){const p=n[c];(a=null===a?{}:a).hasOwnProperty(c)?a[c].push(r,p):a[c]=[r,p]}return a}function P_(n,r){const c=r.directiveEnd,p=n.data,y=r.attrs,C=[];let M=null,P=null;for(let G=r.directiveStart;G<c;G++){const ne=p[G],ue=ne.inputs,Me=null===y||np(r)?null:Cf(ue,y);C.push(Me),M=O_(ue,G,M),P=O_(ne.outputs,G,P)}null!==M&&(M.hasOwnProperty("class")&&(r.flags|=16),M.hasOwnProperty("style")&&(r.flags|=32)),r.initialInputs=C,r.inputs=M,r.outputs=P}function xl(n,r,a,c,p,y,C,M){const P=gi(r,a);let ne,G=r.inputs;!M&&null!=G&&(ne=G[c])?(Ip(n,a,ne,c,p),wi(r)&&bg(a,r.index)):3&r.type&&(c=function ev(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(c),p=null!=C?C(p,r.value||"",c):p,y.setProperty(P,c,p))}function bg(n,r){const a=ri(r,n);16&a[2]||(a[2]|=32)}function wp(n,r,a,c){let p=!1;if(zi()){const y=function nv(n,r,a){const c=n.directiveRegistry;let p=null;if(c)for(let y=0;y<c.length;y++){const C=c[y];Is(a,C.selectors,!1)&&(p||(p=[]),Bo(Ft(a,r),n,C.type),di(C)?(wg(n,a),p.unshift(C)):p.push(C))}return p}(n,r,a),C=null===c?null:{"":-1};if(null!==y){p=!0,U_(a,n.data.length,y.length);for(let ne=0;ne<y.length;ne++){const ue=y[ne];ue.providersResolver&&ue.providersResolver(ue)}let M=!1,P=!1,G=vi(n,r,y.length,null);for(let ne=0;ne<y.length;ne++){const ue=y[ne];a.mergedAttrs=bt(a.mergedAttrs,ue.hostAttrs),Dg(n,a,r,G,ue),wm(G,ue,C),null!==ue.contentQueries&&(a.flags|=8),(null!==ue.hostBindings||null!==ue.hostAttrs||0!==ue.hostVars)&&(a.flags|=128);const Me=ue.type.prototype;!M&&(Me.ngOnChanges||Me.ngOnInit||Me.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(a.index),M=!0),!P&&(Me.ngOnChanges||Me.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(a.index),P=!0),G++}P_(n,a)}C&&function rv(n,r,a){if(r){const c=n.localNames=[];for(let p=0;p<r.length;p+=2){const y=a[r[p+1]];if(null==y)throw new Be(-301,!1);c.push(r[p],y)}}}(a,c,C)}return a.mergedAttrs=bt(a.mergedAttrs,a.attrs),p}function L_(n,r,a,c,p,y){const C=y.hostBindings;if(C){let M=n.hostBindingOpCodes;null===M&&(M=n.hostBindingOpCodes=[]);const P=~r.index;(function ym(n){let r=n.length;for(;r>0;){const a=n[--r];if("number"==typeof a&&a<0)return a}return 0})(M)!=P&&M.push(P),M.push(c,p,C)}}function bm(n,r){null!==n.hostBindings&&n.hostBindings(1,r)}function wg(n,r){r.flags|=2,(n.components||(n.components=[])).push(r.index)}function wm(n,r,a){if(a){if(r.exportAs)for(let c=0;c<r.exportAs.length;c++)a[r.exportAs[c]]=n;di(r)&&(a[""]=n)}}function U_(n,r,a){n.flags|=1,n.directiveStart=r,n.directiveEnd=r+a,n.providerIndexes=r}function Dg(n,r,a,c,p){n.data[c]=p;const y=p.factory||(p.factory=Hi(p.type)),C=new Cs(y,di(p),xc);n.blueprint[c]=C,a[c]=C,L_(n,r,0,c,vi(n,a,p.hostVars,br),p)}function iv(n,r,a){const c=gi(r,n),p=x_(a),y=n[10],C=Eg(n,Tr(n,p,null,a.onPush?32:16,c,r,y,y.createRenderer(c,a),null,null,null));n[r.index]=C}function Dp(n,r,a,c,p,y,C){if(null==y)n.removeAttribute(r,p,a);else{const M=null==C?Ke(y):C(y,c||"",p);n.setAttribute(r,p,M,a)}}function Dm(n,r,a,c,p,y){const C=y[r];if(null!==C){const M=c.setInput;for(let P=0;P<C.length;){const G=C[P++],ne=C[P++],ue=C[P++];null!==M?c.setInput(a,ue,G,ne):a[ne]=ue}}}function Cf(n,r){let a=null,c=0;for(;c<r.length;){const p=r[c];if(0!==p)if(5!==p){if("number"==typeof p)break;n.hasOwnProperty(p)&&(null===a&&(a=[]),a.push(p,n[p],r[c+1])),c+=2}else c+=2;else c+=4}return a}function Cg(n,r,a,c){return new Array(n,!0,!1,r,null,0,c,a,null,null)}function Fc(n,r){const a=ri(r,n);if(Fo(a)){const c=a[1];48&a[2]?Aa(c,a,c.template,a[8]):a[5]>0&&Cp(a)}}function Cp(n){for(let c=lo(n);null!==c;c=cc(c))for(let p=10;p<c.length;p++){const y=c[p];if(Fo(y))if(512&y[2]){const C=y[1];Aa(C,y,C.template,y[8])}else y[5]>0&&Cp(y)}const a=n[1].components;if(null!==a)for(let c=0;c<a.length;c++){const p=ri(a[c],n);Fo(p)&&p[5]>0&&Cp(p)}}function av(n,r){const a=ri(r,n),c=a[1];(function Em(n,r){for(let a=r.length;a<n.blueprint.length;a++)r.push(n.blueprint[a])})(c,a),fa(c,a,a[8])}function Eg(n,r){return n[13]?n[14][4]=r:n[13]=r,n[14]=r,r}function Im(n){for(;n;){n[2]|=32;const r=Gl(n);if(Wo(n)&&!r)return n;n=r}return null}function Ef(n,r,a,c=!0){const p=r[10];p.begin&&p.begin();try{Aa(n,r,n.template,a)}catch(C){throw c&&Tm(r,C),C}finally{p.end&&p.end()}}function Ep(n,r,a){ns(0),r(n,a)}function Ig(n){return n[7]||(n[7]=[])}function B_(n){return n.cleanup||(n.cleanup=[])}function Tm(n,r){const a=n[9],c=a?a.get(Ta,null):null;c&&c.handleError(r)}function Ip(n,r,a,c,p){for(let y=0;y<a.length;){const C=a[y++],M=a[y++],P=r[C],G=n.data[C];null!==G.setInput?G.setInput(P,p,c,M):P[M]=p}}function Sg(n,r,a){let c=a?n.styles:null,p=a?n.classes:null,y=0;if(null!==r)for(let C=0;C<r.length;C++){const M=r[C];"number"==typeof M?y=M:1==y?p=Pe(p,M):2==y&&(c=Pe(c,M+": "+r[++C]+";"))}a?n.styles=c:n.stylesWithoutHost=c,a?n.classes=p:n.classesWithoutHost=p}function Ag(n,r,a,c,p=!1){for(;null!==a;){const y=r[a.index];if(null!==y&&c.push(ni(y)),ti(y))for(let M=10;M<y.length;M++){const P=y[M],G=P[1].firstChild;null!==G&&Ag(P[1],P,G,c)}const C=a.type;if(8&C)Ag(n,r,a.child,c);else if(32&C){const M=rd(a,r);let P;for(;P=M();)c.push(P)}else if(16&C){const M=Ou(r,a);if(Array.isArray(M))c.push(...M);else{const P=Gl(r[16]);Ag(P[1],P,M,c,!0)}}a=p?a.projectionNext:a.next}return c}class Dh{constructor(r,a){this._lView=r,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const r=this._lView,a=r[1];return Ag(a,r,a.firstChild,[])}get context(){return this._lView[8]}set context(r){this._lView[8]=r}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[3];if(ti(r)){const a=r[8],c=a?a.indexOf(this):-1;c>-1&&(jo(r,c),va(a,c))}this._attachedToViewContainer=!1}Wd(this._lView[1],this._lView)}onDestroy(r){mm(this._lView[1],this._lView,null,r)}markForCheck(){Im(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Ef(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Be(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function is(n,r){Pu(n,r,r[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new Be(902,!1);this._appRef=r}}class lv extends Dh{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;Ef(r[1],r,r[8],!1)}checkNoChanges(){}get context(){return null}}class Tp extends $u{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const a=st(r);return new Ed(a,this.ngModule)}}function Mg(n){const r=[];for(let a in n)n.hasOwnProperty(a)&&r.push({propName:n[a],templateName:a});return r}class uv{constructor(r,a){this.injector=r,this.parentInjector=a}get(r,a,c){const p=this.injector.get(r,Kl,c);return p!==Kl||a===Kl?p:this.parentInjector.get(r,a,c)}}class Ed extends Ca{constructor(r,a){super(),this.componentDef=r,this.ngModule=a,this.componentType=r.type,this.selector=function sp(n){return n.map(um).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return Mg(this.componentDef.inputs)}get outputs(){return Mg(this.componentDef.outputs)}create(r,a,c,p){let y=(p=p||this.ngModule)instanceof gd?p:p?.injector;y&&null!==this.componentDef.getStandaloneInjector&&(y=this.componentDef.getStandaloneInjector(y)||y);const C=y?new uv(r,y):r,M=C.get(nf,null);if(null===M)throw new Be(407,!1);const P=C.get(Xp,null),G=M.createRenderer(null,this.componentDef),ne=this.componentDef.selectors[0][0]||"div",ue=c?function k_(n,r,a){return n.selectRootElement(r,a===Nt.ShadowDom)}(G,c,this.componentDef.encapsulation):rl(G,ne,function Sm(n){const r=n.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(ne)),Me=this.componentDef.onPush?288:272,Xe=vg(0,null,null,1,0,null,null,null,null,null),At=Tr(null,Xe,null,Me,null,null,M,G,P,C,null);let sn,yn;Os(At);try{const Rn=function Ng(n,r,a,c,p,y){const C=a[1];a[22]=n;const P=Gr(C,22,2,"#host",null),G=P.mergedAttrs=r.hostAttrs;null!==G&&(Sg(P,G,!0),null!==n&&(X(p,n,G),null!==P.classes&&du(p,n,P.classes),null!==P.styles&&od(p,n,P.styles)));const ne=c.createRenderer(n,r),ue=Tr(a,x_(r),null,r.onPush?32:16,a[22],P,c,ne,y||null,null,null);return C.firstCreatePass&&(Bo(Ft(P,a),C,r.type),wg(C,P),U_(P,a.length,1)),Eg(a,ue),a[22]=ue}(ue,this.componentDef,At,M,G);if(ue)if(c)X(G,ue,["ng-version",Yl.full]);else{const{attrs:tr,classes:Ht}=function ig(n){const r=[],a=[];let c=1,p=2;for(;c<n.length;){let y=n[c];if("string"==typeof y)2===p?""!==y&&r.push(y,n[++c]):8===p&&a.push(y);else{if(!Sa(p))break;p=y}c++}return{attrs:r,classes:a}}(this.componentDef.selectors[0]);tr&&X(G,ue,tr),Ht&&Ht.length>0&&du(G,ue,Ht.join(" "))}if(yn=Yo(Xe,22),void 0!==a){const tr=yn.projection=[];for(let Ht=0;Ht<this.ngContentSelectors.length;Ht++){const mr=a[Ht];tr.push(null!=mr?Array.from(mr):null)}}sn=function hv(n,r,a,c){const p=a[1],y=function tv(n,r,a){const c=ii();n.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),Dg(n,c,r,vi(n,r,1,null),a),P_(n,c));const p=ra(r,n,c.directiveStart,c);bo(p,r);const y=gi(c,r);return y&&bo(y,r),p}(p,a,r);if(n[8]=a[8]=y,null!==c)for(const M of c)M(y,r);if(r.contentQueries){const M=ii();r.contentQueries(1,y,M.directiveStart)}const C=ii();return!p.firstCreatePass||null===r.hostBindings&&null===r.hostAttrs||(gs(C.index),L_(a[1],C,0,C.directiveStart,C.directiveEnd,r),bm(r,y)),y}(Rn,this.componentDef,At,[fv]),fa(Xe,At,null)}finally{To()}return new If(this.componentType,sn,mu(yn,At),At,yn)}}class If extends class Jp{}{constructor(r,a,c,p,y){super(),this.location=c,this._rootLView=p,this._tNode=y,this.instance=a,this.hostView=this.changeDetectorRef=new lv(p),this.componentType=r}setInput(r,a){const c=this._tNode.inputs;let p;if(null!==c&&(p=c[r])){const y=this._rootLView;Ip(y[1],y,p,r,a),bg(y,this._tNode.index)}}get injector(){return new Fs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function fv(){const n=ii();gl(Et()[1],n)}function Mm(n){let r=function $_(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),a=!0;const c=[n];for(;r;){let p;if(di(n))p=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new Be(903,!1);p=r.\u0275dir}if(p){if(a){c.push(p);const C=n;C.inputs=Sp(n.inputs),C.declaredInputs=Sp(n.declaredInputs),C.outputs=Sp(n.outputs);const M=p.hostBindings;M&&H_(n,M);const P=p.viewQuery,G=p.contentQueries;if(P&&Nm(n,P),G&&xm(n,G),he(n.inputs,p.inputs),he(n.declaredInputs,p.declaredInputs),he(n.outputs,p.outputs),di(p)&&p.data.animation){const ne=n.data;ne.animation=(ne.animation||[]).concat(p.data.animation)}}const y=p.features;if(y)for(let C=0;C<y.length;C++){const M=y[C];M&&M.ngInherit&&M(n),M===Mm&&(a=!1)}}r=Object.getPrototypeOf(r)}!function xg(n){let r=0,a=null;for(let c=n.length-1;c>=0;c--){const p=n[c];p.hostVars=r+=p.hostVars,p.hostAttrs=bt(p.hostAttrs,a=bt(a,p.hostAttrs))}}(c)}function Sp(n){return n===cn?{}:n===fn?[]:n}function Nm(n,r){const a=n.viewQuery;n.viewQuery=a?(c,p)=>{r(c,p),a(c,p)}:r}function xm(n,r){const a=n.contentQueries;n.contentQueries=a?(c,p,y)=>{r(c,p,y),a(c,p,y)}:r}function H_(n,r){const a=n.hostBindings;n.hostBindings=a?(c,p)=>{r(c,p),a(c,p)}:r}let Tf=null;function Id(){if(!Tf){const n=ht.Symbol;if(n&&n.iterator)Tf=n.iterator;else{const r=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<r.length;++a){const c=r[a];"entries"!==c&&"size"!==c&&Map.prototype[c]===Map.prototype.entries&&(Tf=c)}}}return Tf}function Ch(n){return!!Td(n)&&(Array.isArray(n)||!(n instanceof Map)&&Id()in n)}function Td(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Yu(n,r,a){return n[r]=a}function Ma(n,r,a){return!Object.is(n[r],a)&&(n[r]=a,!0)}function Sd(n,r,a,c){const p=Ma(n,r,a);return Ma(n,r+1,c)||p}function Lm(n,r,a,c){const p=Et();return Ma(p,dn(),r)&&(nr(),function Xl(n,r,a,c,p,y){const C=gi(n,r);Dp(r[11],C,y,n.value,a,c,p)}(Or(),p,n,r,a,c)),Lm}function Af(n,r,a,c){return Ma(n,dn(),a)?r+Ke(a)+c:br}function Ad(n,r,a,c,p,y,C,M,P,G){const ue=function kl(n,r,a,c,p,y){const C=Sd(n,r,a,c);return Sd(n,r+2,p,y)||C}(n,ee(),a,p,C,P);return sr(4),ue?r+Ke(a)+c+Ke(p)+y+Ke(C)+M+Ke(P)+G:br}function Hm(n,r,a,c,p,y,C,M){const P=Et(),G=nr(),ne=n+22,ue=G.firstCreatePass?function Og(n,r,a,c,p,y,C,M,P){const G=r.consts,ne=Gr(r,n,4,C||null,Di(G,M));wp(r,a,ne,Di(G,P)),gl(r,ne);const ue=ne.tViews=vg(2,ne,c,p,y,r.directiveRegistry,r.pipeRegistry,null,r.schemas,G);return null!==r.queries&&(r.queries.template(r,ne),ue.queries=r.queries.embeddedTView(ne)),ne}(ne,G,P,r,a,c,p,y,C):G.data[ne];Zi(ue,!1);const Me=P[11].createComment("");Ys(G,P,Me,ue),bo(Me,P),Eg(P,P[ne]=Cg(Me,P,Me,ue)),ga(ue)&&Pc(G,P,ue),null!=C&&bp(P,ue,M)}function G_(n){return js(function jr(){return xn.lFrame.contextLView}(),22+n)}function Mp(n,r,a){const c=Et();return Ma(c,dn(),r)&&xl(nr(),Or(),c,n,r,c[11],a,!1),Mp}function Gm(n,r,a,c,p){const C=p?"class":"style";Ip(n,a,r.inputs[C],C,c)}function Li(n,r,a,c){const p=Et(),y=nr(),C=22+n,M=p[11],P=p[C]=rl(M,r,function La(){return xn.lFrame.currentNamespace}()),G=y.firstCreatePass?function gv(n,r,a,c,p,y,C){const M=r.consts,G=Gr(r,n,2,p,Di(M,y));return wp(r,a,G,Di(M,C)),null!==G.attrs&&Sg(G,G.attrs,!1),null!==G.mergedAttrs&&Sg(G,G.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,G),G}(C,y,p,0,r,a,c):y.data[C];Zi(G,!0);const ne=G.mergedAttrs;null!==ne&&X(M,P,ne);const ue=G.classes;null!==ue&&du(M,P,ue);const Me=G.styles;return null!==Me&&od(M,P,Me),64!=(64&G.flags)&&Ys(y,p,P,G),0===function Io(){return xn.lFrame.elementDepthCount}()&&bo(P,p),function eo(){xn.lFrame.elementDepthCount++}(),ga(G)&&(Pc(y,p,G),pa(y,G,p)),null!==c&&bp(p,G),Li}function zm(){let n=ii();po()?ws():(n=n.parent,Zi(n,!1));const r=n;!function Qo(){xn.lFrame.elementDepthCount--}();const a=nr();return a.firstCreatePass&&(gl(a,n),Hs(n)&&a.queries.elementEnd(n)),null!=r.classesWithoutHost&&function Ps(n){return 0!=(16&n.flags)}(r)&&Gm(a,r,Et(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function k(n){return 0!=(32&n.flags)}(r)&&Gm(a,r,Et(),r.stylesWithoutHost,!1),zm}function z_(n,r,a,c){return Li(n,r,a,c),zm(),z_}function Np(n,r,a){const c=Et(),p=nr(),y=n+22,C=p.firstCreatePass?function co(n,r,a,c,p){const y=r.consts,C=Di(y,c),M=Gr(r,n,8,"ng-container",C);return null!==C&&Sg(M,C,!0),wp(r,a,M,Di(y,p)),null!==r.queries&&r.queries.elementStart(r,M),M}(y,p,c,r,a):p.data[y];Zi(C,!0);const M=c[y]=c[11].createComment("");return Ys(p,c,M,C),bo(M,c),ga(C)&&(Pc(p,c,C),pa(p,C,c)),null!=a&&bp(c,C),Np}function Pg(){let n=ii();const r=nr();return po()?ws():(n=n.parent,Zi(n,!1)),r.firstCreatePass&&(gl(r,n),Hs(n)&&r.queries.elementEnd(n)),Pg}function Zm(){return Et()}function Wm(n){return!!n&&"function"==typeof n.then}function W_(n){return!!n&&"function"==typeof n.subscribe}const q_=W_;function qm(n,r,a,c){const p=Et(),y=nr(),C=ii();return function Y_(n,r,a,c,p,y,C,M){const P=ga(c),ne=n.firstCreatePass&&B_(n),ue=r[8],Me=Ig(r);let Xe=!0;if(3&c.type||M){const yn=gi(c,r),Rn=M?M(yn):yn,tr=Me.length,Ht=M?Mi=>M(ni(Mi[c.index])):c.index;let mr=null;if(!M&&P&&(mr=function _v(n,r,a,c){const p=n.cleanup;if(null!=p)for(let y=0;y<p.length-1;y+=2){const C=p[y];if(C===a&&p[y+1]===c){const M=r[7],P=p[y+2];return M.length>P?M[P]:null}"string"==typeof C&&(y+=2)}return null}(n,r,p,c.index)),null!==mr)(mr.__ngLastListenerFn__||mr).__ngNextListenerFn__=y,mr.__ngLastListenerFn__=y,Xe=!1;else{y=xf(c,r,ue,y,!1);const Mi=a.listen(Rn,p,y);Me.push(y,Mi),ne&&ne.push(p,Ht,tr,tr+1)}}else y=xf(c,r,ue,y,!1);const At=c.outputs;let sn;if(Xe&&null!==At&&(sn=At[p])){const yn=sn.length;if(yn)for(let Rn=0;Rn<yn;Rn+=2){const Js=r[sn[Rn]][sn[Rn+1]].subscribe(y),$p=Me.length;Me.push(y,Js),ne&&ne.push(p,c.index,$p,-($p+1))}}}(y,p,p[11],C,n,r,0,c),qm}function Ym(n,r,a,c){try{return!1!==a(c)}catch(p){return Tm(n,p),!1}}function xf(n,r,a,c,p){return function y(C){if(C===Function)return c;Im(2&n.flags?ri(n.index,r):r);let P=Ym(r,0,c,C),G=y.__ngNextListenerFn__;for(;G;)P=Ym(r,0,G,C)&&P,G=G.__ngNextListenerFn__;return p&&!1===P&&(C.preventDefault(),C.returnValue=!1),P}}function K_(n=1){return function Pa(n){return(xn.lFrame.contextLView=function pl(n,r){for(;n>0;)r=r[15],n--;return r}(n,xn.lFrame.contextLView))[8]}(n)}function Ku(n,r){let a=null;const c=function I_(n){const r=n.attrs;if(null!=r){const a=r.indexOf(5);if(0==(1&a))return r[a+1]}return null}(n);for(let p=0;p<r.length;p++){const y=r[p];if("*"!==y){if(null===c?Is(n,y,!0):Mc(c,y))return p}else a=p}return a}function Ju(n){const r=Et()[16][6];if(!r.projection){const c=r.projection=vl(n?n.length:1,null),p=c.slice();let y=r.child;for(;null!==y;){const C=n?Ku(y,n):0;null!==C&&(p[C]?p[C].projectionNext=y:c[C]=y,p[C]=y),y=y.next}}}function yv(n,r=0,a){const c=Et(),p=nr(),y=Gr(p,22+n,16,null,a||null);null===y.projection&&(y.projection=r),ws(),64!=(64&y.flags)&&function Ai(n,r,a){pc(r[11],0,r,a,Xn(n,a,r),hc(a.parent||r[6],a,r))}(p,c,y)}function Vc(n,r,a){return Ah(n,"",r,"",a),Vc}function Ah(n,r,a,c,p){const y=Et(),C=Af(y,r,a,c);return C!==br&&xl(nr(),Or(),y,n,C,y[11],p,!1),Ah}function ty(n,r,a,c,p){const y=n[a+1],C=null===r;let M=c?Nl(y):vu(y),P=!1;for(;0!==M&&(!1===P||C);){const ne=n[M+1];vv(n[M],r)&&(P=!0,n[M+1]=c?yp(ne):_p(ne)),M=c?Nl(ne):vu(ne)}P&&(n[a+1]=c?_p(y):yp(y))}function vv(n,r){return null===n||null==r||(Array.isArray(n)?n[1]:n)===r||!(!Array.isArray(n)||"string"!=typeof r)&&ye(n,r)>=0}const xo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Lg(n){return n.substring(xo.key,xo.keyEnd)}function Xm(n){return n.substring(xo.value,xo.valueEnd)}function Nd(n,r){const a=xo.textEnd;return a===r?-1:(r=xo.keyEnd=function bv(n,r,a){for(;r<a&&n.charCodeAt(r)>32;)r++;return r}(n,xo.key=r,a),Qu(n,r,a))}function e_(n,r){const a=xo.textEnd;let c=xo.key=Qu(n,r,a);return a===c?-1:(c=xo.keyEnd=function Ug(n,r,a){let c;for(;r<a&&(45===(c=n.charCodeAt(r))||95===c||(-33&c)>=65&&(-33&c)<=90||c>=48&&c<=57);)r++;return r}(n,c,a),c=Rp(n,c,a),c=xo.value=Qu(n,c,a),c=xo.valueEnd=function iy(n,r,a){let c=-1,p=-1,y=-1,C=r,M=C;for(;C<a;){const P=n.charCodeAt(C++);if(59===P)return M;34===P||39===P?M=C=kf(n,P,C,a):r===C-4&&85===y&&82===p&&76===c&&40===P?M=C=kf(n,41,C,a):P>32&&(M=C),y=p,p=c,c=-33&P}return M}(n,c,a),Rp(n,c,a))}function Vg(n){xo.key=0,xo.keyEnd=0,xo.value=0,xo.valueEnd=0,xo.textEnd=n.length}function Qu(n,r,a){for(;r<a&&n.charCodeAt(r)<=32;)r++;return r}function Rp(n,r,a,c){return(r=Qu(n,r,a))<a&&r++,r}function kf(n,r,a,c){let p=-1,y=a;for(;y<c;){const C=n.charCodeAt(y++);if(C==r&&92!==p)return y;p=92==C&&92===p?0:C}throw new Error}function Rf(n,r,a){return wu(n,r,a,!1),Rf}function Bg(n,r){return wu(n,r,null,!0),Bg}function Rl(n){Na(sy,Op,n,!1)}function Op(n,r){for(let a=function ry(n){return Vg(n),e_(n,Qu(n,0,xo.textEnd))}(r);a>=0;a=e_(r,a))sy(n,Lg(r),Xm(r))}function Uc(n){Na(Q,fl,n,!0)}function fl(n,r){for(let a=function ny(n){return Vg(n),Nd(n,Qu(n,0,xo.textEnd))}(r);a>=0;a=Nd(r,a))Q(n,Lg(r),!0)}function wu(n,r,a,c){const p=Et(),y=nr(),C=sr(2);y.firstUpdatePass&&Dv(y,n,C,c),r!==br&&Ma(p,C,r)&&oy(y,y.data[mi()],p,p[11],n,p[C+1]=function ly(n,r){return null==n||("string"==typeof r?n+=r:"object"==typeof n&&(n=Ie(te(n)))),n}(r,a),c,C)}function Na(n,r,a,c){const p=nr(),y=sr(2);p.firstUpdatePass&&Dv(p,null,y,c);const C=Et();if(a!==br&&Ma(C,y,a)){const M=p.data[mi()];if(r_(M,c)&&!wv(p,y)){let P=c?M.classesWithoutHost:M.stylesWithoutHost;null!==P&&(a=Pe(P,a||"")),Gm(p,M,C,a,c)}else!function Hg(n,r,a,c,p,y,C,M){p===br&&(p=fn);let P=0,G=0,ne=0<p.length?p[0]:null,ue=0<y.length?y[0]:null;for(;null!==ne||null!==ue;){const Me=P<p.length?p[P+1]:void 0,Xe=G<y.length?y[G+1]:void 0;let sn,At=null;ne===ue?(P+=2,G+=2,Me!==Xe&&(At=ue,sn=Xe)):null===ue||null!==ne&&ne<ue?(P+=2,At=ne):(G+=2,At=ue,sn=Xe),null!==At&&oy(n,r,a,c,At,sn,C,M),ne=P<p.length?p[P]:null,ue=G<y.length?y[G]:null}}(p,M,C,C[11],C[y+1],C[y+1]=function Iv(n,r,a){if(null==a||""===a)return fn;const c=[],p=te(a);if(Array.isArray(p))for(let y=0;y<p.length;y++)n(c,p[y],!0);else if("object"==typeof p)for(const y in p)p.hasOwnProperty(y)&&n(c,y,p[y]);else"string"==typeof p&&r(c,p);return c}(n,r,a),c,y)}}function wv(n,r){return r>=n.expandoStartIndex}function Dv(n,r,a,c){const p=n.data;if(null===p[a+1]){const y=p[mi()],C=wv(n,a);r_(y,c)&&null===r&&!C&&(r=!1),r=function t_(n,r,a,c){const p=function mo(n){const r=xn.lFrame.currentDirectiveIndex;return-1===r?null:n[r]}(n);let y=c?r.residualClasses:r.residualStyles;if(null===p)0===(c?r.classBindings:r.styleBindings)&&(a=xd(a=n_(null,n,r,a,c),r.attrs,c),y=null);else{const C=r.directiveStylingLast;if(-1===C||n[C]!==p)if(a=n_(p,n,r,a,c),null===y){let P=function Cv(n,r,a){const c=a?r.classBindings:r.styleBindings;if(0!==vu(c))return n[Nl(c)]}(n,r,c);void 0!==P&&Array.isArray(P)&&(P=n_(null,n,r,P[1],c),P=xd(P,r.attrs,c),function $g(n,r,a,c){n[Nl(a?r.classBindings:r.styleBindings)]=c}(n,r,c,P))}else y=function Ev(n,r,a){let c;const p=r.directiveEnd;for(let y=1+r.directiveStylingLast;y<p;y++)c=xd(c,n[y].hostAttrs,a);return xd(c,r.attrs,a)}(n,r,c)}return void 0!==y&&(c?r.residualClasses=y:r.residualStyles=y),a}(p,y,r,c),function ey(n,r,a,c,p,y){let C=y?r.classBindings:r.styleBindings,M=Nl(C),P=vu(C);n[c]=a;let ne,G=!1;if(Array.isArray(a)){const ue=a;ne=ue[1],(null===ne||ye(ue,ne)>0)&&(G=!0)}else ne=a;if(p)if(0!==P){const Me=Nl(n[M+1]);n[c+1]=wd(Me,M),0!==Me&&(n[Me+1]=Dd(n[Me+1],c)),n[M+1]=function dg(n,r){return 131071&n|r<<17}(n[M+1],c)}else n[c+1]=wd(M,0),0!==M&&(n[M+1]=Dd(n[M+1],c)),M=c;else n[c+1]=wd(P,0),0===M?M=c:n[P+1]=Dd(n[P+1],c),P=c;G&&(n[c+1]=_p(n[c+1])),ty(n,ne,c,!0),ty(n,ne,c,!1),function Qm(n,r,a,c,p){const y=p?n.residualClasses:n.residualStyles;null!=y&&"string"==typeof r&&ye(y,r)>=0&&(a[c+1]=yp(a[c+1]))}(r,ne,n,c,y),C=wd(M,P),y?r.classBindings=C:r.styleBindings=C}(p,y,r,a,C,c)}}function n_(n,r,a,c,p){let y=null;const C=a.directiveEnd;let M=a.directiveStylingLast;for(-1===M?M=a.directiveStart:M++;M<C&&(y=r[M],c=xd(c,y.hostAttrs,p),y!==n);)M++;return null!==n&&(a.directiveStylingLast=M),c}function xd(n,r,a){const c=a?1:2;let p=-1;if(null!==r)for(let y=0;y<r.length;y++){const C=r[y];"number"==typeof C?p=C:p===c&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Q(n,C,!!a||r[++y]))}return void 0===n?null:n}function sy(n,r,a){Q(n,r,te(a))}function oy(n,r,a,c,p,y,C,M){if(!(3&r.type))return;const P=n.data,G=P[M+1];Pp(function hg(n){return 1==(1&n)}(G)?ay(P,r,a,p,vu(G),C):void 0)||(Pp(y)||function mp(n){return 2==(2&n)}(G)&&(y=ay(P,null,a,p,M,C)),function gc(n,r,a,c,p){if(r)p?n.addClass(a,c):n.removeClass(a,c);else{let y=-1===c.indexOf("-")?void 0:nl.DashCase;null==p?n.removeStyle(a,c,y):("string"==typeof p&&p.endsWith("!important")&&(p=p.slice(0,-10),y|=nl.Important),n.setStyle(a,c,p,y))}}(c,C,Si(mi(),a),p,y))}function ay(n,r,a,c,p,y){const C=null===r;let M;for(;p>0;){const P=n[p],G=Array.isArray(P),ne=G?P[1]:P,ue=null===ne;let Me=a[p+1];Me===br&&(Me=ue?fn:void 0);let Xe=ue?le(Me,c):ne===c?Me:void 0;if(G&&!Pp(Xe)&&(Xe=le(P,c)),Pp(Xe)&&(M=Xe,C))return M;const At=n[p+1];p=C?Nl(At):vu(At)}if(null!==r){let P=y?r.residualClasses:r.residualStyles;null!=P&&(M=le(P,c))}return M}function Pp(n){return void 0!==n}function r_(n,r){return 0!=(n.flags&(r?16:32))}function i_(n,r=""){const a=Et(),c=nr(),p=n+22,y=c.firstCreatePass?Gr(c,p,1,r,null):c.data[p],C=a[p]=cu(a[11],r);Ys(c,a,C,y),Zi(y,!1)}function jg(n){return Fp("",n,""),jg}function Fp(n,r,a){const c=Et(),p=Af(c,n,r,a);return p!==br&&function qu(n,r,a){const c=Si(r,n);xu(n[11],c,a)}(c,mi(),p),Fp}function kd(n,r,a){Na(Q,fl,Af(Et(),n,r,a),!0)}function $c(n,r,a,c,p,y,C,M,P){Na(Q,fl,Ad(Et(),n,r,a,c,p,y,C,M,P),!0)}function s_(n,r,a){const c=Et();return Ma(c,dn(),r)&&xl(nr(),Or(),c,n,r,c[11],a,!0),s_}const Nh=void 0;var Hv=["en",[["a","p"],["AM","PM"],Nh],[["AM","PM"],Nh,Nh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Nh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Nh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Nh,"{1} 'at' {0}",Nh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function q0(n){const a=Math.floor(Math.abs(n)),c=n.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===c?1:5}];let xh={};function o_(n){const r=function jv(n){return n.toLowerCase().replace(/_/g,"-")}(n);let a=wy(r);if(a)return a;const c=r.split("-")[0];if(a=wy(c),a)return a;if("en"===c)return Hv;throw new Be(701,!1)}function by(n){return o_(n)[er.PluralCase]}function wy(n){return n in xh||(xh[n]=ht.ng&&ht.ng.common&&ht.ng.common.locales&&ht.ng.common.locales[n]),xh[n]}var er=(()=>((er=er||{})[er.LocaleId=0]="LocaleId",er[er.DayPeriodsFormat=1]="DayPeriodsFormat",er[er.DayPeriodsStandalone=2]="DayPeriodsStandalone",er[er.DaysFormat=3]="DaysFormat",er[er.DaysStandalone=4]="DaysStandalone",er[er.MonthsFormat=5]="MonthsFormat",er[er.MonthsStandalone=6]="MonthsStandalone",er[er.Eras=7]="Eras",er[er.FirstDayOfWeek=8]="FirstDayOfWeek",er[er.WeekendRange=9]="WeekendRange",er[er.DateFormat=10]="DateFormat",er[er.TimeFormat=11]="TimeFormat",er[er.DateTimeFormat=12]="DateTimeFormat",er[er.NumberSymbols=13]="NumberSymbols",er[er.NumberFormats=14]="NumberFormats",er[er.CurrencyCode=15]="CurrencyCode",er[er.CurrencySymbol=16]="CurrencySymbol",er[er.CurrencyName=17]="CurrencyName",er[er.Currencies=18]="Currencies",er[er.Directionality=19]="Directionality",er[er.PluralCase=20]="PluralCase",er[er.ExtraData=21]="ExtraData",er))();const J0=["zero","one","two","few","many"],Rh="en-US",Zg={marker:"element"},Of={marker:"ICU"};var $s=(()=>(($s=$s||{})[$s.SHIFT=2]="SHIFT",$s[$s.APPEND_EAGERLY=1]="APPEND_EAGERLY",$s[$s.COMMENT=2]="COMMENT",$s))();let Pf=Rh;function Wg(n){(function pt(n,r){null==n&&We(r,n,null,"!=")})(n,"Expected localeId to be defined"),"string"==typeof n&&(Pf=n.toLowerCase().replace(/_/g,"-"))}function Dy(n,r,a){const c=r.insertBeforeIndex,p=Array.isArray(c)?c[0]:c;return null===p?Zl(n,0,a):ni(a[p])}function a_(n,r,a,c,p){const y=r.insertBeforeIndex;if(Array.isArray(y)){let C=c,M=null;if(3&r.type||(M=C,C=p),null!==C&&0==(2&r.flags))for(let P=1;P<y.length;P++)Za(n,C,a[y[P]],M,!1)}}function Up(n,r){if(n.push(r),n.length>1)for(let a=n.length-2;a>=0;a--){const c=n[a];Cy(c)||Ey(c,r)&&null===Iy(c)&&Oh(c,r.index)}}function Cy(n){return!(64&n.type)}function Ey(n,r){return Cy(r)||n.index>r.index}function Iy(n){const r=n.insertBeforeIndex;return Array.isArray(r)?r[0]:r}function Oh(n,r){const a=n.insertBeforeIndex;Array.isArray(a)?a[0]=r:(ol(Dy,a_),n.insertBeforeIndex=r)}function xa(n,r){const a=n.data[r];return null===a||"string"==typeof a?null:a.hasOwnProperty("currentCaseLViewIndex")?a:a.value}function Sy(n,r,a){const c=Fi(n,a,64,null,null);return Up(r,c),c}function Od(n,r){const a=r[n.currentCaseLViewIndex];return null===a?a:a<0?~a:a}function Ff(n){return n>>>17}function ka(n){return(131070&n)>>>1}let Xu=0,Du=0;function My(n,r,a,c){const p=a[11];let C,y=null;for(let M=0;M<r.length;M++){const P=r[M];if("string"==typeof P){const G=r[++M];null===a[G]&&(a[G]=cu(p,P))}else if("number"==typeof P)switch(1&P){case 0:const G=Ff(P);let ne,ue;if(null===y&&(y=G,C=Sl(p,c)),G===y?(ne=c,ue=C):(ne=null,ue=ni(a[G])),null!==ue){const sn=ka(P);Za(p,ue,a[sn],ne,!1);const Rn=xa(n,sn);if(null!==Rn&&"object"==typeof Rn){const tr=Od(Rn,a);null!==tr&&My(n,Rn.create[tr],a,a[Rn.anchorIdx])}}break;case 1:const Xe=r[++M],At=r[++M];Dp(p,Si(P>>>1,a),null,null,Xe,At,null)}else switch(P){case Of:const G=r[++M],ne=r[++M];null===a[ne]&&bo(a[ne]=qs(p,G),a);break;case Zg:const ue=r[++M],Me=r[++M];null===a[Me]&&bo(a[Me]=rl(p,ue,null),a)}}}function Ny(n,r,a,c,p){for(let y=0;y<a.length;y++){const C=a[y],M=a[++y];if(C&p){let P="";for(let G=y+1;G<=y+M;G++){const ne=a[G];if("string"==typeof ne)P+=ne;else if("number"==typeof ne)if(ne<0)P+=Ke(r[c-ne]);else{const ue=ne>>>2;switch(3&ne){case 1:const Me=a[++G],Xe=a[++G],At=n.data[ue];"string"==typeof At?Dp(r[11],r[ue],null,At,Me,P,Xe):xl(n,At,r,Me,P,r[11],Xe,!1);break;case 0:const sn=r[ue];null!==sn&&xu(r[11],sn,P);break;case 2:qv(n,xa(n,ue),r,P);break;case 3:Hc(n,xa(n,ue),c,r)}}}}else{const P=a[y+1];if(P>0&&3==(3&P)){const ne=xa(n,P>>>2);r[ne.currentCaseLViewIndex]<0&&Hc(n,ne,c,r)}}y+=M}}function Hc(n,r,a,c){let p=c[r.currentCaseLViewIndex];if(null!==p){let y=Xu;p<0&&(p=c[r.currentCaseLViewIndex]=~p,y=-1),Ny(n,c,r.update[p],a,y)}}function qv(n,r,a,c){const p=function Yv(n,r){let a=n.cases.indexOf(r);if(-1===a)switch(n.type){case 1:{const c=function Q0(n,r){const a=by(r)(parseInt(n,10)),c=J0[a];return void 0!==c?c:"other"}(r,function Zv(){return Pf}());a=n.cases.indexOf(c),-1===a&&"other"!==c&&(a=n.cases.indexOf("other"));break}case 0:a=n.cases.indexOf("other")}return-1===a?null:a}(r,c);if(Od(r,a)!==p&&(xy(n,r,a),a[r.currentCaseLViewIndex]=null===p?null:~p,null!==p)){const C=a[r.anchorIdx];C&&My(n,r.create[p],a,C)}}function xy(n,r,a){let c=Od(r,a);if(null!==c){const p=r.remove[c];for(let y=0;y<p.length;y++){const C=p[y];if(C>0){const M=Si(C,a);null!==M&&al(a[11],M)}else xy(n,xa(n,~C),a)}}}function ky(){const n=[];let a,c,r=-1;function y(M,P){r=0;const G=Od(M,P);c=null!==G?M.remove[G]:fn}function C(){if(r<c.length){const M=c[r++];return M>0?a[M]:(n.push(r,c),y(a[1].data[~M],a),C())}return 0===n.length?null:(c=n.pop(),r=n.pop(),C())}return function p(M,P){for(a=P;n.length;)n.pop();return y(M.value,P),C}}const Lf=/\ufffd(\d+):?\d*\ufffd/gi,Py=/\ufffd(\d+)\ufffd/,d_=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Qv=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,Fy=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,Ly=/\uE500/g;function h_(n,r,a,c,p,y,C){const M=vi(n,c,1,null);let P=M<<$s.SHIFT,G=Ra();r===G&&(G=null),null===G&&(P|=$s.APPEND_EAGERLY),C&&(P|=$s.COMMENT,function Nu(n){void 0===ua&&(ua=n())}(ky)),p.push(P,null===y?"":y);const ne=Fi(n,M,C?32:1,null===y?"":y,null);Up(a,ne);const ue=ne.index;return Zi(ne,!1),null!==G&&r!==G&&function Ty(n,r){let a=n.insertBeforeIndex;null===a?(ol(Dy,a_),a=n.insertBeforeIndex=[null,r]):(function et(n,r,a){n!=r&&We(a,n,r,"==")}(Array.isArray(a),!0,"Expecting array here"),a.push(r))}(G,ue),ne}function Vy(n,r,a,c,p,y,C){const M=C.match(Lf),P=h_(n,r,a,y,c,M?null:C,!1);M&&i(p,C,P.index,null,0,null)}function i(n,r,a,c,p,y){const C=n.length,M=C+1;n.push(null,null);const P=C+2,G=r.split(Lf);let ne=0;for(let ue=0;ue<G.length;ue++){const Me=G[ue];if(1&ue){const Xe=p+parseInt(Me,10);n.push(-1-Xe),ne|=t(Xe)}else""!==Me&&n.push(Me)}return n.push(a<<2|(c?1:0)),c&&n.push(c,y),n[C]=ne,n[M]=n.length-P,ne}function t(n){return 1<<Math.min(n,31)}function d(n){let r,y,a="",c=0,p=!1;for(;null!==(r=Qv.exec(n));)p?r[0]===`\ufffd/*${y}\ufffd`&&(c=r.index,p=!1):(a+=n.substring(c,r.index+r[0].length),y=r[1],p=!0);return a+=n.slice(c),a}function w(n,r,a,c,p,y){let C=0;const M={type:p.type,currentCaseLViewIndex:vi(n,r,1,null),anchorIdx:y,cases:[],create:[],remove:[],update:[]};(function wt(n,r,a){n.push(t(r.mainBinding),2,-1-r.mainBinding,a<<2|2)})(a,p,y),function Wa(n,r,a){const c=n.data[r];null===c?n.data[r]=a:c.value=a}(n,y,M);const P=p.values;for(let G=0;G<P.length;G++){const ne=P[G],ue=[];for(let Me=0;Me<ne.length;Me++){const Xe=ne[Me];if("string"!=typeof Xe){const At=ue.push(Xe)-1;ne[Me]=`\x3c!--\ufffd${At}\ufffd--\x3e`}}C=W(n,M,r,a,c,p.cases[G],ne.join(""),ue)|C}C&&function Kt(n,r,a){n.push(r,1,a<<2|3)}(a,C,y)}function N(n){const r=[],a=[];let c=1,p=0;const y=$(n=n.replace(d_,function(C,M,P){return c="select"===P?0:1,p=parseInt(M.slice(1),10),""}));for(let C=0;C<y.length;){let M=y[C++].trim();1===c&&(M=M.replace(/\s*(?:=)?(\w+)\s*/,"$1")),M.length&&r.push(M);const P=$(y[C++]);r.length>a.length&&a.push(P)}return{type:c,mainBinding:p,cases:r,values:a}}function $(n){if(!n)return[];let r=0;const a=[],c=[],p=/[{}]/g;let y;for(p.lastIndex=0;y=p.exec(n);){const M=y.index;if("}"==y[0]){if(a.pop(),0==a.length){const P=n.substring(r,M);d_.test(P)?c.push(N(P)):c.push(P),r=M+1}}else{if(0==a.length){const P=n.substring(r,M);c.push(P),r=M+1}a.push("{")}}const C=n.substring(r);return c.push(C),c}function W(n,r,a,c,p,y,C,M){const P=[],G=[],ne=[];r.cases.push(y),r.create.push(P),r.remove.push(G),r.update.push(ne);const Me=da(function Al(){return void 0!==ca?ca:typeof document<"u"?document:void 0}()).getInertBodyElement(C),Xe=ih(Me)||Me;return Xe?re(n,r,a,c,P,G,ne,Xe,p,M,0):0}function re(n,r,a,c,p,y,C,M,P,G,ne){let ue=0,Me=M.firstChild;for(;Me;){const Xe=vi(n,a,1,null);switch(Me.nodeType){case Node.ELEMENT_NODE:const At=Me,sn=At.tagName.toLowerCase();if(th.hasOwnProperty(sn)){_n(p,Zg,sn,P,Xe),n.data[Xe]=sn;const Ht=At.attributes;for(let mr=0;mr<Ht.length;mr++){const Mi=Ht.item(mr),Js=Mi.name.toLowerCase();Mi.value.match(Lf)?Vu.hasOwnProperty(Js)&&i(C,Mi.value,Xe,Mi.name,0,ql[Js]?Wl:null):Pn(p,Xe,Mi)}ue=re(n,r,a,c,p,y,C,Me,Xe,G,ne+1)|ue,De(y,Xe,ne)}break;case Node.TEXT_NODE:const yn=Me.textContent||"",Rn=yn.match(Lf);_n(p,null,Rn?"":yn,P,Xe),De(y,Xe,ne),Rn&&(ue=i(C,yn,Xe,null,0,null)|ue);break;case Node.COMMENT_NODE:const tr=Py.exec(Me.textContent||"");if(tr){const mr=G[parseInt(tr[1],10)];_n(p,Of,"",P,Xe),w(n,a,c,P,mr,Xe),Ye(y,Xe,ne)}}Me=Me.nextSibling}return ue}function De(n,r,a){0===a&&n.push(r)}function Ye(n,r,a){0===a&&(n.push(~r),n.push(r))}function _n(n,r,a,c,p){null!==r&&n.push(r),n.push(a,p,function l_(n,r,a){return n|r<<17|a<<1}(0,c,p))}function Pn(n,r,a){n.push(r<<1|1,a.name,a.value)}function eb(n,r,a=-1){const c=nr(),p=Et(),y=22+n,C=Di(c.consts,r),M=Ra();c.firstCreatePass&&function e0(n,r,a,c,p,y){const C=Ra(),M=[],P=[],G=[[]];p=function m(n,r){if(function o(n){return-1===n}(r))return d(n);{const a=n.indexOf(`:${r}\ufffd`)+2+r.toString().length,c=n.search(new RegExp(`\ufffd\\/\\*\\d+:${r}\ufffd`));return d(n.substring(a,c))}}(p,y);const ne=function Xv(n){return n.replace(Ly," ")}(p).split(Fy);for(let ue=0;ue<ne.length;ue++){let Me=ne[ue];if(0==(1&ue)){const Xe=$(Me);for(let At=0;At<Xe.length;At++){let sn=Xe[At];if(0==(1&At)){const yn=sn;""!==yn&&Vy(n,C,G[0],M,P,a,yn)}else{const yn=sn;if("object"!=typeof yn)throw new Error(`Unable to parse ICU expression in "${p}" message.`);w(n,a,P,r,yn,h_(n,C,G[0],a,M,"",!0).index)}}}else{const Xe=47===Me.charCodeAt(0),sn=(Me.charCodeAt(Xe?1:0),22+Number.parseInt(Me.substring(Xe?2:1)));if(Xe)G.shift(),Zi(Ra(),!1);else{const yn=Sy(n,G[0],sn);G.unshift([]),Zi(yn,!0)}}}n.data[c]={create:M,update:P}}(c,null===M?0:M.index,p,y,C,a);const P=c.data[y],ne=Us(c,M===p[6]?null:M,p);(function Wv(n,r,a,c){const p=n[11];for(let y=0;y<r.length;y++){const C=r[y++],M=r[y],P=(C&$s.COMMENT)===$s.COMMENT,G=(C&$s.APPEND_EAGERLY)===$s.APPEND_EAGERLY,ne=C>>>$s.SHIFT;let ue=n[ne];null===ue&&(ue=n[ne]=P?p.createComment(M):cu(p,M)),G&&null!==a&&Za(p,a,ue,c,!1)}})(p,P.create,ne,M&&8&M.type?p[M.index]:null),Gs(!0)}function nb(n,r,a){eb(n,r,a),function tb(){Gs(!1)}()}function n0(n){return function u_(n){n&&(Xu|=1<<Math.min(Du,31)),Du++}(Ma(Et(),dn(),n)),n0}function rb(n){!function Ph(n,r,a){if(Du>0){const c=n.data[a];Ny(n,r,Array.isArray(c)?c:c.update,ee()-Du-1,Xu)}Xu=0,Du=0}(nr(),Et(),n+22)}function r0(n,r,a,c,p){if(n=we(n),Array.isArray(n))for(let y=0;y<n.length;y++)r0(n[y],r,a,c,p);else{const y=nr(),C=Et();let M=Dc(n)?n:we(n.provide),P=qp(n);const G=ii(),ne=1048575&G.providerIndexes,ue=G.directiveStart,Me=G.providerIndexes>>20;if(Dc(n)||!n.multi){const Xe=new Cs(P,p,xc),At=o0(M,r,p?ne:ne+Me,ue);-1===At?(Bo(Ft(G,C),y,M),s0(y,n,r.length),r.push(M),G.directiveStart++,G.directiveEnd++,p&&(G.providerIndexes+=1048576),a.push(Xe),C.push(Xe)):(a[At]=Xe,C[At]=Xe)}else{const Xe=o0(M,r,ne+Me,ue),At=o0(M,r,ne,ne+Me),sn=Xe>=0&&a[Xe],yn=At>=0&&a[At];if(p&&!yn||!p&&!sn){Bo(Ft(G,C),y,M);const Rn=function $w(n,r,a,c,p){const y=new Cs(n,a,xc);return y.multi=[],y.index=r,y.componentProviders=0,ib(y,p,c&&!a),y}(p?Bw:Uw,a.length,p,c,P);!p&&yn&&(a[At].providerFactory=Rn),s0(y,n,r.length,0),r.push(M),G.directiveStart++,G.directiveEnd++,p&&(G.providerIndexes+=1048576),a.push(Rn),C.push(Rn)}else s0(y,n,Xe>-1?Xe:At,ib(a[p?At:Xe],P,!p&&c));!p&&c&&yn&&a[At].componentProviders++}}}function s0(n,r,a,c){const p=Dc(r),y=function Jf(n){return!!n.useClass}(r);if(p||y){const P=(y?we(r.useClass):r).prototype.ngOnDestroy;if(P){const G=n.destroyHooks||(n.destroyHooks=[]);if(!p&&r.multi){const ne=G.indexOf(a);-1===ne?G.push(a,[c,P]):G[ne+1].push(c,P)}else G.push(a,P)}}}function ib(n,r,a){return a&&n.componentProviders++,n.multi.push(r)-1}function o0(n,r,a,c){for(let p=a;p<c;p++)if(r[p]===n)return p;return-1}function Uw(n,r,a,c){return a0(this.multi,[])}function Bw(n,r,a,c){const p=this.multi;let y;if(this.providerFactory){const C=this.providerFactory.componentProviders,M=ra(a,a[1],this.providerFactory.index,c);y=M.slice(0,C),a0(p,y);for(let P=C;P<M.length;P++)y.push(M[P])}else y=[],a0(p,y);return y}function a0(n,r){for(let a=0;a<n.length;a++)r.push((0,n[a])());return r}function sb(n,r=[]){return a=>{a.providersResolver=(c,p)=>function Vw(n,r,a){const c=nr();if(c.firstCreatePass){const p=di(n);r0(a,c.data,c.blueprint,p,!0),r0(r,c.data,c.blueprint,p,!1)}}(c,p?p(n):n,r)}}class qg{}class ob{}function Hw(n,r){return new ab(n,r??null)}class ab extends qg{constructor(r,a){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Tp(this);const c=Hn(r);this._bootstrapComponents=Gu(c.bootstrap),this._r3Injector=ph(r,a,[{provide:qg,useValue:this},{provide:$u,useValue:this.componentFactoryResolver}],Ie(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class l0 extends ob{constructor(r){super(),this.moduleType=r}create(r){return new ab(this.moduleType,r)}}class jw extends qg{constructor(r,a,c){super(),this.componentFactoryResolver=new Tp(this),this.instance=null;const p=new tm([...r,{provide:qg,useValue:this},{provide:$u,useValue:this.componentFactoryResolver}],a||Xf(),c,new Set(["environment"]));this.injector=p,p.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function u0(n,r,a=null){return new jw(n,r,a).injector}let Gw=(()=>{class n{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a.id)){const c=wc(0,a.type),p=c.length>0?u0([c],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a.id,p)}return this.cachedInjectors.get(a.id)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=Lt({token:n,providedIn:"environment",factory:()=>new n(pi(gd))}),n})();function lb(n){n.getStandaloneInjector=r=>r.get(Gw).getOrCreateStandaloneInjector(n)}function gb(n,r,a,c){return yb(Et(),O(),n,r,a,c)}function mb(n,r,a,c,p){return function vb(n,r,a,c,p,y,C){const M=r+a;return Sd(n,M,p,y)?Yu(n,M+2,C?c.call(C,p,y):c(p,y)):f_(n,M+2)}(Et(),O(),n,r,a,c,p)}function _b(n,r,a,c,p,y){return function bb(n,r,a,c,p,y,C,M){const P=r+a;return function Rg(n,r,a,c,p){const y=Sd(n,r,a,c);return Ma(n,r+2,p)||y}(n,P,p,y,C)?Yu(n,P+3,M?c.call(M,p,y,C):c(p,y,C)):f_(n,P+3)}(Et(),O(),n,r,a,c,p,y)}function f_(n,r){const a=n[r];return a===br?void 0:a}function yb(n,r,a,c,p,y){const C=r+a;return Ma(n,C,p)?Yu(n,C+1,y?c.call(y,p):c(p)):f_(n,C+1)}function Cb(n,r){const a=nr();let c;const p=n+22;a.firstCreatePass?(c=function a1(n,r){if(r)for(let a=r.length-1;a>=0;a--){const c=r[a];if(n===c.name)return c}}(r,a.pipeRegistry),a.data[p]=c,c.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(p,c.onDestroy)):c=a.data[p];const y=c.factory||(c.factory=Hi(c.type)),C=He(xc);try{const M=mt(!1),P=y();return mt(M),function jm(n,r,a,c){a>=n.data.length&&(n.data[a]=null,n.blueprint[a]=null),r[a]=c}(a,Et(),p,P),P}finally{He(C)}}function Eb(n,r,a){const c=n+22,p=Et(),y=js(p,c);return function p_(n,r){return n[1].data[r].pure}(p,c)?yb(p,O(),r,y.transform,a,y):y.transform(a)}function d0(n){return r=>{setTimeout(n,void 0,r)}}const Fd=class h1 extends v.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,a,c){let p=r,y=a||(()=>null),C=c;if(r&&"object"==typeof r){const P=r;p=P.next?.bind(P),y=P.error?.bind(P),C=P.complete?.bind(P)}this.__isAsync&&(y=d0(y),p&&(p=d0(p)),C&&(C=d0(C)));const M=super.subscribe({next:p,error:y,complete:C});return r instanceof K.w0&&r.add(M),M}};function f1(){return this._results[Id()]()}class h0{constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=Id(),c=h0.prototype;c[a]||(c[a]=f1)}get changes(){return this._changes||(this._changes=new Fd)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,a){return this._results.reduce(r,a)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,a){const c=this;c.dirty=!1;const p=Ri(r);(this._changesDetected=!function nc(n,r,a){if(n.length!==r.length)return!1;for(let c=0;c<n.length;c++){let p=n[c],y=r[c];if(a&&(p=a(p),y=a(y)),y!==p)return!1}return!0}(c._results,p,a))&&(c._results=p,c.length=p.length,c.last=p[this.length-1],c.first=p[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let g_=(()=>{class n{}return n.__NG_ELEMENT_ID__=m1,n})();const p1=g_,g1=class extends p1{constructor(r,a,c){super(),this._declarationLView=r,this._declarationTContainer=a,this.elementRef=c}createEmbeddedView(r,a){const c=this._declarationTContainer.tViews,p=Tr(this._declarationLView,c,r,16,null,c.declTNode,null,null,null,null,a||null);p[17]=this._declarationLView[this._declarationTContainer.index];const C=this._declarationLView[19];return null!==C&&(p[19]=C.createEmbeddedView(c)),fa(c,p,r),new Dh(p)}};function m1(){return Uy(ii(),Et())}function Uy(n,r){return 4&n.type?new g1(r,n,mu(n,r)):null}let By=(()=>{class n{}return n.__NG_ELEMENT_ID__=_1,n})();function _1(){return Sb(ii(),Et())}const y1=By,Ib=class extends y1{constructor(r,a,c){super(),this._lContainer=r,this._hostTNode=a,this._hostLView=c}get element(){return mu(this._hostTNode,this._hostLView)}get injector(){return new Fs(this._hostTNode,this._hostLView)}get parentInjector(){const r=Ei(this._hostTNode,this._hostLView);if(On(r)){const a=Jn(r,this._hostLView),c=Yn(r);return new Fs(a[1].data[c+8],a)}return new Fs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const a=Tb(this._lContainer);return null!==a&&a[r]||null}get length(){return this._lContainer.length-10}createEmbeddedView(r,a,c){let p,y;"number"==typeof c?p=c:null!=c&&(p=c.index,y=c.injector);const C=r.createEmbeddedView(a||{},y);return this.insert(C,p),C}createComponent(r,a,c,p,y){const C=r&&!function aa(n){return"function"==typeof n}(r);let M;if(C)M=a;else{const ue=a||{};M=ue.index,c=ue.injector,p=ue.projectableNodes,y=ue.environmentInjector||ue.ngModuleRef}const P=C?r:new Ed(st(r)),G=c||this.parentInjector;if(!y&&null==P.ngModule){const Me=(C?G:this.parentInjector).get(gd,null);Me&&(y=Me)}const ne=P.create(G,p,void 0,y);return this.insert(ne.hostView,M),ne}insert(r,a){const c=r._lView,p=c[1];if(function Jo(n){return ti(n[3])}(c)){const ne=this.indexOf(r);if(-1!==ne)this.detach(ne);else{const ue=c[3],Me=new Ib(ue,ue[6],ue[3]);Me.detach(Me.indexOf(r))}}const y=this._adjustIndex(a),C=this._lContainer;!function Tl(n,r,a,c){const p=10+c,y=a.length;c>0&&(a[p-1][4]=r),c<y-10?(r[4]=a[p],$l(a,10+c,r)):(a.push(r),r[4]=null),r[3]=a;const C=r[17];null!==C&&a!==C&&function il(n,r){const a=n[9];r[16]!==r[3][3][16]&&(n[2]=!0),null===a?n[9]=[r]:a.push(r)}(C,r);const M=r[19];null!==M&&M.insertView(n),r[2]|=64}(p,c,C,y);const M=fc(y,C),P=c[11],G=Sl(P,C[7]);return null!==G&&function za(n,r,a,c,p,y){c[0]=p,c[6]=r,Pu(n,c,a,1,p,y)}(p,C[6],P,c,G,M),r.attachToViewContainerRef(),$l(f0(C),y,r),r}move(r,a){return this.insert(r,a)}indexOf(r){const a=Tb(this._lContainer);return null!==a?a.indexOf(r):-1}remove(r){const a=this._adjustIndex(r,-1),c=jo(this._lContainer,a);c&&(va(f0(this._lContainer),a),Wd(c[1],c))}detach(r){const a=this._adjustIndex(r,-1),c=jo(this._lContainer,a);return c&&null!=va(f0(this._lContainer),a)?new Dh(c):null}_adjustIndex(r,a=0){return r??this.length+a}};function Tb(n){return n[8]}function f0(n){return n[8]||(n[8]=[])}function Sb(n,r){let a;const c=r[n.index];if(ti(c))a=c;else{let p;if(8&n.type)p=ni(c);else{const y=r[11];p=y.createComment("");const C=gi(n,r);Za(y,Sl(y,C),p,function ys(n,r){return n.nextSibling(r)}(y,C),!1)}r[n.index]=a=Cg(c,r,p,n),Eg(r,a)}return new Ib(a,n,r)}class p0{constructor(r){this.queryList=r,this.matches=null}clone(){return new p0(this.queryList)}setDirty(){this.queryList.setDirty()}}class g0{constructor(r=[]){this.queries=r}createEmbeddedView(r){const a=r.queries;if(null!==a){const c=null!==r.contentQueries?r.contentQueries[0]:a.length,p=[];for(let y=0;y<c;y++){const C=a.getByIndex(y);p.push(this.queries[C.indexInDeclarationView].clone())}return new g0(p)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let a=0;a<this.queries.length;a++)null!==Fb(r,a).matches&&this.queries[a].setDirty()}}class Ab{constructor(r,a,c=null){this.predicate=r,this.flags=a,this.read=c}}class m0{constructor(r=[]){this.queries=r}elementStart(r,a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(r,a)}elementEnd(r){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(r)}embeddedTView(r){let a=null;for(let c=0;c<this.length;c++){const p=null!==a?a.length:0,y=this.getByIndex(c).embeddedTView(r,p);y&&(y.indexInDeclarationView=c,null!==a?a.push(y):a=[y])}return null!==a?new m0(a):null}template(r,a){for(let c=0;c<this.queries.length;c++)this.queries[c].template(r,a)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class _0{constructor(r,a=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(r,a){this.isApplyingToNode(a)&&this.matchTNode(r,a)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,a){this.elementStart(r,a)}embeddedTView(r,a){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,a),new _0(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let c=r.parent;for(;null!==c&&8&c.type&&c.index!==a;)c=c.parent;return a===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(r,a){const c=this.metadata.predicate;if(Array.isArray(c))for(let p=0;p<c.length;p++){const y=c[p];this.matchTNodeWithReadOption(r,a,w1(a,y)),this.matchTNodeWithReadOption(r,a,oi(a,r,y,!1,!1))}else c===g_?4&a.type&&this.matchTNodeWithReadOption(r,a,-1):this.matchTNodeWithReadOption(r,a,oi(a,r,c,!1,!1))}matchTNodeWithReadOption(r,a,c){if(null!==c){const p=this.metadata.read;if(null!==p)if(p===Hu||p===By||p===g_&&4&a.type)this.addMatch(a.index,-2);else{const y=oi(a,r,p,!1,!1);null!==y&&this.addMatch(a.index,y)}else this.addMatch(a.index,c)}}addMatch(r,a){null===this.matches?this.matches=[r,a]:this.matches.push(r,a)}}function w1(n,r){const a=n.localNames;if(null!==a)for(let c=0;c<a.length;c+=2)if(a[c]===r)return a[c+1];return null}function C1(n,r,a,c){return-1===a?function D1(n,r){return 11&n.type?mu(n,r):4&n.type?Uy(n,r):null}(r,n):-2===a?function E1(n,r,a){return a===Hu?mu(r,n):a===g_?Uy(r,n):a===By?Sb(r,n):void 0}(n,r,c):ra(n,n[1],a,r)}function Mb(n,r,a,c){const p=r[19].queries[c];if(null===p.matches){const y=n.data,C=a.matches,M=[];for(let P=0;P<C.length;P+=2){const G=C[P];M.push(G<0?null:C1(r,y[G],C[P+1],a.metadata.read))}p.matches=M}return p.matches}function y0(n,r,a,c){const p=n.queries.getByIndex(a),y=p.matches;if(null!==y){const C=Mb(n,r,p,a);for(let M=0;M<y.length;M+=2){const P=y[M];if(P>0)c.push(C[M/2]);else{const G=y[M+1],ne=r[-P];for(let ue=10;ue<ne.length;ue++){const Me=ne[ue];Me[17]===Me[3]&&y0(Me[1],Me,G,c)}if(null!==ne[9]){const ue=ne[9];for(let Me=0;Me<ue.length;Me++){const Xe=ue[Me];y0(Xe[1],Xe,G,c)}}}}}return c}function Nb(n){const r=Et(),a=nr(),c=Wi();ns(c+1);const p=Fb(a,c);if(n.dirty&&function Ko(n){return 4==(4&n[2])}(r)===(2==(2&p.metadata.flags))){if(null===p.matches)n.reset([]);else{const y=p.crossesNgTemplate?y0(a,r,c,[]):Mb(a,r,p,c);n.reset(y,ju),n.notifyOnChanges()}return!0}return!1}function xb(n,r,a){const c=nr();c.firstCreatePass&&(Pb(c,new Ab(n,r,a),-1),2==(2&r)&&(c.staticViewQueries=!0)),Ob(c,Et(),r)}function kb(n,r,a,c){const p=nr();if(p.firstCreatePass){const y=ii();Pb(p,new Ab(r,a,c),y.index),function T1(n,r){const a=n.contentQueries||(n.contentQueries=[]);r!==(a.length?a[a.length-1]:-1)&&a.push(n.queries.length-1,r)}(p,n),2==(2&a)&&(p.staticContentQueries=!0)}Ob(p,Et(),a)}function Rb(){return function I1(n,r){return n[19].queries[r].queryList}(Et(),Wi())}function Ob(n,r,a){const c=new h0(4==(4&a));mm(n,r,c,c.destroy),null===r[19]&&(r[19]=new g0),r[19].queries.push(new p0(c))}function Pb(n,r,a){null===n.queries&&(n.queries=new m0),n.queries.track(new _0(r,a))}function Fb(n,r){return n.queries.getByIndex(r)}function Lb(n,r){return Uy(n,r)}function Hy(...n){}const nw=new cr("Application Initializer");let jy=(()=>{class n{constructor(a){this.appInits=a,this.resolve=Hy,this.reject=Hy,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,p)=>{this.resolve=c,this.reject=p})}runInitializers(){if(this.initialized)return;const a=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let p=0;p<this.appInits.length;p++){const y=this.appInits[p]();if(Wm(y))a.push(y);else if(q_(y)){const C=new Promise((M,P)=>{y.subscribe({complete:M,error:P})});a.push(C)}}Promise.all(a).then(()=>{c()}).catch(p=>{this.reject(p)}),0===a.length&&c(),this.initialized=!0}}return n.\u0275fac=function(a){return new(a||n)(pi(nw,8))},n.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const rw=new cr("AppId",{providedIn:"root",factory:function iw(){return`${C0()}${C0()}${C0()}`}});function C0(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const sw=new cr("Platform Initializer"),Z1=new cr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),ow=new cr("appBootstrapListener");let W1=(()=>{class n{log(a){console.log(a)}warn(a){console.warn(a)}}return n.\u0275fac=function(a){return new(a||n)},n.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Gy=new cr("LocaleId",{providedIn:"root",factory:()=>rs(Gy,Tt.Optional|Tt.SkipSelf)||function q1(){return typeof $localize<"u"&&$localize.locale||Rh}()}),Y1=new cr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class K1{constructor(r,a){this.ngModuleFactory=r,this.componentFactories=a}}let J1=(()=>{class n{compileModuleSync(a){return new l0(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const c=this.compileModuleSync(a),y=Gu(Hn(a).declarations).reduce((C,M)=>{const P=st(M);return P&&C.push(new Ed(P)),C},[]);return new K1(c,y)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return n.\u0275fac=function(a){return new(a||n)},n.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const eD=(()=>Promise.resolve(0))();function E0(n){typeof Zone>"u"?eD.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class ec{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Fd(!1),this.onMicrotaskEmpty=new Fd(!1),this.onStable=new Fd(!1),this.onError=new Fd(!1),typeof Zone>"u")throw new Be(908,!1);Zone.assertZonePatched();const p=this;if(p._nesting=0,p._outer=p._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const y=Zone.AsyncStackTaggingZoneSpec;p._inner=p._inner.fork(new y("Angular"))}Zone.TaskTrackingZoneSpec&&(p._inner=p._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(p._inner=p._inner.fork(Zone.longStackTraceZoneSpec)),p.shouldCoalesceEventChangeDetection=!c&&a,p.shouldCoalesceRunChangeDetection=c,p.lastRequestAnimationFrameId=-1,p.nativeRequestAnimationFrame=function tD(){let n=ht.requestAnimationFrame,r=ht.cancelAnimationFrame;if(typeof Zone<"u"&&n&&r){const a=n[Zone.__symbol__("OriginalDelegate")];a&&(n=a);const c=r[Zone.__symbol__("OriginalDelegate")];c&&(r=c)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function iD(n){const r=()=>{!function rD(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(ht,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,T0(n),n.isCheckStableRunning=!0,I0(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),T0(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,c,p,y,C,M)=>{try{return uw(n),a.invokeTask(p,y,C,M)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===y.type||n.shouldCoalesceRunChangeDetection)&&r(),cw(n)}},onInvoke:(a,c,p,y,C,M,P)=>{try{return uw(n),a.invoke(p,y,C,M,P)}finally{n.shouldCoalesceRunChangeDetection&&r(),cw(n)}},onHasTask:(a,c,p,y)=>{a.hasTask(p,y),c===p&&("microTask"==y.change?(n._hasPendingMicrotasks=y.microTask,T0(n),I0(n)):"macroTask"==y.change&&(n.hasPendingMacrotasks=y.macroTask))},onHandleError:(a,c,p,y)=>(a.handleError(p,y),n.runOutsideAngular(()=>n.onError.emit(y)),!1)})}(p)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ec.isInAngularZone())throw new Be(909,!1)}static assertNotInAngularZone(){if(ec.isInAngularZone())throw new Be(909,!1)}run(r,a,c){return this._inner.run(r,a,c)}runTask(r,a,c,p){const y=this._inner,C=y.scheduleEventTask("NgZoneEvent: "+p,r,nD,Hy,Hy);try{return y.runTask(C,a,c)}finally{y.cancelTask(C)}}runGuarded(r,a,c){return this._inner.runGuarded(r,a,c)}runOutsideAngular(r){return this._outer.run(r)}}const nD={};function I0(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function T0(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function uw(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function cw(n){n._nesting--,I0(n)}class sD{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Fd,this.onMicrotaskEmpty=new Fd,this.onStable=new Fd,this.onError=new Fd}run(r,a,c){return r.apply(a,c)}runGuarded(r,a,c){return r.apply(a,c)}runOutsideAngular(r){return r()}runTask(r,a,c,p){return r.apply(a,c)}}const dw=new cr(""),hw=new cr("");let S0,oD=(()=>{class n{constructor(a,c,p){this._ngZone=a,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,S0||(function aD(n){S0=n}(p),p.addToWindow(c)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ec.assertNotInAngularZone(),E0(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())E0(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(a)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,c,p){let y=-1;c&&c>0&&(y=setTimeout(()=>{this._callbacks=this._callbacks.filter(C=>C.timeoutId!==y),a(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:a,timeoutId:y,updateCb:p})}whenStable(a,c,p){if(p&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,c,p),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,c,p){return[]}}return n.\u0275fac=function(a){return new(a||n)(pi(ec),pi(fw),pi(hw))},n.\u0275prov=Lt({token:n,factory:n.\u0275fac}),n})(),fw=(()=>{class n{constructor(){this._applications=new Map}registerApplication(a,c){this._applications.set(a,c)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,c=!0){return S0?.findTestabilityInTree(this,a,c)??null}}return n.\u0275fac=function(a){return new(a||n)},n.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),Uf=null;const pw=new cr("AllowMultipleToken"),A0=new cr("PlatformDestroyListeners");class cD{constructor(r,a){this.name=r,this.token=a}}function mw(n,r,a=[]){const c=`Platform: ${r}`,p=new cr(c);return(y=[])=>{let C=M0();if(!C||C.injector.get(pw,!1)){const M=[...a,...y,{provide:p,useValue:!0}];n?n(M):function dD(n){if(Uf&&!Uf.get(pw,!1))throw new Be(400,!1);Uf=n;const r=n.get(yw);(function gw(n){const r=n.get(sw,null);r&&r.forEach(a=>a())})(n)}(function _w(n=[],r){return yu.create({name:r,providers:[{provide:pd,useValue:"platform"},{provide:A0,useValue:new Set([()=>Uf=null])},...n]})}(M,c))}return function fD(n){const r=M0();if(!r)throw new Be(401,!1);return r}()}}function M0(){return Uf?.get(yw)??null}let yw=(()=>{class n{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,c){const p=function bw(n,r){let a;return a="noop"===n?new sD:("zone.js"===n?void 0:n)||new ec(r),a}(c?.ngZone,function vw(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(c)),y=[{provide:ec,useValue:p}];return p.run(()=>{const C=yu.create({providers:y,parent:this.injector,name:a.moduleType.name}),M=a.create(C),P=M.injector.get(Ta,null);if(!P)throw new Be(402,!1);return p.runOutsideAngular(()=>{const G=p.onError.subscribe({next:ne=>{P.handleError(ne)}});M.onDestroy(()=>{Zy(this._modules,M),G.unsubscribe()})}),function ww(n,r,a){try{const c=a();return Wm(c)?c.catch(p=>{throw r.runOutsideAngular(()=>n.handleError(p)),p}):c}catch(c){throw r.runOutsideAngular(()=>n.handleError(c)),c}}(P,p,()=>{const G=M.injector.get(jy);return G.runInitializers(),G.donePromise.then(()=>(Wg(M.injector.get(Gy,Rh)||Rh),this._moduleDoBootstrap(M),M))})})}bootstrapModule(a,c=[]){const p=Dw({},c);return function lD(n,r,a){const c=new l0(a);return Promise.resolve(c)}(0,0,a).then(y=>this.bootstrapModuleFactory(y,p))}_moduleDoBootstrap(a){const c=a.injector.get(zy);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(p=>c.bootstrap(p));else{if(!a.instance.ngDoBootstrap)throw new Be(403,!1);a.instance.ngDoBootstrap(c)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Be(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const a=this._injector.get(A0,null);a&&(a.forEach(c=>c()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(a){return new(a||n)(pi(yu))},n.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function Dw(n,r){return Array.isArray(r)?r.reduce(Dw,n):{...n,...r}}let zy=(()=>{class n{constructor(a,c,p){this._zone=a,this._injector=c,this._exceptionHandler=p,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const y=new x.y(M=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{M.next(this._stable),M.complete()})}),C=new x.y(M=>{let P;this._zone.runOutsideAngular(()=>{P=this._zone.onStable.subscribe(()=>{ec.assertNotInAngularZone(),E0(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,M.next(!0))})})});const G=this._zone.onUnstable.subscribe(()=>{ec.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{M.next(!1)}))});return()=>{P.unsubscribe(),G.unsubscribe()}});this.isStable=(0,l.T)(y,C.pipe((0,Ee.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,c){const p=a instanceof Ca;if(!this._injector.get(jy).done)throw!p&&mn(a),new Be(405,false);let C;C=p?a:this._injector.get($u).resolveComponentFactory(a),this.componentTypes.push(C.componentType);const M=function uD(n){return n.isBoundToModule}(C)?void 0:this._injector.get(qg),G=C.create(yu.NULL,[],c||C.selector,M),ne=G.location.nativeElement,ue=G.injector.get(dw,null);return ue?.registerApplication(ne),G.onDestroy(()=>{this.detachView(G.hostView),Zy(this.components,G),ue?.unregisterApplication(ne)}),this._loadComponent(G),G}tick(){if(this._runningTick)throw new Be(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const c=a;this._views.push(c),c.attachToAppRef(this)}detachView(a){const c=a;Zy(this._views,c),c.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(ow,[]).concat(this._bootstrapListeners).forEach(p=>p(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>Zy(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new Be(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(a){return new(a||n)(pi(ec),pi(gd),pi(Ta))},n.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Zy(n,r){const a=n.indexOf(r);a>-1&&n.splice(a,1)}let Ew=!0,Iw=!1;function gD(){return Iw=!0,Ew}function mD(){if(Iw)throw new Error("Cannot enable prod mode after platform setup.");Ew=!1}let _D=(()=>{class n{}return n.__NG_ELEMENT_ID__=yD,n})();function yD(n){return function vD(n,r,a){if(wi(n)&&!a){const c=ri(n.index,r);return new Dh(c,c)}return 47&n.type?new Dh(r[16],r):null}(ii(),Et(),16==(16&n))}class Mw{constructor(){}supports(r){return Ch(r)}create(r){return new ID(r)}}const ED=(n,r)=>r;class ID{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||ED}forEachItem(r){let a;for(a=this._itHead;null!==a;a=a._next)r(a)}forEachOperation(r){let a=this._itHead,c=this._removalsHead,p=0,y=null;for(;a||c;){const C=!c||a&&a.currentIndex<xw(c,p,y)?a:c,M=xw(C,p,y),P=C.currentIndex;if(C===c)p--,c=c._nextRemoved;else if(a=a._next,null==C.previousIndex)p++;else{y||(y=[]);const G=M-p,ne=P-p;if(G!=ne){for(let Me=0;Me<G;Me++){const Xe=Me<y.length?y[Me]:y[Me]=0,At=Xe+Me;ne<=At&&At<G&&(y[Me]=Xe+1)}y[C.previousIndex]=ne-G}}M!==P&&r(C,M,P)}}forEachPreviousItem(r){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)r(a)}forEachAddedItem(r){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)r(a)}forEachMovedItem(r){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)r(a)}forEachRemovedItem(r){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)r(a)}forEachIdentityChange(r){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)r(a)}diff(r){if(null==r&&(r=[]),!Ch(r))throw new Be(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let p,y,C,a=this._itHead,c=!1;if(Array.isArray(r)){this.length=r.length;for(let M=0;M<this.length;M++)y=r[M],C=this._trackByFn(M,y),null!==a&&Object.is(a.trackById,C)?(c&&(a=this._verifyReinsertion(a,y,C,M)),Object.is(a.item,y)||this._addIdentityChange(a,y)):(a=this._mismatch(a,y,C,M),c=!0),a=a._next}else p=0,function j_(n,r){if(Array.isArray(n))for(let a=0;a<n.length;a++)r(n[a]);else{const a=n[Id()]();let c;for(;!(c=a.next()).done;)r(c.value)}}(r,M=>{C=this._trackByFn(p,M),null!==a&&Object.is(a.trackById,C)?(c&&(a=this._verifyReinsertion(a,M,C,p)),Object.is(a.item,M)||this._addIdentityChange(a,M)):(a=this._mismatch(a,M,C,p),c=!0),a=a._next,p++}),this.length=p;return this._truncate(a),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,a,c,p){let y;return null===r?y=this._itTail:(y=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(r.item,a)||this._addIdentityChange(r,a),this._reinsertAfter(r,y,p)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(c,p))?(Object.is(r.item,a)||this._addIdentityChange(r,a),this._moveAfter(r,y,p)):r=this._addAfter(new TD(a,c),y,p),r}_verifyReinsertion(r,a,c,p){let y=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==y?r=this._reinsertAfter(y,r._prev,p):r.currentIndex!=p&&(r.currentIndex=p,this._addToMoves(r,p)),r}_truncate(r){for(;null!==r;){const a=r._next;this._addToRemovals(this._unlink(r)),r=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,a,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const p=r._prevRemoved,y=r._nextRemoved;return null===p?this._removalsHead=y:p._nextRemoved=y,null===y?this._removalsTail=p:y._prevRemoved=p,this._insertAfter(r,a,c),this._addToMoves(r,c),r}_moveAfter(r,a,c){return this._unlink(r),this._insertAfter(r,a,c),this._addToMoves(r,c),r}_addAfter(r,a,c){return this._insertAfter(r,a,c),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,a,c){const p=null===a?this._itHead:a._next;return r._next=p,r._prev=a,null===p?this._itTail=r:p._prev=r,null===a?this._itHead=r:a._next=r,null===this._linkedRecords&&(this._linkedRecords=new Nw),this._linkedRecords.put(r),r.currentIndex=c,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const a=r._prev,c=r._next;return null===a?this._itHead=c:a._next=c,null===c?this._itTail=a:c._prev=a,r}_addToMoves(r,a){return r.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Nw),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,a){return r.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class TD{constructor(r,a){this.item=r,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class SD{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,a){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===a||a<=c.currentIndex)&&Object.is(c.trackById,r))return c;return null}remove(r){const a=r._prevDup,c=r._nextDup;return null===a?this._head=c:a._nextDup=c,null===c?this._tail=a:c._prevDup=a,null===this._head}}class Nw{constructor(){this.map=new Map}put(r){const a=r.trackById;let c=this.map.get(a);c||(c=new SD,this.map.set(a,c)),c.add(r)}get(r,a){const p=this.map.get(r);return p?p.get(r,a):null}remove(r){const a=r.trackById;return this.map.get(a).remove(r)&&this.map.delete(a),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function xw(n,r,a){const c=n.previousIndex;if(null===c)return c;let p=0;return a&&c<a.length&&(p=a[c]),c+r+p}class kw{constructor(){}supports(r){return r instanceof Map||Td(r)}create(){return new AD}}class AD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let a;for(a=this._mapHead;null!==a;a=a._next)r(a)}forEachPreviousItem(r){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)r(a)}forEachChangedItem(r){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)r(a)}forEachAddedItem(r){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)r(a)}forEachRemovedItem(r){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)r(a)}diff(r){if(r){if(!(r instanceof Map||Td(r)))throw new Be(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(r,(c,p)=>{if(a&&a.key===p)this._maybeAddToChanges(a,c),this._appendAfter=a,a=a._next;else{const y=this._getOrCreateRecordForKey(p,c);a=this._insertBeforeOrAppend(a,y)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let c=a;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,a){if(r){const c=r._prev;return a._next=r,a._prev=c,r._prev=a,c&&(c._next=a),r===this._mapHead&&(this._mapHead=a),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(r,a){if(this._records.has(r)){const p=this._records.get(r);this._maybeAddToChanges(p,a);const y=p._prev,C=p._next;return y&&(y._next=C),C&&(C._prev=y),p._next=null,p._prev=null,p}const c=new MD(r);return this._records.set(r,c),c.currentValue=a,this._addToAdditions(c),c}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,a){Object.is(a,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=a,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,a){r instanceof Map?r.forEach(a):Object.keys(r).forEach(c=>a(r[c],c))}}class MD{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Rw(){return new O0([new Mw])}let O0=(()=>{class n{constructor(a){this.factories=a}static create(a,c){if(null!=c){const p=c.factories.slice();a=a.concat(p)}return new n(a)}static extend(a){return{provide:n,useFactory:c=>n.create(a,c||Rw()),deps:[[n,new gn,new Le]]}}find(a){const c=this.factories.find(p=>p.supports(a));if(null!=c)return c;throw new Be(901,!1)}}return n.\u0275prov=Lt({token:n,providedIn:"root",factory:Rw}),n})();function Ow(){return new P0([new kw])}let P0=(()=>{class n{constructor(a){this.factories=a}static create(a,c){if(c){const p=c.factories.slice();a=a.concat(p)}return new n(a)}static extend(a){return{provide:n,useFactory:c=>n.create(a,c||Ow()),deps:[[n,new gn,new Le]]}}find(a){const c=this.factories.find(p=>p.supports(a));if(c)return c;throw new Be(901,!1)}}return n.\u0275prov=Lt({token:n,providedIn:"root",factory:Ow}),n})();const kD=mw(null,"core",[]);let RD=(()=>{class n{constructor(a){}}return n.\u0275fac=function(a){return new(a||n)(pi(zy))},n.\u0275mod=In({type:n}),n.\u0275inj=It({}),n})();function OD(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}},433:(tn,ze,B)=>{B.d(ze,{Fj:()=>ct,qu:()=>po,NI:()=>wi,u:()=>Ms,cw:()=>ge,sg:()=>ji,u5:()=>ro,Cf:()=>Dt,JU:()=>Be,JJ:()=>Ve,JL:()=>Ct,YN:()=>Oo,wV:()=>kn,eT:()=>wo,UX:()=>ps,EJ:()=>xs,kI:()=>tt,_Y:()=>Zt,Kr:()=>Hr});var v=B(4650),K=B(6895),x=B(8996),l=B(9751),Ee=B(4742),Ce=B(8421),he=B(3269),Ie=B(5403),Pe=B(3268),ce=B(1810),we=B(4004);let _t=(()=>{class j{constructor(O,ee){this._renderer=O,this._elementRef=ee,this.onChange=qe=>{},this.onTouched=()=>{}}setProperty(O,ee){this._renderer.setProperty(this._elementRef.nativeElement,O,ee)}registerOnTouched(O){this.onTouched=O}registerOnChange(O){this.onChange=O}setDisabledState(O){this.setProperty("disabled",O)}}return j.\u0275fac=function(O){return new(O||j)(v.Y36(v.Qsj),v.Y36(v.SBq))},j.\u0275dir=v.lG2({type:j}),j})(),Ue=(()=>{class j extends _t{}return j.\u0275fac=function(){let V;return function(ee){return(V||(V=v.n5z(j)))(ee||j)}}(),j.\u0275dir=v.lG2({type:j,features:[v.qOj]}),j})();const Be=new v.OlP("NgValueAccessor"),Je={provide:Be,useExisting:(0,v.Gpc)(()=>ct),multi:!0},Wt=new v.OlP("CompositionEventMode");let ct=(()=>{class j extends _t{constructor(O,ee,qe){super(O,ee),this._compositionMode=qe,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Se(){const j=(0,K.q)()?(0,K.q)().getUserAgent():"";return/android (\d+)/.test(j.toLowerCase())}())}writeValue(O){this.setProperty("value",O??"")}_handleInput(O){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(O)}_compositionStart(){this._composing=!0}_compositionEnd(O){this._composing=!1,this._compositionMode&&this.onChange(O)}}return j.\u0275fac=function(O){return new(O||j)(v.Y36(v.Qsj),v.Y36(v.SBq),v.Y36(Wt,8))},j.\u0275dir=v.lG2({type:j,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(O,ee){1&O&&v.NdJ("input",function(dn){return ee._handleInput(dn.target.value)})("blur",function(){return ee.onTouched()})("compositionstart",function(){return ee._compositionStart()})("compositionend",function(dn){return ee._compositionEnd(dn.target.value)})},features:[v._Bn([Je]),v.qOj]}),j})();function Fe(j){return null==j||("string"==typeof j||Array.isArray(j))&&0===j.length}function Pt(j){return null!=j&&"number"==typeof j.length}const Dt=new v.OlP("NgValidators"),se=new v.OlP("NgAsyncValidators"),et=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class tt{static min(V){return function Rt(j){return V=>{if(Fe(V.value)||Fe(j))return null;const O=parseFloat(V.value);return!isNaN(O)&&O<j?{min:{min:j,actual:V.value}}:null}}(V)}static max(V){return function xt(j){return V=>{if(Fe(V.value)||Fe(j))return null;const O=parseFloat(V.value);return!isNaN(O)&&O>j?{max:{max:j,actual:V.value}}:null}}(V)}static required(V){return function vt(j){return Fe(j.value)?{required:!0}:null}(V)}static requiredTrue(V){return function Ze(j){return!0===j.value?null:{required:!0}}(V)}static email(V){return function lt(j){return Fe(j.value)||et.test(j.value)?null:{email:!0}}(V)}static minLength(V){return function Qe(j){return V=>Fe(V.value)||!Pt(V.value)?null:V.value.length<j?{minlength:{requiredLength:j,actualLength:V.value.length}}:null}(V)}static maxLength(V){return function dt(j){return V=>Pt(V.value)&&V.value.length>j?{maxlength:{requiredLength:j,actualLength:V.value.length}}:null}(V)}static pattern(V){return function pt(j){if(!j)return We;let V,O;return"string"==typeof j?(O="","^"!==j.charAt(0)&&(O+="^"),O+=j,"$"!==j.charAt(j.length-1)&&(O+="$"),V=new RegExp(O)):(O=j.toString(),V=j),ee=>{if(Fe(ee.value))return null;const qe=ee.value;return V.test(qe)?null:{pattern:{requiredPattern:O,actualValue:qe}}}}(V)}static nullValidator(V){return null}static compose(V){return hn(V)}static composeAsync(V){return Wn(V)}}function We(j){return null}function Xt(j){return null!=j}function qt(j){return(0,v.QGY)(j)?(0,x.D)(j):j}function pn(j){let V={};return j.forEach(O=>{V=null!=O?{...V,...O}:V}),0===Object.keys(V).length?null:V}function Lt(j,V){return V.map(O=>O(j))}function It(j){return j.map(V=>function An(j){return!j.validate}(V)?V:O=>V.validate(O))}function hn(j){if(!j)return null;const V=j.filter(Xt);return 0==V.length?null:function(O){return pn(Lt(O,V))}}function zn(j){return null!=j?hn(It(j)):null}function Wn(j){if(!j)return null;const V=j.filter(Xt);return 0==V.length?null:function(O){return function de(...j){const V=(0,he.jO)(j),{args:O,keys:ee}=(0,Ee.D)(j),qe=new l.y(dn=>{const{length:sr}=O;if(!sr)return void dn.complete();const ks=new Array(sr);let Gs=sr,go=sr;for(let li=0;li<sr;li++){let Rs=!1;(0,Ce.Xf)(O[li]).subscribe((0,Ie.x)(dn,mo=>{Rs||(Rs=!0,go--),ks[li]=mo},()=>Gs--,void 0,()=>{(!Gs||!Rs)&&(go||dn.next(ee?(0,ce.n)(ee,ks):ks),dn.complete())}))}});return V?qe.pipe((0,Pe.Z)(V)):qe}(Lt(O,V).map(qt)).pipe((0,we.U)(pn))}}function hr(j){return null!=j?Wn(It(j)):null}function ar(j,V){return null===j?[V]:Array.isArray(j)?[...j,V]:[j,V]}function rr(j){return j._rawValidators}function kr(j){return j._rawAsyncValidators}function qn(j){return j?Array.isArray(j)?j:[j]:[]}function _r(j,V){return Array.isArray(j)?j.includes(V):j===V}function yr(j,V){const O=qn(V);return qn(j).forEach(qe=>{_r(O,qe)||O.push(qe)}),O}function Tt(j,V){return qn(V).filter(O=>!_r(j,O))}class Fn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(V){this._rawValidators=V||[],this._composedValidatorFn=zn(this._rawValidators)}_setAsyncValidators(V){this._rawAsyncValidators=V||[],this._composedAsyncValidatorFn=hr(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(V){this._onDestroyCallbacks.push(V)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(V=>V()),this._onDestroyCallbacks=[]}reset(V){this.control&&this.control.reset(V)}hasError(V,O){return!!this.control&&this.control.hasError(V,O)}getError(V,O){return this.control?this.control.getError(V,O):null}}class Zn extends Fn{get formDirective(){return null}get path(){return null}}class He extends Fn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class un{constructor(V){this._cd=V}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Ve=(()=>{class j extends un{constructor(O){super(O)}}return j.\u0275fac=function(O){return new(O||j)(v.Y36(He,2))},j.\u0275dir=v.lG2({type:j,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(O,ee){2&O&&v.ekj("ng-untouched",ee.isUntouched)("ng-touched",ee.isTouched)("ng-pristine",ee.isPristine)("ng-dirty",ee.isDirty)("ng-valid",ee.isValid)("ng-invalid",ee.isInvalid)("ng-pending",ee.isPending)},features:[v.qOj]}),j})(),Ct=(()=>{class j extends un{constructor(O){super(O)}}return j.\u0275fac=function(O){return new(O||j)(v.Y36(Zn,10))},j.\u0275dir=v.lG2({type:j,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(O,ee){2&O&&v.ekj("ng-untouched",ee.isUntouched)("ng-touched",ee.isTouched)("ng-pristine",ee.isPristine)("ng-dirty",ee.isDirty)("ng-valid",ee.isValid)("ng-invalid",ee.isInvalid)("ng-pending",ee.isPending)("ng-submitted",ee.isSubmitted)},features:[v.qOj]}),j})();const In="VALID",Dr="INVALID",ve="PENDING",fe="DISABLED";function Te(j){return(mn(j)?j.validators:j)||null}function st(j){return Array.isArray(j)?zn(j):j||null}function je(j,V){return(mn(V)?V.asyncValidators:j)||null}function Yt(j){return Array.isArray(j)?hr(j):j||null}function mn(j){return null!=j&&!Array.isArray(j)&&"object"==typeof j}function Hn(j,V,O){const ee=j.controls;if(!(V?Object.keys(ee):ee).length)throw new v.vHH(1e3,"");if(!ee[O])throw new v.vHH(1001,"")}function fr(j,V,O){j._forEachChild((ee,qe)=>{if(void 0===O[qe])throw new v.vHH(1002,"")})}class me{constructor(V,O){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=V,this._rawAsyncValidators=O,this._composedValidatorFn=st(this._rawValidators),this._composedAsyncValidatorFn=Yt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(V){this._rawValidators=this._composedValidatorFn=V}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(V){this._rawAsyncValidators=this._composedAsyncValidatorFn=V}get parent(){return this._parent}get valid(){return this.status===In}get invalid(){return this.status===Dr}get pending(){return this.status==ve}get disabled(){return this.status===fe}get enabled(){return this.status!==fe}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(V){this._rawValidators=V,this._composedValidatorFn=st(V)}setAsyncValidators(V){this._rawAsyncValidators=V,this._composedAsyncValidatorFn=Yt(V)}addValidators(V){this.setValidators(yr(V,this._rawValidators))}addAsyncValidators(V){this.setAsyncValidators(yr(V,this._rawAsyncValidators))}removeValidators(V){this.setValidators(Tt(V,this._rawValidators))}removeAsyncValidators(V){this.setAsyncValidators(Tt(V,this._rawAsyncValidators))}hasValidator(V){return _r(this._rawValidators,V)}hasAsyncValidator(V){return _r(this._rawAsyncValidators,V)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(V={}){this.touched=!0,this._parent&&!V.onlySelf&&this._parent.markAsTouched(V)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(V=>V.markAllAsTouched())}markAsUntouched(V={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(O=>{O.markAsUntouched({onlySelf:!0})}),this._parent&&!V.onlySelf&&this._parent._updateTouched(V)}markAsDirty(V={}){this.pristine=!1,this._parent&&!V.onlySelf&&this._parent.markAsDirty(V)}markAsPristine(V={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(O=>{O.markAsPristine({onlySelf:!0})}),this._parent&&!V.onlySelf&&this._parent._updatePristine(V)}markAsPending(V={}){this.status=ve,!1!==V.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!V.onlySelf&&this._parent.markAsPending(V)}disable(V={}){const O=this._parentMarkedDirty(V.onlySelf);this.status=fe,this.errors=null,this._forEachChild(ee=>{ee.disable({...V,onlySelf:!0})}),this._updateValue(),!1!==V.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...V,skipPristineCheck:O}),this._onDisabledChange.forEach(ee=>ee(!0))}enable(V={}){const O=this._parentMarkedDirty(V.onlySelf);this.status=In,this._forEachChild(ee=>{ee.enable({...V,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:V.emitEvent}),this._updateAncestors({...V,skipPristineCheck:O}),this._onDisabledChange.forEach(ee=>ee(!1))}_updateAncestors(V){this._parent&&!V.onlySelf&&(this._parent.updateValueAndValidity(V),V.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(V){this._parent=V}getRawValue(){return this.value}updateValueAndValidity(V={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===In||this.status===ve)&&this._runAsyncValidator(V.emitEvent)),!1!==V.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!V.onlySelf&&this._parent.updateValueAndValidity(V)}_updateTreeValidity(V={emitEvent:!0}){this._forEachChild(O=>O._updateTreeValidity(V)),this.updateValueAndValidity({onlySelf:!0,emitEvent:V.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?fe:In}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(V){if(this.asyncValidator){this.status=ve,this._hasOwnPendingAsyncValidator=!0;const O=qt(this.asyncValidator(this));this._asyncValidationSubscription=O.subscribe(ee=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(ee,{emitEvent:V})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(V,O={}){this.errors=V,this._updateControlsErrors(!1!==O.emitEvent)}get(V){let O=V;return null==O||(Array.isArray(O)||(O=O.split(".")),0===O.length)?null:O.reduce((ee,qe)=>ee&&ee._find(qe),this)}getError(V,O){const ee=O?this.get(O):this;return ee&&ee.errors?ee.errors[V]:null}hasError(V,O){return!!this.getError(V,O)}get root(){let V=this;for(;V._parent;)V=V._parent;return V}_updateControlsErrors(V){this.status=this._calculateStatus(),V&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(V)}_initObservables(){this.valueChanges=new v.vpe,this.statusChanges=new v.vpe}_calculateStatus(){return this._allControlsDisabled()?fe:this.errors?Dr:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ve)?ve:this._anyControlsHaveStatus(Dr)?Dr:In}_anyControlsHaveStatus(V){return this._anyControls(O=>O.status===V)}_anyControlsDirty(){return this._anyControls(V=>V.dirty)}_anyControlsTouched(){return this._anyControls(V=>V.touched)}_updatePristine(V={}){this.pristine=!this._anyControlsDirty(),this._parent&&!V.onlySelf&&this._parent._updatePristine(V)}_updateTouched(V={}){this.touched=this._anyControlsTouched(),this._parent&&!V.onlySelf&&this._parent._updateTouched(V)}_registerOnCollectionChange(V){this._onCollectionChange=V}_setUpdateStrategy(V){mn(V)&&null!=V.updateOn&&(this._updateOn=V.updateOn)}_parentMarkedDirty(V){return!V&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(V){return null}}class ge extends me{constructor(V,O,ee){super(Te(O),je(ee,O)),this.controls=V,this._initObservables(),this._setUpdateStrategy(O),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(V,O){return this.controls[V]?this.controls[V]:(this.controls[V]=O,O.setParent(this),O._registerOnCollectionChange(this._onCollectionChange),O)}addControl(V,O,ee={}){this.registerControl(V,O),this.updateValueAndValidity({emitEvent:ee.emitEvent}),this._onCollectionChange()}removeControl(V,O={}){this.controls[V]&&this.controls[V]._registerOnCollectionChange(()=>{}),delete this.controls[V],this.updateValueAndValidity({emitEvent:O.emitEvent}),this._onCollectionChange()}setControl(V,O,ee={}){this.controls[V]&&this.controls[V]._registerOnCollectionChange(()=>{}),delete this.controls[V],O&&this.registerControl(V,O),this.updateValueAndValidity({emitEvent:ee.emitEvent}),this._onCollectionChange()}contains(V){return this.controls.hasOwnProperty(V)&&this.controls[V].enabled}setValue(V,O={}){fr(this,0,V),Object.keys(V).forEach(ee=>{Hn(this,!0,ee),this.controls[ee].setValue(V[ee],{onlySelf:!0,emitEvent:O.emitEvent})}),this.updateValueAndValidity(O)}patchValue(V,O={}){null!=V&&(Object.keys(V).forEach(ee=>{const qe=this.controls[ee];qe&&qe.patchValue(V[ee],{onlySelf:!0,emitEvent:O.emitEvent})}),this.updateValueAndValidity(O))}reset(V={},O={}){this._forEachChild((ee,qe)=>{ee.reset(V[qe],{onlySelf:!0,emitEvent:O.emitEvent})}),this._updatePristine(O),this._updateTouched(O),this.updateValueAndValidity(O)}getRawValue(){return this._reduceChildren({},(V,O,ee)=>(V[ee]=O.getRawValue(),V))}_syncPendingControls(){let V=this._reduceChildren(!1,(O,ee)=>!!ee._syncPendingControls()||O);return V&&this.updateValueAndValidity({onlySelf:!0}),V}_forEachChild(V){Object.keys(this.controls).forEach(O=>{const ee=this.controls[O];ee&&V(ee,O)})}_setUpControls(){this._forEachChild(V=>{V.setParent(this),V._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(V){for(const[O,ee]of Object.entries(this.controls))if(this.contains(O)&&V(ee))return!0;return!1}_reduceValue(){return this._reduceChildren({},(O,ee,qe)=>((ee.enabled||this.disabled)&&(O[qe]=ee.value),O))}_reduceChildren(V,O){let ee=V;return this._forEachChild((qe,dn)=>{ee=O(ee,qe,dn)}),ee}_allControlsDisabled(){for(const V of Object.keys(this.controls))if(this.controls[V].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(V){return this.controls.hasOwnProperty(V)?this.controls[V]:null}}class at extends ge{}function Ln(j,V){wr(j,V),V.valueAccessor.writeValue(j.value),j.disabled&&V.valueAccessor.setDisabledState?.(!0),function Qi(j,V){V.valueAccessor.registerOnChange(O=>{j._pendingValue=O,j._pendingChange=!0,j._pendingDirty=!0,"change"===j.updateOn&&Yr(j,V)})}(j,V),function ai(j,V){const O=(ee,qe)=>{V.valueAccessor.writeValue(ee),qe&&V.viewToModelUpdate(ee)};j.registerOnChange(O),V._registerOnDestroy(()=>{j._unregisterOnChange(O)})}(j,V),function Ni(j,V){V.valueAccessor.registerOnTouched(()=>{j._pendingTouched=!0,"blur"===j.updateOn&&j._pendingChange&&Yr(j,V),"submit"!==j.updateOn&&j.markAsTouched()})}(j,V),function Un(j,V){if(V.valueAccessor.setDisabledState){const O=ee=>{V.valueAccessor.setDisabledState(ee)};j.registerOnDisabledChange(O),V._registerOnDestroy(()=>{j._unregisterOnDisabledChange(O)})}}(j,V)}function Ur(j,V,O=!0){const ee=()=>{};V.valueAccessor&&(V.valueAccessor.registerOnChange(ee),V.valueAccessor.registerOnTouched(ee)),bi(j,V),j&&(V._invokeOnDestroyCallbacks(),j._registerOnCollectionChange(()=>{}))}function Vi(j,V){j.forEach(O=>{O.registerOnValidatorChange&&O.registerOnValidatorChange(V)})}function wr(j,V){const O=rr(j);null!==V.validator?j.setValidators(ar(O,V.validator)):"function"==typeof O&&j.setValidators([O]);const ee=kr(j);null!==V.asyncValidator?j.setAsyncValidators(ar(ee,V.asyncValidator)):"function"==typeof ee&&j.setAsyncValidators([ee]);const qe=()=>j.updateValueAndValidity();Vi(V._rawValidators,qe),Vi(V._rawAsyncValidators,qe)}function bi(j,V){let O=!1;if(null!==j){if(null!==V.validator){const qe=rr(j);if(Array.isArray(qe)&&qe.length>0){const dn=qe.filter(sr=>sr!==V.validator);dn.length!==qe.length&&(O=!0,j.setValidators(dn))}}if(null!==V.asyncValidator){const qe=kr(j);if(Array.isArray(qe)&&qe.length>0){const dn=qe.filter(sr=>sr!==V.asyncValidator);dn.length!==qe.length&&(O=!0,j.setAsyncValidators(dn))}}}const ee=()=>{};return Vi(V._rawValidators,ee),Vi(V._rawAsyncValidators,ee),O}function Yr(j,V){j._pendingDirty&&j.markAsDirty(),j.setValue(j._pendingValue,{emitModelToViewChange:!1}),V.viewToModelUpdate(j._pendingValue),j._pendingChange=!1}function ti(j,V){const O=j.indexOf(V);O>-1&&j.splice(O,1)}function Hs(j){return"object"==typeof j&&null!==j&&2===Object.keys(j).length&&"value"in j&&"disabled"in j}const wi=class extends me{constructor(V=null,O,ee){super(Te(O),je(ee,O)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(V),this._setUpdateStrategy(O),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),mn(O)&&(O.nonNullable||O.initialValueIsDefault)&&(this.defaultValue=Hs(V)?V.value:V)}setValue(V,O={}){this.value=this._pendingValue=V,this._onChange.length&&!1!==O.emitModelToViewChange&&this._onChange.forEach(ee=>ee(this.value,!1!==O.emitViewToModelChange)),this.updateValueAndValidity(O)}patchValue(V,O={}){this.setValue(V,O)}reset(V=this.defaultValue,O={}){this._applyFormState(V),this.markAsPristine(O),this.markAsUntouched(O),this.setValue(this.value,O),this._pendingChange=!1}_updateValue(){}_anyControls(V){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(V){this._onChange.push(V)}_unregisterOnChange(V){ti(this._onChange,V)}registerOnDisabledChange(V){this._onDisabledChange.push(V)}_unregisterOnDisabledChange(V){ti(this._onDisabledChange,V)}_forEachChild(V){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(V){Hs(V)?(this.value=this._pendingValue=V.value,V.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=V}};let Zt=(()=>{class j{}return j.\u0275fac=function(O){return new(O||j)},j.\u0275dir=v.lG2({type:j,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),j})();const Tn={provide:Be,useExisting:(0,v.Gpc)(()=>kn),multi:!0};let kn=(()=>{class j extends Ue{writeValue(O){this.setProperty("value",O??"")}registerOnChange(O){this.onChange=ee=>{O(""==ee?null:parseFloat(ee))}}}return j.\u0275fac=function(){let V;return function(ee){return(V||(V=v.n5z(j)))(ee||j)}}(),j.\u0275dir=v.lG2({type:j,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(O,ee){1&O&&v.NdJ("input",function(dn){return ee.onChange(dn.target.value)})("blur",function(){return ee.onTouched()})},features:[v._Bn([Tn]),v.qOj]}),j})(),Ti=(()=>{class j{}return j.\u0275fac=function(O){return new(O||j)},j.\u0275mod=v.oAB({type:j}),j.\u0275inj=v.cJS({}),j})();const $i={provide:Be,useExisting:(0,v.Gpc)(()=>wo),multi:!0};let wo=(()=>{class j extends Ue{writeValue(O){this.setProperty("value",parseFloat(O))}registerOnChange(O){this.onChange=ee=>{O(""==ee?null:parseFloat(ee))}}}return j.\u0275fac=function(){let V;return function(ee){return(V||(V=v.n5z(j)))(ee||j)}}(),j.\u0275dir=v.lG2({type:j,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(O,ee){1&O&&v.NdJ("change",function(dn){return ee.onChange(dn.target.value)})("input",function(dn){return ee.onChange(dn.target.value)})("blur",function(){return ee.onTouched()})},features:[v._Bn([$i]),v.qOj]}),j})();const Do=new v.OlP("NgModelWithFormControlWarning"),Hi={provide:Zn,useExisting:(0,v.Gpc)(()=>ji)};let ji=(()=>{class j extends Zn{constructor(O,ee){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new v.vpe,this._setValidators(O),this._setAsyncValidators(ee)}ngOnChanges(O){this._checkFormPresent(),O.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(bi(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(O){const ee=this.form.get(O.path);return Ln(ee,O),ee.updateValueAndValidity({emitEvent:!1}),this.directives.push(O),ee}getControl(O){return this.form.get(O.path)}removeControl(O){Ur(O.control||null,O,!1),function ds(j,V){const O=j.indexOf(V);O>-1&&j.splice(O,1)}(this.directives,O)}addFormGroup(O){this._setUpFormContainer(O)}removeFormGroup(O){this._cleanUpFormContainer(O)}getFormGroup(O){return this.form.get(O.path)}addFormArray(O){this._setUpFormContainer(O)}removeFormArray(O){this._cleanUpFormContainer(O)}getFormArray(O){return this.form.get(O.path)}updateModel(O,ee){this.form.get(O.path).setValue(ee)}onSubmit(O){return this.submitted=!0,function cs(j,V){j._syncPendingControls(),V.forEach(O=>{const ee=O.control;"submit"===ee.updateOn&&ee._pendingChange&&(O.viewToModelUpdate(ee._pendingValue),ee._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(O),"dialog"===O?.target?.method}onReset(){this.resetForm()}resetForm(O){this.form.reset(O),this.submitted=!1}_updateDomValue(){this.directives.forEach(O=>{const ee=O.control,qe=this.form.get(O.path);ee!==qe&&(Ur(ee||null,O),(j=>j instanceof wi)(qe)&&(Ln(qe,O),O.control=qe))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(O){const ee=this.form.get(O.path);(function Br(j,V){wr(j,V)})(ee,O),ee.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(O){if(this.form){const ee=this.form.get(O.path);ee&&function ci(j,V){return bi(j,V)}(ee,O)&&ee.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){wr(this.form,this),this._oldForm&&bi(this._oldForm,this)}_checkFormPresent(){}}return j.\u0275fac=function(O){return new(O||j)(v.Y36(Dt,10),v.Y36(se,10))},j.\u0275dir=v.lG2({type:j,selectors:[["","formGroup",""]],hostBindings:function(O,ee){1&O&&v.NdJ("submit",function(dn){return ee.onSubmit(dn)})("reset",function(){return ee.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[v._Bn([Hi]),v.qOj,v.TTD]}),j})();const Co={provide:He,useExisting:(0,v.Gpc)(()=>Ms)};let Ms=(()=>{class j extends He{constructor(O,ee,qe,dn,sr){super(),this._ngModelWarningConfig=sr,this._added=!1,this.update=new v.vpe,this._ngModelWarningSent=!1,this._parent=O,this._setValidators(ee),this._setAsyncValidators(qe),this.valueAccessor=function Xi(j,V){if(!V)return null;let O,ee,qe;return Array.isArray(V),V.forEach(dn=>{dn.constructor===ct?O=dn:function us(j){return Object.getPrototypeOf(j.constructor)===Ue}(dn)?ee=dn:qe=dn}),qe||ee||O||null}(0,dn)}set isDisabled(O){}ngOnChanges(O){this._added||this._setUpControl(),function ls(j,V){if(!j.hasOwnProperty("model"))return!1;const O=j.model;return!!O.isFirstChange()||!Object.is(V,O.currentValue)}(O,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(O){this.viewModel=O,this.update.emit(O)}get path(){return function Mn(j,V){return[...V.path,j]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return j._ngModelWarningSentOnce=!1,j.\u0275fac=function(O){return new(O||j)(v.Y36(Zn,13),v.Y36(Dt,10),v.Y36(se,10),v.Y36(Be,10),v.Y36(Do,8))},j.\u0275dir=v.lG2({type:j,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[v._Bn([Co]),v.qOj,v.TTD]}),j})();const Ns={provide:Be,useExisting:(0,v.Gpc)(()=>xs),multi:!0};function es(j,V){return null==j?`${V}`:(V&&"object"==typeof V&&(V="Object"),`${j}: ${V}`.slice(0,50))}let xs=(()=>{class j extends Ue{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(O){this._compareWith=O}writeValue(O){this.value=O;const qe=es(this._getOptionId(O),O);this.setProperty("value",qe)}registerOnChange(O){this.onChange=ee=>{this.value=this._getOptionValue(ee),O(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(O){for(const ee of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(ee),O))return ee;return null}_getOptionValue(O){const ee=function ki(j){return j.split(":")[0]}(O);return this._optionMap.has(ee)?this._optionMap.get(ee):O}}return j.\u0275fac=function(){let V;return function(ee){return(V||(V=v.n5z(j)))(ee||j)}}(),j.\u0275dir=v.lG2({type:j,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(O,ee){1&O&&v.NdJ("change",function(dn){return ee.onChange(dn.target.value)})("blur",function(){return ee.onTouched()})},inputs:{compareWith:"compareWith"},features:[v._Bn([Ns]),v.qOj]}),j})(),Oo=(()=>{class j{constructor(O,ee,qe){this._element=O,this._renderer=ee,this._select=qe,this._select&&(this.id=this._select._registerOption())}set ngValue(O){null!=this._select&&(this._select._optionMap.set(this.id,O),this._setElementValue(es(this.id,O)),this._select.writeValue(this._select.value))}set value(O){this._setElementValue(O),this._select&&this._select.writeValue(this._select.value)}_setElementValue(O){this._renderer.setProperty(this._element.nativeElement,"value",O)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return j.\u0275fac=function(O){return new(O||j)(v.Y36(v.SBq),v.Y36(v.Qsj),v.Y36(xs,9))},j.\u0275dir=v.lG2({type:j,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),j})();const $r={provide:Be,useExisting:(0,v.Gpc)(()=>Po),multi:!0};function ts(j,V){return null==j?`${V}`:("string"==typeof V&&(V=`'${V}'`),V&&"object"==typeof V&&(V="Object"),`${j}: ${V}`.slice(0,50))}let Po=(()=>{class j extends Ue{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(O){this._compareWith=O}writeValue(O){let ee;if(this.value=O,Array.isArray(O)){const qe=O.map(dn=>this._getOptionId(dn));ee=(dn,sr)=>{dn._setSelected(qe.indexOf(sr.toString())>-1)}}else ee=(qe,dn)=>{qe._setSelected(!1)};this._optionMap.forEach(ee)}registerOnChange(O){this.onChange=ee=>{const qe=[],dn=ee.selectedOptions;if(void 0!==dn){const sr=dn;for(let ks=0;ks<sr.length;ks++){const go=this._getOptionValue(sr[ks].value);qe.push(go)}}else{const sr=ee.options;for(let ks=0;ks<sr.length;ks++){const Gs=sr[ks];if(Gs.selected){const go=this._getOptionValue(Gs.value);qe.push(go)}}}this.value=qe,O(qe)}}_registerOption(O){const ee=(this._idCounter++).toString();return this._optionMap.set(ee,O),ee}_getOptionId(O){for(const ee of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(ee)._value,O))return ee;return null}_getOptionValue(O){const ee=function Eo(j){return j.split(":")[0]}(O);return this._optionMap.has(ee)?this._optionMap.get(ee)._value:O}}return j.\u0275fac=function(){let V;return function(ee){return(V||(V=v.n5z(j)))(ee||j)}}(),j.\u0275dir=v.lG2({type:j,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(O,ee){1&O&&v.NdJ("change",function(dn){return ee.onChange(dn.target)})("blur",function(){return ee.onTouched()})},inputs:{compareWith:"compareWith"},features:[v._Bn([$r]),v.qOj]}),j})(),Hr=(()=>{class j{constructor(O,ee,qe){this._element=O,this._renderer=ee,this._select=qe,this._select&&(this.id=this._select._registerOption(this))}set ngValue(O){null!=this._select&&(this._value=O,this._setElementValue(ts(this.id,O)),this._select.writeValue(this._select.value))}set value(O){this._select?(this._value=O,this._setElementValue(ts(this.id,O)),this._select.writeValue(this._select.value)):this._setElementValue(O)}_setElementValue(O){this._renderer.setProperty(this._element.nativeElement,"value",O)}_setSelected(O){this._renderer.setProperty(this._element.nativeElement,"selected",O)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return j.\u0275fac=function(O){return new(O||j)(v.Y36(v.SBq),v.Y36(v.Qsj),v.Y36(Po,9))},j.\u0275dir=v.lG2({type:j,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),j})(),nr=(()=>{class j{}return j.\u0275fac=function(O){return new(O||j)},j.\u0275mod=v.oAB({type:j}),j.\u0275inj=v.cJS({imports:[Ti]}),j})(),ro=(()=>{class j{}return j.\u0275fac=function(O){return new(O||j)},j.\u0275mod=v.oAB({type:j}),j.\u0275inj=v.cJS({imports:[nr]}),j})(),ps=(()=>{class j{static withConfig(O){return{ngModule:j,providers:[{provide:Do,useValue:O.warnOnNgModelWithFormControl}]}}}return j.\u0275fac=function(O){return new(O||j)},j.\u0275mod=v.oAB({type:j}),j.\u0275inj=v.cJS({imports:[nr]}),j})();class ii extends me{constructor(V,O,ee){super(Te(O),je(ee,O)),this.controls=V,this._initObservables(),this._setUpdateStrategy(O),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(V){return this.controls[this._adjustIndex(V)]}push(V,O={}){this.controls.push(V),this._registerControl(V),this.updateValueAndValidity({emitEvent:O.emitEvent}),this._onCollectionChange()}insert(V,O,ee={}){this.controls.splice(V,0,O),this._registerControl(O),this.updateValueAndValidity({emitEvent:ee.emitEvent})}removeAt(V,O={}){let ee=this._adjustIndex(V);ee<0&&(ee=0),this.controls[ee]&&this.controls[ee]._registerOnCollectionChange(()=>{}),this.controls.splice(ee,1),this.updateValueAndValidity({emitEvent:O.emitEvent})}setControl(V,O,ee={}){let qe=this._adjustIndex(V);qe<0&&(qe=0),this.controls[qe]&&this.controls[qe]._registerOnCollectionChange(()=>{}),this.controls.splice(qe,1),O&&(this.controls.splice(qe,0,O),this._registerControl(O)),this.updateValueAndValidity({emitEvent:ee.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(V,O={}){fr(this,0,V),V.forEach((ee,qe)=>{Hn(this,!1,qe),this.at(qe).setValue(ee,{onlySelf:!0,emitEvent:O.emitEvent})}),this.updateValueAndValidity(O)}patchValue(V,O={}){null!=V&&(V.forEach((ee,qe)=>{this.at(qe)&&this.at(qe).patchValue(ee,{onlySelf:!0,emitEvent:O.emitEvent})}),this.updateValueAndValidity(O))}reset(V=[],O={}){this._forEachChild((ee,qe)=>{ee.reset(V[qe],{onlySelf:!0,emitEvent:O.emitEvent})}),this._updatePristine(O),this._updateTouched(O),this.updateValueAndValidity(O)}getRawValue(){return this.controls.map(V=>V.getRawValue())}clear(V={}){this.controls.length<1||(this._forEachChild(O=>O._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:V.emitEvent}))}_adjustIndex(V){return V<0?V+this.length:V}_syncPendingControls(){let V=this.controls.reduce((O,ee)=>!!ee._syncPendingControls()||O,!1);return V&&this.updateValueAndValidity({onlySelf:!0}),V}_forEachChild(V){this.controls.forEach((O,ee)=>{V(O,ee)})}_updateValue(){this.value=this.controls.filter(V=>V.enabled||this.disabled).map(V=>V.value)}_anyControls(V){return this.controls.some(O=>O.enabled&&V(O))}_setUpControls(){this._forEachChild(V=>this._registerControl(V))}_allControlsDisabled(){for(const V of this.controls)if(V.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(V){V.setParent(this),V._registerOnCollectionChange(this._onCollectionChange)}_find(V){return this.at(V)??null}}function Zi(j){return!!j&&(void 0!==j.asyncValidators||void 0!==j.validators||void 0!==j.updateOn)}let po=(()=>{class j{constructor(){this.useNonNullable=!1}get nonNullable(){const O=new j;return O.useNonNullable=!0,O}group(O,ee=null){const qe=this._reduceControls(O);let dn={};return Zi(ee)?dn=ee:null!==ee&&(dn.validators=ee.validator,dn.asyncValidators=ee.asyncValidator),new ge(qe,dn)}record(O,ee=null){const qe=this._reduceControls(O);return new at(qe,ee)}control(O,ee,qe){let dn={};return this.useNonNullable?(Zi(ee)?dn=ee:(dn.validators=ee,dn.asyncValidators=qe),new wi(O,{...dn,nonNullable:!0})):new wi(O,ee,qe)}array(O,ee,qe){const dn=O.map(sr=>this._createControl(sr));return new ii(dn,ee,qe)}_reduceControls(O){const ee={};return Object.keys(O).forEach(qe=>{ee[qe]=this._createControl(O[qe])}),ee}_createControl(O){return O instanceof wi||O instanceof me?O:Array.isArray(O)?this.control(O[0],O.length>1?O[1]:null,O.length>2?O[2]:null):this.control(O)}}return j.\u0275fac=function(O){return new(O||j)},j.\u0275prov=v.Yz7({token:j,factory:j.\u0275fac,providedIn:ps}),j})()},1481:(tn,ze,B)=>{B.d(ze,{Dx:()=>Ve,H7:()=>Yt,b2:()=>Zn,q6:()=>_r});var v=B(6895),K=B(4650);class x extends v.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class l extends x{static makeCurrent(){(0,v.HT)(new l)}onAndCancel(ge,ie,Ae){return ge.addEventListener(ie,Ae,!1),()=>{ge.removeEventListener(ie,Ae,!1)}}dispatchEvent(ge,ie){ge.dispatchEvent(ie)}remove(ge){ge.parentNode&&ge.parentNode.removeChild(ge)}createElement(ge,ie){return(ie=ie||this.getDefaultDocument()).createElement(ge)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(ge){return ge.nodeType===Node.ELEMENT_NODE}isShadowRoot(ge){return ge instanceof DocumentFragment}getGlobalEventTarget(ge,ie){return"window"===ie?window:"document"===ie?ge:"body"===ie?ge.body:null}getBaseHref(ge){const ie=function Ce(){return Ee=Ee||document.querySelector("base"),Ee?Ee.getAttribute("href"):null}();return null==ie?null:function Ie(me){he=he||document.createElement("a"),he.setAttribute("href",me);const ge=he.pathname;return"/"===ge.charAt(0)?ge:`/${ge}`}(ie)}resetBaseElement(){Ee=null}getUserAgent(){return window.navigator.userAgent}getCookie(ge){return(0,v.Mx)(document.cookie,ge)}}let he,Ee=null;const Pe=new K.OlP("TRANSITION_ID"),de=[{provide:K.ip1,useFactory:function ce(me,ge,ie){return()=>{ie.get(K.CZH).donePromise.then(()=>{const Ae=(0,v.q)(),at=ge.querySelectorAll(`style[ng-transition="${me}"]`);for(let zt=0;zt<at.length;zt++)Ae.remove(at[zt])})}},deps:[Pe,v.K0,K.zs3],multi:!0}];let _t=(()=>{class me{build(){return new XMLHttpRequest}}return me.\u0275fac=function(ie){return new(ie||me)},me.\u0275prov=K.Yz7({token:me,factory:me.\u0275fac}),me})();const Ue=new K.OlP("EventManagerPlugins");let Be=(()=>{class me{constructor(ie,Ae){this._zone=Ae,this._eventNameToPlugin=new Map,ie.forEach(at=>at.manager=this),this._plugins=ie.slice().reverse()}addEventListener(ie,Ae,at){return this._findPluginFor(Ae).addEventListener(ie,Ae,at)}addGlobalEventListener(ie,Ae,at){return this._findPluginFor(Ae).addGlobalEventListener(ie,Ae,at)}getZone(){return this._zone}_findPluginFor(ie){const Ae=this._eventNameToPlugin.get(ie);if(Ae)return Ae;const at=this._plugins;for(let zt=0;zt<at.length;zt++){const Mn=at[zt];if(Mn.supports(ie))return this._eventNameToPlugin.set(ie,Mn),Mn}throw new Error(`No event manager plugin found for event ${ie}`)}}return me.\u0275fac=function(ie){return new(ie||me)(K.LFG(Ue),K.LFG(K.R0b))},me.\u0275prov=K.Yz7({token:me,factory:me.\u0275fac}),me})();class Ot{constructor(ge){this._doc=ge}addGlobalEventListener(ge,ie,Ae){const at=(0,v.q)().getGlobalEventTarget(this._doc,ge);if(!at)throw new Error(`Unsupported event target ${at} for event ${ie}`);return this.addEventListener(at,ie,Ae)}}let Ke=(()=>{class me{constructor(){this._stylesSet=new Set}addStyles(ie){const Ae=new Set;ie.forEach(at=>{this._stylesSet.has(at)||(this._stylesSet.add(at),Ae.add(at))}),this.onStylesAdded(Ae)}onStylesAdded(ie){}getAllStyles(){return Array.from(this._stylesSet)}}return me.\u0275fac=function(ie){return new(ie||me)},me.\u0275prov=K.Yz7({token:me,factory:me.\u0275fac}),me})(),Je=(()=>{class me extends Ke{constructor(ie){super(),this._doc=ie,this._hostNodes=new Map,this._hostNodes.set(ie.head,[])}_addStylesToHost(ie,Ae,at){ie.forEach(zt=>{const Mn=this._doc.createElement("style");Mn.textContent=zt,at.push(Ae.appendChild(Mn))})}addHost(ie){const Ae=[];this._addStylesToHost(this._stylesSet,ie,Ae),this._hostNodes.set(ie,Ae)}removeHost(ie){const Ae=this._hostNodes.get(ie);Ae&&Ae.forEach(Se),this._hostNodes.delete(ie)}onStylesAdded(ie){this._hostNodes.forEach((Ae,at)=>{this._addStylesToHost(ie,at,Ae)})}ngOnDestroy(){this._hostNodes.forEach(ie=>ie.forEach(Se))}}return me.\u0275fac=function(ie){return new(ie||me)(K.LFG(v.K0))},me.\u0275prov=K.Yz7({token:me,factory:me.\u0275fac}),me})();function Se(me){(0,v.q)().remove(me)}const Wt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ct=/%COMP%/g;function tt(me,ge,ie){for(let Ae=0;Ae<ge.length;Ae++){let at=ge[Ae];Array.isArray(at)?tt(me,at,ie):(at=at.replace(ct,me),ie.push(at))}return ie}function Rt(me){return ge=>{if("__ngUnwrap__"===ge)return me;!1===me(ge)&&(ge.preventDefault(),ge.returnValue=!1)}}let vt=(()=>{class me{constructor(ie,Ae,at){this.eventManager=ie,this.sharedStylesHost=Ae,this.appId=at,this.rendererByCompId=new Map,this.defaultRenderer=new Ze(ie)}createRenderer(ie,Ae){if(!ie||!Ae)return this.defaultRenderer;switch(Ae.encapsulation){case K.ifc.Emulated:{let at=this.rendererByCompId.get(Ae.id);return at||(at=new pt(this.eventManager,this.sharedStylesHost,Ae,this.appId),this.rendererByCompId.set(Ae.id,at)),at.applyToHost(ie),at}case 1:case K.ifc.ShadowDom:return new We(this.eventManager,this.sharedStylesHost,ie,Ae);default:if(!this.rendererByCompId.has(Ae.id)){const at=tt(Ae.id,Ae.styles,[]);this.sharedStylesHost.addStyles(at),this.rendererByCompId.set(Ae.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return me.\u0275fac=function(ie){return new(ie||me)(K.LFG(Be),K.LFG(Je),K.LFG(K.AFp))},me.\u0275prov=K.Yz7({token:me,factory:me.\u0275fac}),me})();class Ze{constructor(ge){this.eventManager=ge,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(ge,ie){return ie?document.createElementNS(Wt[ie]||ie,ge):document.createElement(ge)}createComment(ge){return document.createComment(ge)}createText(ge){return document.createTextNode(ge)}appendChild(ge,ie){(dt(ge)?ge.content:ge).appendChild(ie)}insertBefore(ge,ie,Ae){ge&&(dt(ge)?ge.content:ge).insertBefore(ie,Ae)}removeChild(ge,ie){ge&&ge.removeChild(ie)}selectRootElement(ge,ie){let Ae="string"==typeof ge?document.querySelector(ge):ge;if(!Ae)throw new Error(`The selector "${ge}" did not match any elements`);return ie||(Ae.textContent=""),Ae}parentNode(ge){return ge.parentNode}nextSibling(ge){return ge.nextSibling}setAttribute(ge,ie,Ae,at){if(at){ie=at+":"+ie;const zt=Wt[at];zt?ge.setAttributeNS(zt,ie,Ae):ge.setAttribute(ie,Ae)}else ge.setAttribute(ie,Ae)}removeAttribute(ge,ie,Ae){if(Ae){const at=Wt[Ae];at?ge.removeAttributeNS(at,ie):ge.removeAttribute(`${Ae}:${ie}`)}else ge.removeAttribute(ie)}addClass(ge,ie){ge.classList.add(ie)}removeClass(ge,ie){ge.classList.remove(ie)}setStyle(ge,ie,Ae,at){at&(K.JOm.DashCase|K.JOm.Important)?ge.style.setProperty(ie,Ae,at&K.JOm.Important?"important":""):ge.style[ie]=Ae}removeStyle(ge,ie,Ae){Ae&K.JOm.DashCase?ge.style.removeProperty(ie):ge.style[ie]=""}setProperty(ge,ie,Ae){ge[ie]=Ae}setValue(ge,ie){ge.nodeValue=ie}listen(ge,ie,Ae){return"string"==typeof ge?this.eventManager.addGlobalEventListener(ge,ie,Rt(Ae)):this.eventManager.addEventListener(ge,ie,Rt(Ae))}}function dt(me){return"TEMPLATE"===me.tagName&&void 0!==me.content}class pt extends Ze{constructor(ge,ie,Ae,at){super(ge),this.component=Ae;const zt=tt(at+"-"+Ae.id,Ae.styles,[]);ie.addStyles(zt),this.contentAttr=function se(me){return"_ngcontent-%COMP%".replace(ct,me)}(at+"-"+Ae.id),this.hostAttr=function et(me){return"_nghost-%COMP%".replace(ct,me)}(at+"-"+Ae.id)}applyToHost(ge){super.setAttribute(ge,this.hostAttr,"")}createElement(ge,ie){const Ae=super.createElement(ge,ie);return super.setAttribute(Ae,this.contentAttr,""),Ae}}class We extends Ze{constructor(ge,ie,Ae,at){super(ge),this.sharedStylesHost=ie,this.hostEl=Ae,this.shadowRoot=Ae.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const zt=tt(at.id,at.styles,[]);for(let Mn=0;Mn<zt.length;Mn++){const Ln=document.createElement("style");Ln.textContent=zt[Mn],this.shadowRoot.appendChild(Ln)}}nodeOrShadowRoot(ge){return ge===this.hostEl?this.shadowRoot:ge}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(ge,ie){return super.appendChild(this.nodeOrShadowRoot(ge),ie)}insertBefore(ge,ie,Ae){return super.insertBefore(this.nodeOrShadowRoot(ge),ie,Ae)}removeChild(ge,ie){return super.removeChild(this.nodeOrShadowRoot(ge),ie)}parentNode(ge){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(ge)))}}let Xt=(()=>{class me extends Ot{constructor(ie){super(ie)}supports(ie){return!0}addEventListener(ie,Ae,at){return ie.addEventListener(Ae,at,!1),()=>this.removeEventListener(ie,Ae,at)}removeEventListener(ie,Ae,at){return ie.removeEventListener(Ae,at)}}return me.\u0275fac=function(ie){return new(ie||me)(K.LFG(v.K0))},me.\u0275prov=K.Yz7({token:me,factory:me.\u0275fac}),me})();const qt=["alt","control","meta","shift"],pn={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Lt={alt:me=>me.altKey,control:me=>me.ctrlKey,meta:me=>me.metaKey,shift:me=>me.shiftKey};let An=(()=>{class me extends Ot{constructor(ie){super(ie)}supports(ie){return null!=me.parseEventName(ie)}addEventListener(ie,Ae,at){const zt=me.parseEventName(Ae),Mn=me.eventCallback(zt.fullKey,at,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,v.q)().onAndCancel(ie,zt.domEventName,Mn))}static parseEventName(ie){const Ae=ie.toLowerCase().split("."),at=Ae.shift();if(0===Ae.length||"keydown"!==at&&"keyup"!==at)return null;const zt=me._normalizeKey(Ae.pop());let Mn="",Ln=Ae.indexOf("code");if(Ln>-1&&(Ae.splice(Ln,1),Mn="code."),qt.forEach(Vi=>{const Un=Ae.indexOf(Vi);Un>-1&&(Ae.splice(Un,1),Mn+=Vi+".")}),Mn+=zt,0!=Ae.length||0===zt.length)return null;const Ur={};return Ur.domEventName=at,Ur.fullKey=Mn,Ur}static matchEventFullKeyCode(ie,Ae){let at=pn[ie.key]||ie.key,zt="";return Ae.indexOf("code.")>-1&&(at=ie.code,zt="code."),!(null==at||!at)&&(at=at.toLowerCase()," "===at?at="space":"."===at&&(at="dot"),qt.forEach(Mn=>{Mn!==at&&(0,Lt[Mn])(ie)&&(zt+=Mn+".")}),zt+=at,zt===Ae)}static eventCallback(ie,Ae,at){return zt=>{me.matchEventFullKeyCode(zt,ie)&&at.runGuarded(()=>Ae(zt))}}static _normalizeKey(ie){return"esc"===ie?"escape":ie}}return me.\u0275fac=function(ie){return new(ie||me)(K.LFG(v.K0))},me.\u0275prov=K.Yz7({token:me,factory:me.\u0275fac}),me})();const _r=(0,K.eFA)(K._c5,"browser",[{provide:K.Lbi,useValue:v.bD},{provide:K.g9A,useValue:function ar(){l.makeCurrent()},multi:!0},{provide:v.K0,useFactory:function kr(){return(0,K.RDi)(document),document},deps:[]}]),yr=new K.OlP(""),Tt=[{provide:K.rWj,useClass:class we{addToWindow(ge){K.dqk.getAngularTestability=(Ae,at=!0)=>{const zt=ge.findTestabilityInTree(Ae,at);if(null==zt)throw new Error("Could not find testability for element.");return zt},K.dqk.getAllAngularTestabilities=()=>ge.getAllTestabilities(),K.dqk.getAllAngularRootElements=()=>ge.getAllRootElements(),K.dqk.frameworkStabilizers||(K.dqk.frameworkStabilizers=[]),K.dqk.frameworkStabilizers.push(Ae=>{const at=K.dqk.getAllAngularTestabilities();let zt=at.length,Mn=!1;const Ln=function(Ur){Mn=Mn||Ur,zt--,0==zt&&Ae(Mn)};at.forEach(function(Ur){Ur.whenStable(Ln)})})}findTestabilityInTree(ge,ie,Ae){return null==ie?null:ge.getTestability(ie)??(Ae?(0,v.q)().isShadowRoot(ie)?this.findTestabilityInTree(ge,ie.host,!0):this.findTestabilityInTree(ge,ie.parentElement,!0):null)}},deps:[]},{provide:K.lri,useClass:K.dDg,deps:[K.R0b,K.eoX,K.rWj]},{provide:K.dDg,useClass:K.dDg,deps:[K.R0b,K.eoX,K.rWj]}],Fn=[{provide:K.zSh,useValue:"root"},{provide:K.qLn,useFactory:function rr(){return new K.qLn},deps:[]},{provide:Ue,useClass:Xt,multi:!0,deps:[v.K0,K.R0b,K.Lbi]},{provide:Ue,useClass:An,multi:!0,deps:[v.K0]},{provide:vt,useClass:vt,deps:[Be,Je,K.AFp]},{provide:K.FYo,useExisting:vt},{provide:Ke,useExisting:Je},{provide:Je,useClass:Je,deps:[v.K0]},{provide:Be,useClass:Be,deps:[Ue,K.R0b]},{provide:v.JF,useClass:_t,deps:[]},[]];let Zn=(()=>{class me{constructor(ie){}static withServerTransition(ie){return{ngModule:me,providers:[{provide:K.AFp,useValue:ie.appId},{provide:Pe,useExisting:K.AFp},de]}}}return me.\u0275fac=function(ie){return new(ie||me)(K.LFG(yr,12))},me.\u0275mod=K.oAB({type:me}),me.\u0275inj=K.cJS({providers:[...Fn,...Tt],imports:[v.ez,K.hGG]}),me})(),Ve=(()=>{class me{constructor(ie){this._doc=ie}getTitle(){return this._doc.title}setTitle(ie){this._doc.title=ie||""}}return me.\u0275fac=function(ie){return new(ie||me)(K.LFG(v.K0))},me.\u0275prov=K.Yz7({token:me,factory:function(ie){let Ae=null;return Ae=ie?new ie:function oe(){return new Ve((0,K.LFG)(v.K0))}(),Ae},providedIn:"root"}),me})();typeof window<"u"&&window;let Yt=(()=>{class me{}return me.\u0275fac=function(ie){return new(ie||me)},me.\u0275prov=K.Yz7({token:me,factory:function(ie){let Ae=null;return Ae=ie?new(ie||me):K.LFG(Hn),Ae},providedIn:"root"}),me})(),Hn=(()=>{class me extends Yt{constructor(ie){super(),this._doc=ie}sanitize(ie,Ae){if(null==Ae)return null;switch(ie){case K.q3G.NONE:return Ae;case K.q3G.HTML:return(0,K.qzn)(Ae,"HTML")?(0,K.z3N)(Ae):(0,K.EiD)(this._doc,String(Ae)).toString();case K.q3G.STYLE:return(0,K.qzn)(Ae,"Style")?(0,K.z3N)(Ae):Ae;case K.q3G.SCRIPT:if((0,K.qzn)(Ae,"Script"))return(0,K.z3N)(Ae);throw new Error("unsafe value used in a script context");case K.q3G.URL:return(0,K.qzn)(Ae,"URL")?(0,K.z3N)(Ae):(0,K.mCW)(String(Ae));case K.q3G.RESOURCE_URL:if((0,K.qzn)(Ae,"ResourceURL"))return(0,K.z3N)(Ae);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${ie} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(ie){return(0,K.JVY)(ie)}bypassSecurityTrustStyle(ie){return(0,K.L6k)(ie)}bypassSecurityTrustScript(ie){return(0,K.eBb)(ie)}bypassSecurityTrustUrl(ie){return(0,K.LAX)(ie)}bypassSecurityTrustResourceUrl(ie){return(0,K.pB0)(ie)}}return me.\u0275fac=function(ie){return new(ie||me)(K.LFG(v.K0))},me.\u0275prov=K.Yz7({token:me,factory:function(ie){let Ae=null;return Ae=ie?new ie:function mn(me){return new Hn(me.get(v.K0))}(K.LFG(K.zs3)),Ae},providedIn:"root"}),me})()},4629:(tn,ze,B)=>{B.d(ze,{F0:()=>oi,yS:()=>jn,Bz:()=>aa,lC:()=>Eo});var v=B(4650),K=B(8996),x=B(9646),l=B(1135),Ee=B(6805),Ce=B(9841),he=B(7272),Ie=B(9751),Pe=B(8421);function ce(T){return new Ie.y(A=>{(0,Pe.Xf)(T()).subscribe(A)})}var de=B(9635),we=B(576);function _t(T,A){const E=(0,we.m)(T)?T:()=>T,R=U=>U.error(E());return new Ie.y(A?U=>A.schedule(R,0,U):R)}var Ue=B(515),Be=B(727),Ot=B(4482),Ke=B(5403);function Je(){return(0,Ot.e)((T,A)=>{let E=null;T._refCount++;const R=(0,Ke.x)(A,void 0,void 0,void 0,()=>{if(!T||T._refCount<=0||0<--T._refCount)return void(E=null);const U=T._connection,Q=E;E=null,U&&(!Q||U===Q)&&U.unsubscribe(),A.unsubscribe()});T.subscribe(R),R.closed||(E=T.connect())})}class Se extends Ie.y{constructor(A,E){super(),this.source=A,this.subjectFactory=E,this._subject=null,this._refCount=0,this._connection=null,(0,Ot.A)(A)&&(this.lift=A.lift)}_subscribe(A){return this.getSubject().subscribe(A)}getSubject(){const A=this._subject;return(!A||A.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:A}=this;this._subject=this._connection=null,A?.unsubscribe()}connect(){let A=this._connection;if(!A){A=this._connection=new Be.w0;const E=this.getSubject();A.add(this.source.subscribe((0,Ke.x)(E,void 0,()=>{this._teardown(),E.complete()},R=>{this._teardown(),E.error(R)},()=>this._teardown()))),A.closed&&(this._connection=null,A=Be.w0.EMPTY)}return A}refCount(){return Je()(this)}}var Wt=B(7579),ct=B(6895),$e=B(4004),Fe=B(3900),Pt=B(5698),Dt=B(8675),se=B(9300),et=B(5577),tt=B(590),Rt=B(4351),xt=B(8505);function vt(T){return(0,Ot.e)((A,E)=>{let Q,R=null,U=!1;R=A.subscribe((0,Ke.x)(E,void 0,void 0,le=>{Q=(0,Pe.Xf)(T(le,vt(T)(A))),R?(R.unsubscribe(),R=null,Q.subscribe(E)):U=!0})),U&&(R.unsubscribe(),R=null,Q.subscribe(E))})}var Ze=B(5026);function lt(T){return T<=0?()=>Ue.E:(0,Ot.e)((A,E)=>{let R=[];A.subscribe((0,Ke.x)(E,U=>{R.push(U),T<R.length&&R.shift()},()=>{for(const U of R)E.next(U);E.complete()},void 0,()=>{R=null}))})}var Qe=B(8068),dt=B(6590),pt=B(4671);function We(T,A){const E=arguments.length>=2;return R=>R.pipe(T?(0,se.h)((U,Q)=>T(U,Q,R)):pt.y,lt(1),E?(0,dt.d)(A):(0,Qe.T)(()=>new Ee.K))}var qt=B(9718);function pn(T){return(0,Ot.e)((A,E)=>{try{A.subscribe(E)}finally{E.add(T)}})}var Lt=B(8189),An=B(1481);const It="primary",hn=Symbol("RouteTitle");class zn{constructor(A){this.params=A||{}}has(A){return Object.prototype.hasOwnProperty.call(this.params,A)}get(A){if(this.has(A)){const E=this.params[A];return Array.isArray(E)?E[0]:E}return null}getAll(A){if(this.has(A)){const E=this.params[A];return Array.isArray(E)?E:[E]}return[]}get keys(){return Object.keys(this.params)}}function Wn(T){return new zn(T)}function hr(T,A,E){const R=E.path.split("/");if(R.length>T.length||"full"===E.pathMatch&&(A.hasChildren()||R.length<T.length))return null;const U={};for(let Q=0;Q<R.length;Q++){const le=R[Q],ye=T[Q];if(le.startsWith(":"))U[le.substring(1)]=ye;else if(le!==ye.path)return null}return{consumed:T.slice(0,R.length),posParams:U}}function rr(T,A){const E=T?Object.keys(T):void 0,R=A?Object.keys(A):void 0;if(!E||!R||E.length!=R.length)return!1;let U;for(let Q=0;Q<E.length;Q++)if(U=E[Q],!kr(T[U],A[U]))return!1;return!0}function kr(T,A){if(Array.isArray(T)&&Array.isArray(A)){if(T.length!==A.length)return!1;const E=[...T].sort(),R=[...A].sort();return E.every((U,Q)=>R[Q]===U)}return T===A}function qn(T){return Array.prototype.concat.apply([],T)}function _r(T){return T.length>0?T[T.length-1]:null}function Tt(T,A){for(const E in T)T.hasOwnProperty(E)&&A(T[E],E)}function Fn(T){return(0,v.CqO)(T)?T:(0,v.QGY)(T)?(0,K.D)(Promise.resolve(T)):(0,x.of)(T)}const un={exact:function Ct(T,A,E){if(!En(T.segments,A.segments)||!jt(T.segments,A.segments,E)||T.numberOfChildren!==A.numberOfChildren)return!1;for(const R in A.children)if(!T.children[R]||!Ct(T.children[R],A.children[R],E))return!1;return!0},subset:Nt},q={exact:function Ve(T,A){return rr(T,A)},subset:function Mt(T,A){return Object.keys(A).length<=Object.keys(T).length&&Object.keys(A).every(E=>kr(T[E],A[E]))},ignored:()=>!0};function oe(T,A,E){return un[E.paths](T.root,A.root,E.matrixParams)&&q[E.queryParams](T.queryParams,A.queryParams)&&!("exact"===E.fragment&&T.fragment!==A.fragment)}function Nt(T,A,E){return ht(T,A,A.segments,E)}function ht(T,A,E,R){if(T.segments.length>E.length){const U=T.segments.slice(0,E.length);return!(!En(U,E)||A.hasChildren()||!jt(U,E,R))}if(T.segments.length===E.length){if(!En(T.segments,E)||!jt(T.segments,E,R))return!1;for(const U in A.children)if(!T.children[U]||!Nt(T.children[U],A.children[U],R))return!1;return!0}{const U=E.slice(0,T.segments.length),Q=E.slice(T.segments.length);return!!(En(T.segments,U)&&jt(T.segments,U,R)&&T.children[It])&&ht(T.children[It],A,Q,R)}}function jt(T,A,E){return A.every((R,U)=>q[E](T[U].parameters,R.parameters))}class wn{constructor(A,E,R){this.root=A,this.queryParams=E,this.fragment=R}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Wn(this.queryParams)),this._queryParamMap}toString(){return Fr.serialize(this)}}class cn{constructor(A,E){this.segments=A,this.children=E,this.parent=null,Tt(E,(R,U)=>R.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return rn(this)}}class fn{constructor(A,E){this.path=A,this.parameters=E}get parameterMap(){return this._parameterMap||(this._parameterMap=Wn(this.parameters)),this._parameterMap}toString(){return fe(this)}}function En(T,A){return T.length===A.length&&T.every((E,R)=>E.path===A[R].path)}let Kn=(()=>{class T{}return T.\u0275fac=function(E){return new(E||T)},T.\u0275prov=v.Yz7({token:T,factory:function(){return new Nr},providedIn:"root"}),T})();class Nr{parse(A){const E=new ge(A);return new wn(E.parseRootSegment(),E.parseQueryParams(),E.parseFragment())}serialize(A){const E=`/${nt(A.root,!0)}`,R=function st(T){const A=Object.keys(T).map(E=>{const R=T[E];return Array.isArray(R)?R.map(U=>`${an(E)}=${an(U)}`).join("&"):`${an(E)}=${an(R)}`}).filter(E=>!!E);return A.length?`?${A.join("&")}`:""}(A.queryParams);return`${E}${R}${"string"==typeof A.fragment?`#${function Sn(T){return encodeURI(T)}(A.fragment)}`:""}`}}const Fr=new Nr;function rn(T){return T.segments.map(A=>fe(A)).join("/")}function nt(T,A){if(!T.hasChildren())return rn(T);if(A){const E=T.children[It]?nt(T.children[It],!1):"",R=[];return Tt(T.children,(U,Q)=>{Q!==It&&R.push(`${Q}:${nt(U,!1)}`)}),R.length>0?`${E}(${R.join("//")})`:E}{const E=function zr(T,A){let E=[];return Tt(T.children,(R,U)=>{U===It&&(E=E.concat(A(R,U)))}),Tt(T.children,(R,U)=>{U!==It&&(E=E.concat(A(R,U)))}),E}(T,(R,U)=>U===It?[nt(T.children[It],!1)]:[`${U}:${nt(R,!1)}`]);return 1===Object.keys(T.children).length&&null!=T.children[It]?`${rn(T)}/${E[0]}`:`${rn(T)}/(${E.join("//")})`}}function kt(T){return encodeURIComponent(T).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function an(T){return kt(T).replace(/%3B/gi,";")}function In(T){return kt(T).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Dr(T){return decodeURIComponent(T)}function ve(T){return Dr(T.replace(/\+/g,"%20"))}function fe(T){return`${In(T.path)}${function Te(T){return Object.keys(T).map(A=>`;${In(A)}=${In(T[A])}`).join("")}(T.parameters)}`}const je=/^[^\/()?;=#]+/;function Yt(T){const A=T.match(je);return A?A[0]:""}const mn=/^[^=?&#]+/,fr=/^[^&#]+/;class ge{constructor(A){this.url=A,this.remaining=A}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new cn([],{}):new cn([],this.parseChildren())}parseQueryParams(){const A={};if(this.consumeOptional("?"))do{this.parseQueryParam(A)}while(this.consumeOptional("&"));return A}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const A=[];for(this.peekStartsWith("(")||A.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),A.push(this.parseSegment());let E={};this.peekStartsWith("/(")&&(this.capture("/"),E=this.parseParens(!0));let R={};return this.peekStartsWith("(")&&(R=this.parseParens(!1)),(A.length>0||Object.keys(E).length>0)&&(R[It]=new cn(A,E)),R}parseSegment(){const A=Yt(this.remaining);if(""===A&&this.peekStartsWith(";"))throw new v.vHH(4009,!1);return this.capture(A),new fn(Dr(A),this.parseMatrixParams())}parseMatrixParams(){const A={};for(;this.consumeOptional(";");)this.parseParam(A);return A}parseParam(A){const E=Yt(this.remaining);if(!E)return;this.capture(E);let R="";if(this.consumeOptional("=")){const U=Yt(this.remaining);U&&(R=U,this.capture(R))}A[Dr(E)]=Dr(R)}parseQueryParam(A){const E=function Hn(T){const A=T.match(mn);return A?A[0]:""}(this.remaining);if(!E)return;this.capture(E);let R="";if(this.consumeOptional("=")){const le=function me(T){const A=T.match(fr);return A?A[0]:""}(this.remaining);le&&(R=le,this.capture(R))}const U=ve(E),Q=ve(R);if(A.hasOwnProperty(U)){let le=A[U];Array.isArray(le)||(le=[le],A[U]=le),le.push(Q)}else A[U]=Q}parseParens(A){const E={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const R=Yt(this.remaining),U=this.remaining[R.length];if("/"!==U&&")"!==U&&";"!==U)throw new v.vHH(4010,!1);let Q;R.indexOf(":")>-1?(Q=R.slice(0,R.indexOf(":")),this.capture(Q),this.capture(":")):A&&(Q=It);const le=this.parseChildren();E[Q]=1===Object.keys(le).length?le[It]:new cn([],le),this.consumeOptional("//")}return E}peekStartsWith(A){return this.remaining.startsWith(A)}consumeOptional(A){return!!this.peekStartsWith(A)&&(this.remaining=this.remaining.substring(A.length),!0)}capture(A){if(!this.consumeOptional(A))throw new v.vHH(4011,!1)}}function ie(T){return T.segments.length>0?new cn([],{[It]:T}):T}function Ae(T){const A={};for(const R of Object.keys(T.children)){const Q=Ae(T.children[R]);(Q.segments.length>0||Q.hasChildren())&&(A[R]=Q)}return function at(T){if(1===T.numberOfChildren&&T.children[It]){const A=T.children[It];return new cn(T.segments.concat(A.segments),A.children)}return T}(new cn(T.segments,A))}function zt(T){return T instanceof wn}function Un(T,A,E,R,U){if(0===E.length)return Qi(A.root,A.root,A.root,R,U);const Q=function ai(T){if("string"==typeof T[0]&&1===T.length&&"/"===T[0])return new Yr(!0,0,T);let A=0,E=!1;const R=T.reduce((U,Q,le)=>{if("object"==typeof Q&&null!=Q){if(Q.outlets){const ye={};return Tt(Q.outlets,(ft,nn)=>{ye[nn]="string"==typeof ft?ft.split("/"):ft}),[...U,{outlets:ye}]}if(Q.segmentPath)return[...U,Q.segmentPath]}return"string"!=typeof Q?[...U,Q]:0===le?(Q.split("/").forEach((ye,ft)=>{0==ft&&"."===ye||(0==ft&&""===ye?E=!0:".."===ye?A++:""!=ye&&U.push(ye))}),U):[...U,Q]},[]);return new Yr(E,A,R)}(E);return Q.toRoot()?Qi(A.root,A.root,new cn([],{}),R,U):function le(ft){const nn=function ei(T,A,E,R){if(T.isAbsolute)return new Br(A.root,!0,0);if(-1===R)return new Br(E,E===A.root,0);return function Ts(T,A,E){let R=T,U=A,Q=E;for(;Q>U;){if(Q-=U,R=R.parent,!R)throw new v.vHH(4005,!1);U=R.segments.length}return new Br(R,!1,U-Q)}(E,R+(wr(T.commands[0])?0:1),T.numberOfDoubleDots)}(Q,A,T.snapshot?._urlSegment,ft),or=nn.processChildren?ls(nn.segmentGroup,nn.index,Q.commands):Ss(nn.segmentGroup,nn.index,Q.commands);return Qi(A.root,nn.segmentGroup,or,R,U)}(T.snapshot?._lastPathIndex)}function wr(T){return"object"==typeof T&&null!=T&&!T.outlets&&!T.segmentPath}function bi(T){return"object"==typeof T&&null!=T&&T.outlets}function Qi(T,A,E,R,U){let le,Q={};R&&Tt(R,(ft,nn)=>{Q[nn]=Array.isArray(ft)?ft.map(or=>`${or}`):`${ft}`}),le=T===A?E:Ni(T,A,E);const ye=ie(Ae(le));return new wn(ye,Q,U)}function Ni(T,A,E){const R={};return Tt(T.children,(U,Q)=>{R[Q]=U===A?E:Ni(U,A,E)}),new cn(T.segments,R)}class Yr{constructor(A,E,R){if(this.isAbsolute=A,this.numberOfDoubleDots=E,this.commands=R,A&&R.length>0&&wr(R[0]))throw new v.vHH(4003,!1);const U=R.find(bi);if(U&&U!==_r(R))throw new v.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Br{constructor(A,E,R){this.segmentGroup=A,this.processChildren=E,this.index=R}}function Ss(T,A,E){if(T||(T=new cn([],{})),0===T.segments.length&&T.hasChildren())return ls(T,A,E);const R=function us(T,A,E){let R=0,U=A;const Q={match:!1,pathIndex:0,commandIndex:0};for(;U<T.segments.length;){if(R>=E.length)return Q;const le=T.segments[U],ye=E[R];if(bi(ye))break;const ft=`${ye}`,nn=R<E.length-1?E[R+1]:null;if(U>0&&void 0===ft)break;if(ft&&nn&&"object"==typeof nn&&void 0===nn.outlets){if(!Ui(ft,nn,le))return Q;R+=2}else{if(!Ui(ft,{},le))return Q;R++}U++}return{match:!0,pathIndex:U,commandIndex:R}}(T,A,E),U=E.slice(R.commandIndex);if(R.match&&R.pathIndex<T.segments.length){const Q=new cn(T.segments.slice(0,R.pathIndex),{});return Q.children[It]=new cn(T.segments.slice(R.pathIndex),T.children),ls(Q,0,U)}return R.match&&0===U.length?new cn(T.segments,{}):R.match&&!T.hasChildren()?cs(T,A,E):R.match?ls(T,0,U):cs(T,A,E)}function ls(T,A,E){if(0===E.length)return new cn(T.segments,{});{const R=function lr(T){return bi(T[0])?T[0].outlets:{[It]:T}}(E),U={};return Tt(R,(Q,le)=>{"string"==typeof Q&&(Q=[Q]),null!==Q&&(U[le]=Ss(T.children[le],A,Q))}),Tt(T.children,(Q,le)=>{void 0===R[le]&&(U[le]=Q)}),new cn(T.segments,U)}}function cs(T,A,E){const R=T.segments.slice(0,A);let U=0;for(;U<E.length;){const Q=E[U];if(bi(Q)){const ft=Xi(Q.outlets);return new cn(R,ft)}if(0===U&&wr(E[0])){R.push(new fn(T.segments[A].path,ds(E[0]))),U++;continue}const le=bi(Q)?Q.outlets[It]:`${Q}`,ye=U<E.length-1?E[U+1]:null;le&&ye&&wr(ye)?(R.push(new fn(le,ds(ye))),U+=2):(R.push(new fn(le,{})),U++)}return new cn(R,{})}function Xi(T){const A={};return Tt(T,(E,R)=>{"string"==typeof E&&(E=[E]),null!==E&&(A[R]=cs(new cn([],{}),0,E))}),A}function ds(T){const A={};return Tt(T,(E,R)=>A[R]=`${E}`),A}function Ui(T,A,E){return T==E.path&&rr(A,E.parameters)}class xr{constructor(A,E){this.id=A,this.url=E}}class As extends xr{constructor(A,E,R="imperative",U=null){super(A,E),this.type=0,this.navigationTrigger=R,this.restoredState=U}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Cr extends xr{constructor(A,E,R){super(A,E),this.urlAfterRedirects=R,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ti extends xr{constructor(A,E,R,U){super(A,E),this.reason=R,this.code=U,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Hs extends xr{constructor(A,E,R,U){super(A,E),this.error=R,this.target=U,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class wi extends xr{constructor(A,E,R,U){super(A,E),this.urlAfterRedirects=R,this.state=U,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ga extends xr{constructor(A,E,R,U){super(A,E),this.urlAfterRedirects=R,this.state=U,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class di extends xr{constructor(A,E,R,U,Q){super(A,E),this.urlAfterRedirects=R,this.state=U,this.shouldActivate=Q,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Wo extends xr{constructor(A,E,R,U){super(A,E),this.urlAfterRedirects=R,this.state=U,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ko extends xr{constructor(A,E,R,U){super(A,E),this.urlAfterRedirects=R,this.state=U,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xi{constructor(A){this.route=A,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class hi{constructor(A){this.route=A,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ma{constructor(A){this.snapshot=A,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Rr{constructor(A){this.snapshot=A,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Re{constructor(A){this.snapshot=A,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xe{constructor(A){this.snapshot=A,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ge{constructor(A,E,R){this.routerEvent=A,this.position=E,this.anchor=R,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Zt{constructor(A){this._root=A}get root(){return this._root.value}parent(A){const E=this.pathFromRoot(A);return E.length>1?E[E.length-2]:null}children(A){const E=Tn(A,this._root);return E?E.children.map(R=>R.value):[]}firstChild(A){const E=Tn(A,this._root);return E&&E.children.length>0?E.children[0].value:null}siblings(A){const E=kn(A,this._root);return E.length<2?[]:E[E.length-2].children.map(U=>U.value).filter(U=>U!==A)}pathFromRoot(A){return kn(A,this._root).map(E=>E.value)}}function Tn(T,A){if(T===A.value)return A;for(const E of A.children){const R=Tn(T,E);if(R)return R}return null}function kn(T,A){if(T===A.value)return[A];for(const E of A.children){const R=kn(T,E);if(R.length)return R.unshift(A),R}return[]}class Mr{constructor(A,E){this.value=A,this.children=E}toString(){return`TreeNode(${this.value})`}}function ur(T){const A={};return T&&T.children.forEach(E=>A[E.value.outlet]=E),A}class Ti extends Zt{constructor(A,E){super(A),this.snapshot=E,Hi(this,A)}toString(){return this.snapshot.toString()}}function ho(T,A){const E=function Bi(T,A){const le=new Qs([],{},{},"",{},It,A,null,T.root,-1,{});return new qo("",new Mr(le,[]))}(T,A),R=new l.X([new fn("",{})]),U=new l.X({}),Q=new l.X({}),le=new l.X({}),ye=new l.X(""),ft=new $i(R,U,le,ye,Q,It,A,E.root);return ft.snapshot=E.root,new Ti(new Mr(ft,[]),E)}class $i{constructor(A,E,R,U,Q,le,ye,ft){this.url=A,this.params=E,this.queryParams=R,this.fragment=U,this.data=Q,this.outlet=le,this.component=ye,this.title=this.data?.pipe((0,$e.U)(nn=>nn[hn]))??(0,x.of)(void 0),this._futureSnapshot=ft}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,$e.U)(A=>Wn(A)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,$e.U)(A=>Wn(A)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function wo(T,A="emptyOnly"){const E=T.pathFromRoot;let R=0;if("always"!==A)for(R=E.length-1;R>=1;){const U=E[R],Q=E[R-1];if(U.routeConfig&&""===U.routeConfig.path)R--;else{if(Q.component)break;R--}}return function Do(T){return T.reduce((A,E)=>({params:{...A.params,...E.params},data:{...A.data,...E.data},resolve:{...E.data,...A.resolve,...E.routeConfig?.data,...E._resolvedData}}),{params:{},data:{},resolve:{}})}(E.slice(R))}class Qs{constructor(A,E,R,U,Q,le,ye,ft,nn,or,Qt,Qn){this.url=A,this.params=E,this.queryParams=R,this.fragment=U,this.data=Q,this.outlet=le,this.component=ye,this.title=this.data?.[hn],this.routeConfig=ft,this._urlSegment=nn,this._lastPathIndex=or,this._correctedLastPathIndex=Qn??or,this._resolve=Qt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Wn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Wn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(R=>R.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class qo extends Zt{constructor(A,E){super(E),this.url=A,Hi(this,E)}toString(){return ji(this._root)}}function Hi(T,A){A.value._routerState=T,A.children.forEach(E=>Hi(T,E))}function ji(T){const A=T.children.length>0?` { ${T.children.map(ji).join(", ")} } `:"";return`${T.value}${A}`}function bs(T){if(T.snapshot){const A=T.snapshot,E=T._futureSnapshot;T.snapshot=E,rr(A.queryParams,E.queryParams)||T.queryParams.next(E.queryParams),A.fragment!==E.fragment&&T.fragment.next(E.fragment),rr(A.params,E.params)||T.params.next(E.params),function ar(T,A){if(T.length!==A.length)return!1;for(let E=0;E<T.length;++E)if(!rr(T[E],A[E]))return!1;return!0}(A.url,E.url)||T.url.next(E.url),rr(A.data,E.data)||T.data.next(E.data)}else T.snapshot=T._futureSnapshot,T.data.next(T._futureSnapshot.data)}function Gi(T,A){const E=rr(T.params,A.params)&&function ir(T,A){return En(T,A)&&T.every((E,R)=>rr(E.parameters,A[R].parameters))}(T.url,A.url);return E&&!(!T.parent!=!A.parent)&&(!T.parent||Gi(T.parent,A.parent))}function hs(T,A,E){if(E&&T.shouldReuseRoute(A.value,E.value.snapshot)){const R=E.value;R._futureSnapshot=A.value;const U=function Xs(T,A,E){return A.children.map(R=>{for(const U of E.children)if(T.shouldReuseRoute(R.value,U.value.snapshot))return hs(T,R,U);return hs(T,R)})}(T,A,E);return new Mr(R,U)}{if(T.shouldAttach(A.value)){const Q=T.retrieve(A.value);if(null!==Q){const le=Q.route;return le.value._futureSnapshot=A.value,le.children=A.children.map(ye=>hs(T,ye)),le}}const R=function Co(T){return new $i(new l.X(T.url),new l.X(T.params),new l.X(T.queryParams),new l.X(T.fragment),new l.X(T.data),T.outlet,T.component,T)}(A.value),U=A.children.map(Q=>hs(T,Q));return new Mr(R,U)}}const Ms="ngNavigationCancelingError";function Ns(T,A){const{redirectTo:E,navigationBehaviorOptions:R}=zt(A)?{redirectTo:A,navigationBehaviorOptions:void 0}:A,U=es(!1,0,A);return U.url=E,U.navigationBehaviorOptions=R,U}function es(T,A,E){const R=new Error("NavigationCancelingError: "+(T||""));return R[Ms]=!0,R.cancellationCode=A,E&&(R.url=E),R}function ki(T){return xs(T)&&zt(T.url)}function xs(T){return T&&T[Ms]}class Oo{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new $r,this.attachRef=null}}let $r=(()=>{class T{constructor(){this.contexts=new Map}onChildOutletCreated(E,R){const U=this.getOrCreateContext(E);U.outlet=R,this.contexts.set(E,U)}onChildOutletDestroyed(E){const R=this.getContext(E);R&&(R.outlet=null,R.attachRef=null)}onOutletDeactivated(){const E=this.contexts;return this.contexts=new Map,E}onOutletReAttached(E){this.contexts=E}getOrCreateContext(E){let R=this.getContext(E);return R||(R=new Oo,this.contexts.set(E,R)),R}getContext(E){return this.contexts.get(E)||null}}return T.\u0275fac=function(E){return new(E||T)},T.\u0275prov=v.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();const ts=!1;let Eo=(()=>{class T{constructor(E,R,U,Q,le){this.parentContexts=E,this.location=R,this.changeDetector=Q,this.environmentInjector=le,this.activated=null,this._activatedRoute=null,this.activateEvents=new v.vpe,this.deactivateEvents=new v.vpe,this.attachEvents=new v.vpe,this.detachEvents=new v.vpe,this.name=U||It,E.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const E=this.parentContexts.getContext(this.name);E&&E.route&&(E.attachRef?this.attach(E.attachRef,E.route):this.activateWith(E.route,E.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new v.vHH(4012,ts);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new v.vHH(4012,ts);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new v.vHH(4012,ts);this.location.detach();const E=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(E.instance),E}attach(E,R){this.activated=E,this._activatedRoute=R,this.location.insert(E.hostView),this.attachEvents.emit(E.instance)}deactivate(){if(this.activated){const E=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(E)}}activateWith(E,R){if(this.isActivated)throw new v.vHH(4013,ts);this._activatedRoute=E;const U=this.location,le=E._futureSnapshot.component,ye=this.parentContexts.getOrCreateContext(this.name).children,ft=new ni(E,ye,U.injector);if(R&&function Po(T){return!!T.resolveComponentFactory}(R)){const nn=R.resolveComponentFactory(le);this.activated=U.createComponent(nn,U.length,ft)}else this.activated=U.createComponent(le,{index:U.length,injector:ft,environmentInjector:R??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return T.\u0275fac=function(E){return new(E||T)(v.Y36($r),v.Y36(v.s_b),v.$8M("name"),v.Y36(v.sBO),v.Y36(v.lqb))},T.\u0275dir=v.lG2({type:T,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),T})();class ni{constructor(A,E,R){this.route=A,this.childContexts=E,this.parent=R}get(A,E){return A===$i?this.route:A===$r?this.childContexts:this.parent.get(A,E)}}let Hr=(()=>{class T{}return T.\u0275fac=function(E){return new(E||T)},T.\u0275cmp=v.Xpm({type:T,selectors:[["ng-component"]],standalone:!0,features:[v.jDz],decls:1,vars:0,template:function(E,R){1&E&&v._UZ(0,"router-outlet")},dependencies:[Eo],encapsulation:2}),T})();function Si(T,A){return T.providers&&!T._injector&&(T._injector=(0,v.MMx)(T.providers,A,`Route: ${T.path}`)),T._injector??A}function Di(T){const A=T.children&&T.children.map(Di),E=A?{...T,children:A}:{...T};return!E.component&&!E.loadComponent&&(A||E.loadChildren)&&E.outlet&&E.outlet!==It&&(E.component=Hr),E}function Lr(T){return T.outlet||It}function Qr(T,A){const E=T.filter(R=>Lr(R)===A);return E.push(...T.filter(R=>Lr(R)!==A)),E}function xn(T){if(!T)return null;if(T.routeConfig?._injector)return T.routeConfig._injector;for(let A=T.parent;A;A=A.parent){const E=A.routeConfig;if(E?._loadedInjector)return E._loadedInjector;if(E?._injector)return E._injector}return null}class fo{constructor(A,E,R,U){this.routeReuseStrategy=A,this.futureState=E,this.currState=R,this.forwardEvent=U}activate(A){const E=this.futureState._root,R=this.currState?this.currState._root:null;this.deactivateChildRoutes(E,R,A),bs(this.futureState.root),this.activateChildRoutes(E,R,A)}deactivateChildRoutes(A,E,R){const U=ur(E);A.children.forEach(Q=>{const le=Q.value.outlet;this.deactivateRoutes(Q,U[le],R),delete U[le]}),Tt(U,(Q,le)=>{this.deactivateRouteAndItsChildren(Q,R)})}deactivateRoutes(A,E,R){const U=A.value,Q=E?E.value:null;if(U===Q)if(U.component){const le=R.getContext(U.outlet);le&&this.deactivateChildRoutes(A,E,le.children)}else this.deactivateChildRoutes(A,E,R);else Q&&this.deactivateRouteAndItsChildren(E,R)}deactivateRouteAndItsChildren(A,E){A.value.component&&this.routeReuseStrategy.shouldDetach(A.value.snapshot)?this.detachAndStoreRouteSubtree(A,E):this.deactivateRouteAndOutlet(A,E)}detachAndStoreRouteSubtree(A,E){const R=E.getContext(A.value.outlet),U=R&&A.value.component?R.children:E,Q=ur(A);for(const le of Object.keys(Q))this.deactivateRouteAndItsChildren(Q[le],U);if(R&&R.outlet){const le=R.outlet.detach(),ye=R.children.onOutletDeactivated();this.routeReuseStrategy.store(A.value.snapshot,{componentRef:le,route:A,contexts:ye})}}deactivateRouteAndOutlet(A,E){const R=E.getContext(A.value.outlet),U=R&&A.value.component?R.children:E,Q=ur(A);for(const le of Object.keys(Q))this.deactivateRouteAndItsChildren(Q[le],U);R&&R.outlet&&(R.outlet.deactivate(),R.children.onOutletDeactivated(),R.attachRef=null,R.resolver=null,R.route=null)}activateChildRoutes(A,E,R){const U=ur(E);A.children.forEach(Q=>{this.activateRoutes(Q,U[Q.value.outlet],R),this.forwardEvent(new xe(Q.value.snapshot))}),A.children.length&&this.forwardEvent(new Rr(A.value.snapshot))}activateRoutes(A,E,R){const U=A.value,Q=E?E.value:null;if(bs(U),U===Q)if(U.component){const le=R.getOrCreateContext(U.outlet);this.activateChildRoutes(A,E,le.children)}else this.activateChildRoutes(A,E,R);else if(U.component){const le=R.getOrCreateContext(U.outlet);if(this.routeReuseStrategy.shouldAttach(U.snapshot)){const ye=this.routeReuseStrategy.retrieve(U.snapshot);this.routeReuseStrategy.store(U.snapshot,null),le.children.onOutletReAttached(ye.contexts),le.attachRef=ye.componentRef,le.route=ye.route.value,le.outlet&&le.outlet.attach(ye.componentRef,ye.route.value),bs(ye.route.value),this.activateChildRoutes(A,null,le.children)}else{const ye=xn(U.snapshot),ft=ye?.get(v._Vd)??null;le.attachRef=null,le.route=U,le.resolver=ft,le.injector=ye,le.outlet&&le.outlet.activateWith(U,le.injector),this.activateChildRoutes(A,null,le.children)}}else this.activateChildRoutes(A,null,R)}}class Io{constructor(A){this.path=A,this.route=this.path[this.path.length-1]}}class eo{constructor(A,E){this.component=A,this.route=E}}function Qo(T,A,E){const R=T._root;return no(R,A?A._root:null,E,[R.value])}function to(T,A){const E=Symbol(),R=A.get(T,E);return R===E?"function"!=typeof T||(0,v.Z0I)(T)?A.get(T):T:R}function no(T,A,E,R,U={canDeactivateChecks:[],canActivateChecks:[]}){const Q=ur(A);return T.children.forEach(le=>{(function Et(T,A,E,R,U={canDeactivateChecks:[],canActivateChecks:[]}){const Q=T.value,le=A?A.value:null,ye=E?E.getContext(T.value.outlet):null;if(le&&Q.routeConfig===le.routeConfig){const ft=function nr(T,A,E){if("function"==typeof E)return E(T,A);switch(E){case"pathParamsChange":return!En(T.url,A.url);case"pathParamsOrQueryParamsChange":return!En(T.url,A.url)||!rr(T.queryParams,A.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Gi(T,A)||!rr(T.queryParams,A.queryParams);default:return!Gi(T,A)}}(le,Q,Q.routeConfig.runGuardsAndResolvers);ft?U.canActivateChecks.push(new Io(R)):(Q.data=le.data,Q._resolvedData=le._resolvedData),no(T,A,Q.component?ye?ye.children:null:E,R,U),ft&&ye&&ye.outlet&&ye.outlet.isActivated&&U.canDeactivateChecks.push(new eo(ye.outlet.component,le))}else le&&ro(A,ye,U),U.canActivateChecks.push(new Io(R)),no(T,null,Q.component?ye?ye.children:null:E,R,U)})(le,Q[le.value.outlet],E,R.concat([le.value]),U),delete Q[le.value.outlet]}),Tt(Q,(le,ye)=>ro(le,E.getContext(ye),U)),U}function ro(T,A,E){const R=ur(T),U=T.value;Tt(R,(Q,le)=>{ro(Q,U.component?A?A.children.getContext(le):null:A,E)}),E.canDeactivateChecks.push(new eo(U.component&&A&&A.outlet&&A.outlet.isActivated?A.outlet.component:null,U))}function ps(T){return"function"==typeof T}function j(T){return T instanceof Ee.K||"EmptyError"===T?.name}const V=Symbol("INITIAL_VALUE");function O(){return(0,Fe.w)(T=>(0,Ce.a)(T.map(A=>A.pipe((0,Pt.q)(1),(0,Dt.O)(V)))).pipe((0,$e.U)(A=>{for(const E of A)if(!0!==E){if(E===V)return V;if(!1===E||E instanceof wn)return E}return!0}),(0,se.h)(A=>A!==V),(0,Pt.q)(1)))}function mo(T){return(0,de.z)((0,xt.b)(A=>{if(zt(A))throw Ns(0,A)}),(0,$e.U)(A=>!0===A))}const ns={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function _a(T,A,E,R,U){const Q=Oa(T,A,E);return Q.matched?function Wi(T,A,E,R){const U=A.canMatch;if(!U||0===U.length)return(0,x.of)(!0);const Q=U.map(le=>{const ye=to(le,T);return Fn(function ws(T){return T&&ps(T.canMatch)}(ye)?ye.canMatch(A,E):T.runInContext(()=>ye(A,E)))});return(0,x.of)(Q).pipe(O(),mo())}(R=Si(A,R),A,E).pipe((0,$e.U)(le=>!0===le?Q:{...ns})):(0,x.of)(Q)}function Oa(T,A,E){if(""===A.path)return"full"===A.pathMatch&&(T.hasChildren()||E.length>0)?{...ns}:{matched:!0,consumedSegments:[],remainingSegments:E,parameters:{},positionalParamSegments:{}};const U=(A.matcher||hr)(E,T,A);if(!U)return{...ns};const Q={};Tt(U.posParams,(ye,ft)=>{Q[ft]=ye.path});const le=U.consumed.length>0?{...Q,...U.consumed[U.consumed.length-1].parameters}:Q;return{matched:!0,consumedSegments:U.consumed,remainingSegments:E.slice(U.consumed.length),parameters:le,positionalParamSegments:U.posParams??{}}}function Os(T,A,E,R,U="corrected"){if(E.length>0&&function ya(T,A,E){return E.some(R=>To(T,A,R)&&Lr(R)!==It)}(T,E,R)){const le=new cn(A,function ta(T,A,E,R){const U={};U[It]=R,R._sourceSegment=T,R._segmentIndexShift=A.length;for(const Q of E)if(""===Q.path&&Lr(Q)!==It){const le=new cn([],{});le._sourceSegment=T,le._segmentIndexShift=A.length,U[Lr(Q)]=le}return U}(T,A,R,new cn(E,T.children)));return le._sourceSegment=T,le._segmentIndexShift=A.length,{segmentGroup:le,slicedSegments:[]}}if(0===E.length&&function Ds(T,A,E){return E.some(R=>To(T,A,R))}(T,E,R)){const le=new cn(T.segments,function ea(T,A,E,R,U,Q){const le={};for(const ye of R)if(To(T,E,ye)&&!U[Lr(ye)]){const ft=new cn([],{});ft._sourceSegment=T,ft._segmentIndexShift="legacy"===Q?T.segments.length:A.length,le[Lr(ye)]=ft}return{...U,...le}}(T,A,E,R,T.children,U));return le._sourceSegment=T,le._segmentIndexShift=A.length,{segmentGroup:le,slicedSegments:E}}const Q=new cn(T.segments,T.children);return Q._sourceSegment=T,Q._segmentIndexShift=A.length,{segmentGroup:Q,slicedSegments:E}}function To(T,A,E){return(!(T.hasChildren()||A.length>0)||"full"!==E.pathMatch)&&""===E.path}function Pa(T,A,E,R){return!!(Lr(T)===R||R!==It&&To(A,E,T))&&("**"===T.path||Oa(A,T,E).matched)}function pl(T,A,E){return 0===A.length&&!T.children[E]}const mi=!1;class gs{constructor(A){this.segmentGroup=A||null}}class Or{constructor(A){this.urlTree=A}}function Vo(T){return _t(new gs(T))}function So(T){return _t(new Or(T))}class Ka{constructor(A,E,R,U,Q){this.injector=A,this.configLoader=E,this.urlSerializer=R,this.urlTree=U,this.config=Q,this.allowRedirects=!0}apply(){const A=Os(this.urlTree.root,[],[],this.config).segmentGroup,E=new cn(A.segments,A.children);return this.expandSegmentGroup(this.injector,this.config,E,It).pipe((0,$e.U)(Q=>this.createUrlTree(Ae(Q),this.urlTree.queryParams,this.urlTree.fragment))).pipe(vt(Q=>{if(Q instanceof Or)return this.allowRedirects=!1,this.match(Q.urlTree);throw Q instanceof gs?this.noMatchError(Q):Q}))}match(A){return this.expandSegmentGroup(this.injector,this.config,A.root,It).pipe((0,$e.U)(U=>this.createUrlTree(Ae(U),A.queryParams,A.fragment))).pipe(vt(U=>{throw U instanceof gs?this.noMatchError(U):U}))}noMatchError(A){return new v.vHH(4002,mi)}createUrlTree(A,E,R){const U=ie(A);return new wn(U,E,R)}expandSegmentGroup(A,E,R,U){return 0===R.segments.length&&R.hasChildren()?this.expandChildren(A,E,R).pipe((0,$e.U)(Q=>new cn([],Q))):this.expandSegment(A,R,E,R.segments,U,!0)}expandChildren(A,E,R){const U=[];for(const Q of Object.keys(R.children))"primary"===Q?U.unshift(Q):U.push(Q);return(0,K.D)(U).pipe((0,Rt.b)(Q=>{const le=R.children[Q],ye=Qr(E,Q);return this.expandSegmentGroup(A,ye,le,Q).pipe((0,$e.U)(ft=>({segment:ft,outlet:Q})))}),(0,Ze.R)((Q,le)=>(Q[le.outlet]=le.segment,Q),{}),We())}expandSegment(A,E,R,U,Q,le){return(0,K.D)(R).pipe((0,Rt.b)(ye=>this.expandSegmentAgainstRoute(A,E,R,ye,U,Q,le).pipe(vt(nn=>{if(nn instanceof gs)return(0,x.of)(null);throw nn}))),(0,tt.P)(ye=>!!ye),vt((ye,ft)=>{if(j(ye))return pl(E,U,Q)?(0,x.of)(new cn([],{})):Vo(E);throw ye}))}expandSegmentAgainstRoute(A,E,R,U,Q,le,ye){return Pa(U,E,Q,le)?void 0===U.redirectTo?this.matchSegmentAgainstRoute(A,E,U,Q,le):ye&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(A,E,R,U,Q,le):Vo(E):Vo(E)}expandSegmentAgainstRouteUsingRedirect(A,E,R,U,Q,le){return"**"===U.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(A,R,U,le):this.expandRegularSegmentAgainstRouteUsingRedirect(A,E,R,U,Q,le)}expandWildCardWithParamsAgainstRouteUsingRedirect(A,E,R,U){const Q=this.applyRedirectCommands([],R.redirectTo,{});return R.redirectTo.startsWith("/")?So(Q):this.lineralizeSegments(R,Q).pipe((0,et.z)(le=>{const ye=new cn(le,{});return this.expandSegment(A,ye,E,le,U,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(A,E,R,U,Q,le){const{matched:ye,consumedSegments:ft,remainingSegments:nn,positionalParamSegments:or}=Oa(E,U,Q);if(!ye)return Vo(E);const Qt=this.applyRedirectCommands(ft,U.redirectTo,or);return U.redirectTo.startsWith("/")?So(Qt):this.lineralizeSegments(U,Qt).pipe((0,et.z)(Qn=>this.expandSegment(A,E,R,Qn.concat(nn),le,!1)))}matchSegmentAgainstRoute(A,E,R,U,Q){return"**"===R.path?(A=Si(R,A),R.loadChildren?(R._loadedRoutes?(0,x.of)({routes:R._loadedRoutes,injector:R._loadedInjector}):this.configLoader.loadChildren(A,R)).pipe((0,$e.U)(ye=>(R._loadedRoutes=ye.routes,R._loadedInjector=ye.injector,new cn(U,{})))):(0,x.of)(new cn(U,{}))):_a(E,R,U,A).pipe((0,Fe.w)(({matched:le,consumedSegments:ye,remainingSegments:ft})=>le?this.getChildConfig(A=R._injector??A,R,U).pipe((0,et.z)(or=>{const Qt=or.injector??A,Qn=or.routes,{segmentGroup:Yi,slicedSegments:so}=Os(E,ye,ft,Qn),la=new cn(Yi.segments,Yi.children);if(0===so.length&&la.hasChildren())return this.expandChildren(Qt,Qn,la).pipe((0,$e.U)(bl=>new cn(ye,bl)));if(0===Qn.length&&0===so.length)return(0,x.of)(new cn(ye,{}));const Zs=Lr(R)===Q;return this.expandSegment(Qt,la,Qn,so,Zs?It:Q,!0).pipe((0,$e.U)($a=>new cn(ye.concat($a.segments),$a.children)))})):Vo(E)))}getChildConfig(A,E,R){return E.children?(0,x.of)({routes:E.children,injector:A}):E.loadChildren?void 0!==E._loadedRoutes?(0,x.of)({routes:E._loadedRoutes,injector:E._loadedInjector}):function Rs(T,A,E,R){const U=A.canLoad;if(void 0===U||0===U.length)return(0,x.of)(!0);const Q=U.map(le=>{const ye=to(le,T);return Fn(function Xo(T){return T&&ps(T.canLoad)}(ye)?ye.canLoad(A,E):T.runInContext(()=>ye(A,E)))});return(0,x.of)(Q).pipe(O(),mo())}(A,E,R).pipe((0,et.z)(U=>U?this.configLoader.loadChildren(A,E).pipe((0,xt.b)(Q=>{E._loadedRoutes=Q.routes,E._loadedInjector=Q.injector})):function Fa(T){return _t(es(mi,3))}())):(0,x.of)({routes:[],injector:A})}lineralizeSegments(A,E){let R=[],U=E.root;for(;;){if(R=R.concat(U.segments),0===U.numberOfChildren)return(0,x.of)(R);if(U.numberOfChildren>1||!U.children[It])return _t(new v.vHH(4e3,mi));U=U.children[It]}}applyRedirectCommands(A,E,R){return this.applyRedirectCreateUrlTree(E,this.urlSerializer.parse(E),A,R)}applyRedirectCreateUrlTree(A,E,R,U){const Q=this.createSegmentGroup(A,E.root,R,U);return new wn(Q,this.createQueryParams(E.queryParams,this.urlTree.queryParams),E.fragment)}createQueryParams(A,E){const R={};return Tt(A,(U,Q)=>{if("string"==typeof U&&U.startsWith(":")){const ye=U.substring(1);R[Q]=E[ye]}else R[Q]=U}),R}createSegmentGroup(A,E,R,U){const Q=this.createSegments(A,E.segments,R,U);let le={};return Tt(E.children,(ye,ft)=>{le[ft]=this.createSegmentGroup(A,ye,R,U)}),new cn(Q,le)}createSegments(A,E,R,U){return E.map(Q=>Q.path.startsWith(":")?this.findPosParam(A,Q,U):this.findOrReturn(Q,R))}findPosParam(A,E,R){const U=R[E.path.substring(1)];if(!U)throw new v.vHH(4001,mi);return U}findOrReturn(A,E){let R=0;for(const U of E){if(U.path===A.path)return E.splice(R),U;R++}return A}}class Va{}class Cu{constructor(A,E,R,U,Q,le,ye,ft){this.injector=A,this.rootComponentType=E,this.config=R,this.urlTree=U,this.url=Q,this.paramsInheritanceStrategy=le,this.relativeLinkResolution=ye,this.urlSerializer=ft}recognize(){const A=Os(this.urlTree.root,[],[],this.config.filter(E=>void 0===E.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,A,It).pipe((0,$e.U)(E=>{if(null===E)return null;const R=new Qs([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},It,this.rootComponentType,null,this.urlTree.root,-1,{}),U=new Mr(R,E),Q=new qo(this.url,U);return this.inheritParamsAndData(Q._root),Q}))}inheritParamsAndData(A){const E=A.value,R=wo(E,this.paramsInheritanceStrategy);E.params=Object.freeze(R.params),E.data=Object.freeze(R.data),A.children.forEach(U=>this.inheritParamsAndData(U))}processSegmentGroup(A,E,R,U){return 0===R.segments.length&&R.hasChildren()?this.processChildren(A,E,R):this.processSegment(A,E,R,R.segments,U)}processChildren(A,E,R){return(0,K.D)(Object.keys(R.children)).pipe((0,Rt.b)(U=>{const Q=R.children[U],le=Qr(E,U);return this.processSegmentGroup(A,le,Q,U)}),(0,Ze.R)((U,Q)=>U&&Q?(U.push(...Q),U):null),function Xt(T,A=!1){return(0,Ot.e)((E,R)=>{let U=0;E.subscribe((0,Ke.x)(R,Q=>{const le=T(Q,U++);(le||A)&&R.next(Q),!le&&R.complete()}))})}(U=>null!==U),(0,dt.d)(null),We(),(0,$e.U)(U=>{if(null===U)return null;const Q=Ao(U);return function Uo(T){T.sort((A,E)=>A.value.outlet===It?-1:E.value.outlet===It?1:A.value.outlet.localeCompare(E.value.outlet))}(Q),Q}))}processSegment(A,E,R,U,Q){return(0,K.D)(E).pipe((0,Rt.b)(le=>this.processSegmentAgainstRoute(le._injector??A,le,R,U,Q)),(0,tt.P)(le=>!!le),vt(le=>{if(j(le))return pl(R,U,Q)?(0,x.of)([]):(0,x.of)(null);throw le}))}processSegmentAgainstRoute(A,E,R,U,Q){if(E.redirectTo||!Pa(E,R,U,Q))return(0,x.of)(null);let le;if("**"===E.path){const ye=U.length>0?_r(U).parameters:{},ft=Ps(R)+U.length,nn=new Qs(U,ye,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Z(E),Lr(E),E.component??E._loadedComponent??null,E,Ll(R),ft,L(E),ft);le=(0,x.of)({snapshot:nn,consumedSegments:[],remainingSegments:[]})}else le=_a(R,E,U,A).pipe((0,$e.U)(({matched:ye,consumedSegments:ft,remainingSegments:nn,parameters:or})=>{if(!ye)return null;const Qt=Ps(R)+ft.length;return{snapshot:new Qs(ft,or,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Z(E),Lr(E),E.component??E._loadedComponent??null,E,Ll(R),Qt,L(E),Qt),consumedSegments:ft,remainingSegments:nn}}));return le.pipe((0,Fe.w)(ye=>{if(null===ye)return(0,x.of)(null);const{snapshot:ft,consumedSegments:nn,remainingSegments:or}=ye;A=E._injector??A;const Qt=E._loadedInjector??A,Qn=function Cs(T){return T.children?T.children:T.loadChildren?T._loadedRoutes:[]}(E),{segmentGroup:Yi,slicedSegments:so}=Os(R,nn,or,Qn.filter(Zs=>void 0===Zs.redirectTo),this.relativeLinkResolution);if(0===so.length&&Yi.hasChildren())return this.processChildren(Qt,Qn,Yi).pipe((0,$e.U)(Zs=>null===Zs?null:[new Mr(ft,Zs)]));if(0===Qn.length&&0===so.length)return(0,x.of)([new Mr(ft,[])]);const la=Lr(E)===Q;return this.processSegment(Qt,Qn,Yi,so,la?It:Q).pipe((0,$e.U)(Zs=>null===Zs?null:[new Mr(ft,Zs)]))}))}}function Fl(T){const A=T.value.routeConfig;return A&&""===A.path&&void 0===A.redirectTo}function Ao(T){const A=[],E=new Set;for(const R of T){if(!Fl(R)){A.push(R);continue}const U=A.find(Q=>R.value.routeConfig===Q.value.routeConfig);void 0!==U?(U.children.push(...R.children),E.add(U)):A.push(R)}for(const R of E){const U=Ao(R.children);A.push(new Mr(R.value,U))}return A.filter(R=>!E.has(R))}function Ll(T){let A=T;for(;A._sourceSegment;)A=A._sourceSegment;return A}function Ps(T){let A=T,E=A._segmentIndexShift??0;for(;A._sourceSegment;)A=A._sourceSegment,E+=A._segmentIndexShift??0;return E-1}function Z(T){return T.data||{}}function L(T){return T.resolve||{}}function Yn(T){return"string"==typeof T.title||null===T.title}function pr(T){return(0,Fe.w)(A=>{const E=T(A);return E?(0,K.D)(E).pipe((0,$e.U)(()=>A)):(0,x.of)(A)})}let Jn=(()=>{class T{buildTitle(E){let R,U=E.root;for(;void 0!==U;)R=this.getResolvedTitleForRoute(U)??R,U=U.children.find(Q=>Q.outlet===It);return R}getResolvedTitleForRoute(E){return E.data[hn]}}return T.\u0275fac=function(E){return new(E||T)},T.\u0275prov=v.Yz7({token:T,factory:function(){return(0,v.f3M)(Ci)},providedIn:"root"}),T})(),Ci=(()=>{class T extends Jn{constructor(E){super(),this.title=E}updateTitle(E){const R=this.buildTitle(E);void 0!==R&&this.title.setTitle(R)}}return T.\u0275fac=function(E){return new(E||T)(v.LFG(An.Dx))},T.\u0275prov=v.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();class Er{}class zs extends class si{shouldDetach(A){return!1}store(A,E){}shouldAttach(A){return!1}retrieve(A){return null}shouldReuseRoute(A,E){return A.routeConfig===E.routeConfig}}{}const en=new v.OlP("",{providedIn:"root",factory:()=>({})}),Ft=new v.OlP("ROUTES");let rt=(()=>{class T{constructor(E,R){this.injector=E,this.compiler=R,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(E){if(this.componentLoaders.get(E))return this.componentLoaders.get(E);if(E._loadedComponent)return(0,x.of)(E._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(E);const R=Fn(E.loadComponent()).pipe((0,xt.b)(Q=>{this.onLoadEndListener&&this.onLoadEndListener(E),E._loadedComponent=Q}),pn(()=>{this.componentLoaders.delete(E)})),U=new Se(R,()=>new Wt.x).pipe(Je());return this.componentLoaders.set(E,U),U}loadChildren(E,R){if(this.childrenLoaders.get(R))return this.childrenLoaders.get(R);if(R._loadedRoutes)return(0,x.of)({routes:R._loadedRoutes,injector:R._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(R);const Q=this.loadModuleFactoryOrRoutes(R.loadChildren).pipe((0,$e.U)(ye=>{this.onLoadEndListener&&this.onLoadEndListener(R);let ft,nn,or=!1;Array.isArray(ye)?nn=ye:(ft=ye.create(E).injector,nn=qn(ft.get(Ft,[],v.XFs.Self|v.XFs.Optional)));return{routes:nn.map(Di),injector:ft}}),pn(()=>{this.childrenLoaders.delete(R)})),le=new Se(Q,()=>new Wt.x).pipe(Je());return this.childrenLoaders.set(R,le),le}loadModuleFactoryOrRoutes(E){return Fn(E()).pipe((0,et.z)(R=>R instanceof v.YKP||Array.isArray(R)?(0,x.of)(R):(0,K.D)(this.compiler.compileModuleAsync(R))))}}return T.\u0275fac=function(E){return new(E||T)(v.LFG(v.zs3),v.LFG(v.Sil))},T.\u0275prov=v.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();class St{}class Ei{shouldProcessUrl(A){return!0}extract(A){return A}merge(A,E){return A}}function tc(T){throw T}function Vl(T,A,E){return A.parse("/")}const eu={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ml={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function Ba(){const T=(0,v.f3M)(Kn),A=(0,v.f3M)($r),E=(0,v.f3M)(ct.Ye),R=(0,v.f3M)(v.zs3),U=(0,v.f3M)(v.Sil),Q=(0,v.f3M)(Ft,{optional:!0})??[],le=(0,v.f3M)(en,{optional:!0})??{},ye=(0,v.f3M)(Ci),ft=(0,v.f3M)(Jn,{optional:!0}),nn=(0,v.f3M)(St,{optional:!0}),or=(0,v.f3M)(Er,{optional:!0}),Qt=new oi(null,T,A,E,R,U,qn(Q));return nn&&(Qt.urlHandlingStrategy=nn),or&&(Qt.routeReuseStrategy=or),Qt.titleStrategy=ft??ye,function _l(T,A){T.errorHandler&&(A.errorHandler=T.errorHandler),T.malformedUriErrorHandler&&(A.malformedUriErrorHandler=T.malformedUriErrorHandler),T.onSameUrlNavigation&&(A.onSameUrlNavigation=T.onSameUrlNavigation),T.paramsInheritanceStrategy&&(A.paramsInheritanceStrategy=T.paramsInheritanceStrategy),T.relativeLinkResolution&&(A.relativeLinkResolution=T.relativeLinkResolution),T.urlUpdateStrategy&&(A.urlUpdateStrategy=T.urlUpdateStrategy),T.canceledNavigationResolution&&(A.canceledNavigationResolution=T.canceledNavigationResolution)}(le,Qt),Qt}let oi=(()=>{class T{constructor(E,R,U,Q,le,ye,ft){this.rootComponentType=E,this.urlSerializer=R,this.rootContexts=U,this.location=Q,this.config=ft,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Wt.x,this.errorHandler=tc,this.malformedUriErrorHandler=Vl,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,x.of)(void 0),this.urlHandlingStrategy=new Ei,this.routeReuseStrategy=new zs,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=le.get(rt),this.configLoader.onLoadEndListener=Qn=>this.triggerEvent(new hi(Qn)),this.configLoader.onLoadStartListener=Qn=>this.triggerEvent(new xi(Qn)),this.ngModule=le.get(v.h0i),this.console=le.get(v.c2e);const Qt=le.get(v.R0b);this.isNgZoneEnabled=Qt instanceof v.R0b&&v.R0b.isInAngularZone(),this.resetConfig(ft),this.currentUrlTree=function He(){return new wn(new cn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=ho(this.currentUrlTree,this.rootComponentType),this.transitions=new l.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(E){const R=this.events;return E.pipe((0,se.h)(U=>0!==U.id),(0,$e.U)(U=>({...U,extractedUrl:this.urlHandlingStrategy.extract(U.rawUrl)})),(0,Fe.w)(U=>{let Q=!1,le=!1;return(0,x.of)(U).pipe((0,xt.b)(ye=>{this.currentNavigation={id:ye.id,initialUrl:ye.rawUrl,extractedUrl:ye.extractedUrl,trigger:ye.source,extras:ye.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Fe.w)(ye=>{const ft=this.browserUrlTree.toString(),nn=!this.navigated||ye.extractedUrl.toString()!==ft||ft!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||nn)&&this.urlHandlingStrategy.shouldProcessUrl(ye.rawUrl))return Eu(ye.source)&&(this.browserUrlTree=ye.extractedUrl),(0,x.of)(ye).pipe((0,Fe.w)(Qt=>{const Qn=this.transitions.getValue();return R.next(new As(Qt.id,this.serializeUrl(Qt.extractedUrl),Qt.source,Qt.restoredState)),Qn!==this.transitions.getValue()?Ue.E:Promise.resolve(Qt)}),function gl(T,A,E,R){return(0,Fe.w)(U=>function La(T,A,E,R,U){return new Ka(T,A,E,R,U).apply()}(T,A,E,U.extractedUrl,R).pipe((0,$e.U)(Q=>({...U,urlAfterRedirects:Q}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,xt.b)(Qt=>{this.currentNavigation={...this.currentNavigation,finalUrl:Qt.urlAfterRedirects},U.urlAfterRedirects=Qt.urlAfterRedirects}),function X(T,A,E,R,U,Q){return(0,et.z)(le=>function Ua(T,A,E,R,U,Q,le="emptyOnly",ye="legacy"){return new Cu(T,A,E,R,U,le,ye,Q).recognize().pipe((0,Fe.w)(ft=>null===ft?function Pl(T){return new Ie.y(A=>A.error(T))}(new Va):(0,x.of)(ft)))}(T,A,E,le.urlAfterRedirects,R.serialize(le.urlAfterRedirects),R,U,Q).pipe((0,$e.U)(ye=>({...le,targetSnapshot:ye}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,xt.b)(Qt=>{if(U.targetSnapshot=Qt.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!Qt.extras.skipLocationChange){const Yi=this.urlHandlingStrategy.merge(Qt.urlAfterRedirects,Qt.rawUrl);this.setBrowserUrl(Yi,Qt)}this.browserUrlTree=Qt.urlAfterRedirects}const Qn=new wi(Qt.id,this.serializeUrl(Qt.extractedUrl),this.serializeUrl(Qt.urlAfterRedirects),Qt.targetSnapshot);R.next(Qn)}));if(nn&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Qn,extractedUrl:Yi,source:so,restoredState:la,extras:Zs}=ye,Xa=new As(Qn,this.serializeUrl(Yi),so,la);R.next(Xa);const $a=ho(Yi,this.rootComponentType).snapshot;return U={...ye,targetSnapshot:$a,urlAfterRedirects:Yi,extras:{...Zs,skipLocationChange:!1,replaceUrl:!1}},(0,x.of)(U)}return this.rawUrlTree=ye.rawUrl,ye.resolve(null),Ue.E}),(0,xt.b)(ye=>{const ft=new ga(ye.id,this.serializeUrl(ye.extractedUrl),this.serializeUrl(ye.urlAfterRedirects),ye.targetSnapshot);this.triggerEvent(ft)}),(0,$e.U)(ye=>U={...ye,guards:Qo(ye.targetSnapshot,ye.currentSnapshot,this.rootContexts)}),function ee(T,A){return(0,et.z)(E=>{const{targetSnapshot:R,currentSnapshot:U,guards:{canActivateChecks:Q,canDeactivateChecks:le}}=E;return 0===le.length&&0===Q.length?(0,x.of)({...E,guardsResult:!0}):function qe(T,A,E,R){return(0,K.D)(T).pipe((0,et.z)(U=>function li(T,A,E,R,U){const Q=A&&A.routeConfig?A.routeConfig.canDeactivate:null;if(!Q||0===Q.length)return(0,x.of)(!0);const le=Q.map(ye=>{const ft=xn(A)??U,nn=to(ye,ft);return Fn(function po(T){return T&&ps(T.canDeactivate)}(nn)?nn.canDeactivate(T,A,E,R):ft.runInContext(()=>nn(T,A,E,R))).pipe((0,tt.P)())});return(0,x.of)(le).pipe(O())}(U.component,U.route,E,A,R)),(0,tt.P)(U=>!0!==U,!0))}(le,R,U,T).pipe((0,et.z)(ye=>ye&&function ii(T){return"boolean"==typeof T}(ye)?function dn(T,A,E,R){return(0,K.D)(A).pipe((0,Rt.b)(U=>(0,he.z)(function ks(T,A){return null!==T&&A&&A(new ma(T)),(0,x.of)(!0)}(U.route.parent,R),function sr(T,A){return null!==T&&A&&A(new Re(T)),(0,x.of)(!0)}(U.route,R),function go(T,A,E){const R=A[A.length-1],Q=A.slice(0,A.length-1).reverse().map(le=>function zi(T){const A=T.routeConfig?T.routeConfig.canActivateChild:null;return A&&0!==A.length?{node:T,guards:A}:null}(le)).filter(le=>null!==le).map(le=>ce(()=>{const ye=le.guards.map(ft=>{const nn=xn(le.node)??E,or=to(ft,nn);return Fn(function Zi(T){return T&&ps(T.canActivateChild)}(or)?or.canActivateChild(R,T):nn.runInContext(()=>or(R,T))).pipe((0,tt.P)())});return(0,x.of)(ye).pipe(O())}));return(0,x.of)(Q).pipe(O())}(T,U.path,E),function Gs(T,A,E){const R=A.routeConfig?A.routeConfig.canActivate:null;if(!R||0===R.length)return(0,x.of)(!0);const U=R.map(Q=>ce(()=>{const le=xn(A)??E,ye=to(Q,le);return Fn(function Ra(T){return T&&ps(T.canActivate)}(ye)?ye.canActivate(A,T):le.runInContext(()=>ye(A,T))).pipe((0,tt.P)())}));return(0,x.of)(U).pipe(O())}(T,U.route,E))),(0,tt.P)(U=>!0!==U,!0))}(R,Q,T,A):(0,x.of)(ye)),(0,$e.U)(ye=>({...E,guardsResult:ye})))})}(this.ngModule.injector,ye=>this.triggerEvent(ye)),(0,xt.b)(ye=>{if(U.guardsResult=ye.guardsResult,zt(ye.guardsResult))throw Ns(0,ye.guardsResult);const ft=new di(ye.id,this.serializeUrl(ye.extractedUrl),this.serializeUrl(ye.urlAfterRedirects),ye.targetSnapshot,!!ye.guardsResult);this.triggerEvent(ft)}),(0,se.h)(ye=>!!ye.guardsResult||(this.restoreHistory(ye),this.cancelNavigationTransition(ye,"",3),!1)),pr(ye=>{if(ye.guards.canActivateChecks.length)return(0,x.of)(ye).pipe((0,xt.b)(ft=>{const nn=new Wo(ft.id,this.serializeUrl(ft.extractedUrl),this.serializeUrl(ft.urlAfterRedirects),ft.targetSnapshot);this.triggerEvent(nn)}),(0,Fe.w)(ft=>{let nn=!1;return(0,x.of)(ft).pipe(function be(T,A){return(0,et.z)(E=>{const{targetSnapshot:R,guards:{canActivateChecks:U}}=E;if(!U.length)return(0,x.of)(E);let Q=0;return(0,K.D)(U).pipe((0,Rt.b)(le=>function ot(T,A,E,R){const U=T.routeConfig,Q=T._resolve;return void 0!==U?.title&&!Yn(U)&&(Q[hn]=U.title),function bt(T,A,E,R){const U=function vn(T){return[...Object.keys(T),...Object.getOwnPropertySymbols(T)]}(T);if(0===U.length)return(0,x.of)({});const Q={};return(0,K.D)(U).pipe((0,et.z)(le=>function On(T,A,E,R){const U=xn(A)??R,Q=to(T,U);return Fn(Q.resolve?Q.resolve(A,E):U.runInContext(()=>Q(A,E)))}(T[le],A,E,R).pipe((0,tt.P)(),(0,xt.b)(ye=>{Q[le]=ye}))),lt(1),(0,qt.h)(Q),vt(le=>j(le)?Ue.E:_t(le)))}(Q,T,A,R).pipe((0,$e.U)(le=>(T._resolvedData=le,T.data=wo(T,E).resolve,U&&Yn(U)&&(T.data[hn]=U.title),null)))}(le.route,R,T,A)),(0,xt.b)(()=>Q++),lt(1),(0,et.z)(le=>Q===U.length?(0,x.of)(E):Ue.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,xt.b)({next:()=>nn=!0,complete:()=>{nn||(this.restoreHistory(ft),this.cancelNavigationTransition(ft,"",2))}}))}),(0,xt.b)(ft=>{const nn=new ko(ft.id,this.serializeUrl(ft.extractedUrl),this.serializeUrl(ft.urlAfterRedirects),ft.targetSnapshot);this.triggerEvent(nn)}))}),pr(ye=>{const ft=nn=>{const or=[];nn.routeConfig?.loadComponent&&!nn.routeConfig._loadedComponent&&or.push(this.configLoader.loadComponent(nn.routeConfig).pipe((0,xt.b)(Qt=>{nn.component=Qt}),(0,$e.U)(()=>{})));for(const Qt of nn.children)or.push(...ft(Qt));return or};return(0,Ce.a)(ft(ye.targetSnapshot.root)).pipe((0,dt.d)(),(0,Pt.q)(1))}),pr(()=>this.afterPreactivation()),(0,$e.U)(ye=>{const ft=function Ro(T,A,E){const R=hs(T,A._root,E?E._root:void 0);return new Ti(R,A)}(this.routeReuseStrategy,ye.targetSnapshot,ye.currentRouterState);return U={...ye,targetRouterState:ft}}),(0,xt.b)(ye=>{this.currentUrlTree=ye.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(ye.urlAfterRedirects,ye.rawUrl),this.routerState=ye.targetRouterState,"deferred"===this.urlUpdateStrategy&&(ye.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,ye),this.browserUrlTree=ye.urlAfterRedirects)}),((T,A,E)=>(0,$e.U)(R=>(new fo(A,R.targetRouterState,R.currentRouterState,E).activate(T),R)))(this.rootContexts,this.routeReuseStrategy,ye=>this.triggerEvent(ye)),(0,xt.b)({next(){Q=!0},complete(){Q=!0}}),pn(()=>{Q||le||this.cancelNavigationTransition(U,"",1),this.currentNavigation?.id===U.id&&(this.currentNavigation=null)}),vt(ye=>{if(le=!0,xs(ye)){ki(ye)||(this.navigated=!0,this.restoreHistory(U,!0));const ft=new ti(U.id,this.serializeUrl(U.extractedUrl),ye.message,ye.cancellationCode);if(R.next(ft),ki(ye)){const nn=this.urlHandlingStrategy.merge(ye.url,this.rawUrlTree),or={skipLocationChange:U.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Eu(U.source)};this.scheduleNavigation(nn,"imperative",null,or,{resolve:U.resolve,reject:U.reject,promise:U.promise})}else U.resolve(!1)}else{this.restoreHistory(U,!0);const ft=new Hs(U.id,this.serializeUrl(U.extractedUrl),ye,U.targetSnapshot??void 0);R.next(ft);try{U.resolve(this.errorHandler(ye))}catch(nn){U.reject(nn)}}return Ue.E}))}))}resetRootComponentType(E){this.rootComponentType=E,this.routerState.root.component=this.rootComponentType}setTransition(E){this.transitions.next({...this.transitions.value,...E})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(E=>{const R="popstate"===E.type?"popstate":"hashchange";"popstate"===R&&setTimeout(()=>{const U={replaceUrl:!0},Q=E.state?.navigationId?E.state:null;if(Q){const ye={...Q};delete ye.navigationId,delete ye.\u0275routerPageId,0!==Object.keys(ye).length&&(U.state=ye)}const le=this.parseUrl(E.url);this.scheduleNavigation(le,R,Q,U)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(E){this.events.next(E)}resetConfig(E){this.config=E.map(Di),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(E,R={}){const{relativeTo:U,queryParams:Q,fragment:le,queryParamsHandling:ye,preserveFragment:ft}=R,nn=U||this.routerState.root,or=ft?this.currentUrlTree.fragment:le;let Qt=null;switch(ye){case"merge":Qt={...this.currentUrlTree.queryParams,...Q};break;case"preserve":Qt=this.currentUrlTree.queryParams;break;default:Qt=Q||null}return null!==Qt&&(Qt=this.removeEmptyProps(Qt)),Un(nn,this.currentUrlTree,E,Qt,or??null)}navigateByUrl(E,R={skipLocationChange:!1}){const U=zt(E)?E:this.parseUrl(E),Q=this.urlHandlingStrategy.merge(U,this.rawUrlTree);return this.scheduleNavigation(Q,"imperative",null,R)}navigate(E,R={skipLocationChange:!1}){return function ra(T){for(let A=0;A<T.length;A++){if(null==T[A])throw new v.vHH(4008,false)}}(E),this.navigateByUrl(this.createUrlTree(E,R),R)}serializeUrl(E){return this.urlSerializer.serialize(E)}parseUrl(E){let R;try{R=this.urlSerializer.parse(E)}catch(U){R=this.malformedUriErrorHandler(U,this.urlSerializer,E)}return R}isActive(E,R){let U;if(U=!0===R?{...eu}:!1===R?{...ml}:R,zt(E))return oe(this.currentUrlTree,E,U);const Q=this.parseUrl(E);return oe(this.currentUrlTree,Q,U)}removeEmptyProps(E){return Object.keys(E).reduce((R,U)=>{const Q=E[U];return null!=Q&&(R[U]=Q),R},{})}processNavigations(){this.navigations.subscribe(E=>{this.navigated=!0,this.lastSuccessfulId=E.id,this.currentPageId=E.targetPageId,this.events.next(new Cr(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),E.resolve(!0)},E=>{this.console.warn(`Unhandled Navigation Error: ${E}`)})}scheduleNavigation(E,R,U,Q,le){if(this.disposed)return Promise.resolve(!1);let ye,ft,nn;le?(ye=le.resolve,ft=le.reject,nn=le.promise):nn=new Promise((Qn,Yi)=>{ye=Qn,ft=Yi});const or=++this.navigationId;let Qt;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(U=this.location.getState()),Qt=U&&U.\u0275routerPageId?U.\u0275routerPageId:Q.replaceUrl||Q.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):Qt=0,this.setTransition({id:or,targetPageId:Qt,source:R,restoredState:U,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:E,extras:Q,resolve:ye,reject:ft,promise:nn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),nn.catch(Qn=>Promise.reject(Qn))}setBrowserUrl(E,R){const U=this.urlSerializer.serialize(E),Q={...R.extras.state,...this.generateNgRouterState(R.id,R.targetPageId)};this.location.isCurrentPathEqualTo(U)||R.extras.replaceUrl?this.location.replaceState(U,"",Q):this.location.go(U,"",Q)}restoreHistory(E,R=!1){if("computed"===this.canceledNavigationResolution){const U=this.currentPageId-E.targetPageId;"popstate"!==E.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===U?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===U&&(this.resetState(E),this.browserUrlTree=E.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(U)}else"replace"===this.canceledNavigationResolution&&(R&&this.resetState(E),this.resetUrlToCurrentUrlTree())}resetState(E){this.routerState=E.currentRouterState,this.currentUrlTree=E.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,E.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(E,R,U){const Q=new ti(E.id,this.serializeUrl(E.extractedUrl),R,U);this.triggerEvent(Q),E.resolve(!1)}generateNgRouterState(E,R){return"computed"===this.canceledNavigationResolution?{navigationId:E,\u0275routerPageId:R}:{navigationId:E}}}return T.\u0275fac=function(E){v.$Z()},T.\u0275prov=v.Yz7({token:T,factory:function(){return Ba()},providedIn:"root"}),T})();function Eu(T){return"imperative"!==T}let jn=(()=>{class T{constructor(E,R,U){this.router=E,this.route=R,this.locationStrategy=U,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new Wt.x,this.subscription=E.events.subscribe(Q=>{Q instanceof Cr&&this.updateTargetUrlAndHref()})}set preserveFragment(E){this._preserveFragment=(0,v.D6c)(E)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(E){this._skipLocationChange=(0,v.D6c)(E)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(E){this._replaceUrl=(0,v.D6c)(E)}get replaceUrl(){return this._replaceUrl}set routerLink(E){this.commands=null!=E?Array.isArray(E)?E:[E]:null}ngOnChanges(E){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(E,R,U,Q,le){return!!(0!==E||R||U||Q||le||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return T.\u0275fac=function(E){return new(E||T)(v.Y36(oi),v.Y36($i),v.Y36(ct.S$))},T.\u0275dir=v.lG2({type:T,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(E,R){1&E&&v.NdJ("click",function(Q){return R.onClick(Q.button,Q.ctrlKey,Q.shiftKey,Q.altKey,Q.metaKey)}),2&E&&v.uIk("target",R.target)("href",R.href,v.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[v.TTD]}),T})();class Kr{}let Ir=(()=>{class T{constructor(E,R,U,Q,le){this.router=E,this.injector=U,this.preloadingStrategy=Q,this.loader=le}setUpPreloading(){this.subscription=this.router.events.pipe((0,se.h)(E=>E instanceof Cr),(0,Rt.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(E,R){const U=[];for(const Q of R){Q.providers&&!Q._injector&&(Q._injector=(0,v.MMx)(Q.providers,E,`Route: ${Q.path}`));const le=Q._injector??E,ye=Q._loadedInjector??le;Q.loadChildren&&!Q._loadedRoutes&&void 0===Q.canLoad||Q.loadComponent&&!Q._loadedComponent?U.push(this.preloadConfig(le,Q)):(Q.children||Q._loadedRoutes)&&U.push(this.processRoutes(ye,Q.children??Q._loadedRoutes))}return(0,K.D)(U).pipe((0,Lt.J)())}preloadConfig(E,R){return this.preloadingStrategy.preload(R,()=>{let U;U=R.loadChildren&&void 0===R.canLoad?this.loader.loadChildren(E,R):(0,x.of)(null);const Q=U.pipe((0,et.z)(le=>null===le?(0,x.of)(void 0):(R._loadedRoutes=le.routes,R._loadedInjector=le.injector,this.processRoutes(le.injector??E,le.routes))));if(R.loadComponent&&!R._loadedComponent){const le=this.loader.loadComponent(R);return(0,K.D)([Q,le]).pipe((0,Lt.J)())}return Q})}}return T.\u0275fac=function(E){return new(E||T)(v.LFG(oi),v.LFG(v.Sil),v.LFG(v.lqb),v.LFG(Kr),v.LFG(rt))},T.\u0275prov=v.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();const yl=new v.OlP("");let vr=(()=>{class T{constructor(E,R,U={}){this.router=E,this.viewportScroller=R,this.options=U,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},U.scrollPositionRestoration=U.scrollPositionRestoration||"disabled",U.anchorScrolling=U.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(E=>{E instanceof As?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=E.navigationTrigger,this.restoredId=E.restoredState?E.restoredState.navigationId:0):E instanceof Cr&&(this.lastId=E.id,this.scheduleScrollEvent(E,this.router.parseUrl(E.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(E=>{E instanceof Ge&&(E.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(E.position):E.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(E.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(E,R){this.router.triggerEvent(new Ge(E,"popstate"===this.lastSource?this.store[this.restoredId]:null,R))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return T.\u0275fac=function(E){v.$Z()},T.\u0275prov=v.Yz7({token:T,factory:T.\u0275fac}),T})();function Ls(T,A){return{\u0275kind:T,\u0275providers:A}}function _o(T){return[{provide:Ft,multi:!0,useValue:T}]}function Ul(){const T=(0,v.f3M)(v.zs3);return A=>{const E=T.get(v.z2F);if(A!==E.components[0])return;const R=T.get(oi),U=T.get(cr);1===T.get(Bl)&&R.initialNavigation(),T.get(_s,null,v.XFs.Optional)?.setUpPreloading(),T.get(yl,null,v.XFs.Optional)?.init(),R.resetRootComponentType(E.componentTypes[0]),U.closed||(U.next(),U.unsubscribe())}}const cr=new v.OlP("",{factory:()=>new Wt.x}),Bl=new v.OlP("",{providedIn:"root",factory:()=>1});const _s=new v.OlP("");function Qa(T){return Ls(0,[{provide:_s,useExisting:Ir},{provide:Kr,useExisting:T}])}const iu=new v.OlP("ROUTER_FORROOT_GUARD"),Jr=[ct.Ye,{provide:Kn,useClass:Nr},{provide:oi,useFactory:Ba},$r,{provide:$i,useFactory:function Ja(T){return T.routerState.root},deps:[oi]},rt];function Iu(){return new v.PXZ("Router",oi)}let aa=(()=>{class T{constructor(E){}static forRoot(E,R){return{ngModule:T,providers:[Jr,[],_o(E),{provide:iu,useFactory:io,deps:[[oi,new v.FiY,new v.tp0]]},{provide:en,useValue:R||{}},R?.useHash?{provide:ct.S$,useClass:ct.Do}:{provide:ct.S$,useClass:ct.b0},{provide:yl,useFactory:()=>{const T=(0,v.f3M)(oi),A=(0,v.f3M)(ct.EM),E=(0,v.f3M)(en);return E.scrollOffset&&A.setOffset(E.scrollOffset),new vr(T,A,E)}},R?.preloadingStrategy?Qa(R.preloadingStrategy).\u0275providers:[],{provide:v.PXZ,multi:!0,useFactory:Iu},R?.initialNavigation?$l(R):[],[{provide:va,useFactory:Ul},{provide:v.tb,multi:!0,useExisting:va}]]}}static forChild(E){return{ngModule:T,providers:[_o(E)]}}}return T.\u0275fac=function(E){return new(E||T)(v.LFG(iu,8))},T.\u0275mod=v.oAB({type:T}),T.\u0275inj=v.cJS({imports:[Hr]}),T})();function io(T){return"guarded"}function $l(T){return["disabled"===T.initialNavigation?Ls(3,[{provide:v.ip1,multi:!0,useFactory:()=>{const A=(0,v.f3M)(oi);return()=>{A.setUpLocationChangeListener()}}},{provide:Bl,useValue:2}]).\u0275providers:[],"enabledBlocking"===T.initialNavigation?Ls(2,[{provide:Bl,useValue:0},{provide:v.ip1,multi:!0,deps:[v.zs3],useFactory:A=>{const E=A.get(ct.V_,Promise.resolve());let R=!1;return()=>E.then(()=>new Promise(Q=>{const le=A.get(oi),ye=A.get(cr);(function U(Q){A.get(oi).events.pipe((0,se.h)(ye=>ye instanceof Cr||ye instanceof ti||ye instanceof Hs),(0,$e.U)(ye=>ye instanceof Cr||ye instanceof ti&&(0===ye.code||1===ye.code)&&null),(0,se.h)(ye=>null!==ye),(0,Pt.q)(1)).subscribe(()=>{Q()})})(()=>{Q(!0),R=!0}),le.afterPreactivation=()=>(Q(!0),R||ye.closed?(0,x.of)(void 0):ye),le.initialNavigation()}))}}]).\u0275providers:[]]}const va=new v.OlP("")},3942:(tn,ze,B)=>{B.d(ze,{Z:()=>Be});var v=B(2090),K=B(4859),x=B(9681),l=B(1877);class Ee{constructor(Ke,Je){this._delegate=Ke,this.firebase=Je,(0,x._addComponent)(Ke,new K.wA("app-compat",()=>this,"PUBLIC")),this.container=Ke.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ke){this._delegate.automaticDataCollectionEnabled=Ke}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ke=>{this._delegate.checkDestroyed(),Ke()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,x.deleteApp)(this._delegate)))}_getService(Ke,Je=x._DEFAULT_ENTRY_NAME){var Se;this._delegate.checkDestroyed();const Wt=this._delegate.container.getProvider(Ke);return!Wt.isInitialized()&&"EXPLICIT"===(null===(Se=Wt.getComponent())||void 0===Se?void 0:Se.instantiationMode)&&Wt.initialize(),Wt.getImmediate({identifier:Je})}_removeServiceInstance(Ke,Je=x._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ke).clearInstance(Je)}_addComponent(Ke){(0,x._addComponent)(this._delegate,Ke)}_addOrOverwriteComponent(Ke){(0,x._addOrOverwriteComponent)(this._delegate,Ke)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const he=new v.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ce=function Pe(){const Ot=function Ie(Ot){const Ke={},Je={__esModule:!0,initializeApp:function ct(Dt,se={}){const et=x.initializeApp(Dt,se);if((0,v.r3)(Ke,et.name))return Ke[et.name];const tt=new Ot(et,Je);return Ke[et.name]=tt,tt},app:Wt,registerVersion:x.registerVersion,setLogLevel:x.setLogLevel,onLog:x.onLog,apps:null,SDK_VERSION:x.SDK_VERSION,INTERNAL:{registerComponent:function Fe(Dt){const se=Dt.name,et=se.replace("-compat","");if(x._registerComponent(Dt)&&"PUBLIC"===Dt.type){const tt=(Rt=Wt())=>{if("function"!=typeof Rt[et])throw he.create("invalid-app-argument",{appName:se});return Rt[et]()};void 0!==Dt.serviceProps&&(0,v.ZB)(tt,Dt.serviceProps),Je[et]=tt,Ot.prototype[et]=function(...Rt){return this._getService.bind(this,se).apply(this,Dt.multipleInstances?Rt:[])}}return"PUBLIC"===Dt.type?Je[et]:null},removeApp:function Se(Dt){delete Ke[Dt]},useAsService:function Pt(Dt,se){return"serverAuth"===se?null:se},modularAPIs:x}};function Wt(Dt){if(!(0,v.r3)(Ke,Dt=Dt||x._DEFAULT_ENTRY_NAME))throw he.create("no-app",{appName:Dt});return Ke[Dt]}return Je.default=Je,Object.defineProperty(Je,"apps",{get:function $e(){return Object.keys(Ke).map(Dt=>Ke[Dt])}}),Wt.App=Ot,Je}(Ee);return Ot.INTERNAL=Object.assign(Object.assign({},Ot.INTERNAL),{createFirebaseNamespace:Pe,extendNamespace:function Ke(Je){(0,v.ZB)(Ot,Je)},createSubscribe:v.ne,ErrorFactory:v.LL,deepExtend:v.ZB}),Ot}(),de=new l.Yd("@firebase/app-compat");if((0,v.jU)()&&void 0!==self.firebase){de.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ot=self.firebase.SDK_VERSION;Ot&&Ot.indexOf("LITE")>=0&&de.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Be=ce;!function Ue(Ot){(0,x.registerVersion)("@firebase/app-compat","0.2.6",Ot)}()},9681:(tn,ze,B)=>{B.r(ze),B.d(ze,{FirebaseError:()=>l.ZR,SDK_VERSION:()=>rr,_DEFAULT_ENTRY_NAME:()=>pt,_addComponent:()=>pn,_addOrOverwriteComponent:()=>Lt,_apps:()=>Xt,_clearComponents:()=>zn,_components:()=>qt,_getProvider:()=>It,_registerComponent:()=>An,_removeServiceInstance:()=>hn,deleteApp:()=>yr,getApp:()=>qn,getApps:()=>_r,initializeApp:()=>kr,onLog:()=>Zn,registerVersion:()=>Fn,setLogLevel:()=>He});var v=B(5861),K=B(4859),x=B(1877),l=B(2090),Ee=B(8766);class Ce{constructor(nt){this.container=nt}getPlatformInfoString(){return this.container.getProviders().map(kt=>{if(function he(rn){return"VERSION"===rn.getComponent()?.type}(kt)){const an=kt.getImmediate();return`${an.library}/${an.version}`}return null}).filter(kt=>kt).join(" ")}}const Ie="@firebase/app",ce=new x.Yd("@firebase/app"),pt="[DEFAULT]",We={[Ie]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Xt=new Map,qt=new Map;function pn(rn,nt){try{rn.container.addComponent(nt)}catch(kt){ce.debug(`Component ${nt.name} failed to register with FirebaseApp ${rn.name}`,kt)}}function Lt(rn,nt){rn.container.addOrOverwriteComponent(nt)}function An(rn){const nt=rn.name;if(qt.has(nt))return ce.debug(`There were multiple attempts to register component ${nt}.`),!1;qt.set(nt,rn);for(const kt of Xt.values())pn(kt,rn);return!0}function It(rn,nt){const kt=rn.container.getProvider("heartbeat").getImmediate({optional:!0});return kt&&kt.triggerHeartbeat(),rn.container.getProvider(nt)}function hn(rn,nt,kt=pt){It(rn,nt).clearInstance(kt)}function zn(){qt.clear()}const hr=new l.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class ar{constructor(nt,kt,an){this._isDeleted=!1,this._options=Object.assign({},nt),this._config=Object.assign({},kt),this._name=kt.name,this._automaticDataCollectionEnabled=kt.automaticDataCollectionEnabled,this._container=an,this.container.addComponent(new K.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(nt){this.checkDestroyed(),this._automaticDataCollectionEnabled=nt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(nt){this._isDeleted=nt}checkDestroyed(){if(this.isDeleted)throw hr.create("app-deleted",{appName:this._name})}}const rr="9.19.0";function kr(rn,nt={}){let kt=rn;"object"!=typeof nt&&(nt={name:nt});const an=Object.assign({name:pt,automaticDataCollectionEnabled:!1},nt),Sn=an.name;if("string"!=typeof Sn||!Sn)throw hr.create("bad-app-name",{appName:String(Sn)});if(kt||(kt=(0,l.aH)()),!kt)throw hr.create("no-options");const In=Xt.get(Sn);if(In){if((0,l.vZ)(kt,In.options)&&(0,l.vZ)(an,In.config))return In;throw hr.create("duplicate-app",{appName:Sn})}const Dr=new K.H0(Sn);for(const fe of qt.values())Dr.addComponent(fe);const ve=new ar(kt,an,Dr);return Xt.set(Sn,ve),ve}function qn(rn=pt){const nt=Xt.get(rn);if(!nt&&rn===pt)return kr();if(!nt)throw hr.create("no-app",{appName:rn});return nt}function _r(){return Array.from(Xt.values())}function yr(rn){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,v.Z)(function*(rn){const nt=rn.name;Xt.has(nt)&&(Xt.delete(nt),yield Promise.all(rn.container.getProviders().map(kt=>kt.delete())),rn.isDeleted=!0)})).apply(this,arguments)}function Fn(rn,nt,kt){var an;let Sn=null!==(an=We[rn])&&void 0!==an?an:rn;kt&&(Sn+=`-${kt}`);const In=Sn.match(/\s|\//),Dr=nt.match(/\s|\//);if(In||Dr){const ve=[`Unable to register library "${Sn}" with version "${nt}":`];return In&&ve.push(`library name "${Sn}" contains illegal characters (whitespace or "/")`),In&&Dr&&ve.push("and"),Dr&&ve.push(`version name "${nt}" contains illegal characters (whitespace or "/")`),void ce.warn(ve.join(" "))}An(new K.wA(`${Sn}-version`,()=>({library:Sn,version:nt}),"VERSION"))}function Zn(rn,nt){if(null!==rn&&"function"!=typeof rn)throw hr.create("invalid-log-argument");(0,x.Am)(rn,nt)}function He(rn){(0,x.Ub)(rn)}const oe="firebase-heartbeat-store";let Ve=null;function Ct(){return Ve||(Ve=(0,Ee.X3)("firebase-heartbeat-database",1,{upgrade:(rn,nt)=>{0===nt&&rn.createObjectStore(oe)}}).catch(rn=>{throw hr.create("idb-open",{originalErrorMessage:rn.message})})),Ve}function Nt(){return(Nt=(0,v.Z)(function*(rn){try{return(yield Ct()).transaction(oe).objectStore(oe).get(wn(rn))}catch(nt){if(nt instanceof l.ZR)ce.warn(nt.message);else{const kt=hr.create("idb-get",{originalErrorMessage:nt?.message});ce.warn(kt.message)}}})).apply(this,arguments)}function ht(rn,nt){return jt.apply(this,arguments)}function jt(){return(jt=(0,v.Z)(function*(rn,nt){try{const an=(yield Ct()).transaction(oe,"readwrite");return yield an.objectStore(oe).put(nt,wn(rn)),an.done}catch(kt){if(kt instanceof l.ZR)ce.warn(kt.message);else{const an=hr.create("idb-set",{originalErrorMessage:kt?.message});ce.warn(an.message)}}})).apply(this,arguments)}function wn(rn){return`${rn.name}!${rn.options.appId}`}class ir{constructor(nt){this.container=nt,this._heartbeatsCache=null;const kt=this.container.getProvider("app").getImmediate();this._storage=new Kn(kt),this._heartbeatsCachePromise=this._storage.read().then(an=>(this._heartbeatsCache=an,an))}triggerHeartbeat(){var nt=this;return(0,v.Z)(function*(){const an=nt.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Sn=En();if(null===nt._heartbeatsCache&&(nt._heartbeatsCache=yield nt._heartbeatsCachePromise),nt._heartbeatsCache.lastSentHeartbeatDate!==Sn&&!nt._heartbeatsCache.heartbeats.some(In=>In.date===Sn))return nt._heartbeatsCache.heartbeats.push({date:Sn,agent:an}),nt._heartbeatsCache.heartbeats=nt._heartbeatsCache.heartbeats.filter(In=>{const Dr=new Date(In.date).valueOf();return Date.now()-Dr<=2592e6}),nt._storage.overwrite(nt._heartbeatsCache)})()}getHeartbeatsHeader(){var nt=this;return(0,v.Z)(function*(){if(null===nt._heartbeatsCache&&(yield nt._heartbeatsCachePromise),null===nt._heartbeatsCache||0===nt._heartbeatsCache.heartbeats.length)return"";const kt=En(),{heartbeatsToSend:an,unsentEntries:Sn}=function zr(rn,nt=1024){const kt=[];let an=rn.slice();for(const Sn of rn){const In=kt.find(Dr=>Dr.agent===Sn.agent);if(In){if(In.dates.push(Sn.date),Nr(kt)>nt){In.dates.pop();break}}else if(kt.push({agent:Sn.agent,dates:[Sn.date]}),Nr(kt)>nt){kt.pop();break}an=an.slice(1)}return{heartbeatsToSend:kt,unsentEntries:an}}(nt._heartbeatsCache.heartbeats),In=(0,l.L)(JSON.stringify({version:2,heartbeats:an}));return nt._heartbeatsCache.lastSentHeartbeatDate=kt,Sn.length>0?(nt._heartbeatsCache.heartbeats=Sn,yield nt._storage.overwrite(nt._heartbeatsCache)):(nt._heartbeatsCache.heartbeats=[],nt._storage.overwrite(nt._heartbeatsCache)),In})()}}function En(){return(new Date).toISOString().substring(0,10)}class Kn{constructor(nt){this.app=nt,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,v.Z)(function*(){return!!(0,l.hl)()&&(0,l.eu)().then(()=>!0).catch(()=>!1)})()}read(){var nt=this;return(0,v.Z)(function*(){return(yield nt._canUseIndexedDBPromise)&&(yield function Mt(rn){return Nt.apply(this,arguments)}(nt.app))||{heartbeats:[]}})()}overwrite(nt){var kt=this;return(0,v.Z)(function*(){var an;if(yield kt._canUseIndexedDBPromise){const In=yield kt.read();return ht(kt.app,{lastSentHeartbeatDate:null!==(an=nt.lastSentHeartbeatDate)&&void 0!==an?an:In.lastSentHeartbeatDate,heartbeats:nt.heartbeats})}})()}add(nt){var kt=this;return(0,v.Z)(function*(){var an;if(yield kt._canUseIndexedDBPromise){const In=yield kt.read();return ht(kt.app,{lastSentHeartbeatDate:null!==(an=nt.lastSentHeartbeatDate)&&void 0!==an?an:In.lastSentHeartbeatDate,heartbeats:[...In.heartbeats,...nt.heartbeats]})}})()}}function Nr(rn){return(0,l.L)(JSON.stringify({version:2,heartbeats:rn})).length}!function Fr(rn){An(new K.wA("platform-logger",nt=>new Ce(nt),"PRIVATE")),An(new K.wA("heartbeat",nt=>new ir(nt),"PRIVATE")),Fn(Ie,"0.9.6",rn),Fn(Ie,"0.9.6","esm2017"),Fn("fire-js","")}("")},4859:(tn,ze,B)=>{B.d(ze,{H0:()=>Ie,wA:()=>x});var v=B(5861),K=B(2090);class x{constructor(ce,de,we){this.name=ce,this.instanceFactory=de,this.type=we,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ce){return this.instantiationMode=ce,this}setMultipleInstances(ce){return this.multipleInstances=ce,this}setServiceProps(ce){return this.serviceProps=ce,this}setInstanceCreatedCallback(ce){return this.onInstanceCreated=ce,this}}const l="[DEFAULT]";class Ee{constructor(ce,de){this.name=ce,this.container=de,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ce){const de=this.normalizeInstanceIdentifier(ce);if(!this.instancesDeferred.has(de)){const we=new K.BH;if(this.instancesDeferred.set(de,we),this.isInitialized(de)||this.shouldAutoInitialize())try{const _t=this.getOrInitializeService({instanceIdentifier:de});_t&&we.resolve(_t)}catch{}}return this.instancesDeferred.get(de).promise}getImmediate(ce){var de;const we=this.normalizeInstanceIdentifier(ce?.identifier),_t=null!==(de=ce?.optional)&&void 0!==de&&de;if(!this.isInitialized(we)&&!this.shouldAutoInitialize()){if(_t)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:we})}catch(Ue){if(_t)return null;throw Ue}}getComponent(){return this.component}setComponent(ce){if(ce.name!==this.name)throw Error(`Mismatching Component ${ce.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ce,this.shouldAutoInitialize()){if(function he(Pe){return"EAGER"===Pe.instantiationMode}(ce))try{this.getOrInitializeService({instanceIdentifier:l})}catch{}for(const[de,we]of this.instancesDeferred.entries()){const _t=this.normalizeInstanceIdentifier(de);try{const Ue=this.getOrInitializeService({instanceIdentifier:_t});we.resolve(Ue)}catch{}}}}clearInstance(ce=l){this.instancesDeferred.delete(ce),this.instancesOptions.delete(ce),this.instances.delete(ce)}delete(){var ce=this;return(0,v.Z)(function*(){const de=Array.from(ce.instances.values());yield Promise.all([...de.filter(we=>"INTERNAL"in we).map(we=>we.INTERNAL.delete()),...de.filter(we=>"_delete"in we).map(we=>we._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ce=l){return this.instances.has(ce)}getOptions(ce=l){return this.instancesOptions.get(ce)||{}}initialize(ce={}){const{options:de={}}=ce,we=this.normalizeInstanceIdentifier(ce.instanceIdentifier);if(this.isInitialized(we))throw Error(`${this.name}(${we}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const _t=this.getOrInitializeService({instanceIdentifier:we,options:de});for(const[Ue,Be]of this.instancesDeferred.entries())we===this.normalizeInstanceIdentifier(Ue)&&Be.resolve(_t);return _t}onInit(ce,de){var we;const _t=this.normalizeInstanceIdentifier(de),Ue=null!==(we=this.onInitCallbacks.get(_t))&&void 0!==we?we:new Set;Ue.add(ce),this.onInitCallbacks.set(_t,Ue);const Be=this.instances.get(_t);return Be&&ce(Be,_t),()=>{Ue.delete(ce)}}invokeOnInitCallbacks(ce,de){const we=this.onInitCallbacks.get(de);if(we)for(const _t of we)try{_t(ce,de)}catch{}}getOrInitializeService({instanceIdentifier:ce,options:de={}}){let we=this.instances.get(ce);if(!we&&this.component&&(we=this.component.instanceFactory(this.container,{instanceIdentifier:(Pe=ce,Pe===l?void 0:Pe),options:de}),this.instances.set(ce,we),this.instancesOptions.set(ce,de),this.invokeOnInitCallbacks(we,ce),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ce,we)}catch{}var Pe;return we||null}normalizeInstanceIdentifier(ce=l){return this.component?this.component.multipleInstances?ce:l:ce}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ie{constructor(ce){this.name=ce,this.providers=new Map}addComponent(ce){const de=this.getProvider(ce.name);if(de.isComponentSet())throw new Error(`Component ${ce.name} has already been registered with ${this.name}`);de.setComponent(ce)}addOrOverwriteComponent(ce){this.getProvider(ce.name).isComponentSet()&&this.providers.delete(ce.name),this.addComponent(ce)}getProvider(ce){if(this.providers.has(ce))return this.providers.get(ce);const de=new Ee(ce,this);return this.providers.set(ce,de),de}getProviders(){return Array.from(this.providers.values())}}},1877:(tn,ze,B)=>{B.d(ze,{Am:()=>Pe,Ub:()=>Ie,Yd:()=>he,in:()=>K});const v=[];var K=(()=>{return(ce=K||(K={}))[ce.DEBUG=0]="DEBUG",ce[ce.VERBOSE=1]="VERBOSE",ce[ce.INFO=2]="INFO",ce[ce.WARN=3]="WARN",ce[ce.ERROR=4]="ERROR",ce[ce.SILENT=5]="SILENT",K;var ce})();const x={debug:K.DEBUG,verbose:K.VERBOSE,info:K.INFO,warn:K.WARN,error:K.ERROR,silent:K.SILENT},l=K.INFO,Ee={[K.DEBUG]:"log",[K.VERBOSE]:"log",[K.INFO]:"info",[K.WARN]:"warn",[K.ERROR]:"error"},Ce=(ce,de,...we)=>{if(de<ce.logLevel)return;const _t=(new Date).toISOString(),Ue=Ee[de];if(!Ue)throw new Error(`Attempted to log a message with an invalid logType (value: ${de})`);console[Ue](`[${_t}]  ${ce.name}:`,...we)};class he{constructor(de){this.name=de,this._logLevel=l,this._logHandler=Ce,this._userLogHandler=null,v.push(this)}get logLevel(){return this._logLevel}set logLevel(de){if(!(de in K))throw new TypeError(`Invalid value "${de}" assigned to \`logLevel\``);this._logLevel=de}setLogLevel(de){this._logLevel="string"==typeof de?x[de]:de}get logHandler(){return this._logHandler}set logHandler(de){if("function"!=typeof de)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=de}get userLogHandler(){return this._userLogHandler}set userLogHandler(de){this._userLogHandler=de}debug(...de){this._userLogHandler&&this._userLogHandler(this,K.DEBUG,...de),this._logHandler(this,K.DEBUG,...de)}log(...de){this._userLogHandler&&this._userLogHandler(this,K.VERBOSE,...de),this._logHandler(this,K.VERBOSE,...de)}info(...de){this._userLogHandler&&this._userLogHandler(this,K.INFO,...de),this._logHandler(this,K.INFO,...de)}warn(...de){this._userLogHandler&&this._userLogHandler(this,K.WARN,...de),this._logHandler(this,K.WARN,...de)}error(...de){this._userLogHandler&&this._userLogHandler(this,K.ERROR,...de),this._logHandler(this,K.ERROR,...de)}}function Ie(ce){v.forEach(de=>{de.setLogLevel(ce)})}function Pe(ce,de){for(const we of v){let _t=null;de&&de.level&&(_t=x[de.level]),we.userLogHandler=null===ce?null:(Ue,Be,...Ot)=>{const Ke=Ot.map(Je=>{if(null==Je)return null;if("string"==typeof Je)return Je;if("number"==typeof Je||"boolean"==typeof Je)return Je.toString();if(Je instanceof Error)return Je.message;try{return JSON.stringify(Je)}catch{return null}}).filter(Je=>Je).join(" ");Be>=(_t??Ue.logLevel)&&ce({level:K[Be].toLowerCase(),message:Ke,args:Ot,type:Ue.name})}}}},259:(tn,ze,B)=>{B.d(ze,{C6:()=>v.getApps,Mq:()=>v.getApp});var v=B(9681);(0,v.registerVersion)("firebase","9.19.0","app")},9260:(tn,ze,B)=>{B.d(ze,{Z:()=>v.Z});var v=B(3942);v.Z.registerVersion("firebase","9.19.0","app-compat")},7407:(tn,ze,B)=>{B.r(ze);var v=B(5861),K=B(3942),x=B(2090),l=B(9681),Ee=B(1877),Ce=B(655),he=B(4859);const Be=function _t(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ot=function Ue(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ke=new x.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Se=new Ee.Yd("@firebase/auth");function Wt(D,...g){Se.logLevel<=Ee.in.ERROR&&Se.error(`Auth (${l.SDK_VERSION}): ${D}`,...g)}function ct(D,...g){throw Dt(D,...g)}function $e(D,...g){return Dt(D,...g)}function Fe(D,g,_){const I=Object.assign(Object.assign({},Ot()),{[g]:_});return new x.LL("auth","Firebase",I).create(g,{appName:D.name})}function Pt(D,g,_){if(!(g instanceof _))throw _.name!==g.constructor.name&&ct(D,"argument-error"),Fe(D,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Dt(D,...g){if("string"!=typeof D){const _=g[0],I=[...g.slice(1)];return I[0]&&(I[0].appName=D.name),D._errorFactory.create(_,...I)}return Ke.create(D,...g)}function se(D,g,..._){if(!D)throw Dt(g,..._)}function et(D){const g="INTERNAL ASSERTION FAILED: "+D;throw Wt(g),new Error(g)}function tt(D,g){D||et(g)}const Rt=new Map;function xt(D){tt(D instanceof Function,"Expected a class definition");let g=Rt.get(D);return g?(tt(g instanceof D,"Instance stored in cache mismatched with class"),g):(g=new D,Rt.set(D,g),g)}function lt(){var D;return typeof self<"u"&&(null===(D=self.location)||void 0===D?void 0:D.href)||""}function Qe(){return"http:"===dt()||"https:"===dt()}function dt(){var D;return typeof self<"u"&&(null===(D=self.location)||void 0===D?void 0:D.protocol)||null}class Xt{constructor(g,_){this.shortDelay=g,this.longDelay=_,tt(_>g,"Short delay should be less than long delay!"),this.isMobile=(0,x.uI)()||(0,x.b$)()}get(){return function pt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Qe()||(0,x.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function qt(D,g){tt(D.emulator,"Emulator should always be set here");const{url:_}=D.emulator;return g?`${_}${g.startsWith("/")?g.slice(1):g}`:_}class pn{static initialize(g,_,I){this.fetchImpl=g,_&&(this.headersImpl=_),I&&(this.responseImpl=I)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void et("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void et("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void et("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Lt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},An=new Xt(3e4,6e4);function It(D,g){return D.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:D.tenantId}):g}function hn(D,g,_,I){return zn.apply(this,arguments)}function zn(){return(zn=(0,v.Z)(function*(D,g,_,I,z={}){return Wn(D,z,(0,v.Z)(function*(){let te={},Ne={};I&&("GET"===g?Ne=I:te={body:JSON.stringify(I)});const gt=(0,x.xO)(Object.assign({key:D.config.apiKey},Ne)).slice(1),Vt=yield D._getAdditionalHeaders();return Vt["Content-Type"]="application/json",D.languageCode&&(Vt["X-Firebase-Locale"]=D.languageCode),pn.fetch()(kr(D,D.config.apiHost,_,gt),Object.assign({method:g,headers:Vt,referrerPolicy:"no-referrer"},te))}))})).apply(this,arguments)}function Wn(D,g,_){return hr.apply(this,arguments)}function hr(){return(hr=(0,v.Z)(function*(D,g,_){D._canInitEmulator=!1;const I=Object.assign(Object.assign({},Lt),g);try{const z=new qn(D),te=yield Promise.race([_(),z.promise]);z.clearNetworkTimeout();const Ne=yield te.json();if("needConfirmation"in Ne)throw _r(D,"account-exists-with-different-credential",Ne);if(te.ok&&!("errorMessage"in Ne))return Ne;{const gt=te.ok?Ne.errorMessage:Ne.error.message,[Vt,Cn]=gt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Vt)throw _r(D,"credential-already-in-use",Ne);if("EMAIL_EXISTS"===Vt)throw _r(D,"email-already-in-use",Ne);if("USER_DISABLED"===Vt)throw _r(D,"user-disabled",Ne);const $n=I[Vt]||Vt.toLowerCase().replace(/[_\s]+/g,"-");if(Cn)throw Fe(D,$n,Cn);ct(D,$n)}}catch(z){if(z instanceof x.ZR)throw z;ct(D,"network-request-failed",{message:String(z)})}})).apply(this,arguments)}function ar(D,g,_,I){return rr.apply(this,arguments)}function rr(){return(rr=(0,v.Z)(function*(D,g,_,I,z={}){const te=yield hn(D,g,_,I,z);return"mfaPendingCredential"in te&&ct(D,"multi-factor-auth-required",{_serverResponse:te}),te})).apply(this,arguments)}function kr(D,g,_,I){const z=`${g}${_}?${I}`;return D.config.emulator?qt(D.config,z):`${D.config.apiScheme}://${z}`}class qn{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((_,I)=>{this.timer=setTimeout(()=>I($e(this.auth,"network-request-failed")),An.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function _r(D,g,_){const I={appName:D.name};_.email&&(I.email=_.email),_.phoneNumber&&(I.phoneNumber=_.phoneNumber);const z=$e(D,g,I);return z.customData._tokenResponse=_,z}function Tt(){return(Tt=(0,v.Z)(function*(D,g){return hn(D,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function Fn(D,g){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,v.Z)(function*(D,g){return hn(D,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function He(D,g){return un.apply(this,arguments)}function un(){return(un=(0,v.Z)(function*(D,g){return hn(D,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function q(D){if(D)try{const g=new Date(Number(D));if(!isNaN(g.getTime()))return g.toUTCString()}catch{}}function Ct(){return(Ct=(0,v.Z)(function*(D,g=!1){const _=(0,x.m9)(D),I=yield _.getIdToken(g),z=Nt(I);se(z&&z.exp&&z.auth_time&&z.iat,_.auth,"internal-error");const te="object"==typeof z.firebase?z.firebase:void 0,Ne=te?.sign_in_provider;return{claims:z,token:I,authTime:q(Mt(z.auth_time)),issuedAtTime:q(Mt(z.iat)),expirationTime:q(Mt(z.exp)),signInProvider:Ne||null,signInSecondFactor:te?.sign_in_second_factor||null}})).apply(this,arguments)}function Mt(D){return 1e3*Number(D)}function Nt(D){const[g,_,I]=D.split(".");if(void 0===g||void 0===_||void 0===I)return Wt("JWT malformed, contained fewer than 3 sections"),null;try{const z=(0,x.tV)(_);return z?JSON.parse(z):(Wt("Failed to decode base64 JWT payload"),null)}catch(z){return Wt("Caught error parsing JWT payload as JSON",z?.toString()),null}}function jt(D,g){return wn.apply(this,arguments)}function wn(){return(wn=(0,v.Z)(function*(D,g,_=!1){if(_)return g;try{return yield g}catch(I){throw I instanceof x.ZR&&cn(I)&&D.auth.currentUser===D&&(yield D.auth.signOut()),I}})).apply(this,arguments)}function cn({code:D}){return"auth/user-disabled"===D||"auth/user-token-expired"===D}class fn{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var _;if(g){const I=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),I}{this.errorBackoff=3e4;const z=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,z)}}schedule(g=!1){var _=this;if(!this.isRunning)return;const I=this.getInterval(g);this.timerId=setTimeout((0,v.Z)(function*(){yield _.iteration()}),I)}iteration(){var g=this;return(0,v.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_?.code&&g.schedule(!0))}g.schedule()})()}}class ir{constructor(g,_){this.createdAt=g,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=q(this.lastLoginAt),this.creationTime=q(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function En(D){return zr.apply(this,arguments)}function zr(){return(zr=(0,v.Z)(function*(D){var g;const _=D.auth,I=yield D.getIdToken(),z=yield jt(D,He(_,{idToken:I}));se(z?.users.length,_,"internal-error");const te=z.users[0];D._notifyReloadListener(te);const Ne=null!==(g=te.providerUserInfo)&&void 0!==g&&g.length?rn(te.providerUserInfo):[],gt=Fr(D.providerData,Ne),$n=!!D.isAnonymous&&!(D.email&&te.passwordHash||gt?.length),Vn={uid:te.localId,displayName:te.displayName||null,photoURL:te.photoUrl||null,email:te.email||null,emailVerified:te.emailVerified||!1,phoneNumber:te.phoneNumber||null,tenantId:te.tenantId||null,providerData:gt,metadata:new ir(te.createdAt,te.lastLoginAt),isAnonymous:$n};Object.assign(D,Vn)})).apply(this,arguments)}function Nr(){return(Nr=(0,v.Z)(function*(D){const g=(0,x.m9)(D);yield En(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function Fr(D,g){return[...D.filter(I=>!g.some(z=>z.providerId===I.providerId)),...g]}function rn(D){return D.map(g=>{var{providerId:_}=g,I=(0,Ce._T)(g,["providerId"]);return{providerId:_,uid:I.rawId||"",displayName:I.displayName||null,email:I.email||null,phoneNumber:I.phoneNumber||null,photoURL:I.photoUrl||null}})}function kt(){return(kt=(0,v.Z)(function*(D,g){const _=yield Wn(D,{},(0,v.Z)(function*(){const I=(0,x.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:z,apiKey:te}=D.config,Ne=kr(D,z,"/v1/token",`key=${te}`),gt=yield D._getAdditionalHeaders();return gt["Content-Type"]="application/x-www-form-urlencoded",pn.fetch()(Ne,{method:"POST",headers:gt,body:I})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class an{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){se(g.idToken,"internal-error"),se(typeof g.idToken<"u","internal-error"),se(typeof g.refreshToken<"u","internal-error");const _="expiresIn"in g&&typeof g.expiresIn<"u"?Number(g.expiresIn):function ht(D){const g=Nt(D);return se(g,"internal-error"),se(typeof g.exp<"u","internal-error"),se(typeof g.iat<"u","internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,_)}getToken(g,_=!1){var I=this;return(0,v.Z)(function*(){return se(!I.accessToken||I.refreshToken,g,"user-token-expired"),_||!I.accessToken||I.isExpired?I.refreshToken?(yield I.refresh(g,I.refreshToken),I.accessToken):null:I.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,_){var I=this;return(0,v.Z)(function*(){const{accessToken:z,refreshToken:te,expiresIn:Ne}=yield function nt(D,g){return kt.apply(this,arguments)}(g,_);I.updateTokensAndExpiration(z,te,Number(Ne))})()}updateTokensAndExpiration(g,_,I){this.refreshToken=_||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*I}static fromJSON(g,_){const{refreshToken:I,accessToken:z,expirationTime:te}=_,Ne=new an;return I&&(se("string"==typeof I,"internal-error",{appName:g}),Ne.refreshToken=I),z&&(se("string"==typeof z,"internal-error",{appName:g}),Ne.accessToken=z),te&&(se("number"==typeof te,"internal-error",{appName:g}),Ne.expirationTime=te),Ne}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new an,this.toJSON())}_performRefresh(){return et("not implemented")}}function Sn(D,g){se("string"==typeof D||typeof D>"u","internal-error",{appName:g})}class In{constructor(g){var{uid:_,auth:I,stsTokenManager:z}=g,te=(0,Ce._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new fn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=I,this.stsTokenManager=z,this.accessToken=z.accessToken,this.displayName=te.displayName||null,this.email=te.email||null,this.emailVerified=te.emailVerified||!1,this.phoneNumber=te.phoneNumber||null,this.photoURL=te.photoURL||null,this.isAnonymous=te.isAnonymous||!1,this.tenantId=te.tenantId||null,this.providerData=te.providerData?[...te.providerData]:[],this.metadata=new ir(te.createdAt||void 0,te.lastLoginAt||void 0)}getIdToken(g){var _=this;return(0,v.Z)(function*(){const I=yield jt(_,_.stsTokenManager.getToken(_.auth,g));return se(I,_.auth,"internal-error"),_.accessToken!==I&&(_.accessToken=I,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),I})()}getIdTokenResult(g){return function Ve(D){return Ct.apply(this,arguments)}(this,g)}reload(){return function Kn(D){return Nr.apply(this,arguments)}(this)}_assign(g){this!==g&&(se(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(_=>Object.assign({},_)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){const _=new In(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}));return _.metadata._copy(this.metadata),_}_onReload(g){se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,_=!1){var I=this;return(0,v.Z)(function*(){let z=!1;g.idToken&&g.idToken!==I.stsTokenManager.accessToken&&(I.stsTokenManager.updateFromServerResponse(g),z=!0),_&&(yield En(I)),yield I.auth._persistUserIfCurrent(I),z&&I.auth._notifyListenersIfCurrent(I)})()}delete(){var g=this;return(0,v.Z)(function*(){const _=yield g.getIdToken();return yield jt(g,function yr(D,g){return Tt.apply(this,arguments)}(g.auth,{idToken:_})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,_){var I,z,te,Ne,gt,Vt,Cn,$n;const Vn=null!==(I=_.displayName)&&void 0!==I?I:void 0,ss=null!==(z=_.email)&&void 0!==z?z:void 0,da=null!==(te=_.phoneNumber)&&void 0!==te?te:void 0,dl=null!==(Ne=_.photoURL)&&void 0!==Ne?Ne:void 0,Qd=null!==(gt=_.tenantId)&&void 0!==gt?gt:void 0,Xd=null!==(Vt=_._redirectEventId)&&void 0!==Vt?Vt:void 0,Yh=null!==(Cn=_.createdAt)&&void 0!==Cn?Cn:void 0,Wl=null!==($n=_.lastLoginAt)&&void 0!==$n?$n:void 0,{uid:Ks,emailVerified:fu,isAnonymous:eh,providerData:Pi,stsTokenManager:yc}=_;se(Ks&&yc,g,"internal-error");const Wf=an.fromJSON(this.name,yc);se("string"==typeof Ks,g,"internal-error"),Sn(Vn,g.name),Sn(ss,g.name),se("boolean"==typeof fu,g,"internal-error"),se("boolean"==typeof eh,g,"internal-error"),Sn(da,g.name),Sn(dl,g.name),Sn(Qd,g.name),Sn(Xd,g.name),Sn(Yh,g.name),Sn(Wl,g.name);const Lu=new In({uid:Ks,auth:g,email:ss,emailVerified:fu,displayName:Vn,isAnonymous:eh,photoURL:dl,phoneNumber:da,tenantId:Qd,stsTokenManager:Wf,createdAt:Yh,lastLoginAt:Wl});return Pi&&Array.isArray(Pi)&&(Lu.providerData=Pi.map(Ml=>Object.assign({},Ml))),Xd&&(Lu._redirectEventId=Xd),Lu}static _fromIdTokenResponse(g,_,I=!1){return(0,v.Z)(function*(){const z=new an;z.updateFromServerResponse(_);const te=new In({uid:_.localId,auth:g,stsTokenManager:z,isAnonymous:I});return yield En(te),te})()}}const ve=(()=>{class D{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,v.Z)(function*(){return!0})()}_set(_,I){var z=this;return(0,v.Z)(function*(){z.storage[_]=I})()}_get(_){var I=this;return(0,v.Z)(function*(){const z=I.storage[_];return void 0===z?null:z})()}_remove(_){var I=this;return(0,v.Z)(function*(){delete I.storage[_]})()}_addListener(_,I){}_removeListener(_,I){}}return D.type="NONE",D})();function fe(D,g,_){return`firebase:${D}:${g}:${_}`}class Te{constructor(g,_,I){this.persistence=g,this.auth=_,this.userKey=I;const{config:z,name:te}=this.auth;this.fullUserKey=fe(this.userKey,z.apiKey,te),this.fullPersistenceKey=fe("persistence",z.apiKey,te),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,v.Z)(function*(){const _=yield g.persistence._get(g.fullUserKey);return _?In._fromJSON(g.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var _=this;return(0,v.Z)(function*(){if(_.persistence===g)return;const I=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=g,I?_.setCurrentUser(I):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,_,I="authUser"){return(0,v.Z)(function*(){if(!_.length)return new Te(xt(ve),g,I);const z=(yield Promise.all(_.map(function(){var Cn=(0,v.Z)(function*($n){if(yield $n._isAvailable())return $n});return function($n){return Cn.apply(this,arguments)}}()))).filter(Cn=>Cn);let te=z[0]||xt(ve);const Ne=fe(I,g.config.apiKey,g.name);let gt=null;for(const Cn of _)try{const $n=yield Cn._get(Ne);if($n){const Vn=In._fromJSON(g,$n);Cn!==te&&(gt=Vn),te=Cn;break}}catch{}const Vt=z.filter(Cn=>Cn._shouldAllowMigration);return te._shouldAllowMigration&&Vt.length?(te=Vt[0],gt&&(yield te._set(Ne,gt.toJSON())),yield Promise.all(_.map(function(){var Cn=(0,v.Z)(function*($n){if($n!==te)try{yield $n._remove(Ne)}catch{}});return function($n){return Cn.apply(this,arguments)}}())),new Te(te,g,I)):new Te(te,g,I)})()}}function st(D){const g=D.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(Hn(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(je(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(me(g))return"Blackberry";if(ge(g))return"Webos";if(Yt(g))return"Safari";if((g.includes("chrome/")||mn(g))&&!g.includes("edge/"))return"Chrome";if(fr(g))return"Android";{const I=D.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===I?.length)return I[1]}return"Other"}function je(D=(0,x.z$)()){return/firefox\//i.test(D)}function Yt(D=(0,x.z$)()){const g=D.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function mn(D=(0,x.z$)()){return/crios\//i.test(D)}function Hn(D=(0,x.z$)()){return/iemobile/i.test(D)}function fr(D=(0,x.z$)()){return/android/i.test(D)}function me(D=(0,x.z$)()){return/blackberry/i.test(D)}function ge(D=(0,x.z$)()){return/webos/i.test(D)}function ie(D=(0,x.z$)()){return/iphone|ipad|ipod/i.test(D)||/macintosh/i.test(D)&&/mobile/i.test(D)}function Mn(D=(0,x.z$)()){return ie(D)||fr(D)||ge(D)||me(D)||/windows phone/i.test(D)||Hn(D)}function Ur(D,g=[]){let _;switch(D){case"Browser":_=st((0,x.z$)());break;case"Worker":_=`${st((0,x.z$)())}-${D}`;break;default:_=D}const I=g.length?g.join(","):"FirebaseCore-web";return`${_}/JsCore/${l.SDK_VERSION}/${I}`}class Vi{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,_){const I=te=>new Promise((Ne,gt)=>{try{Ne(g(te))}catch(Vt){gt(Vt)}});I.onAbort=_,this.queue.push(I);const z=this.queue.length-1;return()=>{this.queue[z]=()=>Promise.resolve()}}runMiddleware(g){var _=this;return(0,v.Z)(function*(){if(_.auth.currentUser===g)return;const I=[];try{for(const z of _.queue)yield z(g),z.onAbort&&I.push(z.onAbort)}catch(z){I.reverse();for(const te of I)try{te()}catch{}throw _.auth._errorFactory.create("login-blocked",{originalMessage:z?.message})}})()}}class Un{constructor(g,_,I){this.app=g,this.heartbeatServiceProvider=_,this.config=I,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new bi(this),this.idTokenSubscription=new bi(this),this.beforeStateQueue=new Vi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ke,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=I.sdkClientVersion}_initializeWithPersistence(g,_){var I=this;return _&&(this._popupRedirectResolver=xt(_)),this._initializationPromise=this.queue((0,v.Z)(function*(){var z,te;if(!I._deleted&&(I.persistenceManager=yield Te.create(I,g),!I._deleted)){if(null!==(z=I._popupRedirectResolver)&&void 0!==z&&z._shouldInitProactively)try{yield I._popupRedirectResolver._initialize(I)}catch{}yield I.initializeCurrentUser(_),I.lastNotifiedUid=(null===(te=I.currentUser)||void 0===te?void 0:te.uid)||null,!I._deleted&&(I._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,v.Z)(function*(){if(g._deleted)return;const _=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||_){if(g.currentUser&&_&&g.currentUser.uid===_.uid)return g._currentUser._assign(_),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(_,!0)}})()}initializeCurrentUser(g){var _=this;return(0,v.Z)(function*(){var I;const z=yield _.assertedPersistence.getCurrentUser();let te=z,Ne=!1;if(g&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const gt=null===(I=_.redirectUser)||void 0===I?void 0:I._redirectEventId,Vt=te?._redirectEventId,Cn=yield _.tryRedirectSignIn(g);(!gt||gt===Vt)&&Cn?.user&&(te=Cn.user,Ne=!0)}if(!te)return _.directlySetCurrentUser(null);if(!te._redirectEventId){if(Ne)try{yield _.beforeStateQueue.runMiddleware(te)}catch(gt){te=z,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(gt))}return te?_.reloadAndSetCurrentUserOrClear(te):_.directlySetCurrentUser(null)}return se(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===te._redirectEventId?_.directlySetCurrentUser(te):_.reloadAndSetCurrentUserOrClear(te)})()}tryRedirectSignIn(g){var _=this;return(0,v.Z)(function*(){let I=null;try{I=yield _._popupRedirectResolver._completeRedirectFn(_,g,!0)}catch{yield _._setRedirectUser(null)}return I})()}reloadAndSetCurrentUserOrClear(g){var _=this;return(0,v.Z)(function*(){try{yield En(g)}catch(I){if("auth/network-request-failed"!==I?.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function We(){if(typeof navigator>"u")return null;const D=navigator;return D.languages&&D.languages[0]||D.language||null}()}_delete(){var g=this;return(0,v.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var _=this;return(0,v.Z)(function*(){const I=g?(0,x.m9)(g):null;return I&&se(I.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(I&&I._clone(_))})()}_updateCurrentUser(g,_=!1){var I=this;return(0,v.Z)(function*(){if(!I._deleted)return g&&se(I.tenantId===g.tenantId,I,"tenant-id-mismatch"),_||(yield I.beforeStateQueue.runMiddleware(g)),I.queue((0,v.Z)(function*(){yield I.directlySetCurrentUser(g),I.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,v.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var _=this;return this.queue((0,v.Z)(function*(){yield _.assertedPersistence.setPersistence(xt(g))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new x.LL("auth","Firebase",g())}onAuthStateChanged(g,_,I){return this.registerStateListener(this.authStateSubscription,g,_,I)}beforeAuthStateChanged(g,_){return this.beforeStateQueue.pushCallback(g,_)}onIdTokenChanged(g,_,I){return this.registerStateListener(this.idTokenSubscription,g,_,I)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,_){var I=this;return(0,v.Z)(function*(){const z=yield I.getOrInitRedirectPersistenceManager(_);return null===g?z.removeCurrentUser():z.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var _=this;return(0,v.Z)(function*(){if(!_.redirectPersistenceManager){const I=g&&xt(g)||_._popupRedirectResolver;se(I,_,"argument-error"),_.redirectPersistenceManager=yield Te.create(_,[xt(I._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(g){var _=this;return(0,v.Z)(function*(){var I,z;return _._isInitialized&&(yield _.queue((0,v.Z)(function*(){}))),(null===(I=_._currentUser)||void 0===I?void 0:I._redirectEventId)===g?_._currentUser:(null===(z=_.redirectUser)||void 0===z?void 0:z._redirectEventId)===g?_.redirectUser:null})()}_persistUserIfCurrent(g){var _=this;return(0,v.Z)(function*(){if(g===_.currentUser)return _.queue((0,v.Z)(function*(){return _.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const I=null!==(_=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==I&&(this.lastNotifiedUid=I,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,_,I,z){if(this._deleted)return()=>{};const te="function"==typeof _?_:_.next.bind(_),Ne=this._isInitialized?Promise.resolve():this._initializationPromise;return se(Ne,this,"internal-error"),Ne.then(()=>te(this.currentUser)),"function"==typeof _?g.addObserver(_,I,z):g.addObserver(_)}directlySetCurrentUser(g){var _=this;return(0,v.Z)(function*(){_.currentUser&&_.currentUser!==g&&_._currentUser._stopProactiveRefresh(),g&&_.isProactiveRefreshEnabled&&g._startProactiveRefresh(),_.currentUser=g,g?yield _.assertedPersistence.setCurrentUser(g):yield _.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=Ur(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,v.Z)(function*(){var _;const I={"X-Client-Version":g.clientVersion};g.app.options.appId&&(I["X-Firebase-gmpid"]=g.app.options.appId);const z=yield null===(_=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();return z&&(I["X-Firebase-Client"]=z),I})()}}function wr(D){return(0,x.m9)(D)}class bi{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,x.ne)(_=>this.observer=_)}get next(){return se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ni(D){const g=D.indexOf(":");return g<0?"":D.substr(0,g+1)}function ai(D){if(!D)return null;const g=Number(D);return isNaN(g)?null:g}class ci{constructor(g,_){this.providerId=g,this.signInMethod=_}toJSON(){return et("not implemented")}_getIdTokenResponse(g){return et("not implemented")}_linkToIdToken(g,_){return et("not implemented")}_getReauthenticationResolver(g){return et("not implemented")}}function ei(D,g){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,v.Z)(function*(D,g){return hn(D,"POST","/v1/accounts:resetPassword",It(D,g))})).apply(this,arguments)}function lr(D,g){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,v.Z)(function*(D,g){return hn(D,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function ls(D,g){return us.apply(this,arguments)}function us(){return(us=(0,v.Z)(function*(D,g){return hn(D,"POST","/v1/accounts:update",It(D,g))})).apply(this,arguments)}function Xi(){return(Xi=(0,v.Z)(function*(D,g){return ar(D,"POST","/v1/accounts:signInWithPassword",It(D,g))})).apply(this,arguments)}function ds(D,g){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,v.Z)(function*(D,g){return hn(D,"POST","/v1/accounts:sendOobCode",It(D,g))})).apply(this,arguments)}function xr(D,g){return As.apply(this,arguments)}function As(){return(As=(0,v.Z)(function*(D,g){return ds(D,g)})).apply(this,arguments)}function Cr(D,g){return ti.apply(this,arguments)}function ti(){return(ti=(0,v.Z)(function*(D,g){return ds(D,g)})).apply(this,arguments)}function Hs(D,g){return wi.apply(this,arguments)}function wi(){return(wi=(0,v.Z)(function*(D,g){return ds(D,g)})).apply(this,arguments)}function ga(D,g){return di.apply(this,arguments)}function di(){return(di=(0,v.Z)(function*(D,g){return ds(D,g)})).apply(this,arguments)}function ko(){return(ko=(0,v.Z)(function*(D,g){return ar(D,"POST","/v1/accounts:signInWithEmailLink",It(D,g))})).apply(this,arguments)}function hi(){return(hi=(0,v.Z)(function*(D,g){return ar(D,"POST","/v1/accounts:signInWithEmailLink",It(D,g))})).apply(this,arguments)}class ma extends ci{constructor(g,_,I,z=null){super("password",I),this._email=g,this._password=_,this._tenantId=z}static _fromEmailAndPassword(g,_){return new ma(g,_,"password")}static _fromEmailAndCode(g,_,I=null){return new ma(g,_,"emailLink",I)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g;if(_?.email&&_?.password){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(g){var _=this;return(0,v.Z)(function*(){switch(_.signInMethod){case"password":return function cs(D,g){return Xi.apply(this,arguments)}(g,{returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function Wo(D,g){return ko.apply(this,arguments)}(g,{email:_._email,oobCode:_._password});default:ct(g,"internal-error")}})()}_linkToIdToken(g,_){var I=this;return(0,v.Z)(function*(){switch(I.signInMethod){case"password":return lr(g,{idToken:_,returnSecureToken:!0,email:I._email,password:I._password});case"emailLink":return function xi(D,g){return hi.apply(this,arguments)}(g,{idToken:_,email:I._email,oobCode:I._password});default:ct(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function Rr(D,g){return Re.apply(this,arguments)}function Re(){return(Re=(0,v.Z)(function*(D,g){return ar(D,"POST","/v1/accounts:signInWithIdp",It(D,g))})).apply(this,arguments)}class Ge extends ci{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const _=new Ge(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(_.idToken=g.idToken),g.accessToken&&(_.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(_.nonce=g.nonce),g.pendingToken&&(_.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(_.accessToken=g.oauthToken,_.secret=g.oauthTokenSecret):ct("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g,{providerId:I,signInMethod:z}=_,te=(0,Ce._T)(_,["providerId","signInMethod"]);if(!I||!z)return null;const Ne=new Ge(I,z);return Ne.idToken=te.idToken||void 0,Ne.accessToken=te.accessToken||void 0,Ne.secret=te.secret,Ne.nonce=te.nonce,Ne.pendingToken=te.pendingToken||null,Ne}_getIdTokenResponse(g){return Rr(g,this.buildRequest())}_linkToIdToken(g,_){const I=this.buildRequest();return I.idToken=_,Rr(g,I)}_getReauthenticationResolver(g){const _=this.buildRequest();return _.autoCreate=!1,Rr(g,_)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),g.postBody=(0,x.xO)(_)}return g}}function yt(D,g){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,v.Z)(function*(D,g){return hn(D,"POST","/v1/accounts:sendVerificationCode",It(D,g))})).apply(this,arguments)}function kn(){return(kn=(0,v.Z)(function*(D,g){return ar(D,"POST","/v1/accounts:signInWithPhoneNumber",It(D,g))})).apply(this,arguments)}function ur(){return(ur=(0,v.Z)(function*(D,g){const _=yield ar(D,"POST","/v1/accounts:signInWithPhoneNumber",It(D,g));if(_.temporaryProof)throw _r(D,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const Ti={USER_NOT_FOUND:"user-not-found"};function Bi(){return(Bi=(0,v.Z)(function*(D,g){return ar(D,"POST","/v1/accounts:signInWithPhoneNumber",It(D,Object.assign(Object.assign({},g),{operation:"REAUTH"})),Ti)})).apply(this,arguments)}class $i extends ci{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,_){return new $i({verificationId:g,verificationCode:_})}static _fromTokenResponse(g,_){return new $i({phoneNumber:g,temporaryProof:_})}_getIdTokenResponse(g){return function Tn(D,g){return kn.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,_){return function Mr(D,g){return ur.apply(this,arguments)}(g,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function ho(D,g){return Bi.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:_,verificationId:I,verificationCode:z}=this.params;return g&&_?{temporaryProof:g,phoneNumber:_}:{sessionInfo:I,code:z}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:_,verificationCode:I,phoneNumber:z,temporaryProof:te}=g;return I||_||z||te?new $i({verificationId:_,verificationCode:I,phoneNumber:z,temporaryProof:te}):null}}class Qs{constructor(g){var _,I,z,te,Ne,gt;const Vt=(0,x.zd)((0,x.pd)(g)),Cn=null!==(_=Vt.apiKey)&&void 0!==_?_:null,$n=null!==(I=Vt.oobCode)&&void 0!==I?I:null,Vn=function wo(D){switch(D){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(z=Vt.mode)&&void 0!==z?z:null);se(Cn&&$n&&Vn,"argument-error"),this.apiKey=Cn,this.operation=Vn,this.code=$n,this.continueUrl=null!==(te=Vt.continueUrl)&&void 0!==te?te:null,this.languageCode=null!==(Ne=Vt.languageCode)&&void 0!==Ne?Ne:null,this.tenantId=null!==(gt=Vt.tenantId)&&void 0!==gt?gt:null}static parseLink(g){const _=function Do(D){const g=(0,x.zd)((0,x.pd)(D)).link,_=g?(0,x.zd)((0,x.pd)(g)).deep_link_id:null,I=(0,x.zd)((0,x.pd)(D)).deep_link_id;return(I?(0,x.zd)((0,x.pd)(I)).link:null)||I||_||g||D}(g);try{return new Qs(_)}catch{return null}}}let Hi=(()=>{class D{constructor(){this.providerId=D.PROVIDER_ID}static credential(_,I){return ma._fromEmailAndPassword(_,I)}static credentialWithLink(_,I){const z=Qs.parseLink(I);return se(z,"argument-error"),ma._fromEmailAndCode(_,z.code,z.tenantId)}}return D.PROVIDER_ID="password",D.EMAIL_PASSWORD_SIGN_IN_METHOD="password",D.EMAIL_LINK_SIGN_IN_METHOD="emailLink",D})();class ji{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class bs extends ji{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class Gi extends bs{static credentialFromJSON(g){const _="string"==typeof g?JSON.parse(g):g;return se("providerId"in _&&"signInMethod"in _,"argument-error"),Ge._fromParams(_)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return se(g.idToken||g.accessToken,"argument-error"),Ge._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return Gi.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return Gi.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:_,oauthAccessToken:I,oauthTokenSecret:z,pendingToken:te,nonce:Ne,providerId:gt}=g;if(!I&&!z&&!_&&!te||!gt)return null;try{return new Gi(gt)._credential({idToken:_,accessToken:I,nonce:Ne,pendingToken:te})}catch{return null}}}let Ro=(()=>{class D extends bs{constructor(){super("facebook.com")}static credential(_){return Ge._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return D.credentialFromTaggedObject(_)}static credentialFromError(_){return D.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return D.credential(_.oauthAccessToken)}catch{return null}}}return D.FACEBOOK_SIGN_IN_METHOD="facebook.com",D.PROVIDER_ID="facebook.com",D})(),hs=(()=>{class D extends bs{constructor(){super("google.com"),this.addScope("profile")}static credential(_,I){return Ge._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:I})}static credentialFromResult(_){return D.credentialFromTaggedObject(_)}static credentialFromError(_){return D.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:I,oauthAccessToken:z}=_;if(!I&&!z)return null;try{return D.credential(I,z)}catch{return null}}}return D.GOOGLE_SIGN_IN_METHOD="google.com",D.PROVIDER_ID="google.com",D})(),Xs=(()=>{class D extends bs{constructor(){super("github.com")}static credential(_){return Ge._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return D.credentialFromTaggedObject(_)}static credentialFromError(_){return D.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return D.credential(_.oauthAccessToken)}catch{return null}}}return D.GITHUB_SIGN_IN_METHOD="github.com",D.PROVIDER_ID="github.com",D})();class Ms extends ci{constructor(g,_){super(g,g),this.pendingToken=_}_getIdTokenResponse(g){return Rr(g,this.buildRequest())}_linkToIdToken(g,_){const I=this.buildRequest();return I.idToken=_,Rr(g,I)}_getReauthenticationResolver(g){const _=this.buildRequest();return _.autoCreate=!1,Rr(g,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g,{providerId:I,signInMethod:z,pendingToken:te}=_;return I&&z&&te&&I===z?new Ms(I,te):null}static _create(g,_){return new Ms(g,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class es extends ji{constructor(g){se(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return es.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return es.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const _=Ms.fromJSON(g);return se(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:_,providerId:I}=g;if(!_||!I)return null;try{return Ms._create(I,_)}catch{return null}}}let ki=(()=>{class D extends bs{constructor(){super("twitter.com")}static credential(_,I){return Ge._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:I})}static credentialFromResult(_){return D.credentialFromTaggedObject(_)}static credentialFromError(_){return D.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:I,oauthTokenSecret:z}=_;if(!I||!z)return null;try{return D.credential(I,z)}catch{return null}}}return D.TWITTER_SIGN_IN_METHOD="twitter.com",D.PROVIDER_ID="twitter.com",D})();function xs(D,g){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,v.Z)(function*(D,g){return ar(D,"POST","/v1/accounts:signUp",It(D,g))})).apply(this,arguments)}class $r{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,_,I,z=!1){return(0,v.Z)(function*(){const te=yield In._fromIdTokenResponse(g,I,z),Ne=ts(I);return new $r({user:te,providerId:Ne,_tokenResponse:I,operationType:_})})()}static _forOperation(g,_,I){return(0,v.Z)(function*(){yield g._updateTokensIfNecessary(I,!0);const z=ts(I);return new $r({user:g,providerId:z,_tokenResponse:I,operationType:_})})()}}function ts(D){return D.providerId?D.providerId:"phoneNumber"in D?"phone":null}function ni(){return(ni=(0,v.Z)(function*(D){var g;const _=wr(D);if(yield _._initializationPromise,null!==(g=_.currentUser)&&void 0!==g&&g.isAnonymous)return new $r({user:_.currentUser,providerId:null,operationType:"signIn"});const I=yield xs(_,{returnSecureToken:!0}),z=yield $r._fromIdTokenResponse(_,"signIn",I,!0);return yield _._updateCurrentUser(z.user),z})).apply(this,arguments)}class Po extends x.ZR{constructor(g,_,I,z){var te;super(_.code,_.message),this.operationType=I,this.user=z,Object.setPrototypeOf(this,Po.prototype),this.customData={appName:g.name,tenantId:null!==(te=g.tenantId)&&void 0!==te?te:void 0,_serverResponse:_.customData._serverResponse,operationType:I}}static _fromErrorAndOperation(g,_,I,z){return new Po(g,_,I,z)}}function Hr(D,g,_,I){return("reauthenticate"===g?_._getReauthenticationResolver(D):_._getIdTokenResponse(D)).catch(te=>{throw"auth/multi-factor-auth-required"===te.code?Po._fromErrorAndOperation(D,te,g,I):te})}function Si(D){return new Set(D.map(({providerId:g})=>g).filter(g=>!!g))}function fs(){return(fs=(0,v.Z)(function*(D,g){const _=(0,x.m9)(D);yield ri(!0,_,g);const{providerUserInfo:I}=yield Fn(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[g]}),z=Si(I||[]);return _.providerData=_.providerData.filter(te=>z.has(te.providerId)),z.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_})).apply(this,arguments)}function Yo(D,g){return js.apply(this,arguments)}function js(){return(js=(0,v.Z)(function*(D,g,_=!1){const I=yield jt(D,g._linkToIdToken(D.auth,yield D.getIdToken()),_);return $r._forOperation(D,"link",I)})).apply(this,arguments)}function ri(D,g,_){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,v.Z)(function*(D,g,_){yield En(g);const z=!1===D?"provider-already-linked":"no-such-provider";se(Si(g.providerData).has(_)===D,g.auth,z)})).apply(this,arguments)}function Fo(D,g){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,v.Z)(function*(D,g,_=!1){const{auth:I}=D,z="reauthenticate";try{const te=yield jt(D,Hr(I,z,g,D),_);se(te.idToken,I,"internal-error");const Ne=Nt(te.idToken);se(Ne,I,"internal-error");const{sub:gt}=Ne;return se(D.uid===gt,I,"user-mismatch"),$r._forOperation(D,z,te)}catch(te){throw"auth/user-not-found"===te?.code&&ct(I,"user-mismatch"),te}})).apply(this,arguments)}function Di(D,g){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,v.Z)(function*(D,g,_=!1){const I="signIn",z=yield Hr(D,I,g),te=yield $r._fromIdTokenResponse(D,I,z);return _||(yield D._updateCurrentUser(te.user)),te})).apply(this,arguments)}function Qr(D,g){return xn.apply(this,arguments)}function xn(){return(xn=(0,v.Z)(function*(D,g){return Di(wr(D),g)})).apply(this,arguments)}function Lo(D,g){return fo.apply(this,arguments)}function fo(){return(fo=(0,v.Z)(function*(D,g){const _=(0,x.m9)(D);return yield ri(!1,_,g.providerId),Yo(_,g)})).apply(this,arguments)}function Io(D,g){return eo.apply(this,arguments)}function eo(){return(eo=(0,v.Z)(function*(D,g){return Fo((0,x.m9)(D),g)})).apply(this,arguments)}function Qo(D,g){return zi.apply(this,arguments)}function zi(){return(zi=(0,v.Z)(function*(D,g){return ar(D,"POST","/v1/accounts:signInWithCustomToken",It(D,g))})).apply(this,arguments)}function no(){return(no=(0,v.Z)(function*(D,g){const _=wr(D),I=yield Qo(_,{token:g,returnSecureToken:!0}),z=yield $r._fromIdTokenResponse(_,"signIn",I);return yield _._updateCurrentUser(z.user),z})).apply(this,arguments)}class Et{constructor(g,_){this.factorId=g,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(g,_){return"phoneInfo"in _?nr._fromServerResponse(g,_):"totpInfo"in _?ro._fromServerResponse(g,_):ct(g,"internal-error")}}class nr extends Et{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,_){return new nr(_)}}class ro extends Et{constructor(g){super("totp",g)}static _fromServerResponse(g,_){return new ro(_)}}function ps(D,g,_){var I;se((null===(I=_.url)||void 0===I?void 0:I.length)>0,D,"invalid-continue-uri"),se(typeof _.dynamicLinkDomain>"u"||_.dynamicLinkDomain.length>0,D,"invalid-dynamic-link-domain"),g.continueUrl=_.url,g.dynamicLinkDomain=_.dynamicLinkDomain,g.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(se(_.iOS.bundleId.length>0,D,"missing-ios-bundle-id"),g.iOSBundleId=_.iOS.bundleId),_.android&&(se(_.android.packageName.length>0,D,"missing-android-pkg-name"),g.androidInstallApp=_.android.installApp,g.androidMinimumVersionCode=_.android.minimumVersion,g.androidPackageName=_.android.packageName)}function Xo(){return(Xo=(0,v.Z)(function*(D,g,_){const I=(0,x.m9)(D),z={requestType:"PASSWORD_RESET",email:g};_&&ps(I,z,_),yield Cr(I,z)})).apply(this,arguments)}function Zi(){return(Zi=(0,v.Z)(function*(D,g,_){yield ei((0,x.m9)(D),{oobCode:g,newPassword:_})})).apply(this,arguments)}function ws(){return(ws=(0,v.Z)(function*(D,g){yield ls((0,x.m9)(D),{oobCode:g})})).apply(this,arguments)}function Ya(D,g){return jr.apply(this,arguments)}function jr(){return(jr=(0,v.Z)(function*(D,g){const _=(0,x.m9)(D),I=yield ei(_,{oobCode:g}),z=I.requestType;switch(se(z,_,"internal-error"),z){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":se(I.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":se(I.mfaInfo,_,"internal-error");default:se(I.email,_,"internal-error")}let te=null;return I.mfaInfo&&(te=Et._fromServerResponse(wr(_),I.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.newEmail:I.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.email:I.newEmail)||null,multiFactorInfo:te},operation:z}})).apply(this,arguments)}function V(){return(V=(0,v.Z)(function*(D,g){const{data:_}=yield Ya((0,x.m9)(D),g);return _.email})).apply(this,arguments)}function ee(){return(ee=(0,v.Z)(function*(D,g,_){const I=wr(D),z=yield xs(I,{returnSecureToken:!0,email:g,password:_}),te=yield $r._fromIdTokenResponse(I,"signIn",z);return yield I._updateCurrentUser(te.user),te})).apply(this,arguments)}function sr(){return(sr=(0,v.Z)(function*(D,g,_){const I=(0,x.m9)(D),z={requestType:"EMAIL_SIGNIN",email:g};se(_.handleCodeInApp,I,"argument-error"),_&&ps(I,z,_),yield Hs(I,z)})).apply(this,arguments)}function go(){return(go=(0,v.Z)(function*(D,g,_){const I=(0,x.m9)(D),z=Hi.credentialWithLink(g,_||lt());return se(z._tenantId===(I.tenantId||null),I,"tenant-id-mismatch"),Qr(I,z)})).apply(this,arguments)}function li(D,g){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,v.Z)(function*(D,g){return hn(D,"POST","/v1/accounts:createAuthUri",It(D,g))})).apply(this,arguments)}function Wi(){return(Wi=(0,v.Z)(function*(D,g){const I={identifier:g,continueUri:Qe()?lt():"http://localhost"},{signinMethods:z}=yield li((0,x.m9)(D),I);return z||[]})).apply(this,arguments)}function _a(){return(_a=(0,v.Z)(function*(D,g){const _=(0,x.m9)(D),z={requestType:"VERIFY_EMAIL",idToken:yield D.getIdToken()};g&&ps(_.auth,z,g);const{email:te}=yield xr(_.auth,z);te!==D.email&&(yield D.reload())})).apply(this,arguments)}function Os(){return(Os=(0,v.Z)(function*(D,g,_){const I=(0,x.m9)(D),te={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield D.getIdToken(),newEmail:g};_&&ps(I.auth,te,_);const{email:Ne}=yield ga(I.auth,te);Ne!==D.email&&(yield D.reload())})).apply(this,arguments)}function ea(D,g){return ta.apply(this,arguments)}function ta(){return(ta=(0,v.Z)(function*(D,g){return hn(D,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Ds(){return(Ds=(0,v.Z)(function*(D,{displayName:g,photoURL:_}){if(void 0===g&&void 0===_)return;const I=(0,x.m9)(D),te={idToken:yield I.getIdToken(),displayName:g,photoUrl:_,returnSecureToken:!0},Ne=yield jt(I,ea(I.auth,te));I.displayName=Ne.displayName||null,I.photoURL=Ne.photoUrl||null;const gt=I.providerData.find(({providerId:Vt})=>"password"===Vt);gt&&(gt.displayName=I.displayName,gt.photoURL=I.photoURL),yield I._updateTokensIfNecessary(Ne)})).apply(this,arguments)}function pl(D,g,_){return mi.apply(this,arguments)}function mi(){return(mi=(0,v.Z)(function*(D,g,_){const{auth:I}=D,te={idToken:yield D.getIdToken(),returnSecureToken:!0};g&&(te.email=g),_&&(te.password=_);const Ne=yield jt(D,lr(I,te));yield D._updateTokensIfNecessary(Ne,!0)})).apply(this,arguments)}class Or{constructor(g,_,I={}){this.isNewUser=g,this.providerId=_,this.profile=I}}class Vo extends Or{constructor(g,_,I,z){super(g,_,I),this.username=z}}class So extends Or{constructor(g,_){super(g,"facebook.com",_)}}class _i extends Vo{constructor(g,_){super(g,"github.com",_,"string"==typeof _?.login?_?.login:null)}}class Fa extends Or{constructor(g,_){super(g,"google.com",_)}}class La extends Vo{constructor(g,_,I){super(g,"twitter.com",_,I)}}function Ka(D){const{user:g,_tokenResponse:_}=D;return g.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function gs(D){var g,_;if(!D)return null;const{providerId:I}=D,z=D.rawUserInfo?JSON.parse(D.rawUserInfo):{},te=D.isNewUser||"identitytoolkit#SignupNewUserResponse"===D.kind;if(!I&&D?.idToken){const Ne=null===(_=null===(g=Nt(D.idToken))||void 0===g?void 0:g.firebase)||void 0===_?void 0:_.sign_in_provider;if(Ne)return new Or(te,"anonymous"!==Ne&&"custom"!==Ne?Ne:null)}if(!I)return null;switch(I){case"facebook.com":return new So(te,z);case"github.com":return new _i(te,z);case"google.com":return new Fa(te,z);case"twitter.com":return new La(te,z,D.screenName||null);case"custom":case"anonymous":return new Or(te,null);default:return new Or(te,I,z)}}(_)}class Ao{constructor(g,_,I){this.type=g,this.credential=_,this.auth=I}static _fromIdtoken(g,_){return new Ao("enroll",g,_)}static _fromMfaPendingCredential(g){return new Ao("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var _,I;if(g?.multiFactorSession){if(null!==(_=g.multiFactorSession)&&void 0!==_&&_.pendingCredential)return Ao._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null!==(I=g.multiFactorSession)&&void 0!==I&&I.idToken)return Ao._fromIdtoken(g.multiFactorSession.idToken)}return null}}class Zr{constructor(g,_,I){this.session=g,this.hints=_,this.signInResolver=I}static _fromError(g,_){const I=wr(g),z=_.customData._serverResponse,te=(z.mfaInfo||[]).map(gt=>Et._fromServerResponse(I,gt));se(z.mfaPendingCredential,I,"internal-error");const Ne=Ao._fromMfaPendingCredential(z.mfaPendingCredential);return new Zr(Ne,te,function(){var gt=(0,v.Z)(function*(Vt){const Cn=yield Vt._process(I,Ne);delete z.mfaInfo,delete z.mfaPendingCredential;const $n=Object.assign(Object.assign({},z),{idToken:Cn.idToken,refreshToken:Cn.refreshToken});switch(_.operationType){case"signIn":const Vn=yield $r._fromIdTokenResponse(I,_.operationType,$n);return yield I._updateCurrentUser(Vn.user),Vn;case"reauthenticate":return se(_.user,I,"internal-error"),$r._forOperation(_.user,_.operationType,$n);default:ct(I,"internal-error")}});return function(Vt){return gt.apply(this,arguments)}}())}resolveSignIn(g){var _=this;return(0,v.Z)(function*(){return _.signInResolver(g)})()}}function Ps(D,g){return hn(D,"POST","/v2/accounts/mfaEnrollment:start",It(D,g))}class be{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(I=>Et._fromServerResponse(g.auth,I)))})}static _fromUser(g){return new be(g)}getSession(){var g=this;return(0,v.Z)(function*(){return Ao._fromIdtoken(yield g.user.getIdToken(),g.user.auth)})()}enroll(g,_){var I=this;return(0,v.Z)(function*(){const z=g,te=yield I.getSession(),Ne=yield jt(I.user,z._process(I.user.auth,te,_));return yield I.user._updateTokensIfNecessary(Ne),I.user.reload()})()}unenroll(g){var _=this;return(0,v.Z)(function*(){const I="string"==typeof g?g:g.uid,z=yield _.user.getIdToken();try{const te=yield jt(_.user,function X(D,g){return hn(D,"POST","/v2/accounts/mfaEnrollment:withdraw",It(D,g))}(_.user.auth,{idToken:z,mfaEnrollmentId:I}));_.enrolledFactors=_.enrolledFactors.filter(({uid:Ne})=>Ne!==I),yield _.user._updateTokensIfNecessary(te),yield _.user.reload()}catch(te){throw te}})()}}const ot=new WeakMap,vn="__sak";class On{constructor(g,_){this.storageRetriever=g,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(vn,"1"),this.storage.removeItem(vn),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(g,_){return this.storage.setItem(g,JSON.stringify(_)),Promise.resolve()}_get(g){const _=this.storage.getItem(g);return Promise.resolve(_?JSON.parse(_):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const mt=(()=>{class D extends On{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,I)=>this.onStorageEvent(_,I),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Yn(){const D=(0,x.z$)();return Yt(D)||ie(D)}()&&function Ln(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Mn(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const I of Object.keys(this.listeners)){const z=this.storage.getItem(I),te=this.localCache[I];z!==te&&_(I,te,z)}}onStorageEvent(_,I=!1){if(!_.key)return void this.forAllChangedKeys((gt,Vt,Cn)=>{this.notifyListeners(gt,Cn)});const z=_.key;if(I?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const gt=this.storage.getItem(z);if(_.newValue!==gt)null!==_.newValue?this.storage.setItem(z,_.newValue):this.storage.removeItem(z);else if(this.localCache[z]===_.newValue&&!I)return}const te=()=>{const gt=this.storage.getItem(z);!I&&this.localCache[z]===gt||this.notifyListeners(z,gt)},Ne=this.storage.getItem(z);!function zt(){return(0,x.w1)()&&10===document.documentMode}()||Ne===_.newValue||_.newValue===_.oldValue?te():setTimeout(te,10)}notifyListeners(_,I){this.localCache[_]=I;const z=this.listeners[_];if(z)for(const te of Array.from(z))te(I&&JSON.parse(I))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,I,z)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:I,newValue:z}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,I){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(I)}_removeListener(_,I){this.listeners[_]&&(this.listeners[_].delete(I),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,I){var z=()=>super._set,te=this;return(0,v.Z)(function*(){yield z().call(te,_,I),te.localCache[_]=JSON.stringify(I)})()}_get(_){var I=()=>super._get,z=this;return(0,v.Z)(function*(){const te=yield I().call(z,_);return z.localCache[_]=JSON.stringify(te),te})()}_remove(_){var I=()=>super._remove,z=this;return(0,v.Z)(function*(){yield I().call(z,_),delete z.localCache[_]})()}}return D.type="LOCAL",D})(),si=(()=>{class D extends On{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,I){}_removeListener(_,I){}}return D.type="SESSION",D})();let ln=(()=>{class D{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const I=this.receivers.find(te=>te.isListeningto(_));if(I)return I;const z=new D(_);return this.receivers.push(z),z}isListeningto(_){return this.eventTarget===_}handleEvent(_){var I=this;return(0,v.Z)(function*(){const z=_,{eventId:te,eventType:Ne,data:gt}=z.data,Vt=I.handlersMap[Ne];if(!Vt?.size)return;z.ports[0].postMessage({status:"ack",eventId:te,eventType:Ne});const Cn=Array.from(Vt).map(function(){var Vn=(0,v.Z)(function*(ss){return ss(z.origin,gt)});return function(ss){return Vn.apply(this,arguments)}}()),$n=yield function zs(D){return Promise.all(D.map(function(){var g=(0,v.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(I){return{fulfilled:!1,reason:I}}});return function(_){return g.apply(this,arguments)}}()))}(Cn);z.ports[0].postMessage({status:"done",eventId:te,eventType:Ne,response:$n})})()}_subscribe(_,I){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(I)}_unsubscribe(_,I){this.handlersMap[_]&&I&&this.handlersMap[_].delete(I),(!I||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return D.receivers=[],D})();function en(D="",g=10){let _="";for(let I=0;I<g;I++)_+=Math.floor(10*Math.random());return D+_}class na{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,_,I=50){var z=this;return(0,v.Z)(function*(){const te=typeof MessageChannel<"u"?new MessageChannel:null;if(!te)throw new Error("connection_unavailable");let Ne,gt;return new Promise((Vt,Cn)=>{const $n=en("",20);te.port1.start();const Vn=setTimeout(()=>{Cn(new Error("unsupported_event"))},I);gt={messageChannel:te,onMessage(ss){const da=ss;if(da.data.eventId===$n)switch(da.data.status){case"ack":clearTimeout(Vn),Ne=setTimeout(()=>{Cn(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ne),Vt(da.data.response);break;default:clearTimeout(Vn),clearTimeout(Ne),Cn(new Error("invalid_response"))}}},z.handlers.add(gt),te.port1.addEventListener("message",gt.onMessage),z.target.postMessage({eventType:g,eventId:$n,data:_},[te.port2])}).finally(()=>{gt&&z.removeMessageHandler(gt)})})()}}function Ft(){return window}function St(){return typeof Ft().WorkerGlobalScope<"u"&&"function"==typeof Ft().importScripts}function Bo(){return(Bo=(0,v.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const eu="firebaseLocalStorageDb",_l="firebaseLocalStorage",Ba="fbase_key";class oi{constructor(g){this.request=g}toPromise(){return new Promise((g,_)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function ra(D,g){return D.transaction([_l],g?"readwrite":"readonly").objectStore(_l)}function ia(){const D=indexedDB.open(eu,1);return new Promise((g,_)=>{D.addEventListener("error",()=>{_(D.error)}),D.addEventListener("upgradeneeded",()=>{const I=D.result;try{I.createObjectStore(_l,{keyPath:Ba})}catch(z){_(z)}}),D.addEventListener("success",(0,v.Z)(function*(){const I=D.result;I.objectStoreNames.contains(_l)?g(I):(I.close(),yield function Eu(){const D=indexedDB.deleteDatabase(eu);return new oi(D).toPromise()}(),g(yield ia()))}))})}function jn(D,g,_){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,v.Z)(function*(D,g,_){const I=ra(D,!0).put({[Ba]:g,value:_});return new oi(I).toPromise()})).apply(this,arguments)}function Kr(){return(Kr=(0,v.Z)(function*(D,g){const _=ra(D,!1).get(g),I=yield new oi(_).toPromise();return void 0===I?null:I.value})).apply(this,arguments)}function Nn(D,g){const _=ra(D,!0).delete(g);return new oi(_).toPromise()}const vr=(()=>{class D{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,v.Z)(function*(){return _.db||(_.db=yield ia()),_.db})()}_withRetries(_){var I=this;return(0,v.Z)(function*(){let z=0;for(;;)try{const te=yield I._openDb();return yield _(te)}catch(te){if(z++>3)throw te;I.db&&(I.db.close(),I.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,v.Z)(function*(){return St()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,v.Z)(function*(){_.receiver=ln._getInstance(function Vl(){return St()?self:null}()),_.receiver._subscribe("keyChanged",function(){var I=(0,v.Z)(function*(z,te){return{keyProcessed:(yield _._poll()).includes(te.key)}});return function(z,te){return I.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var I=(0,v.Z)(function*(z,te){return["keyChanged"]});return function(z,te){return I.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,v.Z)(function*(){var I,z;if(_.activeServiceWorker=yield function Ei(){return Bo.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new na(_.activeServiceWorker);const te=yield _.sender._send("ping",{},800);!te||(null===(I=te[0])||void 0===I?void 0:I.fulfilled)&&(null===(z=te[0])||void 0===z?void 0:z.value.includes("keyChanged"))&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var I=this;return(0,v.Z)(function*(){if(I.sender&&I.activeServiceWorker&&function tc(){var D;return(null===(D=navigator?.serviceWorker)||void 0===D?void 0:D.controller)||null}()===I.activeServiceWorker)try{yield I.sender._send("keyChanged",{key:_},I.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,v.Z)(function*(){try{if(!indexedDB)return!1;const _=yield ia();return yield jn(_,vn,"1"),yield Nn(_,vn),!0}catch{}return!1})()}_withPendingWrite(_){var I=this;return(0,v.Z)(function*(){I.pendingWrites++;try{yield _()}finally{I.pendingWrites--}})()}_set(_,I){var z=this;return(0,v.Z)(function*(){return z._withPendingWrite((0,v.Z)(function*(){return yield z._withRetries(te=>jn(te,_,I)),z.localCache[_]=I,z.notifyServiceWorker(_)}))})()}_get(_){var I=this;return(0,v.Z)(function*(){const z=yield I._withRetries(te=>function tu(D,g){return Kr.apply(this,arguments)}(te,_));return I.localCache[_]=z,z})()}_remove(_){var I=this;return(0,v.Z)(function*(){return I._withPendingWrite((0,v.Z)(function*(){return yield I._withRetries(z=>Nn(z,_)),delete I.localCache[_],I.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,v.Z)(function*(){const I=yield _._withRetries(Ne=>{const gt=ra(Ne,!1).getAll();return new oi(gt).toPromise()});if(!I)return[];if(0!==_.pendingWrites)return[];const z=[],te=new Set;for(const{fbase_key:Ne,value:gt}of I)te.add(Ne),JSON.stringify(_.localCache[Ne])!==JSON.stringify(gt)&&(_.notifyListeners(Ne,gt),z.push(Ne));for(const Ne of Object.keys(_.localCache))_.localCache[Ne]&&!te.has(Ne)&&(_.notifyListeners(Ne,null),z.push(Ne));return z})()}notifyListeners(_,I){this.localCache[_]=I;const z=this.listeners[_];if(z)for(const te of Array.from(z))te(I)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,v.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,I){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(I)}_removeListener(_,I){this.listeners[_]&&(this.listeners[_].delete(I),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return D.type="LOCAL",D})();function Jt(D,g){return hn(D,"POST","/v2/accounts/mfaSignIn:start",It(D,g))}function _o(){return(_o=(0,v.Z)(function*(D){return(yield hn(D,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ul(D){return new Promise((g,_)=>{const I=document.createElement("script");I.setAttribute("src",D),I.onload=g,I.onerror=z=>{const te=$e("internal-error");te.customData=z,_(te)},I.type="text/javascript",I.charset="UTF-8",function nu(){var D,g;return null!==(g=null===(D=document.getElementsByTagName("head"))||void 0===D?void 0:D[0])&&void 0!==g?g:document}().appendChild(I)})}function cr(D){return`__${D}${Math.floor(1e6*Math.random())}`}const Vs=1e12;class ru{constructor(g){this.auth=g,this.counter=Vs,this._widgets=new Map}render(g,_){const I=this.counter;return this._widgets.set(I,new _s(g,this.auth.name,_||{})),this.counter++,I}reset(g){var _;const I=g||Vs;null===(_=this._widgets.get(I))||void 0===_||_.delete(),this._widgets.delete(I)}getResponse(g){var _;return(null===(_=this._widgets.get(g||Vs))||void 0===_?void 0:_.getResponse())||""}execute(g){var _=this;return(0,v.Z)(function*(){var I;return null===(I=_._widgets.get(g||Vs))||void 0===I||I.execute(),""})()}}class _s{constructor(g,_,I){this.params=I,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const z="string"==typeof g?document.getElementById(g):g;se(z,"argument-error",{appName:_}),this.container=z,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Qa(D){const g=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let I=0;I<D;I++)g.push(_.charAt(Math.floor(Math.random()*_.length)));return g.join("")}(50);const{callback:g,"expired-callback":_}=this.params;if(g)try{g(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const oa=cr("rcb"),yo=new Xt(3e4,6e4);class iu{constructor(){var g;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(g=Ft().grecaptcha)||void 0===g||!g.render)}load(g,_=""){return se(function Jr(D){return D.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(D)}(_),g,"argument-error"),this.shouldResolveImmediately(_)?Promise.resolve(Ft().grecaptcha):new Promise((I,z)=>{const te=Ft().setTimeout(()=>{z($e(g,"network-request-failed"))},yo.get());Ft()[oa]=()=>{Ft().clearTimeout(te),delete Ft()[oa];const gt=Ft().grecaptcha;if(!gt)return void z($e(g,"internal-error"));const Vt=gt.render;gt.render=(Cn,$n)=>{const Vn=Vt(Cn,$n);return this.counter++,Vn},this.hostLanguage=_,I(gt)},Ul(`https://www.google.com/recaptcha/api.js??${(0,x.xO)({onload:oa,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(te),z($e(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){var _;return!(null===(_=Ft().grecaptcha)||void 0===_||!_.render)&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Iu{load(g){return(0,v.Z)(function*(){return new ru(g)})()}clearedOneInstance(){}}const aa="recaptcha",fi={theme:"light",type:"image"};class nc{constructor(g,_=Object.assign({},fi),I){this.parameters=_,this.type=aa,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=wr(I),this.isInvisible="invisible"===this.parameters.size,se(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const z="string"==typeof g?document.getElementById(g):g;se(z,this.auth,"argument-error"),this.container=z,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Iu:new iu,this.validateStartingState()}verify(){var g=this;return(0,v.Z)(function*(){g.assertNotDestroyed();const _=yield g.render(),I=g.getAssertedRecaptcha();return I.getResponse(_)||new Promise(te=>{const Ne=gt=>{!gt||(g.tokenChangeListeners.delete(Ne),te(gt))};g.tokenChangeListeners.add(Ne),g.isInvisible&&I.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){se(!this.parameters.sitekey,this.auth,"argument-error"),se(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),se(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return _=>{if(this.tokenChangeListeners.forEach(I=>I(_)),"function"==typeof g)g(_);else if("string"==typeof g){const I=Ft()[g];"function"==typeof I&&I(_)}}}assertNotDestroyed(){se(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,v.Z)(function*(){if(yield g.init(),!g.widgetId){let _=g.container;if(!g.isInvisible){const I=document.createElement("div");_.appendChild(I),_=I}g.widgetId=g.getAssertedRecaptcha().render(_,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,v.Z)(function*(){se(Qe()&&!St(),g.auth,"internal-error"),yield function Ri(){let D=null;return new Promise(g=>{"complete"!==document.readyState?(D=()=>g(),window.addEventListener("load",D)):g()}).catch(g=>{throw D&&window.removeEventListener("load",D),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const _=yield function Ls(D){return _o.apply(this,arguments)}(g.auth);se(_,g.auth,"internal-error"),g.parameters.sitekey=_})()}getAssertedRecaptcha(){return se(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class io{constructor(g,_){this.verificationId=g,this.onConfirmation=_}confirm(g){const _=$i._fromVerification(this.verificationId,g);return this.onConfirmation(_)}}function va(){return(va=(0,v.Z)(function*(D,g,_){const I=wr(D),z=yield E(I,g,(0,x.m9)(_));return new io(z,te=>Qr(I,te))})).apply(this,arguments)}function Es(){return(Es=(0,v.Z)(function*(D,g,_){const I=(0,x.m9)(D);yield ri(!1,I,"phone");const z=yield E(I.auth,g,(0,x.m9)(_));return new io(z,te=>Lo(I,te))})).apply(this,arguments)}function A(){return(A=(0,v.Z)(function*(D,g,_){const I=(0,x.m9)(D),z=yield E(I.auth,g,(0,x.m9)(_));return new io(z,te=>Io(I,te))})).apply(this,arguments)}function E(D,g,_){return R.apply(this,arguments)}function R(){return(R=(0,v.Z)(function*(D,g,_){var I;const z=yield _.verify();try{let te;if(se("string"==typeof z,D,"argument-error"),se(_.type===aa,D,"argument-error"),te="string"==typeof g?{phoneNumber:g}:g,"session"in te){const Ne=te.session;if("phoneNumber"in te)return se("enroll"===Ne.type,D,"internal-error"),(yield Ps(D,{idToken:Ne.credential,phoneEnrollmentInfo:{phoneNumber:te.phoneNumber,recaptchaToken:z}})).phoneSessionInfo.sessionInfo;{se("signin"===Ne.type,D,"internal-error");const gt=(null===(I=te.multiFactorHint)||void 0===I?void 0:I.uid)||te.multiFactorUid;return se(gt,D,"missing-multi-factor-info"),(yield Jt(D,{mfaPendingCredential:Ne.credential,mfaEnrollmentId:gt,phoneSignInInfo:{recaptchaToken:z}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Ne}=yield yt(D,{phoneNumber:te.phoneNumber,recaptchaToken:z});return Ne}}finally{_._reset()}})).apply(this,arguments)}function Q(){return(Q=(0,v.Z)(function*(D,g){yield Yo((0,x.m9)(D),g)})).apply(this,arguments)}let le=(()=>{class D{constructor(_){this.providerId=D.PROVIDER_ID,this.auth=wr(_)}verifyPhoneNumber(_,I){return E(this.auth,_,(0,x.m9)(I))}static credential(_,I){return $i._fromVerification(_,I)}static credentialFromResult(_){return D.credentialFromTaggedObject(_)}static credentialFromError(_){return D.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:I,temporaryProof:z}=_;return I&&z?$i._fromTokenResponse(I,z):null}}return D.PROVIDER_ID="phone",D.PHONE_SIGN_IN_METHOD="phone",D})();function ye(D,g){return g?xt(g):(se(D._popupRedirectResolver,D,"argument-error"),D._popupRedirectResolver)}class ft extends ci{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return Rr(g,this._buildIdpRequest())}_linkToIdToken(g,_){return Rr(g,this._buildIdpRequest(_))}_getReauthenticationResolver(g){return Rr(g,this._buildIdpRequest())}_buildIdpRequest(g){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(_.idToken=g),_}}function nn(D){return Di(D.auth,new ft(D),D.bypassAuthState)}function or(D){const{auth:g,user:_}=D;return se(_,g,"internal-error"),Fo(_,new ft(D),D.bypassAuthState)}function Qt(D){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,v.Z)(function*(D){const{auth:g,user:_}=D;return se(_,g,"internal-error"),Yo(_,new ft(D),D.bypassAuthState)})).apply(this,arguments)}class Yi{constructor(g,_,I,z,te=!1){this.auth=g,this.resolver=I,this.user=z,this.bypassAuthState=te,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var g=this;return new Promise(function(){var _=(0,v.Z)(function*(I,z){g.pendingPromise={resolve:I,reject:z};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(te){g.reject(te)}});return function(I,z){return _.apply(this,arguments)}}())}onAuthEvent(g){var _=this;return(0,v.Z)(function*(){const{urlResponse:I,sessionId:z,postBody:te,tenantId:Ne,error:gt,type:Vt}=g;if(gt)return void _.reject(gt);const Cn={auth:_.auth,requestUri:I,sessionId:z,tenantId:Ne||void 0,postBody:te||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(Vt)(Cn))}catch($n){_.reject($n)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return nn;case"linkViaPopup":case"linkViaRedirect":return Qt;case"reauthViaPopup":case"reauthViaRedirect":return or;default:ct(this.auth,"internal-error")}}resolve(g){tt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){tt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const so=new Xt(2e3,1e4);function Zs(){return(Zs=(0,v.Z)(function*(D,g,_){const I=wr(D);Pt(D,g,ji);const z=ye(I,_);return new wl(I,"signInViaPopup",g,z).executeNotNull()})).apply(this,arguments)}function $a(){return($a=(0,v.Z)(function*(D,g,_){const I=(0,x.m9)(D);Pt(I.auth,g,ji);const z=ye(I.auth,_);return new wl(I.auth,"reauthViaPopup",g,z,I).executeNotNull()})).apply(this,arguments)}function ba(){return(ba=(0,v.Z)(function*(D,g,_){const I=(0,x.m9)(D);Pt(I.auth,g,ji);const z=ye(I.auth,_);return new wl(I.auth,"linkViaPopup",g,z,I).executeNotNull()})).apply(this,arguments)}let wl=(()=>{class D extends Yi{constructor(_,I,z,te,Ne){super(_,I,te,Ne),this.provider=z,this.authWindow=null,this.pollId=null,D.currentPopupAction&&D.currentPopupAction.cancel(),D.currentPopupAction=this}executeNotNull(){var _=this;return(0,v.Z)(function*(){const I=yield _.execute();return se(I,_.auth,"internal-error"),I})()}onExecution(){var _=this;return(0,v.Z)(function*(){tt(1===_.filter.length,"Popup operations only handle one event");const I=en();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],I),_.authWindow.associatedEvent=I,_.resolver._originValidation(_.auth).catch(z=>{_.reject(z)}),_.resolver._isIframeWebStorageSupported(_.auth,z=>{z||_.reject($e(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject($e(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,D.currentPopupAction=null}pollUserCancellation(){const _=()=>{var I,z;this.pollId=null!==(z=null===(I=this.authWindow)||void 0===I?void 0:I.window)&&void 0!==z&&z.closed?window.setTimeout(()=>{this.pollId=null,this.reject($e(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(_,so.get())};_()}}return D.currentPopupAction=null,D})();const su=new Map;class Dl extends Yi{constructor(g,_,I=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,I),this.eventId=null}execute(){var g=()=>super.execute,_=this;return(0,v.Z)(function*(){let I=su.get(_.auth._key());if(!I){try{const te=(yield function rc(D,g){return Mo.apply(this,arguments)}(_.resolver,_.auth))?yield g().call(_):null;I=()=>Promise.resolve(te)}catch(z){I=()=>Promise.reject(z)}su.set(_.auth._key(),I)}return _.bypassAuthState||su.set(_.auth._key(),()=>Promise.resolve(null)),I()})()}onAuthEvent(g){var _=()=>super.onAuthEvent,I=this;return(0,v.Z)(function*(){if("signInViaRedirect"===g.type)return _().call(I,g);if("unknown"!==g.type){if(g.eventId){const z=yield I.auth._redirectUserForId(g.eventId);if(z)return I.user=z,_().call(I,g);I.resolve(null)}}else I.resolve(null)})()}onExecution(){return(0,v.Z)(function*(){})()}cleanUp(){}}function Mo(){return(Mo=(0,v.Z)(function*(D,g){const _=Tu(g),I=rs(D);if(!(yield I._isAvailable()))return!1;const z="true"===(yield I._get(_));return yield I._remove(_),z})).apply(this,arguments)}function Ha(D,g){return ic.apply(this,arguments)}function ic(){return(ic=(0,v.Z)(function*(D,g){return rs(D)._set(Tu(g),"true")})).apply(this,arguments)}function Hl(D,g){su.set(D._key(),g)}function rs(D){return xt(D._redirectPersistence)}function Tu(D){return fe("pendingRedirect",D.config.apiKey,D.name)}function Y(){return(Y=(0,v.Z)(function*(D,g,_){const I=wr(D);Pt(D,g,ji),yield I._initializationPromise;const z=ye(I,_);return yield Ha(z,I),z._openRedirect(I,g,"signInViaRedirect")})).apply(this,arguments)}function Le(){return(Le=(0,v.Z)(function*(D,g,_){const I=(0,x.m9)(D);Pt(I.auth,g,ji),yield I.auth._initializationPromise;const z=ye(I.auth,_);yield Ha(z,I.auth);const te=yield yi(I);return z._openRedirect(I.auth,g,"reauthViaRedirect",te)})).apply(this,arguments)}function bn(){return(bn=(0,v.Z)(function*(D,g,_){const I=(0,x.m9)(D);Pt(I.auth,g,ji),yield I.auth._initializationPromise;const z=ye(I.auth,_);yield ri(!1,I,g.providerId),yield Ha(z,I.auth);const te=yield yi(I);return z._openRedirect(I.auth,g,"linkViaRedirect",te)})).apply(this,arguments)}function gr(){return(gr=(0,v.Z)(function*(D,g){return yield wr(D)._initializationPromise,Dn(D,g,!1)})).apply(this,arguments)}function Dn(D,g){return oo.apply(this,arguments)}function oo(){return(oo=(0,v.Z)(function*(D,g,_=!1){const I=wr(D),z=ye(I,g),Ne=yield new Dl(I,z,_).execute();return Ne&&!_&&(delete Ne.user._redirectEventId,yield I._persistUserIfCurrent(Ne.user),yield I._setRedirectUser(null,g)),Ne})).apply(this,arguments)}function yi(D){return ui.apply(this,arguments)}function ui(){return(ui=(0,v.Z)(function*(D){const g=en(`${D.uid}:::`);return D._redirectEventId=g,yield D.auth._setRedirectUser(D),yield D.auth._persistUserIfCurrent(D),g})).apply(this,arguments)}class $o{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let _=!1;return this.consumers.forEach(I=>{this.isEventForConsumer(g,I)&&(_=!0,this.sendToConsumer(g,I),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function sc(D){switch(D.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ho(D);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=g,_=!0)),_}sendToConsumer(g,_){var I;if(g.error&&!Ho(g)){const z=(null===(I=g.error.code)||void 0===I?void 0:I.split("auth/")[1])||"internal-error";_.onError($e(this.auth,z))}else _.onAuthEvent(g)}isEventForConsumer(g,_){const I=null===_.eventId||!!g.eventId&&g.eventId===_.eventId;return _.filter.includes(g.type)&&I}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(No(g))}saveEventToCache(g){this.cachedEventUids.add(No(g)),this.lastProcessedEventTime=Date.now()}}function No(D){return[D.type,D.eventId,D.sessionId,D.tenantId].filter(g=>g).join("-")}function Ho({type:D,error:g}){return"unknown"===D&&"auth/no-auth-event"===g?.code}function Cl(D){return El.apply(this,arguments)}function El(){return(El=(0,v.Z)(function*(D,g={}){return hn(D,"GET","/v1/projects",g)})).apply(this,arguments)}const zc=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ou=/^https?/;function tl(){return(tl=(0,v.Z)(function*(D){if(D.config.emulator)return;const{authorizedDomains:g}=yield Cl(D);for(const _ of g)try{if(Il(_))return}catch{}ct(D,"unauthorized-domain")})).apply(this,arguments)}function Il(D){const g=lt(),{protocol:_,hostname:I}=new URL(g);if(D.startsWith("chrome-extension://")){const Ne=new URL(D);return""===Ne.hostname&&""===I?"chrome-extension:"===_&&D.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===_&&Ne.hostname===I}if(!ou.test(_))return!1;if(zc.test(D))return I===D;const z=D.replace(/\./g,"\\.");return new RegExp("^(.+\\."+z+"|"+z+")$","i").test(I)}const Lh=new Xt(3e4,6e4);function jl(){const D=Ft().___jsl;if(D?.H)for(const g of Object.keys(D.H))if(D.H[g].r=D.H[g].r||[],D.H[g].L=D.H[g].L||[],D.H[g].r=[...D.H[g].L],D.CP)for(let _=0;_<D.CP.length;_++)D.CP[_]=null}let ja=null;function Uh(D){return ja=ja||function Vh(D){return new Promise((g,_)=>{var I,z,te;function Ne(){jl(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{jl(),_($e(D,"network-request-failed"))},timeout:Lh.get()})}if(null!==(z=null===(I=Ft().gapi)||void 0===I?void 0:I.iframes)&&void 0!==z&&z.Iframe)g(gapi.iframes.getContext());else{if(null===(te=Ft().gapi)||void 0===te||!te.load){const gt=cr("iframefcb");return Ft()[gt]=()=>{gapi.load?Ne():_($e(D,"network-request-failed"))},Ul(`https://apis.google.com/js/api.js?onload=${gt}`).catch(Vt=>_(Vt))}Ne()}}).catch(g=>{throw ja=null,g})}(D),ja}const oc=new Xt(5e3,15e3),Vd={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Wc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function qc(D){const g=D.config;se(g.authDomain,D,"auth-domain-config-required");const _=g.emulator?qt(g,"emulator/auth/iframe"):`https://${D.config.authDomain}/__/auth/iframe`,I={apiKey:g.apiKey,appName:D.name,v:l.SDK_VERSION},z=Wc.get(D.config.apiHost);z&&(I.eid=z);const te=D._getFrameworks();return te.length&&(I.fw=te.join(",")),`${_}?${(0,x.xO)(I).slice(1)}`}function $h(){return $h=(0,v.Z)(function*(D){const g=yield Uh(D),_=Ft().gapi;return se(_,D,"internal-error"),g.open({where:document.body,url:qc(D),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Vd,dontclear:!0},I=>new Promise(function(){var z=(0,v.Z)(function*(te,Ne){yield I.restyle({setHideOnLeave:!1});const gt=$e(D,"network-request-failed"),Vt=Ft().setTimeout(()=>{Ne(gt)},oc.get());function Cn(){Ft().clearTimeout(Vt),te(I)}I.ping(Cn).then(Cn,()=>{Ne(gt)})});return function(te,Ne){return z.apply(this,arguments)}}()))}),$h.apply(this,arguments)}const Bf={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ga{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Yc(D,g,_,I,z,te){se(D.config.authDomain,D,"auth-domain-config-required"),se(D.config.apiKey,D,"invalid-api-key");const Ne={apiKey:D.config.apiKey,appName:D.name,authType:_,redirectUrl:I,v:l.SDK_VERSION,eventId:z};if(g instanceof ji){g.setDefaultLanguage(D.languageCode),Ne.providerId=g.providerId||"",(0,x.xb)(g.getCustomParameters())||(Ne.customParameters=JSON.stringify(g.getCustomParameters()));for(const[Vt,Cn]of Object.entries(te||{}))Ne[Vt]=Cn}if(g instanceof bs){const Vt=g.getScopes().filter(Cn=>""!==Cn);Vt.length>0&&(Ne.scopes=Vt.join(","))}D.tenantId&&(Ne.tid=D.tenantId);const gt=Ne;for(const Vt of Object.keys(gt))void 0===gt[Vt]&&delete gt[Vt];return`${function Pr({config:D}){return D.emulator?qt(D,"emulator/auth/handler"):`https://${D.authDomain}/__/auth/handler`}(D)}?${(0,x.xO)(gt).slice(1)}`}const Wr="webStorageSupport";class Kc extends class $d{constructor(g){this.factorId=g}_process(g,_,I){switch(_.type){case"enroll":return this._finalizeEnroll(g,_.credential,I);case"signin":return this._finalizeSignIn(g,_.credential);default:return et("unexpected MultiFactorSessionType")}}}{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new Kc(g)}_finalizeEnroll(g,_,I){return function k(D,g){return hn(D,"POST","/v2/accounts/mfaEnrollment:finalize",It(D,g))}(g,{idToken:_,displayName:I,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,_){return function ms(D,g){return hn(D,"POST","/v2/accounts/mfaSignIn:finalize",It(D,g))}(g,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Hd=(()=>{class D{constructor(){}static assertion(_){return Kc._fromCredential(_)}}return D.FACTOR_ID="phone",D})();var Qc="@firebase/auth";class Xc{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var _=this;return(0,v.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const _=this.auth.onIdTokenChanged(I=>{g(I?.stsTokenManager.accessToken||null)});this.internalListeners.set(g,_),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const _=this.internalListeners.get(g);!_||(this.internalListeners.delete(g),_(),this.updateProactiveRefresh())}assertAuthConfigured(){se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function wa(){return window}function nd(){return(nd=(0,v.Z)(function*(D,g,_){var I;const{BuildInfo:z}=wa();tt(g.sessionId,"AuthEvent did not contain a session ID");const te=yield Gl(g.sessionId),Ne={};return ie()?Ne.ibi=z.packageName:fr()?Ne.apn=z.packageName:ct(D,"operation-not-supported-in-this-environment"),z.displayName&&(Ne.appDisplayName=z.displayName),Ne.sessionId=te,Yc(D,_,g.type,void 0,null!==(I=g.eventId)&&void 0!==I?I:void 0,Ne)})).apply(this,arguments)}function ua(){return(ua=(0,v.Z)(function*(D){const{BuildInfo:g}=wa(),_={};ie()?_.iosBundleId=g.packageName:fr()?_.androidPackageName=g.packageName:ct(D,"operation-not-supported-in-this-environment"),yield Cl(D,_)})).apply(this,arguments)}function lc(){return(lc=(0,v.Z)(function*(D,g,_){const{cordova:I}=wa();let z=()=>{};try{yield new Promise((te,Ne)=>{let gt=null;function Vt(){var Vn;te();const ss=null===(Vn=I.plugins.browsertab)||void 0===Vn?void 0:Vn.close;"function"==typeof ss&&ss(),"function"==typeof _?.close&&_.close()}function Cn(){gt||(gt=window.setTimeout(()=>{Ne($e(D,"redirect-cancelled-by-user"))},2e3))}function $n(){"visible"===document?.visibilityState&&Cn()}g.addPassiveListener(Vt),document.addEventListener("resume",Cn,!1),fr()&&document.addEventListener("visibilitychange",$n,!1),z=()=>{g.removePassiveListener(Vt),document.removeEventListener("resume",Cn,!1),document.removeEventListener("visibilitychange",$n,!1),gt&&window.clearTimeout(gt)}})}finally{z()}})).apply(this,arguments)}function Gl(D){return uc.apply(this,arguments)}function uc(){return(uc=(0,v.Z)(function*(D){const g=uu(D),_=yield crypto.subtle.digest("SHA-256",g);return Array.from(new Uint8Array(_)).map(z=>z.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function uu(D){if(tt(/[0-9a-zA-Z]+/.test(D),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(D);const g=new ArrayBuffer(D.length),_=new Uint8Array(g);for(let I=0;I<D.length;I++)_[I]=D.charCodeAt(I);return _}(0,x.Pz)("authIdTokenMaxAge"),function Au(D){(0,l._registerComponent)(new he.wA("auth",(g,{options:_})=>{const I=g.getProvider("app").getImmediate(),z=g.getProvider("heartbeat"),{apiKey:te,authDomain:Ne}=I.options;return((gt,Vt)=>{se(te&&!te.includes(":"),"invalid-api-key",{appName:gt.name}),se(!Ne?.includes(":"),"argument-error",{appName:gt.name});const Cn={apiKey:te,authDomain:Ne,clientPlatform:D,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ur(D)},$n=new Un(gt,Vt,Cn);return function Ze(D,g){const _=g?.persistence||[],I=(Array.isArray(_)?_:[_]).map(xt);g?.errorMap&&D._updateErrorMap(g.errorMap),D._initializeWithPersistence(I,g?.popupRedirectResolver)}($n,_),$n})(I,z)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,_,I)=>{g.getProvider("auth-internal").initialize()})),(0,l._registerComponent)(new he.wA("auth-internal",g=>{const _=wr(g.getProvider("auth").getImmediate());return new Xc(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,l.registerVersion)(Qc,"0.21.6",function bo(D){switch(D){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(D)),(0,l.registerVersion)(Qc,"0.21.6","esm2017")}("Browser");class cc extends $o{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(g=>{this.resolveInialized=g})}addPassiveListener(g){this.passiveListeners.add(g)}removePassiveListener(g){this.passiveListeners.delete(g)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(g){return this.resolveInialized(),this.passiveListeners.forEach(_=>_(g)),super.onEvent(g)}initialized(){var g=this;return(0,v.Z)(function*(){yield g.initPromise})()}}function zl(D){return cu.apply(this,arguments)}function cu(){return(cu=(0,v.Z)(function*(D){const g=yield rl()._get(ku(D));return g&&(yield rl()._remove(ku(D))),g})).apply(this,arguments)}function qs(){const D=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let _=0;_<20;_++){const I=Math.floor(Math.random()*g.length);D.push(g.charAt(I))}return D.join("")}function rl(){return xt(mt)}function ku(D){return fe("authEvent",D.config.apiKey,D.name)}function Sr(D){if(!D?.includes("?"))return{};const[g,..._]=D.split("?");return(0,x.zd)(_.join("?"))}function jo(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:$e("no-auth-event")}}function Xn(){var D;return(null===(D=self?.location)||void 0===D?void 0:D.protocol)||null}function Za(D=(0,x.z$)()){return!("file:"!==Xn()&&"ionic:"!==Xn()&&"capacitor:"!==Xn()||!D.toLowerCase().match(/iphone|ipad|ipod|android/))}function Sl(){try{const D=self.localStorage,g=en();if(D)return D.setItem(g,"1"),D.removeItem(g),!function Kd(D=(0,x.z$)()){return function Yd(){return(0,x.w1)()&&11===document?.documentMode}()||function Gf(D=(0,x.z$)()){return/Edge\/\d+/.test(D)}(D)}()||(0,x.hl)()}catch{return ys()&&(0,x.hl)()}return!1}function ys(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function hc(){return(function Us(){return"http:"===Xn()||"https:"===Xn()}()||(0,x.ru)()||Za())&&!function qd(){return(0,x.b$)()||(0,x.UG)()}()&&Sl()&&!ys()}function Zl(){return Za()&&typeof document<"u"}function Ru(){return(Ru=(0,v.Z)(function*(){return!!Zl()&&new Promise(D=>{const g=setTimeout(()=>{D(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(g),D(!0)})})})).apply(this,arguments)}const Ys={LOCAL:"local",NONE:"none",SESSION:"session"},Go=se,Ou="persistence";function al(D){return sd.apply(this,arguments)}function sd(){return(sd=(0,v.Z)(function*(D){yield D._initializationPromise;const g=Ai(),_=fe(Ou,D.config.apiKey,D.name);g&&g.setItem(_,D._getPersistence())})).apply(this,arguments)}function Ai(){var D;try{return(null===(D=function ol(){return typeof window<"u"?window:null}())||void 0===D?void 0:D.sessionStorage)||null}catch{return null}}const pc=se;class ll{constructor(){this.browserResolver=xt(class lu{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=si,this._completeRedirectFn=Dn,this._overrideRedirectResult=Hl}_openPopup(g,_,I,z){var te=this;return(0,v.Z)(function*(){var Ne;tt(null===(Ne=te.eventManagers[g._key()])||void 0===Ne?void 0:Ne.manager,"_initialize() not called before _openPopup()");const gt=Yc(g,_,I,lt(),z);return function Ud(D,g,_,I=500,z=600){const te=Math.max((window.screen.availHeight-z)/2,0).toString(),Ne=Math.max((window.screen.availWidth-I)/2,0).toString();let gt="";const Vt=Object.assign(Object.assign({},Bf),{width:I.toString(),height:z.toString(),top:te,left:Ne}),Cn=(0,x.z$)().toLowerCase();_&&(gt=mn(Cn)?"_blank":_),je(Cn)&&(g=g||"http://localhost",Vt.scrollbars="yes");const $n=Object.entries(Vt).reduce((ss,[da,dl])=>`${ss}${da}=${dl},`,"");if(function at(D=(0,x.z$)()){var g;return ie(D)&&!(null===(g=window.navigator)||void 0===g||!g.standalone)}(Cn)&&"_self"!==gt)return function Bd(D,g){const _=document.createElement("a");_.href=D,_.target=g;const I=document.createEvent("MouseEvent");I.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(I)}(g||"",gt),new Ga(null);const Vn=window.open(g||"",gt,$n);se(Vn,D,"popup-blocked");try{Vn.focus()}catch{}return new Ga(Vn)}(g,gt,en())})()}_openRedirect(g,_,I,z){var te=this;return(0,v.Z)(function*(){return yield te._originValidation(g),function rt(D){Ft().location.href=D}(Yc(g,_,I,lt(),z)),new Promise(()=>{})})()}_initialize(g){const _=g._key();if(this.eventManagers[_]){const{manager:z,promise:te}=this.eventManagers[_];return z?Promise.resolve(z):(tt(te,"If manager is not set, promise should be"),te)}const I=this.initAndGetManager(g);return this.eventManagers[_]={promise:I},I.catch(()=>{delete this.eventManagers[_]}),I}initAndGetManager(g){var _=this;return(0,v.Z)(function*(){const I=yield function Hp(D){return $h.apply(this,arguments)}(g),z=new $o(g);return I.register("authEvent",te=>(se(te?.authEvent,g,"invalid-auth-event"),{status:z.onEvent(te.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[g._key()]={manager:z},_.iframes[g._key()]=I,z})()}_isIframeWebStorageSupported(g,_){this.iframes[g._key()].send(Wr,{type:Wr},z=>{var te;const Ne=null===(te=z?.[0])||void 0===te?void 0:te[Wr];void 0!==Ne&&_(!!Ne),ct(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const _=g._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function el(D){return tl.apply(this,arguments)}(g)),this.originValidationPromises[_]}get _shouldInitProactively(){return Mn()||Yt()||ie()}}),this.cordovaResolver=xt(class il{constructor(){this._redirectPersistence=si,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Dn,this._overrideRedirectResult=Hl}_initialize(g){var _=this;return(0,v.Z)(function*(){const I=g._key();let z=_.eventManagers.get(I);return z||(z=new cc(g),_.eventManagers.set(I,z),_.attachCallbackListeners(g,z)),z})()}_openPopup(g){ct(g,"operation-not-supported-in-this-environment")}_openRedirect(g,_,I,z){var te=this;return(0,v.Z)(function*(){!function zd(D){var g,_,I,z,te,Ne,gt,Vt,Cn,$n;const Vn=wa();se("function"==typeof(null===(g=Vn?.universalLinks)||void 0===g?void 0:g.subscribe),D,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),se(typeof(null===(_=Vn?.BuildInfo)||void 0===_?void 0:_.packageName)<"u",D,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),se("function"==typeof(null===(te=null===(z=null===(I=Vn?.cordova)||void 0===I?void 0:I.plugins)||void 0===z?void 0:z.browsertab)||void 0===te?void 0:te.openUrl),D,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),se("function"==typeof(null===(Vt=null===(gt=null===(Ne=Vn?.cordova)||void 0===Ne?void 0:Ne.plugins)||void 0===gt?void 0:gt.browsertab)||void 0===Vt?void 0:Vt.isAvailable),D,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),se("function"==typeof(null===($n=null===(Cn=Vn?.cordova)||void 0===Cn?void 0:Cn.InAppBrowser)||void 0===$n?void 0:$n.open),D,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(g);const Ne=yield te._initialize(g);yield Ne.initialized(),Ne.resetRedirect(),function pi(){su.clear()}(),yield te._originValidation(g);const gt=function dc(D,g,_=null){return{type:g,eventId:_,urlResponse:null,sessionId:qs(),postBody:null,tenantId:D.tenantId,error:$e(D,"no-auth-event")}}(g,I,z);yield function id(D,g){return rl()._set(ku(D),g)}(g,gt);const Vt=yield function ac(D,g,_){return nd.apply(this,arguments)}(g,gt,_),Cn=yield function rd(D){const{cordova:g}=wa();return new Promise(_=>{g.plugins.browsertab.isAvailable(I=>{let z=null;I?g.plugins.browsertab.openUrl(D):z=g.InAppBrowser.open(D,function Ae(D=(0,x.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(D)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(D)}()?"_blank":"_system","location=yes"),_(z)})})}(Vt);return function Nu(D,g,_){return lc.apply(this,arguments)}(g,Ne,Cn)})()}_isIframeWebStorageSupported(g,_){throw new Error("Method not implemented.")}_originValidation(g){const _=g._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function Zh(D){return ua.apply(this,arguments)}(g)),this.originValidationPromises[_]}attachCallbackListeners(g,_){const{universalLinks:I,handleOpenURL:z,BuildInfo:te}=wa(),Ne=setTimeout((0,v.Z)(function*(){yield zl(g),_.onEvent(jo())}),500),gt=function(){var $n=(0,v.Z)(function*(Vn){clearTimeout(Ne);const ss=yield zl(g);let da=null;ss&&Vn?.url&&(da=function xu(D,g){var _,I;const z=function is(D){const g=Sr(D),_=g.link?decodeURIComponent(g.link):void 0,I=Sr(_).link,z=g.deep_link_id?decodeURIComponent(g.deep_link_id):void 0;return Sr(z).link||z||I||_||D}(g);if(z.includes("/__/auth/callback")){const te=Sr(z),Ne=te.firebaseError?function za(D){try{return JSON.parse(D)}catch{return null}}(decodeURIComponent(te.firebaseError)):null,gt=null===(I=null===(_=Ne?.code)||void 0===_?void 0:_.split("auth/"))||void 0===I?void 0:I[1],Vt=gt?$e(gt):null;return Vt?{type:D.type,eventId:D.eventId,tenantId:D.tenantId,error:Vt,urlResponse:null,sessionId:null,postBody:null}:{type:D.type,eventId:D.eventId,tenantId:D.tenantId,sessionId:D.sessionId,urlResponse:z,postBody:null}}return null}(ss,Vn.url)),_.onEvent(da||jo())});return function(ss){return $n.apply(this,arguments)}}();typeof I<"u"&&"function"==typeof I.subscribe&&I.subscribe(null,gt);const Vt=z,Cn=`${te.packageName.toLowerCase()}://`;wa().handleOpenURL=function(){var $n=(0,v.Z)(function*(Vn){if(Vn.toLowerCase().startsWith(Cn)&&gt({url:Vn}),"function"==typeof Vt)try{Vt(Vn)}catch(ss){console.error(ss)}});return function(Vn){return $n.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=si,this._completeRedirectFn=Dn,this._overrideRedirectResult=Hl}_initialize(g){var _=this;return(0,v.Z)(function*(){return yield _.selectUnderlyingResolver(),_.assertedUnderlyingResolver._initialize(g)})()}_openPopup(g,_,I,z){var te=this;return(0,v.Z)(function*(){return yield te.selectUnderlyingResolver(),te.assertedUnderlyingResolver._openPopup(g,_,I,z)})()}_openRedirect(g,_,I,z){var te=this;return(0,v.Z)(function*(){return yield te.selectUnderlyingResolver(),te.assertedUnderlyingResolver._openRedirect(g,_,I,z)})()}_isIframeWebStorageSupported(g,_){this.assertedUnderlyingResolver._isIframeWebStorageSupported(g,_)}_originValidation(g){return this.assertedUnderlyingResolver._originValidation(g)}get _shouldInitProactively(){return Zl()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return pc(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var g=this;return(0,v.Z)(function*(){if(g.underlyingResolver)return;const _=yield function sl(){return Ru.apply(this,arguments)}();g.underlyingResolver=_?g.cordovaResolver:g.browserResolver})()}}function gc(D){return D.unwrap()}function du(D){return Fu(D)}function Fu(D){const{_tokenResponse:g}=D instanceof x.ZR?D.customData:D;if(!g)return null;if(!(D instanceof x.ZR)&&"temporaryProof"in g&&"phoneNumber"in g)return le.credentialFromResult(D);const _=g.providerId;if(!_||"password"===_)return null;let I;switch(_){case"google.com":I=hs;break;case"facebook.com":I=Ro;break;case"github.com":I=Xs;break;case"twitter.com":I=ki;break;default:const{oauthIdToken:z,oauthAccessToken:te,oauthTokenSecret:Ne,pendingToken:gt,nonce:Vt}=g;return te||Ne||z||gt?gt?_.startsWith("saml.")?Ms._create(_,gt):Ge._fromParams({providerId:_,signInMethod:_,pendingToken:gt,idToken:z,accessToken:te}):new Gi(_).credential({idToken:z,accessToken:te,rawNonce:Vt}):null}return D instanceof x.ZR?I.credentialFromError(D):I.credentialFromResult(D)}function Oi(D,g){return g.catch(_=>{throw _ instanceof x.ZR&&function ad(D,g){var _;const I=null===(_=g.customData)||void 0===_?void 0:_._tokenResponse;if("auth/multi-factor-auth-required"===g?.code)g.resolver=new zf(D,function Ll(D,g){var _;const I=(0,x.m9)(D),z=g;return se(g.customData.operationType,I,"argument-error"),se(null===(_=z.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,I,"argument-error"),Zr._fromError(I,z)}(D,g));else if(I){const z=Fu(g),te=g;z&&(te.credential=z,te.tenantId=I.tenantId||void 0,te.email=I.email||void 0,te.phoneNumber=I.phoneNumber||void 0)}}(D,_),_}).then(_=>{const z=_.user;return{operationType:_.operationType,credential:du(_),additionalUserInfo:Ka(_),user:uo.getOrCreate(z)}})}function ul(D,g){return mc.apply(this,arguments)}function mc(){return(mc=(0,v.Z)(function*(D,g){const _=yield g;return{verificationId:_.verificationId,confirm:I=>Oi(D,_.confirm(I))}})).apply(this,arguments)}class zf{constructor(g,_){this.resolver=_,this.auth=function od(D){return D.wrapped()}(g)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(g){return Oi(gc(this.auth),this.resolver.resolveSignIn(g))}}class uo{constructor(g){this._delegate=g,this.multiFactor=function bt(D){const g=(0,x.m9)(D);return ot.has(g)||ot.set(g,be._fromUser(g)),ot.get(g)}(g)}static getOrCreate(g){return uo.USER_MAP.has(g)||uo.USER_MAP.set(g,new uo(g)),uo.USER_MAP.get(g)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(g){return this._delegate.getIdTokenResult(g)}getIdToken(g){return this._delegate.getIdToken(g)}linkAndRetrieveDataWithCredential(g){return this.linkWithCredential(g)}linkWithCredential(g){var _=this;return(0,v.Z)(function*(){return Oi(_.auth,Lo(_._delegate,g))})()}linkWithPhoneNumber(g,_){var I=this;return(0,v.Z)(function*(){return ul(I.auth,function vl(D,g,_){return Es.apply(this,arguments)}(I._delegate,g,_))})()}linkWithPopup(g){var _=this;return(0,v.Z)(function*(){return Oi(_.auth,function bl(D,g,_){return ba.apply(this,arguments)}(_._delegate,g,ll))})()}linkWithRedirect(g){var _=this;return(0,v.Z)(function*(){return yield al(wr(_.auth)),function Bt(D,g,_){return function gn(D,g,_){return bn.apply(this,arguments)}(D,g,_)}(_._delegate,g,ll)})()}reauthenticateAndRetrieveDataWithCredential(g){return this.reauthenticateWithCredential(g)}reauthenticateWithCredential(g){var _=this;return(0,v.Z)(function*(){return Oi(_.auth,Io(_._delegate,g))})()}reauthenticateWithPhoneNumber(g,_){return ul(this.auth,function T(D,g,_){return A.apply(this,arguments)}(this._delegate,g,_))}reauthenticateWithPopup(g){return Oi(this.auth,function Xa(D,g,_){return $a.apply(this,arguments)}(this._delegate,g,ll))}reauthenticateWithRedirect(g){var _=this;return(0,v.Z)(function*(){return yield al(wr(_.auth)),function _e(D,g,_){return function ke(D,g,_){return Le.apply(this,arguments)}(D,g,_)}(_._delegate,g,ll)})()}sendEmailVerification(g){return function ns(D,g){return _a.apply(this,arguments)}(this._delegate,g)}unlink(g){var _=this;return(0,v.Z)(function*(){return yield function gi(D,g){return fs.apply(this,arguments)}(_._delegate,g),_})()}updateEmail(g){return function To(D,g){return pl((0,x.m9)(D),g,null)}(this._delegate,g)}updatePassword(g){return function Pa(D,g){return pl((0,x.m9)(D),null,g)}(this._delegate,g)}updatePhoneNumber(g){return function U(D,g){return Q.apply(this,arguments)}(this._delegate,g)}updateProfile(g){return function ya(D,g){return Ds.apply(this,arguments)}(this._delegate,g)}verifyBeforeUpdateEmail(g,_){return function Oa(D,g,_){return Os.apply(this,arguments)}(this._delegate,g,_)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}uo.USER_MAP=new WeakMap;const ca=se;let Jd=(()=>{class D{constructor(_,I){if(this.app=_,I.isInitialized())return this._delegate=I.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:z}=_.options;ca(z,"invalid-api-key",{appName:_.name}),ca(z,"invalid-api-key",{appName:_.name});const te=typeof window<"u"?ll:void 0;this._delegate=I.initialize({options:{persistence:_c(z,_.name),popupRedirectResolver:te}}),this._delegate._updateErrorMap(Be),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?uo.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(_){this._delegate.languageCode=_}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(_){this._delegate.tenantId=_}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(_,I){!function Qi(D,g,_){const I=wr(D);se(I._canInitEmulator,I,"emulator-config-failed"),se(/^https?:\/\//.test(g),I,"invalid-emulator-scheme");const z=!!_?.disableWarnings,te=Ni(g),{host:Ne,port:gt}=function Yr(D){const g=Ni(D),_=/(\/\/)?([^?#/]+)/.exec(D.substr(g.length));if(!_)return{host:"",port:null};const I=_[2].split("@").pop()||"",z=/^(\[[^\]]+\])(:|$)/.exec(I);if(z){const te=z[1];return{host:te,port:ai(I.substr(te.length+1))}}{const[te,Ne]=I.split(":");return{host:te,port:ai(Ne)}}}(g);I.config.emulator={url:`${te}//${Ne}${null===gt?"":`:${gt}`}/`},I.settings.appVerificationDisabledForTesting=!0,I.emulatorConfig=Object.freeze({host:Ne,port:gt,protocol:te.replace(":",""),options:Object.freeze({disableWarnings:z})}),z||function Br(){function D(){const g=document.createElement("p"),_=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",D):D())}()}(this._delegate,_,I)}applyActionCode(_){return function po(D,g){return ws.apply(this,arguments)}(this._delegate,_)}checkActionCode(_){return Ya(this._delegate,_)}confirmPasswordReset(_,I){return function Ra(D,g,_){return Zi.apply(this,arguments)}(this._delegate,_,I)}createUserWithEmailAndPassword(_,I){var z=this;return(0,v.Z)(function*(){return Oi(z._delegate,function O(D,g,_){return ee.apply(this,arguments)}(z._delegate,_,I))})()}fetchProvidersForEmail(_){return this.fetchSignInMethodsForEmail(_)}fetchSignInMethodsForEmail(_){return function mo(D,g){return Wi.apply(this,arguments)}(this._delegate,_)}isSignInWithEmailLink(_){return function ks(D,g){return"EMAIL_SIGNIN"===Qs.parseLink(g)?.operation}(0,_)}getRedirectResult(){var _=this;return(0,v.Z)(function*(){ca(hc(),_._delegate,"operation-not-supported-in-this-environment");const I=yield function Bn(D,g){return gr.apply(this,arguments)}(_._delegate,ll);return I?Oi(_._delegate,Promise.resolve(I)):{credential:null,user:null}})()}addFrameworkForLogging(_){!function Wd(D,g){wr(D)._logFramework(g)}(this._delegate,_)}onAuthStateChanged(_,I,z){const{next:te,error:Ne,complete:gt}=Al(_,I,z);return this._delegate.onAuthStateChanged(te,Ne,gt)}onIdTokenChanged(_,I,z){const{next:te,error:Ne,complete:gt}=Al(_,I,z);return this._delegate.onIdTokenChanged(te,Ne,gt)}sendSignInLinkToEmail(_,I){return function dn(D,g,_){return sr.apply(this,arguments)}(this._delegate,_,I)}sendPasswordResetEmail(_,I){return function ii(D,g,_){return Xo.apply(this,arguments)}(this._delegate,_,I||void 0)}setPersistence(_){var I=this;return(0,v.Z)(function*(){let z;switch(function fc(D,g){Go(Object.values(Ys).includes(g),D,"invalid-persistence-type"),(0,x.b$)()?Go(g!==Ys.SESSION,D,"unsupported-persistence-type"):(0,x.UG)()?Go(g===Ys.NONE,D,"unsupported-persistence-type"):ys()?Go(g===Ys.NONE||g===Ys.LOCAL&&(0,x.hl)(),D,"unsupported-persistence-type"):Go(g===Ys.NONE||Sl(),D,"unsupported-persistence-type")}(I._delegate,_),_){case Ys.SESSION:z=si;break;case Ys.LOCAL:z=(yield xt(vr)._isAvailable())?vr:mt;break;case Ys.NONE:z=ve;break;default:return ct("argument-error",{appName:I._delegate.name})}return I._delegate.setPersistence(z)})()}signInAndRetrieveDataWithCredential(_){return this.signInWithCredential(_)}signInAnonymously(){return Oi(this._delegate,function Eo(D){return ni.apply(this,arguments)}(this._delegate))}signInWithCredential(_){return Oi(this._delegate,Qr(this._delegate,_))}signInWithCustomToken(_){return Oi(this._delegate,function to(D,g){return no.apply(this,arguments)}(this._delegate,_))}signInWithEmailAndPassword(_,I){return Oi(this._delegate,function qe(D,g,_){return Qr((0,x.m9)(D),Hi.credential(g,_))}(this._delegate,_,I))}signInWithEmailLink(_,I){return Oi(this._delegate,function Gs(D,g,_){return go.apply(this,arguments)}(this._delegate,_,I))}signInWithPhoneNumber(_,I){return ul(this._delegate,function $l(D,g,_){return va.apply(this,arguments)}(this._delegate,_,I))}signInWithPopup(_){var I=this;return(0,v.Z)(function*(){return ca(hc(),I._delegate,"operation-not-supported-in-this-environment"),Oi(I._delegate,function la(D,g,_){return Zs.apply(this,arguments)}(I._delegate,_,ll))})()}signInWithRedirect(_){var I=this;return(0,v.Z)(function*(){return ca(hc(),I._delegate,"operation-not-supported-in-this-environment"),yield al(I._delegate),function F(D,g,_){return function H(D,g,_){return Y.apply(this,arguments)}(D,g,_)}(I._delegate,_,ll)})()}updateCurrentUser(_){return this._delegate.updateCurrentUser(_)}verifyPasswordResetCode(_){return function j(D,g){return V.apply(this,arguments)}(this._delegate,_)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return D.Persistence=Ys,D})();function Al(D,g,_){let I=D;"function"!=typeof D&&({next:I,error:g,complete:_}=D);const z=I;return{next:Ne=>z(Ne&&uo.getOrCreate(Ne)),error:g,complete:_}}function _c(D,g){const _=function Pu(D,g){const _=Ai();if(!_)return[];const I=fe(Ou,D,g);switch(_.getItem(I)){case Ys.NONE:return[ve];case Ys.LOCAL:return[vr,si];case Ys.SESSION:return[si];default:return[]}}(D,g);if(typeof self<"u"&&!_.includes(vr)&&_.push(vr),typeof window<"u")for(const I of[mt,si])_.includes(I)||_.push(I);return _.includes(ve)||_.push(ve),_}class cl{constructor(){this.providerId="phone",this._delegate=new le(gc(K.Z.auth()))}static credential(g,_){return le.credential(g,_)}verifyPhoneNumber(g,_){return this._delegate.verifyPhoneNumber(g,_)}unwrap(){return this._delegate}}cl.PHONE_SIGN_IN_METHOD=le.PHONE_SIGN_IN_METHOD,cl.PROVIDER_ID=le.PROVIDER_ID;const Zf=se;class ld{constructor(g,_,I=K.Z.app()){var z;Zf(null===(z=I.options)||void 0===z?void 0:z.apiKey,"invalid-api-key",{appName:I.name}),this._delegate=new nc(g,_,I.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function hu(D){D.INTERNAL.registerComponent(new he.wA("auth-compat",g=>{const _=g.getProvider("app-compat").getImmediate(),I=g.getProvider("auth");return new Jd(_,I)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Hi,FacebookAuthProvider:Ro,GithubAuthProvider:Xs,GoogleAuthProvider:hs,OAuthProvider:Gi,SAMLAuthProvider:es,PhoneAuthProvider:cl,PhoneMultiFactorGenerator:Hd,RecaptchaVerifier:ld,TwitterAuthProvider:ki,Auth:Jd,AuthCredential:ci,Error:x.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),D.registerVersion("@firebase/auth-compat","0.3.6")}(K.Z)},8766:(tn,ze,B)=>{B.d(ze,{Lj:()=>ct,X3:()=>Wt});var v=B(5861);let x,l;const he=new WeakMap,Ie=new WeakMap,Pe=new WeakMap,ce=new WeakMap,de=new WeakMap;let Ue={get(se,et,tt){if(se instanceof IDBTransaction){if("done"===et)return Ie.get(se);if("objectStoreNames"===et)return se.objectStoreNames||Pe.get(se);if("store"===et)return tt.objectStoreNames[1]?void 0:tt.objectStore(tt.objectStoreNames[0])}return Je(se[et])},set:(se,et,tt)=>(se[et]=tt,!0),has:(se,et)=>se instanceof IDBTransaction&&("done"===et||"store"===et)||et in se};function Ke(se){return"function"==typeof se?function Ot(se){return se!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ce(){return l||(l=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(se)?function(...et){return se.apply(Se(this),et),Je(he.get(this))}:function(...et){return Je(se.apply(Se(this),et))}:function(et,...tt){const Rt=se.call(Se(this),et,...tt);return Pe.set(Rt,et.sort?et.sort():[et]),Je(Rt)}}(se):(se instanceof IDBTransaction&&function _t(se){if(Ie.has(se))return;const et=new Promise((tt,Rt)=>{const xt=()=>{se.removeEventListener("complete",vt),se.removeEventListener("error",Ze),se.removeEventListener("abort",Ze)},vt=()=>{tt(),xt()},Ze=()=>{Rt(se.error||new DOMException("AbortError","AbortError")),xt()};se.addEventListener("complete",vt),se.addEventListener("error",Ze),se.addEventListener("abort",Ze)});Ie.set(se,et)}(se),((se,et)=>et.some(tt=>se instanceof tt))(se,function Ee(){return x||(x=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(se,Ue):se)}function Je(se){if(se instanceof IDBRequest)return function we(se){const et=new Promise((tt,Rt)=>{const xt=()=>{se.removeEventListener("success",vt),se.removeEventListener("error",Ze)},vt=()=>{tt(Je(se.result)),xt()},Ze=()=>{Rt(se.error),xt()};se.addEventListener("success",vt),se.addEventListener("error",Ze)});return et.then(tt=>{tt instanceof IDBCursor&&he.set(tt,se)}).catch(()=>{}),de.set(et,se),et}(se);if(ce.has(se))return ce.get(se);const et=Ke(se);return et!==se&&(ce.set(se,et),de.set(et,se)),et}const Se=se=>de.get(se);function Wt(se,et,{blocked:tt,upgrade:Rt,blocking:xt,terminated:vt}={}){const Ze=indexedDB.open(se,et),lt=Je(Ze);return Rt&&Ze.addEventListener("upgradeneeded",Qe=>{Rt(Je(Ze.result),Qe.oldVersion,Qe.newVersion,Je(Ze.transaction))}),tt&&Ze.addEventListener("blocked",()=>tt()),lt.then(Qe=>{vt&&Qe.addEventListener("close",()=>vt()),xt&&Qe.addEventListener("versionchange",()=>xt())}).catch(()=>{}),lt}function ct(se,{blocked:et}={}){const tt=indexedDB.deleteDatabase(se);return et&&tt.addEventListener("blocked",()=>et()),Je(tt).then(()=>{})}const $e=["get","getKey","getAll","getAllKeys","count"],Fe=["put","add","delete","clear"],Pt=new Map;function Dt(se,et){if(!(se instanceof IDBDatabase)||et in se||"string"!=typeof et)return;if(Pt.get(et))return Pt.get(et);const tt=et.replace(/FromIndex$/,""),Rt=et!==tt,xt=Fe.includes(tt);if(!(tt in(Rt?IDBIndex:IDBObjectStore).prototype)||!xt&&!$e.includes(tt))return;const vt=function(){var Ze=(0,v.Z)(function*(lt,...Qe){const dt=this.transaction(lt,xt?"readwrite":"readonly");let pt=dt.store;return Rt&&(pt=pt.index(Qe.shift())),(yield Promise.all([pt[tt](...Qe),xt&&dt.done]))[0]});return function(Qe){return Ze.apply(this,arguments)}}();return Pt.set(et,vt),vt}!function Be(se){Ue=se(Ue)}(se=>({...se,get:(et,tt,Rt)=>Dt(et,tt)||se.get(et,tt,Rt),has:(et,tt)=>!!Dt(et,tt)||se.has(et,tt)}))},5861:(tn,ze,B)=>{function v(x,l,Ee,Ce,he,Ie,Pe){try{var ce=x[Ie](Pe),de=ce.value}catch(we){return void Ee(we)}ce.done?l(de):Promise.resolve(de).then(Ce,he)}function K(x){return function(){var l=this,Ee=arguments;return new Promise(function(Ce,he){var Ie=x.apply(l,Ee);function Pe(de){v(Ie,Ce,he,Pe,ce,"next",de)}function ce(de){v(Ie,Ce,he,Pe,ce,"throw",de)}Pe(void 0)})}}B.d(ze,{Z:()=>K})}},tn=>{tn(tn.s=3543)}]);